var Jn=Object.defineProperty;var xn=(s,e,t)=>e in s?Jn(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var O=(s,e,t)=>(xn(s,typeof e!="symbol"?e+"":e,t),t);import{S as Te,i as Le,s as Oe,C as Fn,k as N,a as G,l as R,m as D,h as S,c as X,p as Ve,n as p,b as V,G as y,D as Nn,E as Rn,F as Dn,g as H,d as j,J as jt,K as Os,w as $,L as $n,e as Ae,M as ei,q as Ee,r as ke,u as Jt,N as mt,O as ti,H as Se,P as dt,Q as zn,R as si,T as ni,U as Is,V as ys,W as se,X as Ps,Y as ht,Z as Rt,I as ii,o as xt,_ as je,$ as Fe,a0 as Ne,a1 as qs,v as Be,f as Ue,a2 as ri,a3 as ai,a4 as oe,y as de,z as he,A as ge,a5 as ue,B as be,a6 as $t,a7 as Gt,a8 as Bn,a9 as Fs,aa as li,ab as Un,t as oi,ac as Vn,ad as Xt,ae as wt,af as As,ag as Hn,ah as Ns,ai as ui}from"../chunks/index.d9835f42.js";import{w as fi}from"../chunks/index.106ea73c.js";typeof window<"u"&&(window.Prism&&console.warn("Prism has already been initiated. Please ensure that svelte-prism is imported first."),window.Prism=window.Prism||{},window.Prism.manual=!0);var Rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_s={},ci={get exports(){return _s},set exports(s){_s=s}};(function(s){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(i){var r=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,a=0,n={},l={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function g(h){return h instanceof o?new o(h.type,g(h.content),h.alias):Array.isArray(h)?h.map(g):h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(g){return Object.prototype.toString.call(g).slice(8,-1)},objId:function(g){return g.__id||Object.defineProperty(g,"__id",{value:++a}),g.__id},clone:function g(h,_){_=_||{};var w,P;switch(l.util.type(h)){case"Object":if(P=l.util.objId(h),_[P])return _[P];w={},_[P]=w;for(var q in h)h.hasOwnProperty(q)&&(w[q]=g(h[q],_));return w;case"Array":return P=l.util.objId(h),_[P]?_[P]:(w=[],_[P]=w,h.forEach(function(z,T){w[T]=g(z,_)}),w);default:return h}},getLanguage:function(g){for(;g;){var h=r.exec(g.className);if(h)return h[1].toLowerCase();g=g.parentElement}return"none"},setLanguage:function(g,h){g.className=g.className.replace(RegExp(r,"gi"),""),g.classList.add("language-"+h)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(w){var g=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(w.stack)||[])[1];if(g){var h=document.getElementsByTagName("script");for(var _ in h)if(h[_].src==g)return h[_]}return null}},isActive:function(g,h,_){for(var w="no-"+h;g;){var P=g.classList;if(P.contains(h))return!0;if(P.contains(w))return!1;g=g.parentElement}return!!_}},languages:{plain:n,plaintext:n,text:n,txt:n,extend:function(g,h){var _=l.util.clone(l.languages[g]);for(var w in h)_[w]=h[w];return _},insertBefore:function(g,h,_,w){w=w||l.languages;var P=w[g],q={};for(var z in P)if(P.hasOwnProperty(z)){if(z==h)for(var T in _)_.hasOwnProperty(T)&&(q[T]=_[T]);_.hasOwnProperty(z)||(q[z]=P[z])}var L=w[g];return w[g]=q,l.languages.DFS(l.languages,function(U,W){W===L&&U!=g&&(this[U]=q)}),q},DFS:function g(h,_,w,P){P=P||{};var q=l.util.objId;for(var z in h)if(h.hasOwnProperty(z)){_.call(h,z,h[z],w||z);var T=h[z],L=l.util.type(T);L==="Object"&&!P[q(T)]?(P[q(T)]=!0,g(T,_,null,P)):L==="Array"&&!P[q(T)]&&(P[q(T)]=!0,g(T,_,z,P))}}},plugins:{},highlightAll:function(g,h){l.highlightAllUnder(document,g,h)},highlightAllUnder:function(g,h,_){var w={callback:_,container:g,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",w),w.elements=Array.prototype.slice.apply(w.container.querySelectorAll(w.selector)),l.hooks.run("before-all-elements-highlight",w);for(var P=0,q;q=w.elements[P++];)l.highlightElement(q,h===!0,w.callback)},highlightElement:function(g,h,_){var w=l.util.getLanguage(g),P=l.languages[w];l.util.setLanguage(g,w);var q=g.parentElement;q&&q.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(q,w);var z=g.textContent,T={element:g,language:w,grammar:P,code:z};function L(W){T.highlightedCode=W,l.hooks.run("before-insert",T),T.element.innerHTML=T.highlightedCode,l.hooks.run("after-highlight",T),l.hooks.run("complete",T),_&&_.call(T.element)}if(l.hooks.run("before-sanity-check",T),q=T.element.parentElement,q&&q.nodeName.toLowerCase()==="pre"&&!q.hasAttribute("tabindex")&&q.setAttribute("tabindex","0"),!T.code){l.hooks.run("complete",T),_&&_.call(T.element);return}if(l.hooks.run("before-highlight",T),!T.grammar){L(l.util.encode(T.code));return}if(h&&i.Worker){var U=new Worker(l.filename);U.onmessage=function(W){L(W.data)},U.postMessage(JSON.stringify({language:T.language,code:T.code,immediateClose:!0}))}else L(l.highlight(T.code,T.grammar,T.language))},highlight:function(g,h,_){var w={code:g,grammar:h,language:_};if(l.hooks.run("before-tokenize",w),!w.grammar)throw new Error('The language "'+w.language+'" has no grammar.');return w.tokens=l.tokenize(w.code,w.grammar),l.hooks.run("after-tokenize",w),o.stringify(l.util.encode(w.tokens),w.language)},tokenize:function(g,h){var _=h.rest;if(_){for(var w in _)h[w]=_[w];delete h.rest}var P=new d;return f(P,P.head,g),c(g,P,h,P.head,0),v(P)},hooks:{all:{},add:function(g,h){var _=l.hooks.all;_[g]=_[g]||[],_[g].push(h)},run:function(g,h){var _=l.hooks.all[g];if(!(!_||!_.length))for(var w=0,P;P=_[w++];)P(h)}},Token:o};i.Prism=l;function o(g,h,_,w){this.type=g,this.content=h,this.alias=_,this.length=(w||"").length|0}o.stringify=function g(h,_){if(typeof h=="string")return h;if(Array.isArray(h)){var w="";return h.forEach(function(L){w+=g(L,_)}),w}var P={type:h.type,content:g(h.content,_),tag:"span",classes:["token",h.type],attributes:{},language:_},q=h.alias;q&&(Array.isArray(q)?Array.prototype.push.apply(P.classes,q):P.classes.push(q)),l.hooks.run("wrap",P);var z="";for(var T in P.attributes)z+=" "+T+'="'+(P.attributes[T]||"").replace(/"/g,"&quot;")+'"';return"<"+P.tag+' class="'+P.classes.join(" ")+'"'+z+">"+P.content+"</"+P.tag+">"};function u(g,h,_,w){g.lastIndex=h;var P=g.exec(_);if(P&&w&&P[1]){var q=P[1].length;P.index+=q,P[0]=P[0].slice(q)}return P}function c(g,h,_,w,P,q){for(var z in _)if(!(!_.hasOwnProperty(z)||!_[z])){var T=_[z];T=Array.isArray(T)?T:[T];for(var L=0;L<T.length;++L){if(q&&q.cause==z+","+L)return;var U=T[L],W=U.inside,fe=!!U.lookbehind,ce=!!U.greedy,ye=U.alias;if(ce&&!U.pattern.global){var pe=U.pattern.toString().match(/[imsuy]*$/)[0];U.pattern=RegExp(U.pattern.source,pe+"g")}for(var x=U.pattern||U,B=w.next,Y=P;B!==h.tail&&!(q&&Y>=q.reach);Y+=B.value.length,B=B.next){var Z=B.value;if(h.length>g.length)return;if(!(Z instanceof o)){var A=1,ee;if(ce){if(ee=u(x,Y,g,fe),!ee||ee.index>=g.length)break;var ve=ee.index,C=ee.index+ee[0].length,Q=Y;for(Q+=B.value.length;ve>=Q;)B=B.next,Q+=B.value.length;if(Q-=B.value.length,Y=Q,B.value instanceof o)continue;for(var ne=B;ne!==h.tail&&(Q<C||typeof ne.value=="string");ne=ne.next)A++,Q+=ne.value.length;A--,Z=g.slice(Y,Q),ee.index-=Y}else if(ee=u(x,0,Z,fe),!ee)continue;var ve=ee.index,me=ee[0],Me=Z.slice(0,ve),_e=Z.slice(ve+me.length),Pe=Y+Z.length;q&&Pe>q.reach&&(q.reach=Pe);var Ie=B.prev;Me&&(Ie=f(h,Ie,Me),Y+=Me.length),M(h,Ie,A);var Ke=new o(z,W?l.tokenize(me,W):me,ye,me);if(B=f(h,Ie,Ke),_e&&f(h,B,_e),A>1){var Re={cause:z+","+L,reach:Pe};c(g,h,_,B.prev,Y,Re),q&&Re.reach>q.reach&&(q.reach=Re.reach)}}}}}}function d(){var g={value:null,prev:null,next:null},h={value:null,prev:g,next:null};g.next=h,this.head=g,this.tail=h,this.length=0}function f(g,h,_){var w=h.next,P={value:_,prev:h,next:w};return h.next=P,w.prev=P,g.length++,P}function M(g,h,_){for(var w=h.next,P=0;P<_&&w!==g.tail;P++)w=w.next;h.next=w,w.prev=h,g.length-=P}function v(g){for(var h=[],_=g.head.next;_!==g.tail;)h.push(_.value),_=_.next;return h}if(!i.document)return i.addEventListener&&(l.disableWorkerMessageHandler||i.addEventListener("message",function(g){var h=JSON.parse(g.data),_=h.language,w=h.code,P=h.immediateClose;i.postMessage(l.highlight(w,l.languages[_],_)),P&&i.close()},!1)),l;var E=l.util.currentScript();E&&(l.filename=E.src,E.hasAttribute("data-manual")&&(l.manual=!0));function m(){l.manual||l.highlightAll()}if(!l.manual){var k=document.readyState;k==="loading"||k==="interactive"&&E&&E.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return l}(e);s.exports&&(s.exports=t),typeof Rs<"u"&&(Rs.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(r,a){var n={};n["language-"+a]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[a]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};l["language-"+a]={pattern:/[\s\S]+/,inside:t.languages[a]};var o={};o[r]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return r}),"i"),lookbehind:!0,greedy:!0,inside:l},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(i,r){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[r,"language-"+r],inside:t.languages[r]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(i){var r=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+r.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+r.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+r.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+r.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:r,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var a=i.languages.markup;a&&(a.tag.addInlined("style","css"),a.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading…",r=function(E,m){return"✖ Error "+E+" while fetching file: "+m},a="✖ Error: File does not exist or is empty",n={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",o="loading",u="loaded",c="failed",d="pre[data-src]:not(["+l+'="'+u+'"]):not(['+l+'="'+o+'"])';function f(E,m,k){var g=new XMLHttpRequest;g.open("GET",E,!0),g.onreadystatechange=function(){g.readyState==4&&(g.status<400&&g.responseText?m(g.responseText):g.status>=400?k(r(g.status,g.statusText)):k(a))},g.send(null)}function M(E){var m=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(E||"");if(m){var k=Number(m[1]),g=m[2],h=m[3];return g?h?[k,Number(h)]:[k,void 0]:[k,k]}}t.hooks.add("before-highlightall",function(E){E.selector+=", "+d}),t.hooks.add("before-sanity-check",function(E){var m=E.element;if(m.matches(d)){E.code="",m.setAttribute(l,o);var k=m.appendChild(document.createElement("CODE"));k.textContent=i;var g=m.getAttribute("data-src"),h=E.language;if(h==="none"){var _=(/\.(\w+)$/.exec(g)||[,"none"])[1];h=n[_]||_}t.util.setLanguage(k,h),t.util.setLanguage(m,h);var w=t.plugins.autoloader;w&&w.loadLanguages(h),f(g,function(P){m.setAttribute(l,u);var q=M(m.getAttribute("data-range"));if(q){var z=P.split(/\r\n?|\n/g),T=q[0],L=q[1]==null?z.length:q[1];T<0&&(T+=z.length),T=Math.max(0,Math.min(T-1,z.length)),L<0&&(L+=z.length),L=Math.max(0,Math.min(L,z.length)),P=z.slice(T,L).join(`
`),m.hasAttribute("data-start")||m.setAttribute("data-start",String(T+1))}k.textContent=P,t.highlightElement(k)},function(P){m.setAttribute(l,c),k.textContent=P})}}),t.plugins.fileHighlight={highlight:function(m){for(var k=(m||document).querySelectorAll(d),g=0,h;h=k[g++];)t.highlightElement(h)}};var v=!1;t.fileHighlight=function(){v||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),v=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(ci);const Kn=_s,Ds="(if|else if|await|then|catch|each|html|debug)";Prism.languages.svelte=Prism.languages.extend("markup",{each:{pattern:new RegExp("{[#/]each(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{"language-javascript":[{pattern:/(as[\s\S]*)\([\s\S]*\)(?=\s*\})/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(as[\s]*)[\s\S]*(?=\s*)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(#each[\s]*)[\s\S]*(?=as)/,lookbehind:!0,inside:Prism.languages.javascript}],keyword:/[#/]each|as/,punctuation:/{|}/}},block:{pattern:new RegExp("{[#:/@]/s"+Ds+"(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{punctuation:/^{|}$/,keyword:[new RegExp("[#:/@]"+Ds+"( )*"),/as/,/then/],"language-javascript":{pattern:/[\s\S]*/,inside:Prism.languages.javascript}}},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?:"[^"]*"|'[^']*'|{[\s\S]+?}(?=[\s/>])))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,inside:Prism.languages.javascript},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],"language-javascript":{pattern:/{[\s\S]+}/,inside:Prism.languages.javascript}}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,lookbehind:!0,inside:Prism.languages.javascript}});Prism.languages.svelte.tag.inside["attr-value"].inside.entity=Prism.languages.svelte.entity;Prism.hooks.add("wrap",s=>{s.type==="entity"&&(s.attributes.title=s.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.svelte.tag,"addInlined",{value:function(e,t){const i={};i["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;const r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};const a={};a[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("svelte","cdata",a)}});Prism.languages.svelte.tag.addInlined("style","css");Prism.languages.svelte.tag.addInlined("script","javascript");function di(s){let e,t;return{c(){e=new $n(!1),t=Ae(),this.h()},l(i){e=ei(i,!1),t=Ae(),this.h()},h(){e.a=t},m(i,r){e.m(s[2],i,r),V(i,t,r)},p(i,r){r&4&&e.p(i[2])},d(i){i&&S(t),i&&e.d()}}}function hi(s){let e;return{c(){e=Ee(s[2])},l(t){e=ke(t,s[2])},m(t,i){V(t,e,i)},p(t,i){i&4&&Jt(e,t[2])},d(t){t&&S(e)}}}function gi(s){let e,t,i,r,a,n,l;const o=s[6].default,u=Fn(o,s,s[5],null);function c(M,v){return M[0]==="none"?hi:di}let d=c(s),f=d(s);return{c(){e=N("code"),u&&u.c(),t=G(),i=N("pre"),r=N("code"),f.c(),this.h()},l(M){e=R(M,"CODE",{style:!0});var v=D(e);u&&u.l(v),v.forEach(S),t=X(M),i=R(M,"PRE",{class:!0,"command-line":!0,"data-output":!0});var E=D(i);r=R(E,"CODE",{class:!0});var m=D(r);f.l(m),m.forEach(S),E.forEach(S),this.h()},h(){Ve(e,"display","none"),p(r,"class",a="language-"+s[0]),p(i,"class",n="language-"+s[0]),p(i,"command-line",""),p(i,"data-output","2-17")},m(M,v){V(M,e,v),u&&u.m(e,null),s[7](e),V(M,t,v),V(M,i,v),y(i,r),f.m(r,null),l=!0},p(M,[v]){u&&u.p&&(!l||v&32)&&Nn(u,o,M,M[5],l?Dn(o,M[5],v,null):Rn(M[5]),null),d===(d=c(M))&&f?f.p(M,v):(f.d(1),f=d(M),f&&(f.c(),f.m(r,null))),(!l||v&1&&a!==(a="language-"+M[0]))&&p(r,"class",a),(!l||v&1&&n!==(n="language-"+M[0]))&&p(i,"class",n)},i(M){l||(H(u,M),l=!0)},o(M){j(u,M),l=!1},d(M){M&&S(e),u&&u.d(M),s[7](null),M&&S(t),M&&S(i),f.d()}}}const zs=Kn;Kn.highlightElement;const bi={transform:s=>s};function pi(s,e,t){let{$$slots:i={},$$scope:r}=e,{language:a="javascript"}=e,{source:n=""}=e,{transform:l=f=>f}=e,o,u;function c(){const f=zs.languages[a];let M=n||o.textContent;M=bi.transform(M),M=l(M),t(2,u=a==="none"?M:zs.highlight(M,f,a))}function d(f){$[f?"unshift":"push"](()=>{o=f,t(1,o)})}return s.$$set=f=>{t(9,e=jt(jt({},e),Os(f))),"language"in f&&t(0,a=f.language),"source"in f&&t(3,n=f.source),"transform"in f&&t(4,l=f.transform),"$$scope"in f&&t(5,r=f.$$scope)},s.$$.update=()=>{e&&(n||o)&&c()},e=Os(e),[a,o,u,n,l,r,i,d]}let mi=class extends Te{constructor(e){super(),Le(this,e,pi,gi,Oe,{language:0,source:3,transform:4})}};/**
 * @license
 * Copyright (c) 2023, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Ye="w",st="b",qe="p",Es="n",Kt="b",vi="r",_i="q",nt="k",ps="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",Ze=-1,Ei={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},te={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},le={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},ms={b:[16,32,17,15],w:[-16,-32,-17,-15]},Bs={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},ki=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],Mi=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],Si={p:1,n:2,b:4,r:8,q:16,k:32},wi="pnbrqkPNBRQK",Us=[Es,Kt,vi,_i],Ci=7,yi=6,Pi=1,Ai=0,ft={w:[{square:le.a1,flag:te.QSIDE_CASTLE},{square:le.h1,flag:te.KSIDE_CASTLE}],b:[{square:le.a8,flag:te.QSIDE_CASTLE},{square:le.h8,flag:te.KSIDE_CASTLE}]},Ti={b:Pi,w:yi},Li=["1-0","0-1","1/2-1/2","*"];function pt(s){return s>>4}function Nt(s){return s&15}function Wn(s){return"0123456789".indexOf(s)!==-1}function He(s){const e=Nt(s),t=pt(s);return"abcdefgh".substring(e,e+1)+"87654321".substring(t,t+1)}function Ut(s){return s===Ye?st:Ye}function Oi(s){const e=s.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const t=parseInt(e[5],10);if(isNaN(t)||t<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const i=parseInt(e[4],10);if(isNaN(i)||i<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const r=e[0].split("/");if(r.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let n=0;n<r.length;n++){let l=0,o=!1;for(let u=0;u<r[n].length;u++)if(Wn(r[n][u])){if(o)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};l+=parseInt(r[n][u],10),o=!0}else{if(!/^[prnbqkPRNBQK]$/.test(r[n][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};l+=1,o=!1}if(l!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const a=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:n,regex:l}of a){if(!l.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${n} king`};if((e[0].match(l)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${n} kings`}}return{ok:!0}}function Ii(s,e){const t=s.from,i=s.to,r=s.piece;let a=0,n=0,l=0;for(let o=0,u=e.length;o<u;o++){const c=e[o].from,d=e[o].to,f=e[o].piece;r===f&&t!==c&&i===d&&(a++,pt(t)===pt(c)&&n++,Nt(t)===Nt(c)&&l++)}return a>0?n>0&&l>0?He(t):l>0?He(t).charAt(1):He(t).charAt(0):""}function ct(s,e,t,i,r,a=void 0,n=te.NORMAL){const l=pt(i);if(r===qe&&(l===Ci||l===Ai))for(let o=0;o<Us.length;o++){const u=Us[o];s.push({color:e,from:t,to:i,piece:r,captured:a,promotion:u,flags:n|te.PROMOTION})}else s.push({color:e,from:t,to:i,piece:r,captured:a,flags:n})}function Vs(s){let e=s.charAt(0);return e>="a"&&e<="h"?s.match(/[a-h]\d.*[a-h]\d/)?void 0:qe:(e=e.toLowerCase(),e==="o"?nt:e)}function Hs(s){return s.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class qi{constructor(e=ps){this._board=new Array(128),this._turn=Ye,this._header={},this._kings={w:Ze,b:Ze},this._epSquare=-1,this._halfMoves=0,this._moveNumber=0,this._history=[],this._comments={},this._castling={w:0,b:0},this.load(e)}clear(e=!1){this._board=new Array(128),this._kings={w:Ze,b:Ze},this._turn=Ye,this._castling={w:0,b:0},this._epSquare=Ze,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{},this._updateSetup(this.fen())}load(e,t=!1){let i=e.split(/\s+/);if(i.length>=2&&i.length<6){const o=["-","-","0","1"];e=i.concat(o.slice(-(6-i.length))).join(" ")}i=e.split(/\s+/);const{ok:r,error:a}=Oi(e);if(!r)throw new Error(a);const n=i[0];let l=0;this.clear(t);for(let o=0;o<n.length;o++){const u=n.charAt(o);if(u==="/")l+=8;else if(Wn(u))l+=parseInt(u,10);else{const c=u<"a"?Ye:st;this.put({type:u.toLowerCase(),color:c},He(l)),l++}}this._turn=i[1],i[2].indexOf("K")>-1&&(this._castling.w|=te.KSIDE_CASTLE),i[2].indexOf("Q")>-1&&(this._castling.w|=te.QSIDE_CASTLE),i[2].indexOf("k")>-1&&(this._castling.b|=te.KSIDE_CASTLE),i[2].indexOf("q")>-1&&(this._castling.b|=te.QSIDE_CASTLE),this._epSquare=i[3]==="-"?Ze:le[i[3]],this._halfMoves=parseInt(i[4],10),this._moveNumber=parseInt(i[5],10),this._updateSetup(this.fen())}fen(){var e,t;let i=0,r="";for(let l=le.a8;l<=le.h1;l++){if(this._board[l]){i>0&&(r+=i,i=0);const{color:o,type:u}=this._board[l];r+=o===Ye?u.toUpperCase():u.toLowerCase()}else i++;l+1&136&&(i>0&&(r+=i),l!==le.h1&&(r+="/"),i=0,l+=8)}let a="";this._castling[Ye]&te.KSIDE_CASTLE&&(a+="K"),this._castling[Ye]&te.QSIDE_CASTLE&&(a+="Q"),this._castling[st]&te.KSIDE_CASTLE&&(a+="k"),this._castling[st]&te.QSIDE_CASTLE&&(a+="q"),a=a||"-";let n="-";if(this._epSquare!==Ze){const l=this._epSquare+(this._turn===Ye?16:-16),o=[l+1,l-1];for(const u of o){if(u&136)continue;const c=this._turn;if(((e=this._board[u])===null||e===void 0?void 0:e.color)===c&&((t=this._board[u])===null||t===void 0?void 0:t.type)===qe){this._makeMove({color:c,from:u,to:this._epSquare,piece:qe,captured:qe,flags:te.EP_CAPTURE});const d=!this._isKingAttacked(c);if(this._undoMove(),d){n=He(this._epSquare);break}}}}return[r,this._turn,a,n,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(e){this._history.length>0||(e!==ps?(this._header.SetUp="1",this._header.FEN=e):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(ps)}get(e){return this._board[le[e]]||!1}put({type:e,color:t},i){if(wi.indexOf(e.toLowerCase())===-1||!(i in le))return!1;const r=le[i];return e==nt&&!(this._kings[t]==Ze||this._kings[t]==r)?!1:(this._board[r]={type:e,color:t},e===nt&&(this._kings[t]=r),this._updateSetup(this.fen()),!0)}remove(e){const t=this.get(e);return delete this._board[le[e]],t&&t.type===nt&&(this._kings[t.color]=Ze),this._updateSetup(this.fen()),t}_attacked(e,t){for(let i=le.a8;i<=le.h1;i++){if(i&136){i+=7;continue}if(this._board[i]===void 0||this._board[i].color!==e)continue;const r=this._board[i],a=i-t;if(a===0)continue;const n=a+119;if(ki[n]&Si[r.type]){if(r.type===qe){if(a>0){if(r.color===Ye)return!0}else if(r.color===st)return!0;continue}if(r.type==="n"||r.type==="k")return!0;const l=Mi[n];let o=i+l,u=!1;for(;o!==t;){if(this._board[o]!=null){u=!0;break}o+=l}if(!u)return!0}}return!1}_isKingAttacked(e){return this._attacked(Ut(e),this._kings[e])}isAttacked(e,t){return this._attacked(t,le[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},t=[];let i=0,r=0;for(let a=le.a8;a<=le.h1;a++){if(r=(r+1)%2,a&136){a+=7;continue}const n=this._board[a];n&&(e[n.type]=n.type in e?e[n.type]+1:1,n.type===Kt&&t.push(r),i++)}if(i===2)return!0;if(i===3&&(e[Kt]===1||e[Es]===1))return!0;if(i===e[Kt]+2){let a=0;const n=t.length;for(let l=0;l<n;l++)a+=t[l];if(a===0||a===n)return!0}return!1}isThreefoldRepetition(){const e=[],t={};let i=!1;for(;;){const r=this._undoMove();if(!r)break;e.push(r)}for(;;){const r=this.fen().split(" ").slice(0,4).join(" ");t[r]=r in t?t[r]+1:1,t[r]>=3&&(i=!0);const a=e.pop();if(a)this._makeMove(a);else break}return i}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:e=!1,square:t=void 0,piece:i=void 0}={}){const r=this._moves({square:t,piece:i});return e?r.map(a=>this._makePretty(a)):r.map(a=>this._moveToSan(a,r))}_moves({legal:e=!0,piece:t=void 0,square:i=void 0}={}){var r;const a=i?i.toLowerCase():void 0,n=t==null?void 0:t.toLowerCase(),l=[],o=this._turn,u=Ut(o);let c=le.a8,d=le.h1,f=!1;if(a)if(a in le)c=d=le[a],f=!0;else return[];for(let v=c;v<=d;v++){if(v&136){v+=7;continue}if(!this._board[v]||this._board[v].color===u)continue;const{type:E}=this._board[v];let m;if(E===qe){if(n&&n!==E)continue;m=v+ms[o][0],this._board[m]||(ct(l,o,v,m,qe),m=v+ms[o][1],Ti[o]===pt(v)&&!this._board[m]&&ct(l,o,v,m,qe,void 0,te.BIG_PAWN));for(let k=2;k<4;k++)m=v+ms[o][k],!(m&136)&&(((r=this._board[m])===null||r===void 0?void 0:r.color)===u?ct(l,o,v,m,qe,this._board[m].type,te.CAPTURE):m===this._epSquare&&ct(l,o,v,m,qe,qe,te.EP_CAPTURE))}else{if(n&&n!==E)continue;for(let k=0,g=Bs[E].length;k<g;k++){const h=Bs[E][k];for(m=v;m+=h,!(m&136);){if(!this._board[m])ct(l,o,v,m,E);else{if(this._board[m].color===o)break;ct(l,o,v,m,E,this._board[m].type,te.CAPTURE);break}if(E===Es||E===nt)break}}}}if((n===void 0||n===nt)&&(!f||d===this._kings[o])){if(this._castling[o]&te.KSIDE_CASTLE){const v=this._kings[o],E=v+2;!this._board[v+1]&&!this._board[E]&&!this._attacked(u,this._kings[o])&&!this._attacked(u,v+1)&&!this._attacked(u,E)&&ct(l,o,this._kings[o],E,nt,void 0,te.KSIDE_CASTLE)}if(this._castling[o]&te.QSIDE_CASTLE){const v=this._kings[o],E=v-2;!this._board[v-1]&&!this._board[v-2]&&!this._board[v-3]&&!this._attacked(u,this._kings[o])&&!this._attacked(u,v-1)&&!this._attacked(u,E)&&ct(l,o,this._kings[o],E,nt,void 0,te.QSIDE_CASTLE)}}if(!e)return l;const M=[];for(let v=0,E=l.length;v<E;v++)this._makeMove(l[v]),this._isKingAttacked(o)||M.push(l[v]),this._undoMove();return M}move(e,{strict:t=!1}={}){let i=null;if(typeof e=="string")i=this._moveFromSan(e,t);else if(typeof e=="object"){const a=this._moves();for(let n=0,l=a.length;n<l;n++)if(e.from===He(a[n].from)&&e.to===He(a[n].to)&&(!("promotion"in a[n])||e.promotion===a[n].promotion)){i=a[n];break}}if(!i)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);const r=this._makePretty(i);return this._makeMove(i),r}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(e){const t=this._turn,i=Ut(t);if(this._push(e),this._board[e.to]=this._board[e.from],delete this._board[e.from],e.flags&te.EP_CAPTURE&&(this._turn===st?delete this._board[e.to-16]:delete this._board[e.to+16]),e.promotion&&(this._board[e.to]={type:e.promotion,color:t}),this._board[e.to].type===nt){if(this._kings[t]=e.to,e.flags&te.KSIDE_CASTLE){const r=e.to-1,a=e.to+1;this._board[r]=this._board[a],delete this._board[a]}else if(e.flags&te.QSIDE_CASTLE){const r=e.to+1,a=e.to-2;this._board[r]=this._board[a],delete this._board[a]}this._castling[t]=0}if(this._castling[t]){for(let r=0,a=ft[t].length;r<a;r++)if(e.from===ft[t][r].square&&this._castling[t]&ft[t][r].flag){this._castling[t]^=ft[t][r].flag;break}}if(this._castling[i]){for(let r=0,a=ft[i].length;r<a;r++)if(e.to===ft[i][r].square&&this._castling[i]&ft[i][r].flag){this._castling[i]^=ft[i][r].flag;break}}e.flags&te.BIG_PAWN?t===st?this._epSquare=e.to-16:this._epSquare=e.to+16:this._epSquare=Ze,e.piece===qe?this._halfMoves=0:e.flags&(te.CAPTURE|te.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,t===st&&this._moveNumber++,this._turn=i}undo(){const e=this._undoMove();return e?this._makePretty(e):null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;const t=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber;const i=this._turn,r=Ut(i);if(this._board[t.from]=this._board[t.to],this._board[t.from].type=t.piece,delete this._board[t.to],t.captured)if(t.flags&te.EP_CAPTURE){let a;i===st?a=t.to-16:a=t.to+16,this._board[a]={type:qe,color:r}}else this._board[t.to]={type:t.captured,color:r};if(t.flags&(te.KSIDE_CASTLE|te.QSIDE_CASTLE)){let a,n;t.flags&te.KSIDE_CASTLE?(a=t.to+1,n=t.to-1):(a=t.to-2,n=t.to+1),this._board[a]=this._board[n],delete this._board[n]}return t}pgn({newline:e=`
`,maxWidth:t=0}={}){const i=[];let r=!1;for(const f in this._header)i.push("["+f+' "'+this._header[f]+'"]'+e),r=!0;r&&this._history.length&&i.push(e);const a=f=>{const M=this._comments[this.fen()];if(typeof M<"u"){const v=f.length>0?" ":"";f=`${f}${v}{${M}}`}return f},n=[];for(;this._history.length>0;)n.push(this._undoMove());const l=[];let o="";for(n.length===0&&l.push(a(""));n.length>0;){o=a(o);const f=n.pop();if(!f)break;if(!this._history.length&&f.color==="b"){const M=`${this._moveNumber}. ...`;o=o?`${o} ${M}`:M}else f.color==="w"&&(o.length&&l.push(o),o=this._moveNumber+".");o=o+" "+this._moveToSan(f,this._moves({legal:!0})),this._makeMove(f)}if(o.length&&l.push(a(o)),typeof this._header.Result<"u"&&l.push(this._header.Result),t===0)return i.join("")+l.join(" ");const u=function(){return i.length>0&&i[i.length-1]===" "?(i.pop(),!0):!1},c=function(f,M){for(const v of M.split(" "))if(v){if(f+v.length>t){for(;u();)f--;i.push(e),f=0}i.push(v),f+=v.length,i.push(" "),f++}return u()&&f--,f};let d=0;for(let f=0;f<l.length;f++){if(d+l[f].length>t&&l[f].includes("{")){d=c(d,l[f]);continue}d+l[f].length>t&&f!==0?(i[i.length-1]===" "&&i.pop(),i.push(e),d=0):f!==0&&(i.push(" "),d++),i.push(l[f]),d+=l[f].length}return i.join("")}header(...e){for(let t=0;t<e.length;t+=2)typeof e[t]=="string"&&typeof e[t+1]=="string"&&(this._header[e[t]]=e[t+1]);return this._header}loadPgn(e,{strict:t=!1,newlineChar:i=`\r?
`}={}){function r(h){return h.replace(/\\/g,"\\")}function a(h){const _={},w=h.split(new RegExp(r(i)));let P="",q="";for(let z=0;z<w.length;z++){const T=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;P=w[z].replace(T,"$1"),q=w[z].replace(T,"$2"),P.trim().length>0&&(_[P]=q)}return _}e=e.trim();const l=new RegExp("^(\\[((?:"+r(i)+")|.)*\\])((?:\\s*"+r(i)+"){2}|(?:\\s*"+r(i)+")*$)").exec(e),o=l&&l.length>=2?l[1]:"";this.reset();const u=a(o);let c="";for(const h in u)h.toLowerCase()==="fen"&&(c=u[h]),this.header(h,u[h]);if(!t)c&&this.load(c,!0);else if(u.SetUp==="1"){if(!("FEN"in u))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(u.FEN,!0)}function d(h){return Array.from(h).map(function(_){return _.charCodeAt(0)<128?_.charCodeAt(0).toString(16):encodeURIComponent(_).replace(/%/g,"").toLowerCase()}).join("")}function f(h){return h.length==0?"":decodeURIComponent("%"+(h.match(/.{1,2}/g)||[]).join("%"))}const M=function(h){return h=h.replace(new RegExp(r(i),"g")," "),`{${d(h.slice(1,h.length-1))}}`},v=function(h){if(h.startsWith("{")&&h.endsWith("}"))return f(h.slice(1,h.length-1))};let E=e.replace(o,"").replace(new RegExp(`({[^}]*})+?|;([^${r(i)}]*)`,"g"),function(h,_,w){return _!==void 0?M(_):" "+M(`{${w.slice(1)}}`)}).replace(new RegExp(r(i),"g")," ");const m=/(\([^()]+\))+?/g;for(;m.test(E);)E=E.replace(m,"");E=E.replace(/\d+\.(\.\.)?/g,""),E=E.replace(/\.\.\./g,""),E=E.replace(/\$\d+/g,"");let k=E.trim().split(new RegExp(/\s+/));k=k.filter(h=>h!=="");let g="";for(let h=0;h<k.length;h++){const _=v(k[h]);if(_!==void 0){this._comments[this.fen()]=_;continue}const w=this._moveFromSan(k[h],t);if(w==null)if(Li.indexOf(k[h])>-1)g=k[h];else throw new Error(`Invalid move in PGN: ${k[h]}`);else g="",this._makeMove(w)}g&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",g)}_moveToSan(e,t){let i="";if(e.flags&te.KSIDE_CASTLE)i="O-O";else if(e.flags&te.QSIDE_CASTLE)i="O-O-O";else{if(e.piece!==qe){const r=Ii(e,t);i+=e.piece.toUpperCase()+r}e.flags&(te.CAPTURE|te.EP_CAPTURE)&&(e.piece===qe&&(i+=He(e.from)[0]),i+="x"),i+=He(e.to),e.promotion&&(i+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?i+="#":i+="+"),this._undoMove(),i}_moveFromSan(e,t=!1){const i=Hs(e);let r=Vs(i),a=this._moves({legal:!0,piece:r});for(let f=0,M=a.length;f<M;f++)if(i===Hs(this._moveToSan(a[f],a)))return a[f];if(t)return null;let n,l,o,u,c,d=!1;l=i.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),l?(n=l[1],o=l[2],u=l[3],c=l[4],o.length==1&&(d=!0)):(l=i.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),l&&(n=l[1],o=l[2],u=l[3],c=l[4],o.length==1&&(d=!0))),r=Vs(i),a=this._moves({legal:!0,piece:n||r});for(let f=0,M=a.length;f<M;f++)if(o&&u){if((!n||n.toLowerCase()==a[f].piece)&&le[o]==a[f].from&&le[u]==a[f].to&&(!c||c.toLowerCase()==a[f].promotion))return a[f];if(d){const v=He(a[f].from);if((!n||n.toLowerCase()==a[f].piece)&&le[u]==a[f].to&&(o==v[0]||o==v[1])&&(!c||c.toLowerCase()==a[f].promotion))return a[f]}}return null}ascii(){let e=`   +------------------------+
`;for(let t=le.a8;t<=le.h1;t++){if(Nt(t)===0&&(e+=" "+"87654321"[pt(t)]+" |"),this._board[t]){const i=this._board[t].type,a=this._board[t].color===Ye?i.toUpperCase():i.toLowerCase();e+=" "+a+" "}else e+=" . ";t+1&136&&(e+=`|
`,t+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const t=this._moves({legal:!1});let i=0;const r=this._turn;for(let a=0,n=t.length;a<n;a++)this._makeMove(t[a]),this._isKingAttacked(r)||(e-1>0?i+=this.perft(e-1):i++),this._undoMove();return i}_makePretty(e){const{color:t,piece:i,from:r,to:a,flags:n,captured:l,promotion:o}=e;let u="";for(const M in te)te[M]&n&&(u+=Ei[M]);const c=He(r),d=He(a),f={color:t,piece:i,from:c,to:d,san:this._moveToSan(e,this._moves({legal:!0})),flags:u,lan:c+d,before:this.fen(),after:""};return this._makeMove(e),f.after=this.fen(),this._undoMove(),l&&(f.captured=l),o&&(f.promotion=o,f.lan+=o),f}turn(){return this._turn}board(){const e=[];let t=[];for(let i=le.a8;i<=le.h1;i++)this._board[i]==null?t.push(null):t.push({square:He(i),type:this._board[i].type,color:this._board[i].color}),i+1&136&&(e.push(t),t=[],i+=8);return e}squareColor(e){if(e in le){const t=le[e];return(pt(t)+Nt(t))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const t=[],i=[];for(;this._history.length>0;)t.push(this._undoMove());for(;;){const r=t.pop();if(!r)break;e?i.push(this._makePretty(r)):i.push(this._moveToSan(r,this._moves())),this._makeMove(r)}return i}_pruneComments(){const e=[],t={},i=r=>{r in this._comments&&(t[r]=this._comments[r])};for(;this._history.length>0;)e.push(this._undoMove());for(i(this.fen());;){const r=e.pop();if(!r)break;this._makeMove(r),i(this.fen())}this._comments=t}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const t=this._comments[e];return delete this._comments[e],{fen:e,comment:t}})}}var ie=(s=>(s[s.WHITE=0]="WHITE",s[s.BLACK=1]="BLACK",s[s.BOTH=2]="BOTH",s[s.SPECTATOR=3]="SPECTATOR",s[s.SERVER=4]="SERVER",s))(ie||{}),K=(s=>(s[s.LEGAL=0]="LEGAL",s[s.LEGALHOVER=1]="LEGALHOVER",s[s.CHECK=2]="CHECK",s[s.MOVE=3]="MOVE",s[s.NEXTMOVE=4]="NEXTMOVE",s[s.PREMOVE=5]="PREMOVE",s[s.PREMOVEHOVER=6]="PREMOVEHOVER",s[s.SELECT=7]="SELECT",s))(K||{});const Vt=s=>{if(typeof s=="string")return s;switch(s){case 0:case 1:return"legal";case 2:return"check";case 3:return"move";case 4:return"nextMove";case 5:case 6:return"preMove";case 7:return"select";default:return"check"}};class Fi{constructor(e){O(this,"boardTheme");O(this,"piecesTheme");O(this,"mouseEvents");O(this,"flipped");O(this,"notation");O(this,"startFen");O(this,"size");O(this,"scale");O(this,"resizible");O(this,"defaultState",{boardTheme:"standard",piecesTheme:"standard",mouseEvents:!0,flipped:!1,notation:!0,shadow:!1,startFen:Ki,size:0,scale:70,resizible:!1});O(this,"setConfigSettings",e=>{e!==void 0&&(e.boardTheme!==void 0&&(this.boardTheme=e.boardTheme),e.piecesTheme!==void 0&&(this.piecesTheme=e.piecesTheme),e.mouseEvents!==void 0&&(this.mouseEvents=e.mouseEvents),e.flipped!==void 0&&(this.flipped=e.flipped),e.notation!==void 0&&(this.notation=e.notation),e.startFen!==void 0&&(this.startFen=e.startFen),e.resizible!==void 0&&(this.resizible=e.resizible))});O(this,"getConfig",()=>{const e={...this.boardTheme!==this.defaultState.boardTheme&&{boardTheme:this.boardTheme},...this.piecesTheme!==this.defaultState.piecesTheme&&{piecesTheme:this.piecesTheme},...this.mouseEvents!==this.defaultState.mouseEvents&&{mouseEvents:this.mouseEvents},...this.flipped!==this.defaultState.flipped&&{flipped:this.flipped},...this.notation!==this.defaultState.notation&&{notation:this.notation},...this.startFen!==this.defaultState.startFen&&{startFen:this.startFen},...this.resizible!==this.defaultState.resizible&&{resizible:this.resizible}};if(Object.keys(e).length!==0)return e});this.boardTheme=this.defaultState.boardTheme,this.piecesTheme=this.defaultState.piecesTheme,this.mouseEvents=this.defaultState.mouseEvents,this.flipped=this.defaultState.flipped,this.notation=this.defaultState.notation,this.startFen=this.defaultState.startFen,this.size=this.defaultState.size,this.scale=this.defaultState.scale,this.resizible=this.defaultState.resizible,this.setConfigSettings(e)}}class Ni{constructor(e){O(this,"enabled");O(this,"color");O(this,"defaultState",{enabled:!0,color:ie.BOTH});O(this,"setConfigSettings",e=>{switch(e){case!0:this.enabled=!0,this.color=ie.BOTH;break;case!1:this.enabled=!1;break;case ie.WHITE:this.enabled=!0,this.color=ie.WHITE;break;case ie.BLACK:this.enabled=!0,this.color=ie.BLACK;break}});O(this,"getConfig",()=>{if(this.enabled&&this.defaultState.enabled&&this.color!==this.defaultState.color)return this.color;if(this.enabled&&!this.defaultState.enabled)return this.color;if(!this.enabled&&this.defaultState.enabled)return!1});this.enabled=this.defaultState.enabled,this.color=this.defaultState.color,this.setConfigSettings(e)}}class Ri{constructor(e){O(this,"enabled");O(this,"ghostPiece");O(this,"transition");O(this,"defaultState",{enabled:!0,ghostPiece:{enabled:!0,piece:void 0},transition:{enabled:!0,settings:{duration:120,easing:"cubicInOut"}}});O(this,"setConfigSettings",e=>{var t,i,r,a;e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,(e==null?void 0:e.ghostPiece)!==void 0&&(this.ghostPiece.enabled=e.ghostPiece),e.transition!==void 0&&((e==null?void 0:e.transition)===!0?this.transition.enabled=!0:(e==null?void 0:e.transition)===!1?this.transition.enabled=!1:(this.transition.enabled=!0,(t=e==null?void 0:e.transition)!=null&&t.duration&&(this.transition.settings.duration=(i=e==null?void 0:e.transition)==null?void 0:i.duration),(r=e==null?void 0:e.transition)!=null&&r.easing&&(this.transition.settings.easing=(a=e==null?void 0:e.transition)==null?void 0:a.easing)))))});O(this,"getConfig",()=>{const e={},t={};if(this.enabled&&this.defaultState.enabled&&(this.ghostPiece.enabled!==this.defaultState.ghostPiece.enabled&&(e.ghostPiece=this.ghostPiece.enabled),this.transition.enabled&&this.defaultState.transition.enabled&&(this.transition.settings.duration!==this.defaultState.transition.settings.duration&&(t.duration=this.transition.settings.duration),this.transition.settings.easing!==this.defaultState.transition.settings.easing&&(t.easing=this.transition.settings.easing),Object.keys(t).length!==0&&(e.transition=t)),!this.transition.enabled&&this.defaultState.transition.enabled&&(e.transition=!1),Object.keys(e).length!==0))return e;if(!this.enabled&&this.defaultState.enabled)return!1});this.enabled=this.defaultState.enabled,this.ghostPiece={...this.defaultState.ghostPiece},this.transition={enabled:this.defaultState.transition.enabled,settings:{...this.defaultState.transition.settings}},this.setConfigSettings(e)}}class Di{constructor(e){O(this,"enabled");O(this,"selectedPiece");O(this,"defaultState",{enabled:!0,selectedPiece:void 0});O(this,"setConfigSettings",e=>{e!==void 0&&(this.enabled=e)});O(this,"getConfig",()=>{if(this.enabled!==this.defaultState.enabled)return this.enabled});this.enabled=this.defaultState.enabled,this.selectedPiece=this.defaultState.selectedPiece,this.setConfigSettings(e)}}class zi{constructor(e){O(this,"enabled");O(this,"whiteToMove");O(this,"moves");O(this,"settings");O(this,"preMoves");O(this,"lastMove");O(this,"checkSquare");O(this,"defaultState",{enabled:!1,whiteToMove:!0,moves:[],settings:{allowPromotion:!0,allowEnPassant:!0,allowCastling:!0},preMoves:{enabled:!1,moves:[],curMove:""},lastMove:"",checkSquare:void 0});O(this,"setConfigSettings",e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.settings&&(e.settings.allowCastling!==void 0&&(this.settings.allowCastling=e.settings.allowCastling),e.settings.allowEnPassant!==void 0&&(this.settings.allowEnPassant=e.settings.allowEnPassant),e.settings.allowPromotion!==void 0&&(this.settings.allowPromotion=e.settings.allowPromotion)),e.preMoves!==void 0&&(this.preMoves.enabled=e.preMoves)))});O(this,"getConfig",()=>{if(this.enabled&&this.defaultState.enabled&&this.preMoves.enabled!==this.defaultState.preMoves.enabled)return{preMoves:this.preMoves.enabled};if(this.enabled!==this.defaultState.enabled)return this.preMoves.enabled!==this.defaultState.preMoves.enabled?{preMoves:this.preMoves.enabled}:this.enabled});this.enabled=this.defaultState.enabled,this.whiteToMove=this.defaultState.whiteToMove,this.moves=JSON.parse(JSON.stringify(this.defaultState.moves)),this.settings={...this.defaultState.settings},this.preMoves={enabled:this.defaultState.preMoves.enabled,moves:[...this.defaultState.preMoves.moves],curMove:this.defaultState.preMoves.curMove},this.lastMove=this.defaultState.lastMove,this.checkSquare=this.defaultState.checkSquare,this.setConfigSettings(e)}}class Bi{constructor(e){O(this,"enabled");O(this,"settings");O(this,"defaultState",{enabled:!0,settings:{select:!0,legal:!0,move:!0,preMove:!1,nextMove:!1,check:!0}});O(this,"setConfigSettings",e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.check!==void 0&&(this.settings.check=e.check),e.legal!==void 0&&(this.settings.legal=e.legal),e.move!==void 0&&(this.settings.move=e.move),e.nextMove!==void 0&&(this.settings.nextMove=e.nextMove),e.preMove!==void 0&&(this.settings.preMove=e.preMove),e.select!==void 0&&(this.settings.select=e.select)))});O(this,"getConfig",()=>{const e={},t=["select","legal","move","preMove","nextMove","check"];if(this.enabled&&this.defaultState.enabled&&(t.forEach(i=>{this.settings[i]!==this.defaultState.settings[i]&&(e[i]=this.settings[i])}),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled});this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},this.setConfigSettings(e)}}class Ui{constructor(e){O(this,"enabled");O(this,"tools");O(this,"settings");O(this,"defaultState",{enabled:!0,tools:[],settings:{knightLShape:!1,onlyChessMove:!1}});O(this,"setConfigSettings",e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.knightLShape!==void 0&&(this.settings.knightLShape=e.knightLShape),e.onlyChessMove!==void 0&&(this.settings.onlyChessMove=e.onlyChessMove)))});O(this,"getConfig",()=>{const e={};if(this.enabled&&this.defaultState.enabled&&(this.settings.knightLShape!==this.defaultState.settings.knightLShape&&(e.knightLShape=this.settings.knightLShape),this.settings.onlyChessMove!==this.defaultState.settings.onlyChessMove&&(e.onlyChessMove=this.settings.onlyChessMove),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled});this.enabled=this.defaultState.enabled,this.tools=JSON.parse(JSON.stringify(this.defaultState.tools)),this.settings={knightLShape:this.defaultState.settings.knightLShape,onlyChessMove:this.defaultState.settings.onlyChessMove},this.setConfigSettings(e)}}class Vi{constructor(e){O(this,"enabled");O(this,"settings");O(this,"defaultState",{enabled:!0,settings:{MOVE:!0,CAPTURE:!0,CASTLE:!0,UNDO:!0}});O(this,"setConfigSettings",e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.CAPTURE!==void 0&&(this.settings.CAPTURE=e.CAPTURE),e.CASTLE!==void 0&&(this.settings.CASTLE=e.CASTLE),e.MOVE!==void 0&&(this.settings.MOVE=e.MOVE),e.UNDO!==void 0&&(this.settings.UNDO=e.UNDO)))});O(this,"getConfig",()=>{const e={};if(this.enabled&&this.defaultState.enabled&&(this.settings.MOVE!==this.defaultState.settings.MOVE&&(e.MOVE=this.settings.MOVE),this.settings.CAPTURE!==this.defaultState.settings.CAPTURE&&(e.CAPTURE=this.settings.CAPTURE),this.settings.CASTLE!==this.defaultState.settings.CASTLE&&(e.CASTLE=this.settings.CASTLE),this.settings.UNDO!==this.defaultState.settings.UNDO&&(e.UNDO=this.settings.UNDO),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled});this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.CAPTURE!==void 0&&(this.settings.CAPTURE=e.CAPTURE),e.CASTLE!==void 0&&(this.settings.CASTLE=e.CASTLE),e.MOVE!==void 0&&(this.settings.MOVE=e.MOVE),e.UNDO!==void 0&&(this.settings.UNDO=e.UNDO)))}}class Hi{constructor(e){O(this,"getLegalMoves");O(this,"getPreMoves");O(this,"beforeMove");O(this,"afterMove");O(this,"getLastMove");O(this,"getInCheck");O(this,"getWhiteToMove");O(this,"defaultState",{getLegalMoves:void 0,getPreMoves:void 0,beforeMove:void 0,afterMove:void 0,getLastMove:void 0,getInCheck:void 0,getWhiteToMove:void 0});O(this,"setConfigSettings",e=>{e!==void 0&&(e.getLegalMoves&&(this.getLegalMoves=e.getLegalMoves),e.getPreMoves&&(this.getPreMoves=e.getPreMoves),e.beforeMove&&(this.beforeMove=e.beforeMove),e.afterMove&&(this.afterMove=e.afterMove),e.getLastMove&&(this.getLastMove=e.getLastMove),e.getInCheck&&(this.getInCheck=e.getInCheck),e.getWhiteToMove&&(this.getWhiteToMove=e.getWhiteToMove))});O(this,"getConfig",()=>{const e={...this.getLegalMoves&&{getLegalMoves:this.getLegalMoves},...this.getPreMoves&&{getPreMoves:this.getPreMoves},...this.beforeMove&&{beforeMove:this.beforeMove},...this.afterMove&&{afterMove:this.afterMove},...this.getLastMove&&{getLastMove:this.getLastMove},...this.getInCheck&&{getInCheck:this.getInCheck},...this.getWhiteToMove&&{getWhiteToMove:this.getWhiteToMove}};return Object.keys(e).length>0?e:void 0});this.getLegalMoves=this.defaultState.getLegalMoves,this.getPreMoves=this.defaultState.getPreMoves,this.beforeMove=this.defaultState.beforeMove,this.afterMove=this.defaultState.afterMove,this.getLastMove=this.defaultState.getLastMove,this.getInCheck=this.defaultState.getInCheck,this.getWhiteToMove=this.defaultState.getWhiteToMove,this.setConfigSettings(e)}}const Ki="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class jn{constructor(e){O(this,"pieces");O(this,"markedSquares");O(this,"board");O(this,"movable");O(this,"draggable");O(this,"selectable");O(this,"legal");O(this,"callbacks");O(this,"highlight");O(this,"drawTools");O(this,"sounds");O(this,"getConfig",()=>({board:this.board.getConfig(),movable:this.movable.getConfig(),draggable:this.draggable.getConfig(),selectable:this.selectable.getConfig(),legal:this.legal.getConfig(),...this.legal.enabled&&{callbacks:this.callbacks.getConfig()},highlight:this.highlight.getConfig(),drawTools:this.drawTools.getConfig(),sounds:this.sounds.getConfig()}));this.pieces=[],this.markedSquares=new Set,this.board=new Fi(e==null?void 0:e.board),this.movable=new Ni(e==null?void 0:e.movable),this.draggable=new Ri(e==null?void 0:e.draggable),this.selectable=new Di(e==null?void 0:e.selectable),this.legal=new zi(e==null?void 0:e.legal),this.callbacks=new Hi(e==null?void 0:e.callbacks),this.highlight=new Bi(e==null?void 0:e.highlight),this.drawTools=new Ui(e==null?void 0:e.drawTools),this.sounds=new Vi(e==null?void 0:e.sounds)}setConfigSettings(e){this.board.setConfigSettings(e.board),this.movable.setConfigSettings(e.movable),this.draggable.setConfigSettings(e.draggable),this.selectable.setConfigSettings(e.selectable),this.legal.setConfigSettings(e.legal),this.callbacks.setConfigSettings(e.callbacks),this.highlight.setConfigSettings(e.highlight),this.drawTools.setConfigSettings(e.drawTools),this.sounds.setConfigSettings(e.sounds)}get legalEnabled(){return this.legal.enabled}get preMovesEnabled(){return this.legal.enabled&&this.legal.preMoves.enabled}get legalMoves(){return this.legalEnabled?this.legal.moves:[]}set legalMoves(e){this.legalEnabled&&(this.legal.moves=e)}get preMoves(){return this.preMovesEnabled?this.legal.preMoves.moves:[]}set preMoves(e){this.preMovesEnabled&&(this.legal.preMoves.moves=e)}get flipped(){return this.board.flipped}set flipped(e){this.board.flipped=e}get currentPreMove(){return this.legal.preMoves.curMove}set currentPreMove(e){this.legal.preMoves.curMove=e}get selectableEnabled(){return this.selectable.enabled}get draggableEnabled(){return this.draggable.enabled}get selectedPiece(){return this.selectableEnabled?this.selectable.selectedPiece:void 0}set selectedPiece(e){this.selectableEnabled?this.selectable.selectedPiece=e:this.selectable.selectedPiece=void 0}get whiteToMove(){return this.legal.whiteToMove}set whiteToMove(e){this.legalEnabled&&(this.legal.whiteToMove=e)}get lastMove(){return this.legalEnabled?this.legal.lastMove:""}set lastMove(e){e.length<4&&e!==""||(this.legalEnabled?this.legal.lastMove=e:this.legal.lastMove="")}get highlightEnabled(){return this.highlight.enabled}get highlightSettings(){return this.highlight.settings}get soundsEnabled(){return this.sounds.enabled}get ghostPieceEnabled(){return this.draggable.ghostPiece.enabled}get ghostPiece(){return this.draggable.ghostPiece.piece}set ghostPiece(e){this.ghostPieceEnabled||(this.draggable.ghostPiece.piece=void 0),this.draggable.ghostPiece.piece=e}get movableEnabled(){return this.movable.enabled}}const Wi=["a","b","c","d","e","f","g","h"],ji=["8","7","6","5","4","3","2","1"];function Wt(s){return{x:Wi.indexOf(s[0]),y:ji.indexOf(s[1])}}function ks(s){return s.charCodeAt(0)-97}function Gi(s){return 8-parseInt(s,10)}const Xi=s=>{let e="",t=0;for(let i=0;i<s.length;i++){i!==0&&(e+="/");for(let r=0;r<s[i].length;r++){const a=s[i][r];a!=null&&t===0?a[0]==="w"?e+=a[1]:e+=a[1].toLowerCase():a!=null&&t!==0?(e+=t.toString(),t=0,a[0]==="w"?e+=a[1]:e+=a[1].toLowerCase()):t++}t!==0&&(e+=t.toString(),t=0)}return e},Yi="8/8/8/8/8/8/8/8 w - - 0 1";class Qi{constructor(e){O(this,"letters",{a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7});O(this,"state");O(this,"changeLegalHoverIfNeeded",e=>{e.color!==K.LEGAL&&e.color!==K.PREMOVE||this.state.pieces.forEach(t=>{t.square===e.square&&(e.color=e.color===K.LEGAL?K.LEGALHOVER:K.PREMOVEHOVER)})});O(this,"highlightSquare",(e,t)=>{const i={square:e,color:t};this.state.markedSquares.forEach(r=>{r.square===e&&r.color!==K.MOVE&&r.color!==K.CHECK&&this.state.markedSquares.delete(r)}),this.changeLegalHoverIfNeeded(i),this.state.markedSquares.add(i)});O(this,"legalHover",(e,t=K.LEGAL)=>{e!==void 0&&this.state.markedSquares.forEach(i=>{if(i.square===e&&i.color===t)i.color=t===K.LEGAL?K.LEGALHOVER:K.PREMOVEHOVER;else if(i.square!==e&&i.color===(t===K.LEGAL?K.LEGALHOVER:K.PREMOVEHOVER)){let r=!1;this.state.pieces.forEach(a=>{a.square===i.square&&(r=!0)}),r||(i.color=t)}})});O(this,"toggleSquareHighlight",(e,t)=>{const i={square:e,color:t};let r=!1;return this.state.markedSquares.forEach(a=>{a.square===e&&(this.state.markedSquares.delete(a),a.color===t&&(r=!0))}),this.changeLegalHoverIfNeeded(i),r?!0:(this.state.markedSquares.add(i),!1)});O(this,"getSelectedSquare",()=>{let e="";return this.state.markedSquares.forEach(t=>{t.color===K.SELECT&&(e=t.square)}),e});O(this,"clearSquare",(e,t)=>{e.length===2&&this.state.markedSquares.forEach(i=>{i.square===e&&(i.color===t||t===void 0)&&this.state.markedSquares.delete(i)})});O(this,"clearAllSquares",e=>{e===void 0?this.state.markedSquares.clear():this.state.markedSquares.forEach(t=>{t.color===e&&this.state.markedSquares.delete(t)})});O(this,"setPiece",(e,t)=>{if(this.notValidThing({square:e,piece:t}))return;const i=this.state.pieces.find(r=>r.square===e);i?i.name=t:this.state.pieces.push({square:e,name:t})});O(this,"removePiece",e=>{this.notValidThing({square:e})||this.state.pieces.forEach((t,i)=>{t.square===e&&this.state.pieces.splice(i,1)})});O(this,"clearAllPieces",()=>{this.state.pieces.length=0});O(this,"getGridCoordsFromSquare",e=>{if(this.notValidThing({square:e}))return{x:0,y:0};const t=e[0],i=e[1],r=this.state.board.flipped?Math.abs(this.letters[t]-7):this.letters[t],a=this.state.board.flipped?Math.abs(parseInt(i,10)-8):parseInt(i,10)-1;return typeof r!="number"||a<0||a>7?{x:0,y:0}:{x:r,y:a}});O(this,"makeMove",e=>{if(this.notValidThing({move:e}))return;let t=!1,i;const r=e.substring(0,2),a=e.substring(2,4),n=e.substring(4);this.state.pieces.forEach(l=>{l.square===a&&(i=l,this.removePiece(l.square))}),this.state.pieces.forEach(l=>{l.square===r&&(l.square=a,t=!0,n&&(l.name=l.name[0]+n.toUpperCase()))}),t?this.state.legal.lastMove=e:i&&this.state.pieces.push(i)});O(this,"getSquareFromIndices",(e,t)=>`${Object.keys(this.letters)[e]}${(t+1).toString()}`);O(this,"updatePiecesWithFen",e=>{const t=[...Array(8)].map(()=>Array(8).fill(null)),i=["1","2","3","4","5","6","7","8"];let r=0,a=0;for(let o=0;o<(e.includes(" ")?e.indexOf(" "):e.length);o++)if(e[o]==="/")r++,a=0;else if(!i.includes(e[o]))e[o]===e[o].toUpperCase()?t[r][a]=`w${e[o]}`:t[r][a]=`b${e[o].toUpperCase()}`,a++;else for(let u=0;u<parseInt(e[o],10);u++)t[r][a]=null,a++;const n=[],l=[];for(let o=0;o<t.length;++o)for(let u=0;u<t.length;++u){const c=t[o][u],d=this.getPieceFromSquare(this.getSquareFromIndices(u,Math.abs(o-7)));c&&!d&&n.push({square:this.getSquareFromIndices(u,Math.abs(o-7)),name:c}),!c&&d&&l.push(d),c&&d&&c!==d.name&&(n.push({square:this.getSquareFromIndices(u,Math.abs(o-7)),name:c}),l.push(d))}for(let o=0;o<l.length;o++)for(let u=0;u<n.length;u++)!n[u]||!l[o]||n[u].name===l[o].name&&(l[o].square=n[u].square,l.splice(o,1),o--,n.splice(u,1),u--);n.forEach(o=>{this.state.pieces.push(o)}),l.forEach(o=>{this.state.pieces.splice(this.state.pieces.indexOf(o),1)})});O(this,"notValidThing",e=>{const{square:t,piece:i,move:r}=e;return!!(t&&t.length!==2||i&&i.length!==2||r&&r.length!==4&&r.length!==5)});O(this,"setGhostPiece",e=>{this.state.draggable.ghostPiece.piece=e});O(this,"removeGhostPiece",()=>{this.state.draggable.ghostPiece.piece=void 0});O(this,"isCastling",e=>{const t=e.slice(0,2),i=this.getPieceFromSquare(t);return!i||i.name[1]!=="K"?!1:e==="e1g1"||e==="e1c1"||e==="e8g8"||e==="e8c8"});O(this,"getRookMoveIfIsCastling",e=>{if(!this.isCastling(e))return null;switch(e){case"e1g1":return"h1f1";case"e1c1":return"a1d1";case"e8g8":return"h8f8";case"e8c8":return"a8d8";default:return null}});O(this,"isEnPassant",e=>{if(e[0]===e[2]||this.getPieceFromSquare(e.substring(2,4)))return!1;const t=this.getPieceFromSquare(e.substring(0,2));return!(t===void 0||t.name!=="wP"&&t.name!=="bP")});O(this,"getCapturedPawnSquareIfIsEnPassant",e=>{if(e[0]===e[2]||this.getPieceFromSquare(e.substring(2,4)))return;const t=this.getPieceFromSquare(e.substring(0,2));if(t===void 0||t.name!=="wP"&&t.name!=="bP")return;const i=this.getPieceFromSquare(`${e[2]}${(parseInt(e[3],10)+(t.name==="wP"?-1:1)).toString()}`);return i==null?void 0:i.square});O(this,"isCapture",e=>!!this.getPieceFromSquare(e.substring(2,4)));O(this,"isPromotion",e=>{if((e[1]!=="7"||e[3]!=="8")&&(e[1]!=="2"||e[3]!=="1"))return!1;const t=this.getPieceFromSquare(e.substring(0,2));return!(t&&(t.name[1]!=="P"||t.name[0]==="w"&&e[3]==="1"||t.name[0]==="b"&&e[3]==="8"))});O(this,"callbackExists",e=>this.state.callbacks[e]!==void 0);O(this,"flipBoard",e=>{e!==void 0?this.state.board.flipped=e:this.state.board.flipped=!this.state.board.flipped});O(this,"setConfigSettings",e=>{this.state.setConfigSettings(e)});this.state=new jn(e),this.state.board.startFen&&this.updatePiecesWithFen(this.state.board.startFen)}getWhiteKingSquare(){const e=this.state.pieces.find(t=>t.name==="wK");if(e)return e.square}getBlackKingSquare(){const e=this.state.pieces.find(t=>t.name==="bK");if(e)return e.square}getShortFEN(){if(this.state.pieces.length===0)return Yi;const e=[...Array(8)].map(()=>Array(8).fill(null));return this.state.pieces.forEach(t=>{e[Gi(t.square[1])][ks(t.square[0])]=t.name}),Xi(e)}getPieceFromSquare(e){if(e)return this.state.pieces.find(t=>t.square===e)}get legalEnabled(){return this.state.legalEnabled}get preMovesEnabled(){return this.state.preMovesEnabled}get legalMoves(){return this.state.legalMoves}set legalMoves(e){this.state.legalMoves=e}get preMoves(){return this.state.preMoves}set preMoves(e){this.state.preMoves=e}get flipped(){return this.state.flipped}set flipped(e){this.state.flipped=e}get currentPreMove(){return this.state.currentPreMove}set currentPreMove(e){this.state.currentPreMove=e}get selectableEnabled(){return this.state.selectableEnabled}get draggableEnabled(){return this.state.draggableEnabled}get selectedPiece(){return this.state.selectedPiece}set selectedPiece(e){this.state.selectedPiece=e}get whiteToMove(){return this.state.whiteToMove}set whiteToMove(e){this.state.whiteToMove=e}get lastMove(){return this.state.lastMove}set lastMove(e){this.state.lastMove=e}get highlightEnabled(){return this.state.highlightEnabled}get highlightSettings(){return this.state.highlightSettings}get soundsEnabled(){return this.state.soundsEnabled}get ghostPieceEnabled(){return this.state.ghostPieceEnabled}get ghostPiece(){return this.state.ghostPiece}set ghostPiece(e){this.state.ghostPiece=e}get movableEnabled(){return this.state.movableEnabled}}const Zi={[K.LEGAL]:"legal cursor-pointer",[K.LEGALHOVER]:"legal-h cursor-pointer",[K.SELECT]:"select",[K.MOVE]:"move",[K.NEXTMOVE]:"nextMove",[K.PREMOVE]:"preMove cursor-pointer",[K.PREMOVEHOVER]:"preMove-h cursor-pointer",[K.CHECK]:"check"},Ji={white:"#f0d9b5",black:"#b58863"},xi="standard.svg",$i={[K.LEGAL]:"legal cursor-pointer",[K.LEGALHOVER]:"legal-h cursor-pointer",[K.SELECT]:"select-db",[K.MOVE]:"move-db",[K.NEXTMOVE]:"nextMove",[K.PREMOVE]:"preMove cursor-pointer",[K.PREMOVEHOVER]:"preMove-h cursor-pointer",[K.CHECK]:"check"},er={white:"#94A3B8",black:"#475569"},tr="darkBlue.svg",Ge={squareStyles:{standard:Zi,darkBlue:$i},colors:{standard:Ji,darkBlue:er},imageName:{standard:xi,darkBlue:tr}};function Ks(s,e,t){const i=s.slice();return i[6]=e[t],i[8]=t,i}function Ws(s,e,t){const i=s.slice();return i[6]=e[t],i[8]=t,i}function js(s){let e,t=s[4][s[1]?Math.abs(s[8]-7):s[8]]+"",i,r;return{c(){e=N("span"),i=Ee(t),r=G(),this.h()},l(a){e=R(a,"SPAN",{"data-file":!0,style:!0,class:!0});var n=D(e);i=ke(n,t),r=X(n),n.forEach(S),this.h()},h(){p(e,"data-file",s[6]),Ve(e,"--font-size",s[3]+"px"),Ve(e,"color",s[8]%2===0?Ge.colors[s[0]].white:Ge.colors[s[0]].black),p(e,"class","svelte-1dkkugo")},m(a,n){V(a,e,n),y(e,i),y(e,r)},p(a,n){n&2&&t!==(t=a[4][a[1]?Math.abs(a[8]-7):a[8]]+"")&&Jt(i,t),n&8&&Ve(e,"--font-size",a[3]+"px"),n&1&&Ve(e,"color",a[8]%2===0?Ge.colors[a[0]].white:Ge.colors[a[0]].black)},d(a){a&&S(e)}}}function Gs(s){let e,t=(s[1]?s[8]+1:Math.abs(s[8]-8))+"",i,r,a;return{c(){e=N("span"),i=Ee(t),r=G(),this.h()},l(n){e=R(n,"SPAN",{"data-file":!0,style:!0,class:!0});var l=D(e);i=ke(l,t),r=X(l),l.forEach(S),this.h()},h(){p(e,"data-file",s[6]),p(e,"style",a="--font-size: "+s[3]+"px; color: "+(s[8]%2===0?Ge.colors[s[0]].white:Ge.colors[s[0]].black)+";"+(s[1]?" text-align: right;":"")),p(e,"class","svelte-1dkkugo")},m(n,l){V(n,e,l),y(e,i),y(e,r)},p(n,l){l&2&&t!==(t=(n[1]?n[8]+1:Math.abs(n[8]-8))+"")&&Jt(i,t),l&11&&a!==(a="--font-size: "+n[3]+"px; color: "+(n[8]%2===0?Ge.colors[n[0]].white:Ge.colors[n[0]].black)+";"+(n[1]?" text-align: right;":""))&&p(e,"style",a)},d(n){n&&S(e)}}}function sr(s){let e,t,i,r,a=s[4],n=[];for(let u=0;u<a.length;u+=1)n[u]=js(Ws(s,a,u));let l=s[4],o=[];for(let u=0;u<l.length;u+=1)o[u]=Gs(Ks(s,l,u));return{c(){e=N("div");for(let u=0;u<n.length;u+=1)n[u].c();t=G(),i=N("div");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=R(u,"DIV",{class:!0});var c=D(e);for(let f=0;f<n.length;f+=1)n[f].l(c);c.forEach(S),t=X(u),i=R(u,"DIV",{class:!0});var d=D(i);for(let f=0;f<o.length;f+=1)o[f].l(d);d.forEach(S),this.h()},h(){p(e,"class","files svelte-1dkkugo"),p(i,"class","ranks svelte-1dkkugo"),mt(()=>s[5].call(i))},m(u,c){V(u,e,c);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);V(u,t,c),V(u,i,c);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(i,null);r=ti(i,s[5].bind(i))},p(u,[c]){if(c&27){a=u[4];let d;for(d=0;d<a.length;d+=1){const f=Ws(u,a,d);n[d]?n[d].p(f,c):(n[d]=js(f),n[d].c(),n[d].m(e,null))}for(;d<n.length;d+=1)n[d].d(1);n.length=a.length}if(c&27){l=u[4];let d;for(d=0;d<l.length;d+=1){const f=Ks(u,l,d);o[d]?o[d].p(f,c):(o[d]=Gs(f),o[d].c(),o[d].m(i,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=l.length}},i:Se,o:Se,d(u){u&&S(e),dt(n,u),u&&S(t),u&&S(i),dt(o,u),r()}}}function nr(s,e,t){let i,{theme:r}=e,{flipped:a}=e;const n=["a","b","c","d","e","f","g","h"];let l;function o(){l=this.clientHeight,t(2,l)}return s.$$set=u=>{"theme"in u&&t(0,r=u.theme),"flipped"in u&&t(1,a=u.flipped)},s.$$.update=()=>{s.$$.dirty&4&&t(3,i=Math.floor(Math.log(l/8)*3))},[r,a,l,i,n,o]}class ir extends Te{constructor(e){super(),Le(this,e,nr,sr,Oe,{theme:0,flipped:1})}}function rr(s){const e=2.5949095;return(s*=2)<1?.5*(s*s*((e+1)*s-e)):.5*((s-=2)*s*((e+1)*s+e)+2)}function ar(s){return s*s*((1.70158+1)*s-1.70158)}function lr(s){return--s*s*((1.70158+1)*s+1.70158)+1}function Yt(s){const e=.36363636363636365,t=8/11,i=9/10,r=4356/361,a=35442/1805,n=16061/1805,l=s*s;return s<e?7.5625*l:s<t?9.075*l-9.9*s+3.4:s<i?r*l-a*s+n:10.8*s*s-20.52*s+10.72}function or(s){return s<.5?.5*(1-Yt(1-s*2)):.5*Yt(s*2-1)+.5}function ur(s){return 1-Yt(1-s)}function fr(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)}function cr(s){return 1-Math.sqrt(1-s*s)}function dr(s){return Math.sqrt(1- --s*s)}function hr(s){return s<.5?4*s*s*s:.5*Math.pow(2*s-2,3)+1}function gr(s){return s*s*s}function Ts(s){const e=s-1;return e*e*e+1}function br(s){return s<.5?.5*Math.sin(13*Math.PI/2*2*s)*Math.pow(2,10*(2*s-1)):.5*Math.sin(-13*Math.PI/2*(2*s-1+1))*Math.pow(2,-10*(2*s-1))+1}function pr(s){return Math.sin(13*s*Math.PI/2)*Math.pow(2,10*(s-1))}function mr(s){return Math.sin(-13*(s+1)*Math.PI/2)*Math.pow(2,-10*s)+1}function vr(s){return s===0||s===1?s:s<.5?.5*Math.pow(2,20*s-10):-.5*Math.pow(2,10-s*20)+1}function _r(s){return s===0?s:Math.pow(2,10*(s-1))}function Er(s){return s===1?s:1-Math.pow(2,-10*s)}function kr(s){return s/=.5,s<1?.5*s*s:(s--,-.5*(s*(s-2)-1))}function Mr(s){return s*s}function Sr(s){return-s*(s-2)}function wr(s){return s<.5?8*Math.pow(s,4):-8*Math.pow(s-1,4)+1}function Cr(s){return Math.pow(s,4)}function yr(s){return Math.pow(s-1,3)*(1-s)+1}function Pr(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)}function Ar(s){return s*s*s*s*s}function Tr(s){return--s*s*s*s*s+1}function Lr(s){return-.5*(Math.cos(Math.PI*s)-1)}function Or(s){const e=Math.cos(s*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}function Ir(s){return Math.sin(s*Math.PI/2)}const Qt=Object.freeze(Object.defineProperty({__proto__:null,backIn:ar,backInOut:rr,backOut:lr,bounceIn:ur,bounceInOut:or,bounceOut:Yt,circIn:cr,circInOut:fr,circOut:dr,cubicIn:gr,cubicInOut:hr,cubicOut:Ts,elasticIn:pr,elasticInOut:br,elasticOut:mr,expoIn:_r,expoInOut:vr,expoOut:Er,linear:zn,quadIn:Mr,quadInOut:kr,quadOut:Sr,quartIn:Cr,quartInOut:wr,quartOut:yr,quintIn:Ar,quintInOut:Pr,quintOut:Tr,sineIn:Or,sineInOut:Lr,sineOut:Ir},Symbol.toStringTag,{value:"Module"}));function Xs(s){return Object.prototype.toString.call(s)==="[object Date]"}function Ms(s,e){if(s===e||s!==s)return()=>s;const t=typeof s;if(t!==typeof e||Array.isArray(s)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(s)){const i=e.map((r,a)=>Ms(s[a],r));return r=>i.map(a=>a(r))}if(t==="object"){if(!s||!e)throw new Error("Object cannot be null");if(Xs(s)&&Xs(e)){s=s.getTime(),e=e.getTime();const a=e-s;return n=>new Date(s+n*a)}const i=Object.keys(e),r={};return i.forEach(a=>{r[a]=Ms(s[a],e[a])}),a=>{const n={};return i.forEach(l=>{n[l]=r[l](a)}),n}}if(t==="number"){const i=e-s;return r=>s+r*i}throw new Error(`Cannot interpolate ${t} values`)}function qr(s,e={}){const t=fi(s);let i,r=s;function a(n,l){if(s==null)return t.set(s=n),Promise.resolve();r=n;let o=i,u=!1,{delay:c=0,duration:d=400,easing:f=zn,interpolate:M=Ms}=jt(jt({},e),l);if(d===0)return o&&(o.abort(),o=null),t.set(s=r),Promise.resolve();const v=si()+c;let E;return i=ni(m=>{if(m<v)return!0;u||(E=M(s,n),typeof d=="function"&&(d=d(s,n)),u=!0),o&&(o.abort(),o=null);const k=m-v;return k>d?(t.set(s=n),!1):(t.set(s=E(f(k/d))),!0)}),i.promise}return{set:a,update:(n,l)=>a(n(r,s),l),subscribe:t.subscribe}}function vs(s,e,t,i){if(e===0&&t===0)return s;const r=i?["h","g","f","e","d","c","b","a"]:["a","b","c","d","e","f","g","h"],a=i?["1","2","3","4","5","6","7","8"]:["8","7","6","5","4","3","2","1"],n=r[r.indexOf(s[0])+e],l=a[a.indexOf(s[1])+t];if(!(!n||!l))return`${n}${l}`}function Fr(s,e,t){const i=e*1.15,r=document.createElementNS("http://www.w3.org/2000/svg","svg"),a=document.createElementNS("http://www.w3.org/2000/svg","circle");return r.setAttribute("width",`${s.offsetWidth*i}`),r.setAttribute("height",`${s.offsetHeight*i}`),r.style.position="absolute",r.style.zIndex="100",r.style.translate=`${t?"":"-"}${25*i/2}% -${25*i/2}%`,r.style.opacity="0.2",r.style.pointerEvents="none",a.setAttribute("r",`${s.offsetWidth*i/2}`),a.setAttribute("cx",`${s.offsetWidth*i/2}`),a.setAttribute("cy",`${s.offsetHeight*i/2}`),a.setAttribute("fill","black"),r.appendChild(a),r}function Nr(s,e){let t,i,r,a,n,l,o,u,c=!1,d;const f=s.parentNode;let M,v=!1,E=!1,m=!1,{startSquare:k,boardFlipped:g,mouseEvents:h,canDrag:_,canSelect:w,canCapture:P,duration:q,easingFunc:z}=e;const{coords:T}=e;let L=Is(T).x,U=Is(T).y;const W=1.6,fe=Fr(s,W,g);function ce(C){if(C.button!==0||!C.isPrimary||!h)return;if(C.pointerType==="touch"?m=!0:m=!1,P){s.dispatchEvent(new CustomEvent("captured"));return}if((w||_)&&s.dispatchEvent(new CustomEvent("clicked")),!_){s.dispatchEvent(new CustomEvent("dropped",{detail:k}));return}L=(g?7-ks(k[0]):ks(k[0]))*f.clientWidth/8,U=(g?parseInt(k[1],10)-1:8-parseInt(k[1],10))*f.clientWidth/8,M=k;const Q=C.target.getBoundingClientRect();C.pointerType==="touch"?(t=C.clientX,i=C.clientY,r=C.clientX-Q.x,a=C.clientY-Q.y):(t=C.clientX,i=C.clientY,r=C.offsetX,a=C.offsetY),n=0,l=0,o=window.scrollX,u=window.scrollY,E=!0,window.addEventListener("pointermove",ye),window.addEventListener("pointerup",B),window.addEventListener("pointercancel",Y),document.body.addEventListener("pointerleave",Y),window.addEventListener("scroll",pe)}function ye(C){const Q=C.clientX-t,ne=C.clientY-i;if(t=C.clientX,i=C.clientY,n+=Q,l+=ne,c||Z(m),!!c){if(m){const ve=Math.floor((n+r)/s.offsetWidth),me=Math.floor((l+a)/s.offsetHeight),Me=vs(k,ve,me,g);if(Me){const _e=Wt(Me);fe.setAttribute("r",`${s.offsetWidth*W*1.15/2}`),fe.setAttribute("cx",`${s.offsetWidth*W*1.15/2}`),fe.setAttribute("cy",`${s.offsetHeight*W*1.15/2}`);const Pe=(g?(7-_e.x)*f.clientWidth/8:_e.x*f.clientWidth/8)-s.offsetWidth*W*1.15/2+s.offsetWidth/2,Ie=(g?(7-_e.y)*f.clientWidth/8:_e.y*f.clientWidth/8)-s.offsetWidth*W*1.15/2+s.offsetWidth/2;fe.style.translate=`${Pe}px ${Ie}px`,v||(f.appendChild(fe),v=!0)}else M&&(M=void 0)}T.update(ve=>({x:ve.x+Q,y:ve.y+ne,scale:m?W:1}),{duration:0}),M=x()}}function pe(){const C=window.scrollX-o,Q=window.scrollY-u;o=window.scrollX,u=window.scrollY,n+=C,l+=Q,c||Z(m),c&&(T.update(ne=>({x:ne.x+C,y:ne.y+Q,scale:m?W:1}),{duration:0}),M=x())}function x(){const C=vs(k,Math.floor((n+r)/s.offsetWidth),Math.floor((l+a)/s.offsetHeight),g);return C!==M&&s.dispatchEvent(new CustomEvent("squareover",{detail:{square:C}})),C}function B(){const C=Math.floor((n+r)/s.offsetWidth),Q=Math.floor((l+a)/s.offsetHeight),ne=vs(k,C,Q,g);s.dispatchEvent(new CustomEvent("dropped",{detail:ne})),E=!1,Y()}function Y(){window.removeEventListener("pointermove",ye),window.removeEventListener("pointerup",B),window.removeEventListener("pointercancel",Y),document.body.removeEventListener("pointerleave",Y),window.removeEventListener("scroll",pe),E&&s.dispatchEvent(new CustomEvent("canceled")),E=!1,T.update(()=>({x:L,y:U,scale:1}),{duration:q,easing:z}).then(()=>{E||s.dispatchEvent(new CustomEvent("animationEnded")),E||s.classList.remove("dragging")}),t=0,i=0,n=0,l=0,setTimeout(()=>{E||s.classList.remove("dragging")},q),c=!1,fe.remove(),v=!1}function Z(C=!1){T.update(()=>({x:L,y:U,scale:1}),{duration:0}),(Math.abs(n)>1||Math.abs(l)>1)&&(T.update(()=>({x:L+(t-s.offsetWidth/2-s.getBoundingClientRect().x),y:C?U+(i-s.offsetHeight*1.5-s.getBoundingClientRect().y):U+(i-s.offsetHeight/2-s.getBoundingClientRect().y),scale:C?W:1}),{duration:0}),c=!0,s.classList.add("dragging"),s.dispatchEvent(new CustomEvent("startMoving")))}function A(C){E&&Y(),C.preventDefault()}function ee(C){C.preventDefault()}return s.addEventListener("contextmenu",A),s.addEventListener("dragstart",ee),s.addEventListener("pointerdown",ce),{destroy(){s.removeEventListener("pointerdown",ce),s.removeEventListener("contextmenu",A),s.removeEventListener("dragstart",ee),window.clearTimeout(d)},update(C){k=C.startSquare,q=C.duration,z=C.easingFunc,C.canDrag!==_&&(_=C.canDrag),C.canSelect!==w&&(w=C.canSelect),C.canCapture!==P&&(P=C.canCapture),C.mouseEvents!==h&&(h=C.mouseEvents),g=C.boardFlipped}}}function Rr(s){let e,t,i,r,a,n;return{c(){e=N("div"),this.h()},l(l){e=R(l,"DIV",{style:!0,class:!0}),D(e).forEach(S),this.h()},h(){var l;p(e,"style",t="translate: "+s[11].x+"px "+s[11].y+"px;"+(s[11].scale!==1?` scale: ${s[11].scale}`:"")),p(e,"class",i=s[2]+(s[2][0]==="w"?" white":" black")+(s[4]?" ghost":"")+(!((l=s[6])!=null&&l.enabled)&&!s[4]?" static":"")+(s[10]?"":" opacity-0")+(s[9]?" capture":"")+" svelte-6jzr8p")},m(l,o){var u,c;V(l,e,o),a||(n=[ys(r=Nr.call(null,e,{startSquare:s[1],mouseEvents:s[0],canDrag:s[7],canSelect:s[8],canCapture:s[9],boardFlipped:s[3],duration:(u=s[5])!=null&&u.transition.enabled?s[5].transition.settings.duration:0,easingFunc:Qt[((c=s[5])==null?void 0:c.transition.settings.easing)??"cubicInOut"],coords:s[13]})),se(e,"dropped",s[14]),se(e,"clicked",s[19]),se(e,"startMoving",s[20]),se(e,"animationEnded",s[21]),se(e,"captured",s[22]),se(e,"canceled",s[23]),se(e,"squareover",s[24])],a=!0)},p(l,o){var u,c,d;o[0]&2048&&t!==(t="translate: "+l[11].x+"px "+l[11].y+"px;"+(l[11].scale!==1?` scale: ${l[11].scale}`:""))&&p(e,"style",t),o[0]&1620&&i!==(i=l[2]+(l[2][0]==="w"?" white":" black")+(l[4]?" ghost":"")+(!((u=l[6])!=null&&u.enabled)&&!l[4]?" static":"")+(l[10]?"":" opacity-0")+(l[9]?" capture":"")+" svelte-6jzr8p")&&p(e,"class",i),r&&Ps(r.update)&&o[0]&939&&r.update.call(null,{startSquare:l[1],mouseEvents:l[0],canDrag:l[7],canSelect:l[8],canCapture:l[9],boardFlipped:l[3],duration:(c=l[5])!=null&&c.transition.enabled?l[5].transition.settings.duration:0,easingFunc:Qt[((d=l[5])==null?void 0:d.transition.settings.easing)??"cubicInOut"],coords:l[13]})},i:Se,o:Se,d(l){l&&S(e),a=!1,ht(n)}}}function Dr(s,e,t){var ee;let i,{square:r}=e,{name:a}=e,{mouseEvents:n=!0}=e,{getGridCoordsFromSquare:l}=e,{flipped:o}=e,{isGhost:u=!1}=e,{boardSize:c}=e;u&&(n=!1);let{selectableState:d=void 0}=e,{draggableState:f=void 0}=e,{legalState:M=void 0}=e,{movableState:v=void 0}=e,E=!1,m=!1,k=!1,g=!1;const h=Rt();let _=(ee=f==null?void 0:f.transition)!=null&&ee.enabled?f.transition.settings.duration:0;const w=qr({x:0,y:0,scale:1},{duration:_,easing:Qt[(f==null?void 0:f.transition.settings.easing)??"cubicInOut"]});ii(s,w,C=>t(11,i=C));let P=!1;const q=C=>C[0]==="w"?ie.WHITE:ie.BLACK,z=C=>{const Q=l(C);w.update(()=>({x:Q.x*c/8,y:(7-Q.y)*c/8,scale:1}),{duration:P?_:0,easing:Qt[(f==null?void 0:f.transition.settings.easing)??"cubicInOut"]}),_=f!=null&&f.transition.enabled?f.transition.settings.duration:0},T=C=>{const Q=l(r);w.update(()=>({x:Q.x*C/8,y:(7-Q.y)*C/8,scale:1}),{duration:0})},L=C=>{_=0,C.detail||h("deselect"),r===C.detail?(!E&&fe(v,d)?h("select"):h("deselect"),E=!E):E=!1,W(v,f)&&h("endDragging",r+C.detail),r!==C.detail&&C.detail&&h("move",r+C.detail)},U=C=>M!=null&&M.enabled?!!(M.preMoves.enabled&&q(a)===C.color||C.color===ie.WHITE&&M.whiteToMove&&q(a)===ie.WHITE||C.color===ie.BLACK&&!M.whiteToMove&&q(a)===ie.BLACK||C.color===ie.BOTH&&(q(a)===ie.WHITE&&M.whiteToMove||q(a)===ie.BLACK&&!M.whiteToMove)):C.color===q(a)||C.color===ie.BOTH,W=(C,Q)=>!(C!=null&&C.enabled)||!(Q!=null&&Q.enabled)||!n?!1:U(C),fe=(C,Q)=>!(C!=null&&C.enabled)||!(Q!=null&&Q.enabled)||!n?!1:U(C),ce=(C,Q,ne)=>{var ve,me;return!(Q!=null&&Q.enabled)||!(ne!=null&&ne.enabled)||!n?!1:C!=null&&C.enabled?!!((d==null?void 0:d.selectedPiece)!==void 0&&((ve=d==null?void 0:d.selectedPiece)==null?void 0:ve.square)!==r&&(C.moves.includes(d.selectedPiece.square+r)||C.moves.includes(`${d.selectedPiece.square+r}q`))||(d==null?void 0:d.selectedPiece)!==void 0&&C.preMoves.enabled&&q(d==null?void 0:d.selectedPiece.name)===Q.color&&(C.preMoves.moves.includes(d.selectedPiece.square+r)||C.preMoves.moves.includes(`${d.selectedPiece.square+r}q`))):(d==null?void 0:d.selectedPiece)!==void 0&&((me=d==null?void 0:d.selectedPiece)==null?void 0:me.square)!==r},ye=C=>C===void 0||C.name!==a||C.square!==r;xt(()=>{t(10,P=!0)});function pe(C){je.call(this,s,C)}function x(C){je.call(this,s,C)}function B(C){je.call(this,s,C)}function Y(C){je.call(this,s,C)}function Z(C){je.call(this,s,C)}const A=C=>{h("squareover",C.detail)};return s.$$set=C=>{"square"in C&&t(1,r=C.square),"name"in C&&t(2,a=C.name),"mouseEvents"in C&&t(0,n=C.mouseEvents),"getGridCoordsFromSquare"in C&&t(15,l=C.getGridCoordsFromSquare),"flipped"in C&&t(3,o=C.flipped),"isGhost"in C&&t(4,u=C.isGhost),"boardSize"in C&&t(16,c=C.boardSize),"selectableState"in C&&t(17,d=C.selectableState),"draggableState"in C&&t(5,f=C.draggableState),"legalState"in C&&t(18,M=C.legalState),"movableState"in C&&t(6,v=C.movableState)},s.$$.update=()=>{s.$$.dirty[0]&96&&t(7,m=W(v,f)),s.$$.dirty[0]&131136&&t(8,k=fe(v,d)),s.$$.dirty[0]&393280&&t(9,g=ce(M,v,d)),s.$$.dirty[0]&131072&&ye(d==null?void 0:d.selectedPiece)&&(E=!1),s.$$.dirty[0]&10&&z(r),s.$$.dirty[0]&65536&&T(c)},[n,r,a,o,u,f,v,m,k,g,P,i,h,w,L,l,c,d,M,pe,x,B,Y,Z,A]}class Gn extends Te{constructor(e){super(),Le(this,e,Dr,Rr,Oe,{square:1,name:2,mouseEvents:0,getGridCoordsFromSquare:15,flipped:3,isGhost:4,boardSize:16,selectableState:17,draggableState:5,legalState:18,movableState:6},null,[-1,-1])}}function zr(s){let e,t,i;return{c(){e=N("div"),this.h()},l(r){e=R(r,"DIV",{style:!0,class:!0}),D(e).forEach(S),this.h()},h(){p(e,"style",t="translate: "+s[5]*s[3]/8+"px "+(7-s[6])*s[3]/8+"px;"+(s[4]?` border-${s[4]}-radius: inherit;`:"")),p(e,"class",i=Ge.squareStyles[s[1]][s[0]]+(s[2]?"":" pointer-events-none")+" svelte-hsrdx7")},m(r,a){V(r,e,a)},p(r,[a]){a&120&&t!==(t="translate: "+r[5]*r[3]/8+"px "+(7-r[6])*r[3]/8+"px;"+(r[4]?` border-${r[4]}-radius: inherit;`:""))&&p(e,"style",t),a&7&&i!==(i=Ge.squareStyles[r[1]][r[0]]+(r[2]?"":" pointer-events-none")+" svelte-hsrdx7")&&p(e,"class",i)},i:Se,o:Se,d(r){r&&S(e)}}}function Br(s,e,t){let{square:i}=e,{color:r}=e,{getGridCoordsFromSquare:a}=e,{flipped:n}=e,{theme:l}=e,{mouseEvents:o=!0}=e,{boardSize:u}=e,{corner:c=""}=e,d,f;const M=()=>{const v=a(i);t(5,d=v.x),t(6,f=v.y)};return s.$$set=v=>{"square"in v&&t(7,i=v.square),"color"in v&&t(0,r=v.color),"getGridCoordsFromSquare"in v&&t(8,a=v.getGridCoordsFromSquare),"flipped"in v&&t(9,n=v.flipped),"theme"in v&&t(1,l=v.theme),"mouseEvents"in v&&t(2,o=v.mouseEvents),"boardSize"in v&&t(3,u=v.boardSize),"corner"in v&&t(4,c=v.corner)},s.$$.update=()=>{s.$$.dirty&512&&M()},[r,l,o,u,c,d,f,i,a,n]}class Ur extends Te{constructor(e){super(),Le(this,e,Br,zr,Oe,{square:7,color:0,getGridCoordsFromSquare:8,flipped:9,theme:1,mouseEvents:2,boardSize:3,corner:4})}}const Vr=["a","b","c","d","e","f","g","h"],Hr=["8","7","6","5","4","3","2","1"];function Kr(s){s.querySelectorAll("[fixed]").forEach(e=>e.remove())}function Ss(s){return`${Vr[s.x]}${Hr[s.y]}`}function Xn(s,e){return Math.abs((s.x-e.x)*(s.y-e.y))===2}function ws(s,e){return`${Ss(s)}${Ss(e)}`}function Wr(s,e){return!!(Xn(s,e)||Math.abs(s.x-e.x)===Math.abs(s.y-e.y)||s.x===e.x!=(s.y===e.y))}function Yn(s,e,t,i,r,a){let n={x:-1,y:-1},l,o;Xn(e,t)&&i?(Math.abs(t.x-e.x)===2?n={x:t.x,y:e.y}:n={x:e.x,y:t.y},n.y-e.y<0?o=Math.PI+Math.atan((n.x-e.x)/(n.y-e.y)):o=Math.atan((n.x-e.x)/Math.abs(n.y-e.y)),l={x:t.x-Math.sign(t.x-n.x)*(n.x!==t.x?.4:0),y:t.y-Math.sign(t.y-n.y)*(n.y!==t.y?.4:0)}):(t.y-e.y<0?o=Math.PI+Math.atan((t.x-e.x)/(t.y-e.y)):o=Math.atan((t.x-e.x)/Math.abs(t.y-e.y)),l={x:t.x-Math.sin(o)*.4,y:t.y-Math.cos(o)*.4});const u={x:e.x+Math.sin(o)*.4,y:e.y+Math.cos(o)*.4};s.setAttribute("points",`${u.x+.5},${u.y+.5} ${n.x!==-1&&n.y!==-1&&i?`${n.x+.5},${n.y+.5} `:""}${l.x+.5},${l.y+.5}`),s.setAttribute("data-sqID",`${ws(e,t)}`),a!==void 0&&s.setAttribute("opacity",`${a}`),r!==void 0&&(s.setAttribute("marker-start",`url(#start-${r[0]})`),s.setAttribute("marker-end",`url(#end-${r[0]})`),s.setAttribute("stroke",r))}function Ht(s,e,t,i,r,a){if(!(e===void 0||t.x===-1&&t.y===-1)){if(e.tagName==="circle")e.setAttribute("fill","transparent"),i?e.setAttribute("stroke","red"):r?e.setAttribute("stroke","orange"):a?e.setAttribute("stroke","blue"):e.setAttribute("stroke","green"),s.querySelectorAll(`сircle[cx="${t.x+.5}"][cy="${t.y+.5}"]`).forEach(n=>{e!==void 0&&n!==e&&(n.getAttribute("stroke")===e.getAttribute("stroke")?e.setAttribute("remove",""):e.hasAttribute("remove")&&e.removeAttribute("remove"))});else if(e.tagName==="polyline"){const n=i?"red":r?"orange":a?"blue":"green";e.setAttribute("stroke",`${n}`),e.setAttribute("marker-start",`url(#start-${n[0]})`),e.setAttribute("marker-end",`url(#end-${n[0]})`),s.querySelectorAll(`polyline[data-sqID="${e.getAttribute("data-sqID")}"]`).forEach(l=>{e instanceof SVGPolylineElement&&l!==e&&(l.getAttribute("stroke")===e.getAttribute("stroke")?e.setAttribute("remove",""):e.hasAttribute("remove")&&e.removeAttribute("remove"))})}}}function Qn(s,e,t,i,r){const a=document.createElementNS("http://www.w3.org/2000/svg","polyline");return Yn(a,s,e,t,i,r),a.setAttribute("fill","none"),a.setAttribute("stroke-width","0.25"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("opacity",r!==void 0?`${r}`:"0.4"),a.setAttribute("marker-start",i?`url(#start-${i[0]})`:"url(#start-g)"),a.setAttribute("marker-end",i?`url(#end-${i[0]})`:"url(#end-g)"),a.setAttribute("stroke",i||"green"),a}function Cs(s,e,t){const i=document.createElementNS("http://www.w3.org/2000/svg","circle");return i.setAttribute("cx",`${s.x+.5}`),i.setAttribute("cy",`${s.y+.5}`),i.setAttribute("r","0.465"),i.setAttribute("opacity",t?`${t}`:"0.4"),i.setAttribute("fill","none"),i.setAttribute("stroke-width","0.07"),i.setAttribute("stroke",e??"green"),i}function jr(s,e,t){e.forEach(i=>{if(i.type==="circle"){const r=Wt(i.square),a=Cs(r,i.color,i.opacity);s.appendChild(a)}else if(i.type==="arrow"){const r=Qn(Wt(i.from),Wt(i.to),t,i.color,i.opacity);r.setAttribute("fixed",""),s.appendChild(r)}})}function Ys(s){s.querySelectorAll("circle,polyline").forEach(e=>{e.hasAttribute("fixed")||e.remove()})}function Gr(s,e){let{svg:t,flipped:i,enabled:r,settings:a}=e,n=!1,l={x:-1,y:-1},o,u;function c(m,k){const g=s.getBoundingClientRect(),h=i?g.width-(m-g.left):m-g.left,_=i?g.height-(k-g.top):k-g.top;return{x:Math.max(0,Math.min(7,Math.floor(h/(s.clientWidth/8)))),y:Math.max(0,Math.min(7,Math.floor(_/(s.clientHeight/8))))}}function d(m){if(u===void 0||l.x===-1&&l.y===-1)return;const k=c(m.clientX,m.clientY);a.onlyChessMove&&!Wr(l,k)||(o=void 0,u.hasAttribute("remove")&&u.removeAttribute("remove"),l.x===k.x&&l.y===k.y?(ws(l,k),u instanceof SVGPolylineElement&&(u.remove(),u=Cs(k)),Ht(t,u,l,m.shiftKey,m.ctrlKey,m.altKey),t.appendChild(u),t.querySelectorAll(`circle[cx="${l.x+.5}"][cy="${l.y+.5}"]`).forEach(g=>{g!==u&&(o=g,u!==void 0&&g.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))})):(u instanceof SVGCircleElement&&u.remove(),o=void 0,t.querySelectorAll(`polyline[data-sqID="${ws(l,k)}"]`).forEach(g=>{u===void 0||l.x===-1&&l.y===-1||g===u||(o=g,g.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))}),u instanceof SVGCircleElement?(u=Qn(l,k,a.knightLShape),Ht(t,u,l,m.shiftKey,m.ctrlKey,m.altKey),t.appendChild(u)):u instanceof SVGPolylineElement&&Yn(u,l,k,a.knightLShape)))}function f(m){m.preventDefault()}function M(m){m.preventDefault(),Ht(t,u,l,m.shiftKey,m.ctrlKey,m.altKey)}function v(m){if(m.button===0)n=!1;else if(m.button===2){if(l.x===-1&&l.y===-1)return;t.querySelectorAll("[remove]").forEach(k=>{k.remove()}),o&&o.remove(),o=void 0,(u==null?void 0:u.tagName)==="circle"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawCircle",{detail:{square:Ss(l),color:u.getAttribute("stroke")}})),(u==null?void 0:u.tagName)==="polyline"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawArrow",{detail:{move:u.getAttribute("data-sqID"),color:u.getAttribute("stroke")}})),u=void 0,l={x:-1,y:-1},n=!1,window.removeEventListener("mousemove",d),window.removeEventListener("keydown",M),window.removeEventListener("keyup",M),window.removeEventListener("contextmenu",f)}window.removeEventListener("mouseup",v)}function E(m){if(m.button===0)n=!0,Ys(t),window.addEventListener("mouseup",v);else if(m.button===2&&!n){const k=c(m.clientX,m.clientY);l=k,u=Cs(k),Ht(t,u,l,m.shiftKey,m.ctrlKey,m.altKey),o=void 0,t.querySelectorAll(`circle[cx="${k.x+.5}"][cy="${k.y+.5}"]`).forEach(g=>{o=g,u!==void 0&&g.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove","")}),u&&t.appendChild(u),window.addEventListener("mousemove",d),window.addEventListener("mouseup",v),window.addEventListener("keydown",M),window.addEventListener("keyup",M),window.addEventListener("contextmenu",f)}}return r&&s.addEventListener("mousedown",E),{update(m){m.svg!==t&&(t=m.svg),m.enabled!==r&&(r=m.enabled,r?s.addEventListener("mousedown",E):(Ys(t),s.removeEventListener("mousedown",E))),a=m.settings,i=m.flipped}}}function Qs(s,e,t){const i=s.slice();return i[8]=e[t],i}function Zs(s){let e,t,i,r;return{c(){e=Fe("marker"),t=Fe("path"),i=Fe("marker"),r=Fe("path"),this.h()},l(a){e=Ne(a,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var n=D(e);t=Ne(n,"path",{fill:!0,d:!0}),D(t).forEach(S),n.forEach(S),i=Ne(a,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,orient:!0,fill:!0});var l=D(i);r=Ne(l,"path",{fill:!0,d:!0}),D(r).forEach(S),l.forEach(S),this.h()},h(){p(t,"fill",s[8]),p(t,"d","M 0 5 v 10 c 0 2.8 2.2 5 5 5 L 6 20 V 0 L 5 0 C 2.2 0 0 2.2 0 5 z"),p(e,"id","start-"+s[8][0]),p(e,"viewBox","0 0 5 20"),p(e,"refX","4"),p(e,"refY","10"),p(e,"markerUnits","strokeWidth"),p(e,"markerWidth","0.5"),p(e,"markerHeight","1"),p(e,"orient","auto"),p(r,"fill",s[8]),p(r,"d","M 9.5 9.5 l -8.7 -5 C 0.5 4.3 0 4.6 0 5 v 10 c 0 0.4 0.5 0.7 0.9 0.5 l 8.7 -5 C 9.9 10.3 9.9 9.7 9.5 9.5 z"),p(i,"id","end-"+s[8][0]),p(i,"viewBox","0 0 10 20"),p(i,"refX","0.2"),p(i,"refY","10"),p(i,"markerUnits","strokeWidth"),p(i,"orient","auto"),p(i,"fill","currentColor")},m(a,n){V(a,e,n),y(e,t),V(a,i,n),y(i,r)},p:Se,d(a){a&&S(e),a&&S(i)}}}function Xr(s){let e,t,i,r=s[2],a=[];for(let n=0;n<r.length;n+=1)a[n]=Zs(Qs(s,r,n));return{c(){e=Fe("svg"),t=Fe("defs");for(let n=0;n<a.length;n+=1)a[n].c();i=Fe("g"),this.h()},l(n){e=Ne(n,"svg",{xmlns:!0,style:!0,viewBox:!0,class:!0});var l=D(e);t=Ne(l,"defs",{});var o=D(t);for(let u=0;u<a.length;u+=1)a[u].l(o);o.forEach(S),i=Ne(l,"g",{}),D(i).forEach(S),l.forEach(S),this.h()},h(){p(e,"xmlns","http://www.w3.org/2000/svg"),Ve(e,"transform","rotate("+(s[1]?"180deg":"0deg")+")"),p(e,"viewBox","0 0 8 8"),p(e,"class","svelte-19gv2n4")},m(n,l){V(n,e,l),y(e,t);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(t,null);y(e,i),s[5](i)},p(n,[l]){if(l&4){r=n[2];let o;for(o=0;o<r.length;o+=1){const u=Qs(n,r,o);a[o]?a[o].p(u,l):(a[o]=Zs(u),a[o].c(),a[o].m(t,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=r.length}l&2&&Ve(e,"transform","rotate("+(n[1]?"180deg":"0deg")+")")},i:Se,o:Se,d(n){n&&S(e),dt(a,n),s[5](null)}}}function Yr(s,e,t){let{flipped:i=!1}=e,{svg:r}=e,{knightLShape:a=!1}=e,{tools:n=[]}=e,l=!1;function o(d){l&&(Kr(r),jr(r,d,a))}xt(()=>{l=!0,o(n)});const u=["green","red","blue","orange"];function c(d){$[d?"unshift":"push"](()=>{r=d,t(0,r)})}return s.$$set=d=>{"flipped"in d&&t(1,i=d.flipped),"svg"in d&&t(0,r=d.svg),"knightLShape"in d&&t(3,a=d.knightLShape),"tools"in d&&t(4,n=d.tools)},s.$$.update=()=>{s.$$.dirty&16&&o(n)},[r,i,u,a,n,c]}class Qr extends Te{constructor(e){super(),Le(this,e,Yr,Xr,Oe,{flipped:1,svg:0,knightLShape:3,tools:4})}}function Js(s,{delay:e=0,duration:t=400,easing:i=Ts,x:r=0,y:a=0,opacity:n=0}={}){const l=getComputedStyle(s),o=+l.opacity,u=l.transform==="none"?"":l.transform,c=o*(1-n),[d,f]=qs(r),[M,v]=qs(a);return{delay:e,duration:t,easing:i,css:(E,m)=>`
			transform: ${u} translate(${(1-E)*d}${f}, ${(1-E)*M}${v});
			opacity: ${o-c*m}`}}function Zt(s,{delay:e=0,duration:t=400,easing:i=Ts,axis:r="y"}={}){const a=getComputedStyle(s),n=+a.opacity,l=r==="y"?"height":"width",o=parseFloat(a[l]),u=r==="y"?["top","bottom"]:["left","right"],c=u.map(k=>`${k[0].toUpperCase()}${k.slice(1)}`),d=parseFloat(a[`padding${c[0]}`]),f=parseFloat(a[`padding${c[1]}`]),M=parseFloat(a[`margin${c[0]}`]),v=parseFloat(a[`margin${c[1]}`]),E=parseFloat(a[`border${c[0]}Width`]),m=parseFloat(a[`border${c[1]}Width`]);return{delay:e,duration:t,easing:i,css:k=>`overflow: hidden;opacity: ${Math.min(k*20,1)*n};${l}: ${k*o}px;padding-${u[0]}: ${k*d}px;padding-${u[1]}: ${k*f}px;margin-${u[0]}: ${k*M}px;margin-${u[1]}: ${k*v}px;border-${u[0]}-width: ${k*E}px;border-${u[1]}-width: ${k*m}px;`}}function Zr(s){let e,t,i,r;return{c(){e=N("button"),t=N("div"),this.h()},l(a){e=R(a,"BUTTON",{class:!0});var n=D(e);t=R(n,"DIV",{class:!0}),D(t).forEach(S),n.forEach(S),this.h()},h(){p(t,"class","piece "+s[0]+" svelte-1shuttb"),p(e,"class","svelte-1shuttb")},m(a,n){V(a,e,n),y(e,t),i||(r=se(e,"click",s[1]),i=!0)},p:Se,i:Se,o:Se,d(a){a&&S(e),i=!1,r()}}}function Jr(s,e,t){let{piece:i}=e,{isWhite:r}=e,{showModal:a}=e;const n=Rt(),l=(r?"w":"b")+i.toUpperCase(),o=()=>{n("newPromotion",i),t(2,a=!1)};return s.$$set=u=>{"piece"in u&&t(3,i=u.piece),"isWhite"in u&&t(4,r=u.isWhite),"showModal"in u&&t(2,a=u.showModal)},[l,o,a,i,r]}class xr extends Te{constructor(e){super(),Le(this,e,Jr,Zr,Oe,{piece:3,isWhite:4,showModal:2})}}function xs(s,e,t){const i=s.slice();return i[7]=e[t],i}function $s(s){let e,t,i,r,a,n,l=["q","r","b","n"],o=[];for(let c=0;c<4;c+=1)o[c]=en(xs(s,l,c));const u=c=>j(o[c],1,1,()=>{o[c]=null});return{c(){e=N("div"),t=N("div");for(let c=0;c<4;c+=1)o[c].c();this.h()},l(c){e=R(c,"DIV",{class:!0});var d=D(e);t=R(d,"DIV",{class:!0});var f=D(t);for(let M=0;M<4;M+=1)o[M].l(f);f.forEach(S),d.forEach(S),this.h()},h(){p(t,"class","modal-content svelte-17eh97x"),p(e,"class",a="modal "+s[0]+" svelte-17eh97x")},m(c,d){V(c,e,d),y(e,t);for(let f=0;f<4;f+=1)o[f]&&o[f].m(t,null);n=!0},p(c,d){if(d&6){l=["q","r","b","n"];let f;for(f=0;f<4;f+=1){const M=xs(c,l,f);o[f]?(o[f].p(M,d),H(o[f],1)):(o[f]=en(M),o[f].c(),H(o[f],1),o[f].m(t,null))}for(Be(),f=4;f<4;f+=1)u(f);Ue()}(!n||d&1&&a!==(a="modal "+c[0]+" svelte-17eh97x"))&&p(e,"class",a)},i(c){if(!n){for(let d=0;d<4;d+=1)H(o[d]);mt(()=>{n&&(r&&r.end(1),i=ri(t,Js,{x:100,duration:300}),i.start())}),n=!0}},o(c){o=o.filter(Boolean);for(let d=0;d<4;d+=1)j(o[d]);i&&i.invalidate(),r=ai(t,Js,{x:-200,duration:100}),n=!1},d(c){c&&S(e),dt(o,c),c&&r&&r.end()}}}function en(s){let e,t,i,r;function a(o){s[4](o)}function n(o){s[5](o)}let l={piece:s[7]};return s[2]!==void 0&&(l.isWhite=s[2]),s[1]!==void 0&&(l.showModal=s[1]),e=new xr({props:l}),$.push(()=>oe(e,"isWhite",a)),$.push(()=>oe(e,"showModal",n)),e.$on("newPromotion",s[6]),{c(){de(e.$$.fragment)},l(o){he(e.$$.fragment,o)},m(o,u){ge(e,o,u),r=!0},p(o,u){const c={};!t&&u&4&&(t=!0,c.isWhite=o[2],ue(()=>t=!1)),!i&&u&2&&(i=!0,c.showModal=o[1],ue(()=>i=!1)),e.$set(c)},i(o){r||(H(e.$$.fragment,o),r=!0)},o(o){j(e.$$.fragment,o),r=!1},d(o){be(e,o)}}}function $r(s){let e,t,i=s[1]&&$s(s);return{c(){i&&i.c(),e=Ae()},l(r){i&&i.l(r),e=Ae()},m(r,a){i&&i.m(r,a),V(r,e,a),t=!0},p(r,[a]){r[1]?i?(i.p(r,a),a&2&&H(i,1)):(i=$s(r),i.c(),H(i,1),i.m(e.parentNode,e)):i&&(Be(),j(i,1,1,()=>{i=null}),Ue())},i(r){t||(H(i),t=!0)},o(r){j(i),t=!1},d(r){i&&i.d(r),r&&S(e)}}}function ea(s,e,t){let i=!1,r,{className:a=""}=e;function n(c){t(1,i=!0),c?t(2,r=!0):t(2,r=!1)}function l(c){r=c,t(2,r)}function o(c){i=c,t(1,i)}function u(c){je.call(this,s,c)}return s.$$set=c=>{"className"in c&&t(0,a=c.className)},[a,i,r,n,l,o,u]}class ta extends Te{constructor(e){super(),Le(this,e,ea,$r,Oe,{className:0,openPromotionModal:3})}get openPromotionModal(){return this.$$.ctx[3]}}const sa=""+new URL("../assets/move.e4d827fe.wav",import.meta.url).href,na=""+new URL("../assets/capture.3dff493a.wav",import.meta.url).href,ia=""+new URL("../assets/castle.dcf4b2c5.wav",import.meta.url).href,ra=""+new URL("../assets/undo.b4184324.mp3",import.meta.url).href;function tn(s){let e,t,i,r;return{c(){e=N("audio"),t=N("track"),i=N("source"),this.h()},l(a){e=R(a,"AUDIO",{preload:!0});var n=D(e);t=R(n,"TRACK",{kind:!0}),i=R(n,"SOURCE",{src:!0}),n.forEach(S),this.h()},h(){p(t,"kind","captions"),$t(i.src,r=sa)||p(i,"src",r),p(e,"preload","auto")},m(a,n){V(a,e,n),y(e,t),y(e,i),s[3](e)},p:Se,d(a){a&&S(e),s[3](null)}}}function sn(s){let e,t,i,r;return{c(){e=N("audio"),t=N("track"),i=N("source"),this.h()},l(a){e=R(a,"AUDIO",{preload:!0});var n=D(e);t=R(n,"TRACK",{kind:!0}),i=R(n,"SOURCE",{src:!0}),n.forEach(S),this.h()},h(){p(t,"kind","captions"),$t(i.src,r=na)||p(i,"src",r),p(e,"preload","auto")},m(a,n){V(a,e,n),y(e,t),y(e,i),s[4](e)},p:Se,d(a){a&&S(e),s[4](null)}}}function nn(s){let e,t,i,r;return{c(){e=N("audio"),t=N("track"),i=N("source"),this.h()},l(a){e=R(a,"AUDIO",{preload:!0});var n=D(e);t=R(n,"TRACK",{kind:!0}),i=R(n,"SOURCE",{src:!0}),n.forEach(S),this.h()},h(){p(t,"kind","captions"),$t(i.src,r=ia)||p(i,"src",r),p(e,"preload","auto")},m(a,n){V(a,e,n),y(e,t),y(e,i),s[5](e)},p:Se,d(a){a&&S(e),s[5](null)}}}function rn(s){let e,t,i,r;return{c(){e=N("audio"),t=N("track"),i=N("source"),this.h()},l(a){e=R(a,"AUDIO",{preload:!0});var n=D(e);t=R(n,"TRACK",{kind:!0}),i=R(n,"SOURCE",{src:!0}),n.forEach(S),this.h()},h(){p(t,"kind","captions"),$t(i.src,r=ra)||p(i,"src",r),p(e,"preload","auto")},m(a,n){V(a,e,n),y(e,t),y(e,i),s[6](e)},p:Se,d(a){a&&S(e),s[6](null)}}}function aa(s){let e,t,i,r,a=s[0].MOVE&&tn(s),n=s[0].CAPTURE&&sn(s),l=s[0].CASTLE&&nn(s),o=s[0].UNDO&&rn(s);return{c(){a&&a.c(),e=G(),n&&n.c(),t=G(),l&&l.c(),i=G(),o&&o.c(),r=Ae()},l(u){a&&a.l(u),e=X(u),n&&n.l(u),t=X(u),l&&l.l(u),i=X(u),o&&o.l(u),r=Ae()},m(u,c){a&&a.m(u,c),V(u,e,c),n&&n.m(u,c),V(u,t,c),l&&l.m(u,c),V(u,i,c),o&&o.m(u,c),V(u,r,c)},p(u,[c]){u[0].MOVE?a?a.p(u,c):(a=tn(u),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),u[0].CAPTURE?n?n.p(u,c):(n=sn(u),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),u[0].CASTLE?l?l.p(u,c):(l=nn(u),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null),u[0].UNDO?o?o.p(u,c):(o=rn(u),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i:Se,o:Se,d(u){a&&a.d(u),u&&S(e),n&&n.d(u),u&&S(t),l&&l.d(u),u&&S(i),o&&o.d(u),u&&S(r)}}}function la(s,e,t){let{settings:i}=e;const r={MOVE:void 0,CAPTURE:void 0,CASTLE:void 0,UNDO:void 0},a=()=>{r.CASTLE&&(r.CASTLE.pause(),t(1,r.CASTLE.currentTime=0,r)),r.MOVE&&(r.MOVE.pause(),t(1,r.MOVE.currentTime=0,r)),r.CAPTURE&&(r.CAPTURE.pause(),t(1,r.CAPTURE.currentTime=0,r)),r.UNDO&&(r.UNDO.pause(),t(1,r.UNDO.currentTime=0,r))},n=f=>f===void 0||i[f];function l(f){switch(a(),f){case"MOVE":r.MOVE&&n("MOVE")&&r.MOVE.play();break;case"CAPTURE":r.CAPTURE&&n("CAPTURE")?r.CAPTURE.play():r.MOVE&&n("MOVE")&&r.MOVE.play();break;case"CASTLE":r.CASTLE&&n("CASTLE")?r.CASTLE.play():r.MOVE&&n("MOVE")&&r.MOVE.play();break;case"UNDO":r.UNDO&&n("UNDO")?(t(1,r.UNDO.volume=.3,r),r.UNDO.play()):r.MOVE&&n("MOVE")&&r.MOVE.play();break}}function o(f){$[f?"unshift":"push"](()=>{r.MOVE=f,t(1,r)})}function u(f){$[f?"unshift":"push"](()=>{r.CAPTURE=f,t(1,r)})}function c(f){$[f?"unshift":"push"](()=>{r.CASTLE=f,t(1,r)})}function d(f){$[f?"unshift":"push"](()=>{r.UNDO=f,t(1,r)})}return s.$$set=f=>{"settings"in f&&t(0,i=f.settings)},[i,r,l,o,u,c,d]}let oa=class extends Te{constructor(e){super(),Le(this,e,la,aa,Oe,{settings:0,playMoveSound:2})}get playMoveSound(){return this.$$.ctx[2]}};const an=""+new URL("../assets/standard.97995bf9.svg",import.meta.url).href,ln=""+new URL("../assets/darkBlue.02863507.svg",import.meta.url).href;function ua(s,e){let{mouseEvents:t}=e,i=e.curScale,r,a,n;function l(c){c.stopPropagation(),s.dispatchEvent(new CustomEvent("resizing",{detail:{scale:Math.round(Math.min(Math.max(0,Math.min(100,n+(c.pageX-r)/3)),Math.max(0,Math.min(100,n+(c.pageY-a)/3))))}}))}function o(c){c.stopPropagation(),s.dispatchEvent(new CustomEvent("endResizing",{detail:{scale:Math.round(Math.min(Math.max(0,Math.min(100,n+(c.pageX-r)/3)),Math.max(0,Math.min(100,n+(c.pageY-a)/3))))}})),window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",o)}function u(c){t&&(c.stopPropagation(),c.button===0&&(r=c.pageX,a=c.pageY,n=i,window.addEventListener("pointermove",l),window.addEventListener("pointerup",o)))}return s.addEventListener("pointerdown",u),{update(c){i=c.curScale,t!==c.mouseEvents&&(t=c.mouseEvents)},destroy(){s.removeEventListener("mousedown",u)}}}function fa(s){let e,t,i,r,a,n,l;return{c(){e=N("div"),t=Fe("svg"),i=Fe("path"),this.h()},l(o){e=R(o,"DIV",{style:!0,class:!0});var u=D(e);t=Ne(u,"svg",{xmlns:!0,viewBox:!0,fill:!0});var c=D(t);i=Ne(c,"path",{d:!0}),D(i).forEach(S),c.forEach(S),u.forEach(S),this.h()},h(){p(i,"d","M 5 1 Q 6 0 6 2 L 6 4 Q 6 6 4 6 L 2 6 Q 0 6 1 5 Z"),p(t,"xmlns","http://www.w3.org/2000/svg"),p(t,"viewBox","0 0 16 16"),p(t,"fill","currentColor"),Ve(e,"color",Ge.colors[s[0].state.board.boardTheme].black),p(e,"class",r=Gt(s[1]?"cursor-nwse-resize":"")+" svelte-hpgpmj")},m(o,u){V(o,e,u),y(e,t),y(t,i),n||(l=[se(e,"pointerdown",Bn(s[3])),ys(a=ua.call(null,e,{mouseEvents:s[1],curScale:s[0].state.board.scale})),se(e,"resizing",s[4]),se(e,"endResizing",s[5])],n=!0)},p(o,[u]){u&1&&Ve(e,"color",Ge.colors[o[0].state.board.boardTheme].black),u&2&&r!==(r=Gt(o[1]?"cursor-nwse-resize":"")+" svelte-hpgpmj")&&p(e,"class",r),a&&Ps(a.update)&&u&3&&a.update.call(null,{mouseEvents:o[1],curScale:o[0].state.board.scale})},i:Se,o:Se,d(o){o&&S(e),n=!1,ht(l)}}}function ca(s,e,t){const i=Rt();let{chessboard:r}=e,{mouseEvents:a=!0}=e;function n(u){je.call(this,s,u)}const l=u=>i("resizing",u.detail.scale),o=u=>i("endResizing",u.detail.scale);return s.$$set=u=>{"chessboard"in u&&t(0,r=u.chessboard),"mouseEvents"in u&&t(1,a=u.mouseEvents)},[r,a,i,n,l,o]}class da extends Te{constructor(e){super(),Le(this,e,ca,fa,Oe,{chessboard:0,mouseEvents:1})}}function on(s,e,t){const i=s.slice();return i[86]=e[t],i}function un(s,e,t){const i=s.slice();return i[89]=e[t],i}function fn(s){let e=[],t=new Map,i,r,a=s[6].state.pieces;const n=l=>l[89];for(let l=0;l<a.length;l+=1){let o=un(s,a,l),u=n(o);t.set(u,e[l]=cn(u,o))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();i=Ae()},l(l){for(let o=0;o<e.length;o+=1)e[o].l(l);i=Ae()},m(l,o){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(l,o);V(l,i,o),r=!0},p(l,o){o[0]&905292&&(a=l[6].state.pieces,Be(),e=Un(e,o,n,1,l,a,t,i.parentNode,Vn,cn,i,un),Ue())},i(l){if(!r){for(let o=0;o<a.length;o+=1)H(e[o]);r=!0}},o(l){for(let o=0;o<e.length;o+=1)j(e[o]);r=!1},d(l){for(let o=0;o<e.length;o+=1)e[o].d(l);l&&S(i)}}}function cn(s,e){let t,i,r;function a(){return e[60](e[89])}function n(){return e[61](e[89])}function l(...c){return e[62](e[89],...c)}function o(){return e[64](e[89])}function u(){return e[67](e[89])}return i=new Gn({props:{square:e[89].square,name:e[89].name,boardSize:e[6].state.board.size,mouseEvents:e[6].state.board.mouseEvents,legalState:e[6].state.legal,draggableState:e[6].state.draggable,selectableState:e[6].state.selectable,movableState:e[6].state.movable,getGridCoordsFromSquare:e[6].getGridCoordsFromSquare,flipped:e[6].flipped}}),i.$on("move",e[14]),i.$on("clicked",a),i.$on("startMoving",n),i.$on("squareover",l),i.$on("endDragging",e[63]),i.$on("select",o),i.$on("canceled",e[65]),i.$on("deselect",e[66]),i.$on("captured",u),{key:s,first:null,c(){t=Ae(),de(i.$$.fragment),this.h()},l(c){t=Ae(),he(i.$$.fragment,c),this.h()},h(){this.first=t},m(c,d){V(c,t,d),ge(i,c,d),r=!0},p(c,d){e=c;const f={};d[0]&64&&(f.square=e[89].square),d[0]&64&&(f.name=e[89].name),d[0]&64&&(f.boardSize=e[6].state.board.size),d[0]&64&&(f.mouseEvents=e[6].state.board.mouseEvents),d[0]&64&&(f.legalState=e[6].state.legal),d[0]&64&&(f.draggableState=e[6].state.draggable),d[0]&64&&(f.selectableState=e[6].state.selectable),d[0]&64&&(f.movableState=e[6].state.movable),d[0]&64&&(f.getGridCoordsFromSquare=e[6].getGridCoordsFromSquare),d[0]&64&&(f.flipped=e[6].flipped),i.$set(f)},i(c){r||(H(i.$$.fragment,c),r=!0)},o(c){j(i.$$.fragment,c),r=!1},d(c){c&&S(t),be(i,c)}}}function dn(s){let e,t;return e=new Gn({props:{isGhost:!0,boardSize:s[6].state.board.size,square:s[6].ghostPiece.square,name:s[6].ghostPiece.name,getGridCoordsFromSquare:s[6].getGridCoordsFromSquare,flipped:s[6].flipped}}),{c(){de(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,r){ge(e,i,r),t=!0},p(i,r){const a={};r[0]&64&&(a.boardSize=i[6].state.board.size),r[0]&64&&(a.square=i[6].ghostPiece.square),r[0]&64&&(a.name=i[6].ghostPiece.name),r[0]&64&&(a.getGridCoordsFromSquare=i[6].getGridCoordsFromSquare),r[0]&64&&(a.flipped=i[6].flipped),e.$set(a)},i(i){t||(H(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function hn(s){let e=[],t=new Map,i,r,a=[...s[6].state.markedSquares];const n=l=>l[86];for(let l=0;l<a.length;l+=1){let o=on(s,a,l),u=n(o);t.set(u,e[l]=gn(u,o))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();i=Ae()},l(l){for(let o=0;o<e.length;o+=1)e[o].l(l);i=Ae()},m(l,o){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(l,o);V(l,i,o),r=!0},p(l,o){o[0]&1048642&&(a=[...l[6].state.markedSquares],Be(),e=Un(e,o,n,1,l,a,t,i.parentNode,Vn,gn,i,on),Ue())},i(l){if(!r){for(let o=0;o<a.length;o+=1)H(e[o]);r=!0}},o(l){for(let o=0;o<e.length;o+=1)j(e[o]);r=!1},d(l){for(let o=0;o<e.length;o+=1)e[o].d(l);l&&S(i)}}}function gn(s,e){let t,i,r;return i=new Ur({props:{boardSize:e[6].state.board.size,theme:e[6].state.board.boardTheme,square:e[86].square,color:e[86].color,getGridCoordsFromSquare:e[6].getGridCoordsFromSquare,flipped:e[6].flipped,mouseEvents:e[6].state.board.mouseEvents,corner:e[20](e[86].square)}}),i.$on("dragenter",e[68]),{key:s,first:null,c(){t=Ae(),de(i.$$.fragment),this.h()},l(a){t=Ae(),he(i.$$.fragment,a),this.h()},h(){this.first=t},m(a,n){V(a,t,n),ge(i,a,n),r=!0},p(a,n){e=a;const l={};n[0]&64&&(l.boardSize=e[6].state.board.size),n[0]&64&&(l.theme=e[6].state.board.boardTheme),n[0]&64&&(l.square=e[86].square),n[0]&64&&(l.color=e[86].color),n[0]&64&&(l.getGridCoordsFromSquare=e[6].getGridCoordsFromSquare),n[0]&64&&(l.flipped=e[6].flipped),n[0]&64&&(l.mouseEvents=e[6].state.board.mouseEvents),n[0]&64&&(l.corner=e[20](e[86].square)),i.$set(l)},i(a){r||(H(i.$$.fragment,a),r=!0)},o(a){j(i.$$.fragment,a),r=!1},d(a){a&&S(t),be(i,a)}}}function bn(s){let e,t;return e=new ir({props:{theme:s[6].state.board.boardTheme,flipped:s[6].flipped}}),{c(){de(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,r){ge(e,i,r),t=!0},p(i,r){const a={};r[0]&64&&(a.theme=i[6].state.board.boardTheme),r[0]&64&&(a.flipped=i[6].flipped),e.$set(a)},i(i){t||(H(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function pn(s){let e,t;return e=new da({props:{chessboard:s[6],mouseEvents:s[6].state.board.mouseEvents}}),e.$on("resizing",s[69]),{c(){de(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,r){ge(e,i,r),t=!0},p(i,r){const a={};r[0]&64&&(a.chessboard=i[6]),r[0]&64&&(a.mouseEvents=i[6].state.board.mouseEvents),e.$set(a)},i(i){t||(H(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function mn(s){let e,t,i;function r(n){s[70](n)}let a={flipped:s[6].flipped,tools:s[6].state.drawTools.tools,knightLShape:s[6].state.drawTools.settings.knightLShape};return s[8]!==void 0&&(a.svg=s[8]),e=new Qr({props:a}),$.push(()=>oe(e,"svg",r)),{c(){de(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,l){ge(e,n,l),i=!0},p(n,l){const o={};l[0]&64&&(o.flipped=n[6].flipped),l[0]&64&&(o.tools=n[6].state.drawTools.tools),l[0]&64&&(o.knightLShape=n[6].state.drawTools.settings.knightLShape),!t&&l[0]&256&&(t=!0,o.svg=n[8],ue(()=>t=!1)),e.$set(o)},i(n){i||(H(e.$$.fragment,n),i=!0)},o(n){j(e.$$.fragment,n),i=!1},d(n){be(e,n)}}}function vn(s){let e,t,i={};return e=new ta({props:i}),s[71](e),e.$on("newPromotion",s[17]),{c(){de(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,a){ge(e,r,a),t=!0},p(r,a){const n={};e.$set(n)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){j(e.$$.fragment,r),t=!1},d(r){s[71](null),be(e,r)}}}function _n(s){let e,t,i={settings:s[6].state.sounds.settings};return e=new oa({props:i}),s[76](e),{c(){de(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,a){ge(e,r,a),t=!0},p(r,a){const n={};a[0]&64&&(n.settings=r[6].state.sounds.settings),e.$set(n)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){j(e.$$.fragment,r),t=!1},d(r){s[76](null),be(e,r)}}}function ha(s){let e,t,i,r,a,n,l,o,u,c,d,f,M,v,E,m,k,g=s[6].state.board.startFen&&fn(s),h=s[6].ghostPiece&&dn(s),_=s[6].highlightEnabled&&hn(s),w=s[6].state.board.notation&&s[11]&&bn(s),P=s[6].state.board.resizible&&s[11]&&pn(s),q=s[6].state.drawTools.enabled&&mn(s),z=s[6].legalEnabled&&vn(s),T=s[6].soundsEnabled&&_n(s);return{c(){e=N("div"),t=N("div"),i=N("div"),g&&g.c(),a=G(),h&&h.c(),n=G(),_&&_.c(),l=G(),w&&w.c(),o=G(),P&&P.c(),u=G(),q&&q.c(),c=G(),z&&z.c(),M=G(),T&&T.c(),v=Ae(),this.h()},l(L){e=R(L,"DIV",{class:!0});var U=D(e);t=R(U,"DIV",{class:!0,style:!0});var W=D(t);i=R(W,"DIV",{style:!0,class:!0});var fe=D(i);g&&g.l(fe),fe.forEach(S),a=X(W),h&&h.l(W),n=X(W),_&&_.l(W),l=X(W),w&&w.l(W),o=X(W),P&&P.l(W),u=X(W),q&&q.l(W),c=X(W),z&&z.l(W),W.forEach(S),U.forEach(S),M=X(L),T&&T.l(L),v=Ae(),this.h()},h(){Ve(i,"width","100%"),Ve(i,"height","100%"),p(i,"class",r=Gt(s[21](s[6].whiteToMove))+" svelte-sse5i8"),p(t,"class",d="board text-sm "+s[0]+(!s[6].legalEnabled&&s[6].selectedPiece?" pointer":"")+" svelte-sse5i8"),Ve(t,"--boardTheme","url("+(s[6].state.board.boardTheme==="standard"?an:ln)+")"),p(e,"class","boardWrapper svelte-sse5i8")},m(L,U){V(L,e,U),y(e,t),y(t,i),g&&g.m(i,null),y(t,a),h&&h.m(t,null),y(t,n),_&&_.m(t,null),y(t,l),w&&w.m(t,null),y(t,o),P&&P.m(t,null),y(t,u),q&&q.m(t,null),y(t,c),z&&z.m(t,null),s[74](t),s[75](e),V(L,M,U),T&&T.m(L,U),V(L,v,U),E=!0,m||(k=[se(t,"pointerdown",s[13]),se(t,"contextmenu",Fs(s[58])),se(t,"drag",Fs(s[59])),ys(f=Gr.call(null,t,{svg:s[8],flipped:s[6].flipped,enabled:s[6].state.drawTools.enabled&&s[6].state.board.mouseEvents,settings:s[6].state.drawTools.settings})),se(t,"drawCircle",s[72]),se(t,"drawArrow",s[73])],m=!0)},p(L,U){L[6].state.board.startFen?g?(g.p(L,U),U[0]&64&&H(g,1)):(g=fn(L),g.c(),H(g,1),g.m(i,null)):g&&(Be(),j(g,1,1,()=>{g=null}),Ue()),(!E||U[0]&64&&r!==(r=Gt(L[21](L[6].whiteToMove))+" svelte-sse5i8"))&&p(i,"class",r),L[6].ghostPiece?h?(h.p(L,U),U[0]&64&&H(h,1)):(h=dn(L),h.c(),H(h,1),h.m(t,n)):h&&(Be(),j(h,1,1,()=>{h=null}),Ue()),L[6].highlightEnabled?_?(_.p(L,U),U[0]&64&&H(_,1)):(_=hn(L),_.c(),H(_,1),_.m(t,l)):_&&(Be(),j(_,1,1,()=>{_=null}),Ue()),L[6].state.board.notation&&L[11]?w?(w.p(L,U),U[0]&2112&&H(w,1)):(w=bn(L),w.c(),H(w,1),w.m(t,o)):w&&(Be(),j(w,1,1,()=>{w=null}),Ue()),L[6].state.board.resizible&&L[11]?P?(P.p(L,U),U[0]&2112&&H(P,1)):(P=pn(L),P.c(),H(P,1),P.m(t,u)):P&&(Be(),j(P,1,1,()=>{P=null}),Ue()),L[6].state.drawTools.enabled?q?(q.p(L,U),U[0]&64&&H(q,1)):(q=mn(L),q.c(),H(q,1),q.m(t,c)):q&&(Be(),j(q,1,1,()=>{q=null}),Ue()),L[6].legalEnabled?z?(z.p(L,U),U[0]&64&&H(z,1)):(z=vn(L),z.c(),H(z,1),z.m(t,null)):z&&(Be(),j(z,1,1,()=>{z=null}),Ue()),(!E||U[0]&65&&d!==(d="board text-sm "+L[0]+(!L[6].legalEnabled&&L[6].selectedPiece?" pointer":"")+" svelte-sse5i8"))&&p(t,"class",d),(!E||U[0]&64)&&Ve(t,"--boardTheme","url("+(L[6].state.board.boardTheme==="standard"?an:ln)+")"),f&&Ps(f.update)&&U[0]&320&&f.update.call(null,{svg:L[8],flipped:L[6].flipped,enabled:L[6].state.drawTools.enabled&&L[6].state.board.mouseEvents,settings:L[6].state.drawTools.settings}),L[6].soundsEnabled?T?(T.p(L,U),U[0]&64&&H(T,1)):(T=_n(L),T.c(),H(T,1),T.m(v.parentNode,v)):T&&(Be(),j(T,1,1,()=>{T=null}),Ue())},i(L){E||(H(g),H(h),H(_),H(w),H(P),H(q),H(z),H(T),E=!0)},o(L){j(g),j(h),j(_),j(w),j(P),j(q),j(z),j(T),E=!1},d(L){L&&S(e),g&&g.d(),h&&h.d(),_&&_.d(),w&&w.d(),P&&P.d(),q&&q.d(),z&&z.d(),s[74](null),s[75](null),L&&S(M),T&&T.d(L),L&&S(v),m=!1,ht(k)}}}function ga(s,e,t){let i,{config:r}=e,{className:a=""}=e;const n=new Qi(r),l=Rt();let o,u,c,d,f,M="",v=!1,E=!1;const m=b=>{n.clearAllSquares(b),b===K.LEGAL&&n.clearAllSquares(K.LEGALHOVER),b===K.PREMOVE&&n.clearAllSquares(K.PREMOVEHOVER),t(6,n)},k=(b,I)=>{g(Vt(I))&&(n.highlightSquare(b,I),t(6,n))},g=b=>n.highlightEnabled&&(b===void 0||n.highlightSettings[typeof b=="string"?b:Vt(b)]),h=b=>{if(!n.selectableEnabled&&n.draggableEnabled&&Pe(b),!n.selectableEnabled)return;_(!0);const I=n.getPieceFromSquare(b);I!==void 0&&(t(6,n.selectedPiece=I,n),Pe())},_=(b=!0)=>{m(K.SELECT),m(K.LEGAL),m(K.PREMOVE),t(6,n.selectedPiece=void 0,n),b&&(m(K.NEXTMOVE),t(6,n.currentPreMove="",n))},w=b=>{m(K.CHECK),b&&n.legalEnabled&&k(b,K.CHECK),t(6,n)},P=()=>{m(K.CHECK)},q=b=>{n.flipBoard(b),t(6,n)},z=(b,I)=>{b.forEach(J=>n.highlightSquare(J,I)),t(6,n)},T=(b,I=!0,J=K.MOVE)=>{b.length<4||!g(Vt(J))||(I&&m(J),z([b.substring(0,2),b.substring(2,4)],J))},L=(b,I,J=K.MOVE)=>{const re=[];I&&m(J),b.forEach(we=>{we.length<4||(re.push(we.substring(0,2)),re.push(we.substring(2,4)))}),z(re,J)},U=b=>{k(b.substring(2,4),K.LEGAL)},W=(b,I,J=K.LEGAL)=>{m(J),g(Vt(J))&&(b.forEach(re=>{re.length<4||(I===void 0||re.substring(0,2)===I)&&n.highlightSquare(re.substring(2,4),J)}),t(6,n))},fe=(b,I=!0)=>{n.makeMove(b),I&&T(b),t(6,n)},ce=b=>{var I;b&&(n.removePiece(b),n.ghostPieceEnabled&&((I=n.ghostPiece)==null?void 0:I.square)===b&&(n.removeGhostPiece(),t(6,n)),t(6,n))},ye=b=>n.whiteToMove&&b[0]==="w"||!n.whiteToMove&&b[0]==="b",pe=(b=!1)=>{n.legalEnabled&&(n.state.callbacks.getWhiteToMove&&t(6,n.whiteToMove=n.state.callbacks.getWhiteToMove(),n),n.state.callbacks.getPreMoves&&n.preMovesEnabled?t(6,n.preMoves=n.state.callbacks.getPreMoves(),n):t(6,n.preMoves=[],n),n.state.callbacks.getLegalMoves&&n.state.legal.enabled?t(6,n.legalMoves=n.state.callbacks.getLegalMoves(),n):t(6,n.legalMoves=[],n),b&&Pe(),n.state.callbacks.getInCheck&&n.state.callbacks.getInCheck()?n.whiteToMove?w(n.getWhiteKingSquare()):w(n.getBlackKingSquare()):P(),n.state.callbacks.getLastMove?(t(6,n.lastMove=n.state.callbacks.getLastMove(),n),T(n.lastMove)):m(K.MOVE))},x=b=>{var I;n.soundsEnabled&&d&&((I=d.playMoveSound)==null||I.call(d,b))},B=b=>{n.setGhostPiece(b),t(6,n)},Y=()=>{n.removeGhostPiece(),t(6,n)},Z=b=>{if(b.substring(0,2)===b.substring(2,4))return;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(b);const I=n.selectedPiece?{...n.selectedPiece}:void 0;_(!1);const J=n.getRookMoveIfIsCastling(b),re=n.getCapturedPawnSquareIfIsEnPassant(b);J&&n.legalEnabled&&n.state.legal.settings.allowCastling?(fe(J,!1),x("CASTLE")):re&&n.legalEnabled&&n.state.legal.settings.allowEnPassant?(ce(re),x("CAPTURE")):n.isCapture(b)?x("CAPTURE"):x("MOVE"),Y(),fe(b),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(b),pe(!1);const we=n.getPieceFromSquare(I==null?void 0:I.square);if(we&&I&&we.square===I.square&&we.name===(I==null?void 0:I.name)?t(6,n.selectedPiece=we,n):t(6,n.selectedPiece=void 0,n),n.selectedPiece!==void 0&&Pe(),n.legalEnabled&&n.preMovesEnabled&&n.currentPreMove!==""){if(n.legalMoves.includes(n.currentPreMove)){const We=n.currentPreMove;oi().then(()=>{Z(We)})}t(6,n.currentPreMove="",n),m(K.NEXTMOVE)}},A=b=>{!n.legalEnabled||!n.preMovesEnabled||!n.movableEnabled||(_(!1),T(b,!0,K.NEXTMOVE),t(6,n.currentPreMove=b,n),l("nextMove",{move:b}))},ee=b=>{var re;const I=n.getPieceFromSquare(b.substring(0,2));if(!I)return;const J=I.name[0]==="w"?ie.WHITE:ie.BLACK;(re=f.openPromotionModal)==null||re.call(f,J===ie.WHITE),M=b,v=n.isCapture(b),n.makeMove(b),m(K.LEGAL),m(K.SELECT),T(b)},C=(b,I)=>{n.clearSquare(b,I),t(6,n)},Q=()=>{n.clearAllPieces(),t(6,n)},ne=(b,I)=>{n.setPiece(b,I),t(6,n)},ve=(b,I)=>{var re;const J=(re=n.getPieceFromSquare(b))==null?void 0:re.name;J&&(I!==void 0?n.setPiece(b,`${I===ie.WHITE?"w":"b"}${J[1]}`):n.setPiece(b,`${J[0]==="w"?"b":"w"}${J[1]}`),t(6,n))},me=(b,I)=>{const J=Math.floor(b/n.state.board.size*8),re=Math.floor(I/n.state.board.size*8),we=n.flipped?7-J:J,We=n.flipped?re:7-re;if(we<0||we>7||We<0||We>7)return;const ze=Object.keys(n.letters)[we],Ot=(We+1).toString();return`${ze}${Ot}`},Me=b=>{if(!n.state.board.mouseEvents)return;if(b.button===2){_();return}if(!n.movableEnabled)return;const I=o.getBoundingClientRect(),J=b.clientX-I.left,re=b.clientY-I.top,we=me(J,re);if(!we)return;const We=n.getPieceFromSquare(we);if(l("squareClick",{square:we,piece:We?We.name:void 0}),!n.selectableEnabled&&!n.draggableEnabled){_();return}if(!n.selectedPiece||n.selectedPiece.square===we)return;const ze=n.selectedPiece.square+we;if(!n.legalEnabled){Z(ze),_();return}if(!ye(n.selectedPiece.name)){n.preMovesEnabled&&n.preMoves.includes(ze)&&(n.isPromotion(ze)?A(`${ze}q`):A(ze)),_(!1);return}(We===void 0||We.name[0]!==n.selectedPiece.name[0])&&ye(n.selectedPiece.name)&&(n.isPromotion(ze)&&n.legalMoves.includes(ze)?ee(ze):n.legalMoves.includes(ze)&&Z(ze),_())},_e=b=>{const I=b.detail;n.legalEnabled?n.isPromotion(I)&&n.legalMoves.includes(`${I}q`)?ee(I):n.legalMoves.includes(I)?Z(I):n.preMovesEnabled&&n.preMoves.includes(I)?n.isPromotion(I)?A(`${I}q`):A(I):_():Z(I),m(K.LEGAL),m(K.PREMOVE),t(6,n)},Pe=b=>{var I;if(n.selectableEnabled||n.draggableEnabled){const J=n.getPieceFromSquare(b??((I=n.selectedPiece)==null?void 0:I.square));if(!J||(n.selectableEnabled&&k(J.square,K.SELECT),!n.legalEnabled))return;m(K.LEGAL),m(K.PREMOVE),ye(J.name)&&W(n.legalMoves,J.square),ye(J.name)||W(n.preMoves,J.square,K.PREMOVE)}},Ie=(b,I=!0,J="MOVE")=>{if(n.updatePiecesWithFen(b),I&&_(),m(),Y(),pe(!1),t(6,n.currentPreMove="",n),n.state.callbacks.getLastMove){const re=n.state.callbacks.getLastMove();t(6,n.lastMove=re,n),J!==!1&&(J!=="MOVE"?x(J):n.isCastling(re)?x("CASTLE"):x(J)),T(re)}else J!==!1&&x(J);Pe(),t(6,n)},Ke=()=>n.getShortFEN(),Re=b=>{!b||n.state.board.size===b||(t(6,n.state.board.size=b,n),E&&n.state.board.resizible&&document.body.style.setProperty("--boardSize",`${n.state.board.size}px`))},De=b=>{!b||n.state.board.scale===b||(t(6,n.state.board.scale=b,n),E&&n.state.board.resizible&&document.body.style.setProperty("--boardScale",`${n.state.board.scale}`))},Je=b=>{var I;return(I=n.getPieceFromSquare(b))==null?void 0:I.name},Ct=b=>{t(6,n.state.drawTools.tools=b,n)},vt=b=>{t(6,n.state.drawTools.tools=n.state.drawTools.tools.filter(I=>b?(!b.type||I.type!==b.type)&&(!b.from||I.type==="arrow"&&I.from!==b.from||I.type==="circle"&&I.square!==b.from)&&(!b.to||I.type==="arrow"&&I.to!==b.to)&&(b.fixed===void 0||I.fixed!==b.fixed):!1),n)},yt=b=>{b===!1?t(6,n.state.movable.enabled=!1,n):(t(6,n.state.movable.enabled=!0,n),t(6,n.state.movable.color=b===!0?ie.BOTH:b,n))},it=b=>{b.length<4||(t(6,n.lastMove=b,n),T(b))},Pt=b=>{t(6,n.legalMoves=b,n)},At=b=>{t(6,n.preMoves=b,n)},xe=()=>n.state,_t=b=>{t(6,n.state=b,n),m(),pe(!1),T(n.lastMove),T(n.currentPreMove,!0,K.NEXTMOVE),Pe()},Et=b=>{b!==void 0&&(n.setConfigSettings(b),t(6,n),_t(n.state))},Tt=b=>b.getConfig(),Xe=(b,I)=>{n.legalEnabled&&(ye(I.name)&&n.legalHover(b.detail.square),!ye(I.name)&&n.preMovesEnabled&&n.legalHover(b.detail.square,K.PREMOVE)),t(6,n)},kt=b=>{n.ghostPieceEnabled&&B(b),m(K.SELECT)},Qe=b=>{const I=n.getPieceFromSquare(M.substring(2,4));if(!I)return;const J=I.name[0]+b.detail.toUpperCase(),re=M+b.detail;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(re),n.setPiece(I.square,J),t(6,n),x(v?"CAPTURE":"MOVE"),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(re),pe()},$e=b=>{if(!n.selectedPiece)return;const I=n.selectedPiece.square+b;n.legalEnabled?n.isPromotion(I)&&n.legalMoves.includes(`${I}q`)?ee(I):n.legalMoves.includes(I)?Z(I):n.preMovesEnabled&&n.preMoves.includes(I)?n.isPromotion(I)?A(`${I}q`):A(I):_():Z(I),_(!1)},Mt=b=>{const I=n.getPieceFromSquare(b.square);I&&I.square===b.square&&I.name===b.name&&k(b.square,K.SELECT)};function Dt(b){if(!o||!b)return;if(i==null||i(),typeof window.ResizeObserver>"u")throw new Error("window.ResizeObserver is missing.");const I=new ResizeObserver(J=>{const re=b.getBoundingClientRect();J.forEach(()=>{t(6,n.state.board.size=Math.floor(re.width*window.devicePixelRatio/8)*8/window.devicePixelRatio,n),o.style.setProperty("width",`${Math.floor(re.width*window.devicePixelRatio/8)*8/window.devicePixelRatio}px`),o.style.setProperty("height",`${Math.floor(re.width*window.devicePixelRatio/8)*8/window.devicePixelRatio}px`)})});return I.observe(b),()=>{I.unobserve(b),I.disconnect()}}const es=b=>b==="a1"?n.flipped?"top-right":"bottom-left":b==="a8"?n.flipped?"bottom-right":"top-left":b==="h1"?n.flipped?"top-left":"bottom-right":b==="h8"?n.flipped?"bottom-left":"top-right":"",ts=b=>!n.movableEnabled||!n.state.board.mouseEvents||!n.draggableEnabled&&!n.selectableEnabled?"":n.legalEnabled?n.state.movable.color===ie.BOTH?b?"w":"b":n.state.movable.color===ie.WHITE&&(b||!b&&n.preMovesEnabled)?"w":n.state.movable.color===ie.BLACK&&(!b||b&&n.preMovesEnabled)?"b":"":"wb";xt(()=>{t(11,E=!0),pe(!0),n.state.callbacks.getLastMove&&T(n.state.callbacks.getLastMove()),n.state.board.resizible&&document.body.style.setProperty("--boardScale",`${n.state.board.scale}`)}),li(()=>{i==null||i(),E&&n.state.board.resizible&&document.body.style.removeProperty("--boardScale")});function ss(b){je.call(this,s,b)}function ns(b){je.call(this,s,b)}const is=b=>{l("piececlick",{piece:b}),h(b.square)},rt=b=>{l("startDragging",{piece:b}),kt(b)},rs=(b,I)=>Xe(I,b);function as(b){je.call(this,s,b)}const Lt=b=>Mt(b),ls=()=>_(),os=()=>_(),us=b=>$e(b.square),fs=b=>{k(b.detail.square,K.LEGALHOVER)},cs=b=>{De(b.detail)};function at(b){c=b,t(8,c)}function ds(b){$[b?"unshift":"push"](()=>{f=b,t(10,f)})}const zt=b=>l("drawCircle",{square:b.detail.square,color:b.detail.color}),hs=b=>l("drawArrow",{move:b.detail.move,color:b.detail.color});function Bt(b){$[b?"unshift":"push"](()=>{o=b,t(7,o)})}function gs(b){$[b?"unshift":"push"](()=>{u=b,t(5,u)})}function bs(b){$[b?"unshift":"push"](()=>{d=b,t(9,d)})}return s.$$set=b=>{"config"in b&&t(22,r=b.config),"className"in b&&t(0,a=b.className)},s.$$.update=()=>{s.$$.dirty[0]&32&&(i=Dt(u))},[a,k,h,_,De,u,n,o,c,d,f,E,l,Me,_e,Xe,kt,Qe,$e,Mt,es,ts,r,m,w,P,q,z,T,L,U,W,fe,ce,pe,x,Z,A,ee,C,Q,ne,ve,me,Ie,Ke,Re,Je,Ct,vt,yt,it,Pt,At,xe,_t,Et,Tt,ss,ns,is,rt,rs,as,Lt,ls,os,us,fs,cs,at,ds,zt,hs,Bt,gs,bs]}class ba extends Te{constructor(e){super(),Le(this,e,ga,ha,Oe,{config:22,className:0,clearAllSquares:23,highlightSquare:1,selectPiece:2,deselect:3,setCheckSquare:24,removeCheckSquare:25,flipBoard:26,highlightManySquares:27,highlightMove:28,highlightMoves:29,highlightLegalMove:30,highlightLegalMoves:31,movePiece:32,removePiece:33,updateLegalState:34,playMoveSound:35,makeMove:36,makeNextMove:37,makeMovePromotion:38,removeSquareHighlight:39,removeAllPiece:40,createPiece:41,changeColorOfPiece:42,getSquareFromCoords:43,setFEN:44,getShortFEN:45,setSize:46,setScale:4,getPieceNameFromSquare:47,setTools:48,removeTools:49,setMovableColor:50,setLastMove:51,setLegalMoves:52,setPreMoves:53,getState:54,setState:55,setConfigSettings:56,getConfigFromState:57},null,[-1,-1,-1])}get clearAllSquares(){return this.$$.ctx[23]}get highlightSquare(){return this.$$.ctx[1]}get selectPiece(){return this.$$.ctx[2]}get deselect(){return this.$$.ctx[3]}get setCheckSquare(){return this.$$.ctx[24]}get removeCheckSquare(){return this.$$.ctx[25]}get flipBoard(){return this.$$.ctx[26]}get highlightManySquares(){return this.$$.ctx[27]}get highlightMove(){return this.$$.ctx[28]}get highlightMoves(){return this.$$.ctx[29]}get highlightLegalMove(){return this.$$.ctx[30]}get highlightLegalMoves(){return this.$$.ctx[31]}get movePiece(){return this.$$.ctx[32]}get removePiece(){return this.$$.ctx[33]}get updateLegalState(){return this.$$.ctx[34]}get playMoveSound(){return this.$$.ctx[35]}get makeMove(){return this.$$.ctx[36]}get makeNextMove(){return this.$$.ctx[37]}get makeMovePromotion(){return this.$$.ctx[38]}get removeSquareHighlight(){return this.$$.ctx[39]}get removeAllPiece(){return this.$$.ctx[40]}get createPiece(){return this.$$.ctx[41]}get changeColorOfPiece(){return this.$$.ctx[42]}get getSquareFromCoords(){return this.$$.ctx[43]}get setFEN(){return this.$$.ctx[44]}get getShortFEN(){return this.$$.ctx[45]}get setSize(){return this.$$.ctx[46]}get setScale(){return this.$$.ctx[4]}get getPieceNameFromSquare(){return this.$$.ctx[47]}get setTools(){return this.$$.ctx[48]}get removeTools(){return this.$$.ctx[49]}get setMovableColor(){return this.$$.ctx[50]}get setLastMove(){return this.$$.ctx[51]}get setLegalMoves(){return this.$$.ctx[52]}get setPreMoves(){return this.$$.ctx[53]}get getState(){return this.$$.ctx[54]}get setState(){return this.$$.ctx[55]}get setConfigSettings(){return this.$$.ctx[56]}get getConfigFromState(){return this.$$.ctx[57]}}const En=["standard","darkBlue"],kn=["backIn","backInOut","backOut","bounceIn","bounceInOut","bounceOut","circIn","circInOut","circOut","cubicIn","cubicInOut","cubicOut","elasticIn","elasticInOut","elasticOut","expoIn","expoInOut","expoOut","linear","quadIn","quadInOut","quadOut","quartIn","quartInOut","quartOut","quintIn","quintInOut","quintOut","sineIn","sineInOut","sineOut"];function Mn(s){let e,t,i;return{c(){e=N("input"),this.h()},l(r){e=R(r,"INPUT",{type:!0,class:!0}),this.h()},h(){p(e,"type","checkbox"),p(e,"class","mr-1")},m(r,a){V(r,e,a),e.checked=s[0],t||(i=[se(e,"change",s[8]),se(e,"click",Bn(s[7])),se(e,"change",s[9])],t=!0)},p(r,a){a&1&&(e.checked=r[0])},d(r){r&&S(e),t=!1,ht(i)}}}function Sn(s){let e,t,i;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(r){e=Ne(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var a=D(e);t=Ne(a,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),D(t).forEach(S),a.forEach(S),this.h()},h(){p(t,"fill-rule","evenodd"),p(t,"d","M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"),p(t,"clip-rule","evenodd"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"viewBox","0 0 20 20"),p(e,"fill","currentColor"),p(e,"class",i="w-5 h-5 transition "+(s[1]?"rotate-180":"rotate-0"))},m(r,a){V(r,e,a),y(e,t)},p(r,a){a&2&&i!==(i="w-5 h-5 transition "+(r[1]?"rotate-180":"rotate-0"))&&p(e,"class",i)},d(r){r&&S(e)}}}function wn(s){let e,t,i;const r=s[6].default,a=Fn(r,s,s[5],null);return{c(){e=N("div"),a&&a.c(),this.h()},l(n){e=R(n,"DIV",{class:!0});var l=D(e);a&&a.l(l),l.forEach(S),this.h()},h(){p(e,"class","py-2 px-4")},m(n,l){V(n,e,l),a&&a.m(e,null),i=!0},p(n,l){a&&a.p&&(!i||l&32)&&Nn(a,r,n,n[5],i?Dn(r,n[5],l,null):Rn(n[5]),null)},i(n){i||(H(a,n),n&&mt(()=>{i&&(t||(t=Xt(e,Zt,{},!0)),t.run(1))}),i=!0)},o(n){j(a,n),n&&(t||(t=Xt(e,Zt,{},!1)),t.run(0)),i=!1},d(n){n&&S(e),a&&a.d(n),n&&t&&t.end()}}}function pa(s){let e,t,i,r,a,n,l,o,u,c,d,f,M,v,E=s[0]!==void 0&&Mn(s),m=s[3]&&Sn(s),k=s[1]&&wn(s);return{c(){e=N("div"),t=N("button"),i=N("div"),E&&E.c(),r=G(),a=N("span"),n=Ee(s[2]),o=G(),m&&m.c(),d=G(),k&&k.c(),this.h()},l(g){e=R(g,"DIV",{class:!0});var h=D(e);t=R(h,"BUTTON",{class:!0});var _=D(t);i=R(_,"DIV",{class:!0});var w=D(i);E&&E.l(w),r=X(w),a=R(w,"SPAN",{class:!0});var P=D(a);n=ke(P,s[2]),P.forEach(S),w.forEach(S),o=X(_),m&&m.l(_),_.forEach(S),d=X(h),k&&k.l(h),h.forEach(S),this.h()},h(){p(a,"class",l=s[0]===void 0?"ml-[21px]":""),p(i,"class","flex gap-1"),p(t,"class",u="flex justify-between px-4 py-2 "+(s[3]?"transition hover:bg-slate-800/40":"")+" rounded"),t.disabled=c=!s[3],p(e,"class","bg-slate-900/20 rounded shadow-lg flex flex-col")},m(g,h){V(g,e,h),y(e,t),y(t,i),E&&E.m(i,null),y(i,r),y(i,a),y(a,n),y(t,o),m&&m.m(t,null),y(e,d),k&&k.m(e,null),f=!0,M||(v=se(t,"click",s[10]),M=!0)},p(g,[h]){g[0]!==void 0?E?E.p(g,h):(E=Mn(g),E.c(),E.m(i,r)):E&&(E.d(1),E=null),(!f||h&4)&&Jt(n,g[2]),(!f||h&1&&l!==(l=g[0]===void 0?"ml-[21px]":""))&&p(a,"class",l),g[3]?m?m.p(g,h):(m=Sn(g),m.c(),m.m(t,null)):m&&(m.d(1),m=null),(!f||h&8&&u!==(u="flex justify-between px-4 py-2 "+(g[3]?"transition hover:bg-slate-800/40":"")+" rounded"))&&p(t,"class",u),(!f||h&8&&c!==(c=!g[3]))&&(t.disabled=c),g[1]?k?(k.p(g,h),h&2&&H(k,1)):(k=wn(g),k.c(),H(k,1),k.m(e,null)):k&&(Be(),j(k,1,1,()=>{k=null}),Ue())},i(g){f||(H(k),f=!0)},o(g){j(k),f=!1},d(g){g&&S(e),E&&E.d(),m&&m.d(),k&&k.d(),M=!1,v()}}}function ma(s,e,t){let{$$slots:i={},$$scope:r}=e;const a=Rt();let{name:n="board"}=e,{enabled:l=void 0}=e,{showExpand:o=!0}=e,{expanded:u=!1}=e;function c(v){je.call(this,s,v)}const d=()=>a("changed",l);function f(){l=this.checked,t(0,l)}const M=()=>{t(1,u=!u)};return s.$$set=v=>{"name"in v&&t(2,n=v.name),"enabled"in v&&t(0,l=v.enabled),"showExpand"in v&&t(3,o=v.showExpand),"expanded"in v&&t(1,u=v.expanded),"$$scope"in v&&t(5,r=v.$$scope)},[l,u,n,o,a,r,i,c,d,f,M]}class gt extends Te{constructor(e){super(),Le(this,e,ma,pa,Oe,{name:2,enabled:0,showExpand:3,expanded:1})}}function Cn(s,e,t){const i=s.slice();return i[12]=e[t],i}function yn(s){let e,t=s[12]+"",i;return{c(){e=N("option"),i=Ee(t),this.h()},l(r){e=R(r,"OPTION",{});var a=D(e);i=ke(a,t),a.forEach(S),this.h()},h(){e.__value=s[12],e.value=e.__value},m(r,a){V(r,e,a),y(e,i)},p:Se,d(r){r&&S(e)}}}function va(s){let e,t,i,r,a,n,l,o,u,c,d,f,M,v,E,m,k,g,h,_,w,P,q,z,T,L,U,W,fe,ce,ye,pe=En,x=[];for(let B=0;B<pe.length;B+=1)x[B]=yn(Cn(s,pe,B));return{c(){e=N("div"),t=N("select");for(let B=0;B<x.length;B+=1)x[B].c();i=G(),r=N("label"),a=Ee("board theme"),n=G(),l=N("div"),o=N("input"),u=G(),c=N("label"),d=Ee("mouseEvents"),f=G(),M=N("div"),v=N("input"),E=G(),m=N("label"),k=Ee("notation"),g=G(),h=N("div"),_=N("input"),w=G(),P=N("label"),q=Ee("flipped"),z=G(),T=N("div"),L=N("input"),U=G(),W=N("label"),fe=Ee("resizible"),this.h()},l(B){e=R(B,"DIV",{class:!0});var Y=D(e);t=R(Y,"SELECT",{class:!0});var Z=D(t);for(let Pe=0;Pe<x.length;Pe+=1)x[Pe].l(Z);Z.forEach(S),i=X(Y),r=R(Y,"LABEL",{for:!0,class:!0});var A=D(r);a=ke(A,"board theme"),A.forEach(S),Y.forEach(S),n=X(B),l=R(B,"DIV",{class:!0});var ee=D(l);o=R(ee,"INPUT",{id:!0,type:!0,class:!0}),u=X(ee),c=R(ee,"LABEL",{for:!0,class:!0});var C=D(c);d=ke(C,"mouseEvents"),C.forEach(S),ee.forEach(S),f=X(B),M=R(B,"DIV",{class:!0});var Q=D(M);v=R(Q,"INPUT",{id:!0,type:!0,class:!0}),E=X(Q),m=R(Q,"LABEL",{for:!0,class:!0});var ne=D(m);k=ke(ne,"notation"),ne.forEach(S),Q.forEach(S),g=X(B),h=R(B,"DIV",{class:!0});var ve=D(h);_=R(ve,"INPUT",{id:!0,type:!0,class:!0}),w=X(ve),P=R(ve,"LABEL",{for:!0,class:!0});var me=D(P);q=ke(me,"flipped"),me.forEach(S),ve.forEach(S),z=X(B),T=R(B,"DIV",{class:!0});var Me=D(T);L=R(Me,"INPUT",{id:!0,type:!0,class:!0}),U=X(Me),W=R(Me,"LABEL",{for:!0,class:!0});var _e=D(W);fe=ke(_e,"resizible"),_e.forEach(S),Me.forEach(S),this.h()},h(){p(t,"class","svelte-lnr7xr"),s[0]===void 0&&mt(()=>s[7].call(t)),p(r,"for","boardTheme"),p(r,"class","select-none"),p(e,"class","mb-2"),p(o,"id","mouseEvents"),p(o,"type","checkbox"),p(o,"class","svelte-lnr7xr"),p(c,"for","mouseEvents"),p(c,"class","select-none"),p(l,"class","mb-2"),p(v,"id","notation"),p(v,"type","checkbox"),p(v,"class","svelte-lnr7xr"),p(m,"for","notation"),p(m,"class","select-none"),p(M,"class","mb-2"),p(_,"id","flipped"),p(_,"type","checkbox"),p(_,"class","svelte-lnr7xr"),p(P,"for","flipped"),p(P,"class","select-none"),p(h,"class","mb-2"),p(L,"id","resizibleEnabled"),p(L,"type","checkbox"),p(L,"class","svelte-lnr7xr"),p(W,"for","resizibleEnabled"),p(W,"class","select-none"),p(T,"class","mt-2 mb-1")},m(B,Y){V(B,e,Y),y(e,t);for(let Z=0;Z<x.length;Z+=1)x[Z]&&x[Z].m(t,null);wt(t,s[0],!0),y(e,i),y(e,r),y(r,a),V(B,n,Y),V(B,l,Y),y(l,o),o.checked=s[1],y(l,u),y(l,c),y(c,d),V(B,f,Y),V(B,M,Y),y(M,v),v.checked=s[2],y(M,E),y(M,m),y(m,k),V(B,g,Y),V(B,h,Y),y(h,_),_.checked=s[3],y(h,w),y(h,P),y(P,q),V(B,z,Y),V(B,T,Y),y(T,L),L.checked=s[4],y(T,U),y(T,W),y(W,fe),ce||(ye=[se(t,"change",s[7]),se(o,"change",s[8]),se(v,"change",s[9]),se(_,"change",s[10]),se(L,"change",s[11])],ce=!0)},p(B,Y){if(Y&0){pe=En;let Z;for(Z=0;Z<pe.length;Z+=1){const A=Cn(B,pe,Z);x[Z]?x[Z].p(A,Y):(x[Z]=yn(A),x[Z].c(),x[Z].m(t,null))}for(;Z<x.length;Z+=1)x[Z].d(1);x.length=pe.length}Y&1&&wt(t,B[0]),Y&2&&(o.checked=B[1]),Y&4&&(v.checked=B[2]),Y&8&&(_.checked=B[3]),Y&16&&(L.checked=B[4])},d(B){B&&S(e),dt(x,B),B&&S(n),B&&S(l),B&&S(f),B&&S(M),B&&S(g),B&&S(h),B&&S(z),B&&S(T),ce=!1,ht(ye)}}}function _a(s){let e,t;return e=new gt({props:{name:s[5],expanded:s[6],$$slots:{default:[va]},$$scope:{ctx:s}}}),{c(){de(e.$$.fragment)},l(i){he(e.$$.fragment,i)},m(i,r){ge(e,i,r),t=!0},p(i,[r]){const a={};r&32&&(a.name=i[5]),r&64&&(a.expanded=i[6]),r&32799&&(a.$$scope={dirty:r,ctx:i}),e.$set(a)},i(i){t||(H(e.$$.fragment,i),t=!0)},o(i){j(e.$$.fragment,i),t=!1},d(i){be(e,i)}}}function Ea(s,e,t){let{name:i="Board"}=e,{boardTheme:r}=e,{mouseEvents:a}=e,{notation:n}=e,{flipped:l}=e,{resizible:o=!1}=e,{expanded:u=!1}=e;function c(){r=As(this),t(0,r)}function d(){a=this.checked,t(1,a)}function f(){n=this.checked,t(2,n)}function M(){l=this.checked,t(3,l)}function v(){o=this.checked,t(4,o)}return s.$$set=E=>{"name"in E&&t(5,i=E.name),"boardTheme"in E&&t(0,r=E.boardTheme),"mouseEvents"in E&&t(1,a=E.mouseEvents),"notation"in E&&t(2,n=E.notation),"flipped"in E&&t(3,l=E.flipped),"resizible"in E&&t(4,o=E.resizible),"expanded"in E&&t(6,u=E.expanded)},[r,a,n,l,o,i,u,c,d,f,M,v]}class ka extends Te{constructor(e){super(),Le(this,e,Ea,_a,Oe,{name:5,boardTheme:0,mouseEvents:1,notation:2,flipped:3,resizible:4,expanded:6})}}function Ma(s){let e,t,i,r,a,n,l,o,u,c;return{c(){e=N("div"),t=N("select"),i=N("option"),r=Ee("Both"),a=N("option"),n=Ee("White"),l=N("option"),o=Ee("Black"),this.h()},l(d){e=R(d,"DIV",{});var f=D(e);t=R(f,"SELECT",{class:!0});var M=D(t);i=R(M,"OPTION",{});var v=D(i);r=ke(v,"Both"),v.forEach(S),a=R(M,"OPTION",{});var E=D(a);n=ke(E,"White"),E.forEach(S),l=R(M,"OPTION",{});var m=D(l);o=ke(m,"Black"),m.forEach(S),M.forEach(S),f.forEach(S),this.h()},h(){i.__value=ie.BOTH,i.value=i.__value,a.__value=ie.WHITE,a.value=a.__value,l.__value=ie.BLACK,l.value=l.__value,p(t,"class","svelte-xrxnwg"),s[1]===void 0&&mt(()=>s[4].call(t))},m(d,f){V(d,e,f),y(e,t),y(t,i),y(i,r),y(t,a),y(a,n),y(t,l),y(l,o),wt(t,s[1],!0),u||(c=se(t,"change",s[4]),u=!0)},p(d,f){f&2&&wt(t,d[1])},d(d){d&&S(e),u=!1,c()}}}function Sa(s){let e,t,i;function r(n){s[5](n)}let a={name:s[2],expanded:s[3],$$slots:{default:[Ma]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.enabled=s[0]),e=new gt({props:a}),$.push(()=>oe(e,"enabled",r)),{c(){de(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,l){ge(e,n,l),i=!0},p(n,[l]){const o={};l&4&&(o.name=n[2]),l&8&&(o.expanded=n[3]),l&66&&(o.$$scope={dirty:l,ctx:n}),!t&&l&1&&(t=!0,o.enabled=n[0],ue(()=>t=!1)),e.$set(o)},i(n){i||(H(e.$$.fragment,n),i=!0)},o(n){j(e.$$.fragment,n),i=!1},d(n){be(e,n)}}}function wa(s,e,t){let{name:i="Movable"}=e,{enabled:r=!1}=e,{color:a}=e,{expanded:n=!1}=e;function l(){a=As(this),t(1,a)}function o(u){r=u,t(0,r)}return s.$$set=u=>{"name"in u&&t(2,i=u.name),"enabled"in u&&t(0,r=u.enabled),"color"in u&&t(1,a=u.color),"expanded"in u&&t(3,n=u.expanded)},[r,a,i,n,l,o]}class Ca extends Te{constructor(e){super(),Le(this,e,wa,Sa,Oe,{name:2,enabled:0,color:1,expanded:3})}}function Pn(s,e,t){const i=s.slice();return i[12]=e[t],i}function An(s){let e,t,i,r,a,n,l,o,u,c,d,f,M,v,E,m,k=kn,g=[];for(let h=0;h<k.length;h+=1)g[h]=Tn(Pn(s,k,h));return{c(){e=N("div"),t=N("div"),i=N("input"),r=G(),a=N("label"),n=Ee("duration"),l=G(),o=N("div"),u=N("select");for(let h=0;h<g.length;h+=1)g[h].c();c=G(),d=N("label"),f=Ee("easing"),this.h()},l(h){e=R(h,"DIV",{class:!0});var _=D(e);t=R(_,"DIV",{class:!0});var w=D(t);i=R(w,"INPUT",{id:!0,type:!0,class:!0}),r=X(w),a=R(w,"LABEL",{for:!0,class:!0});var P=D(a);n=ke(P,"duration"),P.forEach(S),w.forEach(S),l=X(_),o=R(_,"DIV",{class:!0});var q=D(o);u=R(q,"SELECT",{id:!0,class:!0});var z=D(u);for(let L=0;L<g.length;L+=1)g[L].l(z);z.forEach(S),c=X(q),d=R(q,"LABEL",{for:!0,class:!0});var T=D(d);f=ke(T,"easing"),T.forEach(S),q.forEach(S),_.forEach(S),this.h()},h(){p(i,"id","transitionDuration"),p(i,"type","number"),p(i,"class","w-16 svelte-1qpp6cx"),p(a,"for","transitionDuration"),p(a,"class","select-none"),p(t,"class","flex gap-2 mb-2"),p(u,"id","easingFuncs"),p(u,"class","svelte-1qpp6cx"),s[4]===void 0&&mt(()=>s[10].call(u)),p(d,"for","easingFuncs"),p(d,"class","select-none"),p(o,"class","flex gap-2"),p(e,"class","pl-2 pr-4 flex-col")},m(h,_){V(h,e,_),y(e,t),y(t,i),Ns(i,s[3]),y(t,r),y(t,a),y(a,n),y(e,l),y(e,o),y(o,u);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(u,null);wt(u,s[4],!0),y(o,c),y(o,d),y(d,f),v=!0,E||(m=[se(i,"input",s[9]),se(u,"change",s[10])],E=!0)},p(h,_){if(_&8&&Hn(i.value)!==h[3]&&Ns(i,h[3]),_&0){k=kn;let w;for(w=0;w<k.length;w+=1){const P=Pn(h,k,w);g[w]?g[w].p(P,_):(g[w]=Tn(P),g[w].c(),g[w].m(u,null))}for(;w<g.length;w+=1)g[w].d(1);g.length=k.length}_&16&&wt(u,h[4])},i(h){v||(h&&mt(()=>{v&&(M||(M=Xt(e,Zt,{},!0)),M.run(1))}),v=!0)},o(h){h&&(M||(M=Xt(e,Zt,{},!1)),M.run(0)),v=!1},d(h){h&&S(e),dt(g,h),h&&M&&M.end(),E=!1,ht(m)}}}function Tn(s){let e,t=s[12]+"",i;return{c(){e=N("option"),i=Ee(t),this.h()},l(r){e=R(r,"OPTION",{});var a=D(e);i=ke(a,t),a.forEach(S),this.h()},h(){e.__value=s[12],e.value=e.__value},m(r,a){V(r,e,a),y(e,i)},p:Se,d(r){r&&S(e)}}}function ya(s){let e,t,i,r,a,n,l,o,u,c,d,f,M,v,E,m=s[2]&&An(s);return{c(){e=N("div"),t=N("input"),i=G(),r=N("label"),a=Ee("ghost piece"),n=G(),l=N("div"),o=N("input"),u=G(),c=N("label"),d=Ee("transition"),f=G(),m&&m.c(),M=Ae(),this.h()},l(k){e=R(k,"DIV",{class:!0});var g=D(e);t=R(g,"INPUT",{id:!0,type:!0,class:!0}),i=X(g),r=R(g,"LABEL",{for:!0,class:!0});var h=D(r);a=ke(h,"ghost piece"),h.forEach(S),g.forEach(S),n=X(k),l=R(k,"DIV",{class:!0});var _=D(l);o=R(_,"INPUT",{id:!0,type:!0,class:!0}),u=X(_),c=R(_,"LABEL",{for:!0,class:!0});var w=D(c);d=ke(w,"transition"),w.forEach(S),_.forEach(S),f=X(k),m&&m.l(k),M=Ae(),this.h()},h(){p(t,"id","ghostPiece"),p(t,"type","checkbox"),p(t,"class","svelte-1qpp6cx"),p(r,"for","ghostPiece"),p(r,"class","select-none"),p(e,"class","mb-2"),p(o,"id","draggableEnabled"),p(o,"type","checkbox"),p(o,"class","svelte-1qpp6cx"),p(c,"for","draggableEnabled"),p(c,"class","select-none"),p(l,"class","mb-2")},m(k,g){V(k,e,g),y(e,t),t.checked=s[1],y(e,i),y(e,r),y(r,a),V(k,n,g),V(k,l,g),y(l,o),o.checked=s[2],y(l,u),y(l,c),y(c,d),V(k,f,g),m&&m.m(k,g),V(k,M,g),v||(E=[se(t,"change",s[7]),se(o,"change",s[8])],v=!0)},p(k,g){g&2&&(t.checked=k[1]),g&4&&(o.checked=k[2]),k[2]?m?(m.p(k,g),g&4&&H(m,1)):(m=An(k),m.c(),H(m,1),m.m(M.parentNode,M)):m&&(Be(),j(m,1,1,()=>{m=null}),Ue())},d(k){k&&S(e),k&&S(n),k&&S(l),k&&S(f),m&&m.d(k),k&&S(M),v=!1,ht(E)}}}function Pa(s){let e,t,i;function r(n){s[11](n)}let a={name:s[5],expanded:s[6],$$slots:{default:[ya]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.enabled=s[0]),e=new gt({props:a}),$.push(()=>oe(e,"enabled",r)),{c(){de(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,l){ge(e,n,l),i=!0},p(n,[l]){const o={};l&32&&(o.name=n[5]),l&64&&(o.expanded=n[6]),l&32798&&(o.$$scope={dirty:l,ctx:n}),!t&&l&1&&(t=!0,o.enabled=n[0],ue(()=>t=!1)),e.$set(o)},i(n){i||(H(e.$$.fragment,n),i=!0)},o(n){j(e.$$.fragment,n),i=!1},d(n){be(e,n)}}}function Aa(s,e,t){let{name:i="Draggable"}=e,{enabled:r=!1}=e,{ghostPiece:a=!1}=e,{transition:n=!1}=e,{duration:l=120}=e,{easing:o="easeInOut"}=e,{expanded:u=!1}=e;function c(){a=this.checked,t(1,a)}function d(){n=this.checked,t(2,n)}function f(){l=Hn(this.value),t(3,l)}function M(){o=As(this),t(4,o)}function v(E){r=E,t(0,r)}return s.$$set=E=>{"name"in E&&t(5,i=E.name),"enabled"in E&&t(0,r=E.enabled),"ghostPiece"in E&&t(1,a=E.ghostPiece),"transition"in E&&t(2,n=E.transition),"duration"in E&&t(3,l=E.duration),"easing"in E&&t(4,o=E.easing),"expanded"in E&&t(6,u=E.expanded)},[r,a,n,l,o,i,u,c,d,f,M,v]}class Ta extends Te{constructor(e){super(),Le(this,e,Aa,Pa,Oe,{name:5,enabled:0,ghostPiece:1,transition:2,duration:3,easing:4,expanded:6})}}function Ln(s,e,t){const i=s.slice();return i[7]=e[t],i[8]=e,i[9]=t,i}function On(s){let e,t,i,r,a=s[7]+"",n,l,o,u;function c(){s[5].call(t,s[7])}return{c(){e=N("div"),t=N("input"),i=G(),r=N("label"),n=Ee(a),l=G(),this.h()},l(d){e=R(d,"DIV",{class:!0});var f=D(e);t=R(f,"INPUT",{id:!0,type:!0}),i=X(f),r=R(f,"LABEL",{for:!0,class:!0});var M=D(r);n=ke(M,a),M.forEach(S),l=X(f),f.forEach(S),this.h()},h(){p(t,"id",s[7]+"Enabled"),p(t,"type","checkbox"),p(r,"for",s[7]+"Enabled"),p(r,"class","select-none"),p(e,"class","mb-2")},m(d,f){V(d,e,f),y(e,t),t.checked=s[1][s[7]],y(e,i),y(e,r),y(r,n),y(e,l),o||(u=se(t,"change",c),o=!0)},p(d,f){s=d,f&18&&(t.checked=s[1][s[7]])},d(d){d&&S(e),o=!1,u()}}}function La(s){let e,t=s[4],i=[];for(let r=0;r<t.length;r+=1)i[r]=On(Ln(s,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=Ae()},l(r){for(let a=0;a<i.length;a+=1)i[a].l(r);e=Ae()},m(r,a){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(r,a);V(r,e,a)},p(r,a){if(a&18){t=r[4];let n;for(n=0;n<t.length;n+=1){const l=Ln(r,t,n);i[n]?i[n].p(l,a):(i[n]=On(l),i[n].c(),i[n].m(e.parentNode,e))}for(;n<i.length;n+=1)i[n].d(1);i.length=t.length}},d(r){dt(i,r),r&&S(e)}}}function Oa(s){let e,t,i;function r(n){s[6](n)}let a={name:s[2],expanded:s[3],$$slots:{default:[La]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.enabled=s[0]),e=new gt({props:a}),$.push(()=>oe(e,"enabled",r)),{c(){de(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,l){ge(e,n,l),i=!0},p(n,[l]){const o={};l&4&&(o.name=n[2]),l&8&&(o.expanded=n[3]),l&1026&&(o.$$scope={dirty:l,ctx:n}),!t&&l&1&&(t=!0,o.enabled=n[0],ue(()=>t=!1)),e.$set(o)},i(n){i||(H(e.$$.fragment,n),i=!0)},o(n){j(e.$$.fragment,n),i=!1},d(n){be(e,n)}}}function Ia(s,e,t){let{name:i="Highlight"}=e,{enabled:r=!1}=e,{settings:a}=e;const n=["select","legal","move","preMove","nextMove","check"];let{expanded:l=!1}=e;function o(c){a[c]=this.checked,t(1,a)}function u(c){r=c,t(0,r)}return s.$$set=c=>{"name"in c&&t(2,i=c.name),"enabled"in c&&t(0,r=c.enabled),"settings"in c&&t(1,a=c.settings),"expanded"in c&&t(3,l=c.expanded)},[r,a,i,l,n,o,u]}class qa extends Te{constructor(e){super(),Le(this,e,Ia,Oa,Oe,{name:2,enabled:0,settings:1,expanded:3})}}function Fa(s){let e,t,i,r,a,n,l,o,u,c,d,f,M;return{c(){e=N("div"),t=N("input"),i=G(),r=N("label"),a=Ee("L shape knight move"),n=G(),l=N("div"),o=N("input"),u=G(),c=N("label"),d=Ee("only chess move"),this.h()},l(v){e=R(v,"DIV",{class:!0});var E=D(e);t=R(E,"INPUT",{id:!0,type:!0}),i=X(E),r=R(E,"LABEL",{for:!0,class:!0});var m=D(r);a=ke(m,"L shape knight move"),m.forEach(S),E.forEach(S),n=X(v),l=R(v,"DIV",{class:!0});var k=D(l);o=R(k,"INPUT",{id:!0,type:!0}),u=X(k),c=R(k,"LABEL",{for:!0,class:!0});var g=D(c);d=ke(g,"only chess move"),g.forEach(S),k.forEach(S),this.h()},h(){p(t,"id","knightLShapeMoveEnabled"),p(t,"type","checkbox"),p(r,"for","knightLShapeMoveEnabled"),p(r,"class","select-none"),p(e,"class","mb-2"),p(o,"id","onlyChessMoveEnabled"),p(o,"type","checkbox"),p(c,"for","onlyChessMoveEnabled"),p(c,"class","select-none"),p(l,"class","mb-2")},m(v,E){V(v,e,E),y(e,t),t.checked=s[1],y(e,i),y(e,r),y(r,a),V(v,n,E),V(v,l,E),y(l,o),o.checked=s[2],y(l,u),y(l,c),y(c,d),f||(M=[se(t,"change",s[5]),se(o,"change",s[6])],f=!0)},p(v,E){E&2&&(t.checked=v[1]),E&4&&(o.checked=v[2])},d(v){v&&S(e),v&&S(n),v&&S(l),f=!1,ht(M)}}}function Na(s){let e,t,i;function r(n){s[7](n)}let a={name:s[3],expanded:s[4],$$slots:{default:[Fa]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.enabled=s[0]),e=new gt({props:a}),$.push(()=>oe(e,"enabled",r)),{c(){de(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,l){ge(e,n,l),i=!0},p(n,[l]){const o={};l&8&&(o.name=n[3]),l&16&&(o.expanded=n[4]),l&262&&(o.$$scope={dirty:l,ctx:n}),!t&&l&1&&(t=!0,o.enabled=n[0],ue(()=>t=!1)),e.$set(o)},i(n){i||(H(e.$$.fragment,n),i=!0)},o(n){j(e.$$.fragment,n),i=!1},d(n){be(e,n)}}}function Ra(s,e,t){let{name:i="DrawTools"}=e,{enabled:r=!1}=e,{knightLShape:a=!1}=e,{onlyChessMove:n=!1}=e,{expanded:l=!1}=e;function o(){a=this.checked,t(1,a)}function u(){n=this.checked,t(2,n)}function c(d){r=d,t(0,r)}return s.$$set=d=>{"name"in d&&t(3,i=d.name),"enabled"in d&&t(0,r=d.enabled),"knightLShape"in d&&t(1,a=d.knightLShape),"onlyChessMove"in d&&t(2,n=d.onlyChessMove),"expanded"in d&&t(4,l=d.expanded)},[r,a,n,i,l,o,u,c]}class Da extends Te{constructor(e){super(),Le(this,e,Ra,Na,Oe,{name:3,enabled:0,knightLShape:1,onlyChessMove:2,expanded:4})}}function In(s,e,t){const i=s.slice();return i[7]=e[t],i[8]=e,i[9]=t,i}function qn(s){let e,t,i,r,a=s[7].toLowerCase()+"",n,l,o,u;function c(){s[5].call(t,s[7])}return{c(){e=N("div"),t=N("input"),i=G(),r=N("label"),n=Ee(a),l=G(),this.h()},l(d){e=R(d,"DIV",{class:!0});var f=D(e);t=R(f,"INPUT",{id:!0,type:!0}),i=X(f),r=R(f,"LABEL",{for:!0,class:!0});var M=D(r);n=ke(M,a),M.forEach(S),l=X(f),f.forEach(S),this.h()},h(){p(t,"id",s[7]+"Enabled"),p(t,"type","checkbox"),p(r,"for",s[7]+"Enabled"),p(r,"class","select-none"),p(e,"class","mb-2")},m(d,f){V(d,e,f),y(e,t),t.checked=s[1][s[7]],y(e,i),y(e,r),y(r,n),y(e,l),o||(u=se(t,"change",c),o=!0)},p(d,f){s=d,f&18&&(t.checked=s[1][s[7]])},d(d){d&&S(e),o=!1,u()}}}function za(s){let e,t=s[4],i=[];for(let r=0;r<t.length;r+=1)i[r]=qn(In(s,t,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=Ae()},l(r){for(let a=0;a<i.length;a+=1)i[a].l(r);e=Ae()},m(r,a){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(r,a);V(r,e,a)},p(r,a){if(a&18){t=r[4];let n;for(n=0;n<t.length;n+=1){const l=In(r,t,n);i[n]?i[n].p(l,a):(i[n]=qn(l),i[n].c(),i[n].m(e.parentNode,e))}for(;n<i.length;n+=1)i[n].d(1);i.length=t.length}},d(r){dt(i,r),r&&S(e)}}}function Ba(s){let e,t,i;function r(n){s[6](n)}let a={name:s[2],expanded:s[3],$$slots:{default:[za]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.enabled=s[0]),e=new gt({props:a}),$.push(()=>oe(e,"enabled",r)),{c(){de(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,l){ge(e,n,l),i=!0},p(n,[l]){const o={};l&4&&(o.name=n[2]),l&8&&(o.expanded=n[3]),l&1026&&(o.$$scope={dirty:l,ctx:n}),!t&&l&1&&(t=!0,o.enabled=n[0],ue(()=>t=!1)),e.$set(o)},i(n){i||(H(e.$$.fragment,n),i=!0)},o(n){j(e.$$.fragment,n),i=!1},d(n){be(e,n)}}}function Ua(s,e,t){let{name:i="Sounds"}=e,{enabled:r=!1}=e,{settings:a}=e;const n=["MOVE","CAPTURE","CASTLE","UNDO"];let{expanded:l=!1}=e;function o(c){a[c]=this.checked,t(1,a)}function u(c){r=c,t(0,r)}return s.$$set=c=>{"name"in c&&t(2,i=c.name),"enabled"in c&&t(0,r=c.enabled),"settings"in c&&t(1,a=c.settings),"expanded"in c&&t(3,l=c.expanded)},[r,a,i,l,n,o,u]}class Va extends Te{constructor(e){super(),Le(this,e,Ua,Ba,Oe,{name:2,enabled:0,settings:1,expanded:3})}}function Ha(s){let e,t;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(i){e=Ne(i,"svg",{style:!0,xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var r=D(e);t=Ne(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),D(t).forEach(S),r.forEach(S),this.h()},h(){p(t,"stroke-linecap","round"),p(t,"stroke-linejoin","round"),p(t,"stroke-width","2"),p(t,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),Ve(e,"transform","translate(1px, 0px)"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"class","h-5"),p(e,"fill","none"),p(e,"viewBox","0 0 24 24"),p(e,"aria-hidden","true"),p(e,"stroke","currentColor")},m(i,r){V(i,e,r),y(e,t)},d(i){i&&S(e)}}}function Ka(s){let e,t;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(i){e=Ne(i,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var r=D(e);t=Ne(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),D(t).forEach(S),r.forEach(S),this.h()},h(){p(t,"stroke-linecap","round"),p(t,"stroke-linejoin","round"),p(t,"stroke-width","2"),p(t,"d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"class","h-5 text-green-500"),p(e,"fill","none"),p(e,"viewBox","0 0 24 24"),p(e,"aria-hidden","true"),p(e,"stroke","currentColor")},m(i,r){V(i,e,r),y(e,t)},d(i){i&&S(e)}}}function Wa(s){let e,t,i;function r(l,o){return l[1]?Ka:Ha}let a=r(s),n=a(s);return{c(){e=N("button"),n.c(),this.h()},l(l){e=R(l,"BUTTON",{type:!0,class:!0});var o=D(e);n.l(o),o.forEach(S),this.h()},h(){p(e,"type","button"),p(e,"class","box-border rounded-sm bg-slate-800 bg-opacity-40 text-gray-500 transition hover:text-gray-300 focus:z-10 focus:ring-1 focus:ring-blue-600 p-1")},m(l,o){V(l,e,o),n.m(e,null),s[4](e),t||(i=se(e,"click",s[2]),t=!0)},p(l,[o]){a!==(a=r(l))&&(n.d(1),n=a(l),n&&(n.c(),n.m(e,null)))},i:Se,o:Se,d(l){l&&S(e),n.d(),s[4](null),t=!1,i()}}}function ja(s,e,t){let{copyText:i}=e,r,a=!1;function n(){navigator.clipboard.writeText(i),t(1,a=!0),setTimeout(()=>{t(1,a=!1)},2e3),r.setAttribute("data-cooltipz-dir","top"),r.setAttribute("aria-label","Copied!"),setTimeout(()=>{r.removeAttribute("aria-label"),r.removeAttribute("data-cooltipz-dir")},2e3)}function l(o){$[o?"unshift":"push"](()=>{r=o,t(0,r)})}return s.$$set=o=>{"copyText"in o&&t(3,i=o.copyText)},[r,a,n,i,l]}class Ga extends Te{constructor(e){super(),Le(this,e,ja,Wa,Oe,{copyText:3})}}function Xa(s){let e,t,i;function r(n){s[2](n)}let a={name:s[1],showExpand:!1};return s[0]!==void 0&&(a.enabled=s[0]),e=new gt({props:a}),$.push(()=>oe(e,"enabled",r)),e.$on("changed",s[3]),{c(){de(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,l){ge(e,n,l),i=!0},p(n,[l]){const o={};l&2&&(o.name=n[1]),!t&&l&1&&(t=!0,o.enabled=n[0],ue(()=>t=!1)),e.$set(o)},i(n){i||(H(e.$$.fragment,n),i=!0)},o(n){j(e.$$.fragment,n),i=!1},d(n){be(e,n)}}}function Ya(s,e,t){let{name:i="Legal"}=e,{enabled:r=!1}=e;function a(l){r=l,t(0,r)}function n(l){je.call(this,s,l)}return s.$$set=l=>{"name"in l&&t(1,i=l.name),"enabled"in l&&t(0,r=l.enabled)},[r,i,a,n]}class Qa extends Te{constructor(e){super(),Le(this,e,Ya,Xa,Oe,{name:1,enabled:0})}}function Za(s){let e,t,i,r,a,n,l,o,u,c,d,f,M,v,E,m,k,g,h,_,w,P,q,z,T,L,U,W,fe,ce,ye,pe,x,B,Y,Z,A,ee,C,Q,ne,ve,me,Me,_e,Pe,Ie,Ke,Re,De,Je,Ct,vt,yt,it,Pt,At,xe,_t,Et,Tt,Xe,kt,Qe,$e,Mt,Dt;function es(F){s[7](F)}function ts(F){s[8](F)}function ss(F){s[9](F)}function ns(F){s[10](F)}function is(F){s[11](F)}let rt={expanded:!0};s[0].board.boardTheme!==void 0&&(rt.boardTheme=s[0].board.boardTheme),s[0].board.mouseEvents!==void 0&&(rt.mouseEvents=s[0].board.mouseEvents),s[0].board.notation!==void 0&&(rt.notation=s[0].board.notation),s[0].board.flipped!==void 0&&(rt.flipped=s[0].board.flipped),s[0].board.resizible!==void 0&&(rt.resizible=s[0].board.resizible),n=new ka({props:rt}),$.push(()=>oe(n,"boardTheme",es)),$.push(()=>oe(n,"mouseEvents",ts)),$.push(()=>oe(n,"notation",ss)),$.push(()=>oe(n,"flipped",ns)),$.push(()=>oe(n,"resizible",is));function rs(F){s[12](F)}function as(F){s[13](F)}let Lt={expanded:!0};s[0].movable.enabled!==void 0&&(Lt.enabled=s[0].movable.enabled),s[0].movable.color!==void 0&&(Lt.color=s[0].movable.color),M=new Ca({props:Lt}),$.push(()=>oe(M,"enabled",rs)),$.push(()=>oe(M,"color",as));function ls(F){s[14](F)}function os(F){s[15](F)}function us(F){s[16](F)}function fs(F){s[17](F)}function cs(F){s[18](F)}let at={};s[0].draggable.enabled!==void 0&&(at.enabled=s[0].draggable.enabled),s[0].draggable.ghostPiece.enabled!==void 0&&(at.ghostPiece=s[0].draggable.ghostPiece.enabled),s[0].draggable.transition.enabled!==void 0&&(at.transition=s[0].draggable.transition.enabled),s[0].draggable.transition.settings.duration!==void 0&&(at.duration=s[0].draggable.transition.settings.duration),s[0].draggable.transition.settings.easing!==void 0&&(at.easing=s[0].draggable.transition.settings.easing),k=new Ta({props:at}),$.push(()=>oe(k,"enabled",ls)),$.push(()=>oe(k,"ghostPiece",os)),$.push(()=>oe(k,"transition",us)),$.push(()=>oe(k,"duration",fs)),$.push(()=>oe(k,"easing",cs));function ds(F){s[19](F)}let zt={name:"Selectable",showExpand:!1};s[0].selectable.enabled!==void 0&&(zt.enabled=s[0].selectable.enabled),z=new gt({props:zt}),$.push(()=>oe(z,"enabled",ds));function hs(F){s[20](F)}let Bt={};s[0].legal.enabled!==void 0&&(Bt.enabled=s[0].legal.enabled),U=new Qa({props:Bt}),$.push(()=>oe(U,"enabled",hs)),U.$on("changed",s[21]);function gs(F){s[22](F)}function bs(F){s[23](F)}let b={};s[0].highlight.enabled!==void 0&&(b.enabled=s[0].highlight.enabled),s[0].highlight.settings!==void 0&&(b.settings=s[0].highlight.settings),ce=new qa({props:b}),$.push(()=>oe(ce,"enabled",gs)),$.push(()=>oe(ce,"settings",bs));function I(F){s[24](F)}function J(F){s[25](F)}function re(F){s[26](F)}let we={};s[0].drawTools.enabled!==void 0&&(we.enabled=s[0].drawTools.enabled),s[0].drawTools.settings.knightLShape!==void 0&&(we.knightLShape=s[0].drawTools.settings.knightLShape),s[0].drawTools.settings.onlyChessMove!==void 0&&(we.onlyChessMove=s[0].drawTools.settings.onlyChessMove),B=new Da({props:we}),$.push(()=>oe(B,"enabled",I)),$.push(()=>oe(B,"knightLShape",J)),$.push(()=>oe(B,"onlyChessMove",re));function We(F){s[27](F)}function ze(F){s[28](F)}let Ot={};s[0].sounds.enabled!==void 0&&(Ot.enabled=s[0].sounds.enabled),s[0].sounds.settings!==void 0&&(Ot.settings=s[0].sounds.settings),C=new Va({props:Ot}),$.push(()=>oe(C,"enabled",We)),$.push(()=>oe(C,"settings",ze));let Zn={config:s[6],className:"rounded-md"};return _e=new ba({props:Zn}),s[29](_e),Xe=new Ga({props:{copyText:s[4]}}),Qe=new mi({props:{source:s[4],language:"svelte"}}),{c(){e=N("link"),t=G(),i=N("div"),r=N("div"),a=N("div"),de(n.$$.fragment),f=G(),de(M.$$.fragment),m=G(),de(k.$$.fragment),q=G(),de(z.$$.fragment),L=G(),de(U.$$.fragment),fe=G(),de(ce.$$.fragment),x=G(),de(B.$$.fragment),ee=G(),de(C.$$.fragment),ve=G(),me=N("div"),Me=N("div"),de(_e.$$.fragment),Pe=G(),Ie=N("div"),Ke=N("div"),Re=N("div"),De=N("button"),Je=N("span"),Ct=Ee("ts"),yt=G(),it=N("span"),Pt=Ee("/"),At=G(),xe=N("span"),_t=Ee("js"),Tt=G(),de(Xe.$$.fragment),kt=G(),de(Qe.$$.fragment),this.h()},l(F){const ae=ui("svelte-tebjht",document.head);e=R(ae,"LINK",{rel:!0,href:!0}),ae.forEach(S),t=X(F),i=R(F,"DIV",{class:!0});var et=D(i);r=R(et,"DIV",{class:!0});var lt=D(r);a=R(lt,"DIV",{class:!0});var Ce=D(a);he(n.$$.fragment,Ce),f=X(Ce),he(M.$$.fragment,Ce),m=X(Ce),he(k.$$.fragment,Ce),q=X(Ce),he(z.$$.fragment,Ce),L=X(Ce),he(U.$$.fragment,Ce),fe=X(Ce),he(ce.$$.fragment,Ce),x=X(Ce),he(B.$$.fragment,Ce),ee=X(Ce),he(C.$$.fragment,Ce),Ce.forEach(S),ve=X(lt),me=R(lt,"DIV",{class:!0});var bt=D(me);Me=R(bt,"DIV",{class:!0});var It=D(Me);he(_e.$$.fragment,It),It.forEach(S),Pe=X(bt),Ie=R(bt,"DIV",{class:!0});var St=D(Ie);Ke=R(St,"DIV",{class:!0});var tt=D(Ke);Re=R(tt,"DIV",{class:!0});var ot=D(Re);De=R(ot,"BUTTON",{class:!0});var ut=D(De);Je=R(ut,"SPAN",{class:!0});var qt=D(Je);Ct=ke(qt,"ts"),qt.forEach(S),yt=X(ut),it=R(ut,"SPAN",{class:!0});var Ft=D(it);Pt=ke(Ft,"/"),Ft.forEach(S),At=X(ut),xe=R(ut,"SPAN",{class:!0});var Ls=D(xe);_t=ke(Ls,"js"),Ls.forEach(S),ut.forEach(S),Tt=X(ot),he(Xe.$$.fragment,ot),ot.forEach(S),kt=X(tt),he(Qe.$$.fragment,tt),tt.forEach(S),St.forEach(S),bt.forEach(S),lt.forEach(S),et.forEach(S),this.h()},h(){document.title="Chessboard • PowChess.com",p(e,"rel","stylesheet"),p(e,"href","prism-one-dark.css"),p(a,"class","flex flex-col gap-2 mx-auto w-60 text-gray-300 text-sm"),p(Me,"class","w-full lg:w-[calc(70vh*(var(--boardScale,70)/100*0.7+0.3))]"),p(Je,"class",vt=s[1]?"text-yellow-600":""),p(it,"class","text-gray-600"),p(xe,"class",Et=s[1]?"":"text-yellow-600"),p(De,"class","text-gray-500 font-mono flex text-[0.8rem] mt-1"),p(Re,"class","absolute right-2 top-2 flex gap-4"),p(Ke,"class","shadow-lg rounded"),p(Ie,"class","row-start-2 relative"),p(me,"class","grid grid-rows-[90wh_auto] gap-10"),p(r,"class","lg:col-start-2 gap-10 grid lg:grid-cols-[auto_auto]"),p(i,"class","my-10 grid grid-cols-center")},m(F,ae){y(document.head,e),V(F,t,ae),V(F,i,ae),y(i,r),y(r,a),ge(n,a,null),y(a,f),ge(M,a,null),y(a,m),ge(k,a,null),y(a,q),ge(z,a,null),y(a,L),ge(U,a,null),y(a,fe),ge(ce,a,null),y(a,x),ge(B,a,null),y(a,ee),ge(C,a,null),y(r,ve),y(r,me),y(me,Me),ge(_e,Me,null),y(me,Pe),y(me,Ie),y(Ie,Ke),y(Ke,Re),y(Re,De),y(De,Je),y(Je,Ct),y(De,yt),y(De,it),y(it,Pt),y(De,At),y(De,xe),y(xe,_t),y(Re,Tt),ge(Xe,Re,null),y(Ke,kt),ge(Qe,Ke,null),$e=!0,Mt||(Dt=se(De,"click",s[30]),Mt=!0)},p(F,ae){const et={};!l&&ae[0]&1&&(l=!0,et.boardTheme=F[0].board.boardTheme,ue(()=>l=!1)),!o&&ae[0]&1&&(o=!0,et.mouseEvents=F[0].board.mouseEvents,ue(()=>o=!1)),!u&&ae[0]&1&&(u=!0,et.notation=F[0].board.notation,ue(()=>u=!1)),!c&&ae[0]&1&&(c=!0,et.flipped=F[0].board.flipped,ue(()=>c=!1)),!d&&ae[0]&1&&(d=!0,et.resizible=F[0].board.resizible,ue(()=>d=!1)),n.$set(et);const lt={};!v&&ae[0]&1&&(v=!0,lt.enabled=F[0].movable.enabled,ue(()=>v=!1)),!E&&ae[0]&1&&(E=!0,lt.color=F[0].movable.color,ue(()=>E=!1)),M.$set(lt);const Ce={};!g&&ae[0]&1&&(g=!0,Ce.enabled=F[0].draggable.enabled,ue(()=>g=!1)),!h&&ae[0]&1&&(h=!0,Ce.ghostPiece=F[0].draggable.ghostPiece.enabled,ue(()=>h=!1)),!_&&ae[0]&1&&(_=!0,Ce.transition=F[0].draggable.transition.enabled,ue(()=>_=!1)),!w&&ae[0]&1&&(w=!0,Ce.duration=F[0].draggable.transition.settings.duration,ue(()=>w=!1)),!P&&ae[0]&1&&(P=!0,Ce.easing=F[0].draggable.transition.settings.easing,ue(()=>P=!1)),k.$set(Ce);const bt={};!T&&ae[0]&1&&(T=!0,bt.enabled=F[0].selectable.enabled,ue(()=>T=!1)),z.$set(bt);const It={};!W&&ae[0]&1&&(W=!0,It.enabled=F[0].legal.enabled,ue(()=>W=!1)),U.$set(It);const St={};!ye&&ae[0]&1&&(ye=!0,St.enabled=F[0].highlight.enabled,ue(()=>ye=!1)),!pe&&ae[0]&1&&(pe=!0,St.settings=F[0].highlight.settings,ue(()=>pe=!1)),ce.$set(St);const tt={};!Y&&ae[0]&1&&(Y=!0,tt.enabled=F[0].drawTools.enabled,ue(()=>Y=!1)),!Z&&ae[0]&1&&(Z=!0,tt.knightLShape=F[0].drawTools.settings.knightLShape,ue(()=>Z=!1)),!A&&ae[0]&1&&(A=!0,tt.onlyChessMove=F[0].drawTools.settings.onlyChessMove,ue(()=>A=!1)),B.$set(tt);const ot={};!Q&&ae[0]&1&&(Q=!0,ot.enabled=F[0].sounds.enabled,ue(()=>Q=!1)),!ne&&ae[0]&1&&(ne=!0,ot.settings=F[0].sounds.settings,ue(()=>ne=!1)),C.$set(ot);const ut={};_e.$set(ut),(!$e||ae[0]&2&&vt!==(vt=F[1]?"text-yellow-600":""))&&p(Je,"class",vt),(!$e||ae[0]&2&&Et!==(Et=F[1]?"":"text-yellow-600"))&&p(xe,"class",Et);const qt={};ae[0]&16&&(qt.copyText=F[4]),Xe.$set(qt);const Ft={};ae[0]&16&&(Ft.source=F[4]),Qe.$set(Ft)},i(F){$e||(H(n.$$.fragment,F),H(M.$$.fragment,F),H(k.$$.fragment,F),H(z.$$.fragment,F),H(U.$$.fragment,F),H(ce.$$.fragment,F),H(B.$$.fragment,F),H(C.$$.fragment,F),H(_e.$$.fragment,F),H(Xe.$$.fragment,F),H(Qe.$$.fragment,F),$e=!0)},o(F){j(n.$$.fragment,F),j(M.$$.fragment,F),j(k.$$.fragment,F),j(z.$$.fragment,F),j(U.$$.fragment,F),j(ce.$$.fragment,F),j(B.$$.fragment,F),j(C.$$.fragment,F),j(_e.$$.fragment,F),j(Xe.$$.fragment,F),j(Qe.$$.fragment,F),$e=!1},d(F){S(e),F&&S(t),F&&S(i),be(n),be(M),be(k),be(z),be(U),be(ce),be(B),be(C),s[29](null),be(_e),be(Xe),be(Qe),Mt=!1,Dt()}}}function Ja(s,e,t){const i=new qi,r={movable:ie.BOTH,legal:!0,callbacks:{afterMove:A=>i.move({from:A.substring(0,2),to:A.substring(2,4),...A.length>4&&{promotion:A[4]}}),getLegalMoves:()=>i.moves({verbose:!0}).map(A=>A.from+A.to+(A.promotion??"")),getWhiteToMove:()=>i.turn()==="w",getInCheck:()=>i.inCheck(),getLastMove:()=>{const A=i.history({verbose:!0}).pop();return A?A.from+A.to+(A.promotion??""):""}},board:{resizible:!0}},a=`{
			afterMove: (move) =>
				chess.move({
					from: move.substring(0, 2),
					to: move.substring(2, 4),
					...(move.length > 4 && { promotion: move[4] })
				}),
			getLegalMoves: () =>
				(<Move[]>chess.moves({ verbose: true })).map((move) => {
					return move.from + move.to + (move.promotion ?? '');
				}),
			getWhiteToMove: () => chess.turn() === 'w',
			getInCheck: () => chess.inCheck(),
			getLastMove: () => {
				const lastMove = chess.history({ verbose: true }).pop() as Move;
				if (!lastMove) return '';
				return lastMove.from + lastMove.to + (lastMove.promotion ?? '');
			}
		}`,n=`{
			afterMove: (move) =>
				chess.move({
					from: move.substring(0, 2),
					to: move.substring(2, 4),
					...(move.length > 4 && { promotion: move[4] })
				}),
			getLegalMoves: () =>
				chess.moves({ verbose: true }).map((move) => {
					return move.from + move.to + (move.promotion ?? '');
				}),
			getWhiteToMove: () => chess.turn() === 'w',
			getInCheck: () => chess.inCheck(),
			getLastMove: () => {
				const lastMove = chess.history({ verbose: true }).pop();
				if (!lastMove) return '';
				return lastMove.from + lastMove.to + (lastMove.promotion ?? '');
			}
		}`;let l,o=new jn(r),u=!1,c=!0,d="";xt(()=>{var A;t(3,u=!0),t(0,o=(A=l.getState)==null?void 0:A.call(l))});const f=(A,ee)=>{var _e;const C=A.getConfig(),Q=`
	import type { ChessboardConfig } from '@powchess/chessboard/boardConfig';`;u&&((_e=l.setState)==null||_e.call(l,A));let ne=JSON.stringify(C,(Pe,Ie)=>Pe==="callbacks"?"{functions}":Ie,4);ne=ne.replace(/"([^"]+)":/g,"$1:").replaceAll(`
`,`
	`).replace('"{functions}"',ee?a:n);const ve=`
	import { Color } from '@powchess/chessboard/enums';`;ee&&(ne=ne.replaceAll(`movable: ${ie.WHITE}`,"movable: Color.WHITE").replaceAll(`movable: ${ie.BLACK}`,"movable: Color.BLACK").replaceAll(`movable: ${ie.BOTH}`,"movable: Color.BOTH"));function me(){return ne.includes("movable: Color.WHITE")||ne.includes("movable: Color.BLACK")||ne.includes("movable: Color.BOTH")}let Me=`<script${ee?' lang="ts"':""}>
	import Chessboard from '@powchess/chessboard';${ee?Q:""}${me()&&ee?ve:""}${o.legal.enabled?ee?`
	import { Chess, type Move } from 'chess.js';`:`
	import { Chess } from 'chess.js';`:""}${o.legal.enabled?`

	const chess = new Chess();`:""}

	const config${ee?": ChessboardConfig":""} = ${ne};
<\/script>

<Chessboard {config} className="rounded-md" />`;return ee||(Me=Me.replaceAll("Color.WHITE",`${ie.WHITE}`).replaceAll("Color.BLACK",`${ie.BLACK}`).replaceAll("Color.BOTH",`${ie.BOTH}`)),Me};function M(A){s.$$.not_equal(o.board.boardTheme,A)&&(o.board.boardTheme=A,t(0,o))}function v(A){s.$$.not_equal(o.board.mouseEvents,A)&&(o.board.mouseEvents=A,t(0,o))}function E(A){s.$$.not_equal(o.board.notation,A)&&(o.board.notation=A,t(0,o))}function m(A){s.$$.not_equal(o.board.flipped,A)&&(o.board.flipped=A,t(0,o))}function k(A){s.$$.not_equal(o.board.resizible,A)&&(o.board.resizible=A,t(0,o))}function g(A){s.$$.not_equal(o.movable.enabled,A)&&(o.movable.enabled=A,t(0,o))}function h(A){s.$$.not_equal(o.movable.color,A)&&(o.movable.color=A,t(0,o))}function _(A){s.$$.not_equal(o.draggable.enabled,A)&&(o.draggable.enabled=A,t(0,o))}function w(A){s.$$.not_equal(o.draggable.ghostPiece.enabled,A)&&(o.draggable.ghostPiece.enabled=A,t(0,o))}function P(A){s.$$.not_equal(o.draggable.transition.enabled,A)&&(o.draggable.transition.enabled=A,t(0,o))}function q(A){s.$$.not_equal(o.draggable.transition.settings.duration,A)&&(o.draggable.transition.settings.duration=A,t(0,o))}function z(A){s.$$.not_equal(o.draggable.transition.settings.easing,A)&&(o.draggable.transition.settings.easing=A,t(0,o))}function T(A){s.$$.not_equal(o.selectable.enabled,A)&&(o.selectable.enabled=A,t(0,o))}function L(A){s.$$.not_equal(o.legal.enabled,A)&&(o.legal.enabled=A,t(0,o))}const U=()=>{var A;o.legal.enabled||(i.reset(),u&&((A=l.setFEN)==null||A.call(l,o.board.startFen,!0,!1)))};function W(A){s.$$.not_equal(o.highlight.enabled,A)&&(o.highlight.enabled=A,t(0,o))}function fe(A){s.$$.not_equal(o.highlight.settings,A)&&(o.highlight.settings=A,t(0,o))}function ce(A){s.$$.not_equal(o.drawTools.enabled,A)&&(o.drawTools.enabled=A,t(0,o))}function ye(A){s.$$.not_equal(o.drawTools.settings.knightLShape,A)&&(o.drawTools.settings.knightLShape=A,t(0,o))}function pe(A){s.$$.not_equal(o.drawTools.settings.onlyChessMove,A)&&(o.drawTools.settings.onlyChessMove=A,t(0,o))}function x(A){s.$$.not_equal(o.sounds.enabled,A)&&(o.sounds.enabled=A,t(0,o))}function B(A){s.$$.not_equal(o.sounds.settings,A)&&(o.sounds.settings=A,t(0,o))}function Y(A){$[A?"unshift":"push"](()=>{l=A,t(2,l)})}const Z=()=>{t(1,c=!c)};return s.$$.update=()=>{s.$$.dirty[0]&3&&t(4,d=f(o,c))},[o,c,l,u,d,i,r,M,v,E,m,k,g,h,_,w,P,q,z,T,L,U,W,fe,ce,ye,pe,x,B,Y,Z]}class nl extends Te{constructor(e){super(),Le(this,e,Ja,Za,Oe,{},null,[-1,-1])}}export{nl as default};
