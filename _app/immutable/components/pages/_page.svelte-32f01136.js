import{S as ze,i as Be,s as He,k as w,H as nt,l as k,m as T,I as it,h as p,n as d,p as ae,b as B,F as h,J as Y,K as Nl,L as Zs,M as Js,A as oe,N as Pt,O as yt,a as V,e as ne,c as N,P as At,Q as Le,R as Al,T as $s,f as K,g as qe,t as x,d as Re,U as Kt,V as Ul,W as zl,X as dt,Y as Ks,v as De,w as Ve,x as Ne,Z as Ws,y as Ue,o as ea,_ as ka,$ as ds,a0 as Bl,a1 as Hl,G as Kl,q as G,r as X,u as ta,a2 as Ma,a3 as Wl,a4 as ya,a5 as jl,a6 as Pl,z as Gl,a7 as Ll,B as Xl,C as Yl,D as xl,E as Ql,a8 as Aa,a9 as Zl,aa as Jl,ab as $l,ac as Ft,ad as Pa,ae as Tl,af as Hs}from"../../chunks/index-c2461a9b.js";import{w as en}from"../../chunks/index-2174d1c7.js";var ee=(t=>(t[t.WHITE=0]="WHITE",t[t.BLACK=1]="BLACK",t[t.BOTH=2]="BOTH",t[t.SPECTATOR=3]="SPECTATOR",t[t.SERVER=4]="SERVER",t))(ee||{}),R=(t=>(t[t.LEGAL=0]="LEGAL",t[t.LEGALHOVER=1]="LEGALHOVER",t[t.CHECK=2]="CHECK",t[t.MOVE=3]="MOVE",t[t.NEXTMOVE=4]="NEXTMOVE",t[t.PREMOVE=5]="PREMOVE",t[t.PREMOVEHOVER=6]="PREMOVEHOVER",t[t.SELECT=7]="SELECT",t))(R||{});const La=["standard","darkBlue"],Ta=["backIn","backInOut","backOut","bounceIn","bounceInOut","bounceOut","circIn","circInOut","circOut","cubicIn","cubicInOut","cubicOut","elasticIn","elasticInOut","elasticOut","expoIn","expoInOut","expoOut","linear","quadIn","quadInOut","quadOut","quartIn","quartInOut","quartOut","quintIn","quintInOut","quintOut","sineIn","sineInOut","sineOut"],tn="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class sa{constructor(e){const s={allowPremoves:!1,moveSounds:!0,showCheckSqaure:!0,showLastMove:!0,showLegalMoves:!0,showNotation:!0};this.pieces=[],this.markedSquares=new Set,this.board={boardTheme:"standard",piecesTheme:"standard",flipped:!1,notation:s.showNotation,shadow:!1,startFen:tn,size:0},this.movable={enabled:!0,color:ee.BOTH},this.draggable={enabled:!0,ghostPiece:{enabled:!0,piece:void 0},transition:{enabled:!0,settings:{duration:120,easing:"cubicInOut"}}},this.selectable={enabled:!0,selectedPiece:void 0},this.legal={enabled:!1,whiteToMove:!0,moves:[],settings:{allowPromotion:!0,allowEnPassant:!0,allowCastling:!0},preMoves:{enabled:s.allowPremoves,moves:[],curMove:""},lastMove:""},this.callbacks={},this.highlight={enabled:!0,settings:{select:!0,legal:s.showLegalMoves,move:s.showLastMove,preMove:s.allowPremoves,nextMove:s.allowPremoves,check:s.showCheckSqaure}},this.drawTools={enabled:!0,engineArrows:[],settings:{LshapeKnightMove:!0,onlyChessMove:!1}},this.sounds={enabled:s.moveSounds,settings:{MOVE:!0,CAPTURE:!0,CASTLE:!0,UNDO:!0}},this.resizible={enabled:!1,settings:{min:100,max:1e3}},e!==void 0&&this.setConfigSettings(e)}setConfigSettings(e){var s,l,a,n,i,r,o,u,f,g,v,m,C,S,y,E,c;switch(((s=e.board)==null?void 0:s.boardTheme)!==void 0&&(this.board.boardTheme=e.board.boardTheme),((l=e.board)==null?void 0:l.piecesTheme)!==void 0&&(this.board.piecesTheme=e.board.piecesTheme),((a=e.board)==null?void 0:a.notation)!==void 0&&(this.board.notation=e.board.notation),((n=e.board)==null?void 0:n.shadow)!==void 0&&(this.board.shadow=e.board.shadow),((i=e.board)==null?void 0:i.flipped)!==void 0&&(this.board.flipped=e.board.flipped),((r=e.board)==null?void 0:r.startFen)!==void 0&&(this.board.startFen=e.board.startFen),e.movable){case!0:this.movable.enabled=!0,this.movable.color=ee.BOTH;break;case!1:this.movable.enabled=!1;break;case ee.WHITE:this.movable.enabled=!0,this.movable.color=ee.WHITE;break;case ee.BLACK:this.movable.enabled=!0,this.movable.color=ee.BLACK;break}e.draggable!==void 0&&(e.draggable===!0?this.draggable.enabled=!0:e.draggable===!1?this.draggable.enabled=!1:(this.draggable.enabled=!0,((o=e.draggable)==null?void 0:o.ghostPiece)!==void 0&&(this.draggable.ghostPiece.enabled=e.draggable.ghostPiece),e.draggable.transition!==void 0&&(((u=e.draggable)==null?void 0:u.transition)===!0?this.draggable.transition.enabled=!0:((f=e.draggable)==null?void 0:f.transition)===!1?this.draggable.transition.enabled=!1:(this.draggable.transition.enabled=!0,(v=(g=e.draggable)==null?void 0:g.transition)!=null&&v.duration&&(this.draggable.transition.settings.duration=(C=(m=e.draggable)==null?void 0:m.transition)==null?void 0:C.duration),(y=(S=e.draggable)==null?void 0:S.transition)!=null&&y.easing&&(this.draggable.transition.settings.easing=(c=(E=e.draggable)==null?void 0:E.transition)==null?void 0:c.easing))))),e.selectable!==void 0&&(this.selectable.enabled=e.selectable),e.legal!==void 0&&(e.legal===!0?this.legal.enabled=!0:e.legal===!1?this.legal.enabled=!1:(this.legal.enabled=!0,e.legal.settings&&(e.legal.settings.allowCastling!==void 0&&(this.legal.settings.allowCastling=e.legal.settings.allowCastling),e.legal.settings.allowEnPassant!==void 0&&(this.legal.settings.allowEnPassant=e.legal.settings.allowEnPassant),e.legal.settings.allowPromotion!==void 0&&(this.legal.settings.allowPromotion=e.legal.settings.allowPromotion)),e.legal.preMoves!==void 0&&(this.legal.preMoves.enabled=e.legal.preMoves))),e.callbacks!==void 0&&(e.callbacks.getLegalMoves&&(this.callbacks.getLegalMoves=e.callbacks.getLegalMoves),e.callbacks.getPreMoves&&(this.callbacks.getPreMoves=e.callbacks.getPreMoves),e.callbacks.beforeMove&&(this.callbacks.beforeMove=e.callbacks.beforeMove),e.callbacks.afterMove&&(this.callbacks.afterMove=e.callbacks.afterMove),e.callbacks.getLastMove&&(this.callbacks.getLastMove=e.callbacks.getLastMove),e.callbacks.getLastMoveSAN&&(this.callbacks.getLastMoveSAN=e.callbacks.getLastMoveSAN),e.callbacks.getKingLocations&&(this.callbacks.getKingLocations=e.callbacks.getKingLocations),e.callbacks.getInCheck&&(this.callbacks.getInCheck=e.callbacks.getInCheck),e.callbacks.getWhiteToMove&&(this.callbacks.getWhiteToMove=e.callbacks.getWhiteToMove)),e.highlight!==void 0&&(e.highlight===!0?this.highlight.enabled=!0:e.highlight===!1?this.highlight.enabled=!1:(this.highlight.enabled=!0,e.highlight.check!==void 0&&(this.highlight.settings.check=e.highlight.check),e.highlight.legal!==void 0&&(this.highlight.settings.legal=e.highlight.legal),e.highlight.move!==void 0&&(this.highlight.settings.move=e.highlight.move),e.highlight.nextMove!==void 0&&(this.highlight.settings.nextMove=e.highlight.nextMove),e.highlight.preMove!==void 0&&(this.highlight.settings.preMove=e.highlight.preMove),e.highlight.select!==void 0&&(this.highlight.settings.select=e.highlight.select))),e.drawTools!==void 0&&(e.drawTools===!0?this.drawTools.enabled=!0:e.drawTools===!1?this.drawTools.enabled=!1:(this.drawTools.enabled=!0,e.drawTools.LshapeKnightMove!==void 0&&(this.drawTools.settings.LshapeKnightMove=e.drawTools.LshapeKnightMove),e.drawTools.onlyChessMove!==void 0&&(this.drawTools.settings.onlyChessMove=e.drawTools.onlyChessMove))),e.sounds!==void 0&&(e.sounds===!0?this.sounds.enabled=!0:e.sounds===!1?this.sounds.enabled=!1:(this.sounds.enabled=!0,e.sounds.CAPTURE!==void 0&&(this.sounds.settings.CAPTURE=e.sounds.CAPTURE),e.sounds.CASTLE!==void 0&&(this.sounds.settings.CASTLE=e.sounds.CASTLE),e.sounds.MOVE!==void 0&&(this.sounds.settings.MOVE=e.sounds.MOVE),e.sounds.UNDO!==void 0&&(this.sounds.settings.UNDO=e.sounds.UNDO))),e.resizible!==void 0&&(e.resizible===!0?this.resizible.enabled=!0:e.resizible===!1?this.resizible.enabled=!1:(this.resizible.enabled=!0,e.resizible.min!==void 0&&(this.resizible.settings.min=e.resizible.min),e.resizible.max!==void 0&&(this.resizible.settings.max=e.resizible.max)))}}const Sl=t=>{const e=new sa,s={},l={};["boardTheme","piecesTheme","flipped","notation","shadow","startFen"].forEach(g=>{t.board[g]!==e.board[g]&&(l[g]=t.board[g])}),Object.keys(l).length!==0&&(s.board=l),t.movable.enabled&&e.movable.enabled&&t.movable.color!==e.movable.color&&(s.movable=t.movable.color),t.movable.enabled&&!e.movable.enabled&&(s.movable=t.movable.color),!t.movable.enabled&&e.movable.enabled&&(s.movable=!1);const n={},i={};t.draggable.enabled&&e.draggable.enabled&&(t.draggable.ghostPiece.enabled!==e.draggable.ghostPiece.enabled&&(n.ghostPiece=t.draggable.ghostPiece.enabled),t.draggable.transition.enabled&&e.draggable.transition.enabled&&(t.draggable.transition.settings.duration!==e.draggable.transition.settings.duration&&(i.duration=t.draggable.transition.settings.duration),t.draggable.transition.settings.easing!==e.draggable.transition.settings.easing&&(i.easing=t.draggable.transition.settings.easing),Object.keys(i).length!==0&&(n.transition=i)),!t.draggable.transition.enabled&&e.draggable.transition.enabled&&(n.transition=!1),Object.keys(n).length!==0&&(s.draggable=n)),!t.draggable.enabled&&e.draggable.enabled&&(s.draggable=!1),t.selectable.enabled!==e.selectable.enabled&&(s.selectable=t.selectable.enabled),t.legal.enabled&&e.legal.enabled&&t.legal.preMoves.enabled!==e.legal.preMoves.enabled&&(s.legal={preMoves:t.legal.preMoves.enabled}),t.legal.enabled!==e.legal.enabled&&(t.legal.preMoves.enabled!==e.legal.preMoves.enabled?s.legal={preMoves:t.legal.preMoves.enabled}:s.legal=t.legal.enabled);const r={},o=["select","legal","move","preMove","nextMove","check"];t.highlight.enabled&&e.highlight.enabled&&(o.forEach(g=>{t.highlight.settings[g]!==e.highlight.settings[g]&&(r[g]=t.highlight.settings[g])}),Object.keys(r).length!==0&&(s.highlight=r)),t.highlight.enabled!==e.highlight.enabled&&(s.highlight=t.highlight.enabled);const u={};t.drawTools.enabled&&e.drawTools.enabled&&(t.drawTools.settings.LshapeKnightMove!==e.drawTools.settings.LshapeKnightMove&&(u.LshapeKnightMove=t.drawTools.settings.LshapeKnightMove),t.drawTools.settings.onlyChessMove!==e.drawTools.settings.onlyChessMove&&(u.onlyChessMove=t.drawTools.settings.onlyChessMove),Object.keys(u).length!==0&&(s.drawTools=u)),t.drawTools.enabled!==e.drawTools.enabled&&(s.drawTools=t.drawTools.enabled);const f={};return t.sounds.enabled&&e.sounds.enabled&&(t.sounds.settings.MOVE!==e.sounds.settings.MOVE&&(f.MOVE=t.sounds.settings.MOVE),t.sounds.settings.CAPTURE!==e.sounds.settings.CAPTURE&&(f.CAPTURE=t.sounds.settings.CAPTURE),t.sounds.settings.CASTLE!==e.sounds.settings.CASTLE&&(f.CASTLE=t.sounds.settings.CASTLE),t.sounds.settings.UNDO!==e.sounds.settings.UNDO&&(f.UNDO=t.sounds.settings.UNDO),Object.keys(f).length!==0&&(s.sounds=f)),t.sounds.enabled!==e.sounds.enabled&&(s.sounds=t.sounds.enabled),t.resizible.enabled!==e.resizible.enabled&&(s.resizible=t.resizible.enabled),s};function sn(t,e){const{minWidth:s,maxWidth:l,curWidth:a}=e;let n=a,i,r,o,u;function f(m){m.stopPropagation(),t.dispatchEvent(new CustomEvent("resizing",{detail:{size:Math.max(Math.max(s,Math.min(l,o+(m.pageX-i))),Math.max(s,Math.min(l,u+(m.pageY-r))))}}))}function g(m){m.stopPropagation(),t.dispatchEvent(new CustomEvent("endResizing",{detail:{size:Math.max(Math.max(s,Math.min(l,o+Math.floor((m.pageX-i)/8)*8)),Math.max(s,Math.min(l,u+Math.floor((m.pageY-r)/8)*8)))}})),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",g)}function v(m){m.stopPropagation(),m.button===0&&(i=m.pageX,o=n,r=m.pageY,u=n,window.addEventListener("mousemove",f),window.addEventListener("mouseup",g))}return t.addEventListener("mousedown",v),{update(m){n=m.curWidth},destroy(){t.removeEventListener("mousedown",v)}}}const an={[R.LEGAL]:"legalSQ cursor-pointer",[R.LEGALHOVER]:"legalSQ_hover cursor-pointer",[R.SELECT]:"selectedSQ",[R.MOVE]:"highlightMove",[R.NEXTMOVE]:"nextMoveSQ",[R.PREMOVE]:"preMoveSQ cursor-pointer",[R.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[R.CHECK]:"checkSQ"},ln={white:"#f0d9b5",black:"#b58863"},nn="standard.svg",rn={[R.LEGAL]:"legalSQ cursor-pointer",[R.LEGALHOVER]:"legalSQ_hover cursor-pointer",[R.SELECT]:"selectedSQ-darkBlue",[R.MOVE]:"highlightMove-darkBlue",[R.NEXTMOVE]:"nextMoveSQ",[R.PREMOVE]:"preMoveSQ cursor-pointer",[R.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[R.CHECK]:"checkSQ"},on={white:"#94A3B8",black:"#475569"},un="darkBlue.svg",Se={squareStyles:{standard:an,darkBlue:rn},colors:{standard:ln,darkBlue:on},imageName:{standard:nn,darkBlue:un}};function cn(t){let e,s,l,a,n,i;return{c(){e=w("div"),s=nt("svg"),l=nt("path"),this.h()},l(r){e=k(r,"DIV",{style:!0,class:!0});var o=T(e);s=it(o,"svg",{xmlns:!0,viewBox:!0,fill:!0});var u=T(s);l=it(u,"path",{d:!0}),T(l).forEach(p),u.forEach(p),o.forEach(p),this.h()},h(){d(l,"d","M 5 1 Q 6 0 6 2 L 6 4 Q 6 6 4 6 L 2 6 Q 0 6 1 5 Z"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(s,"viewBox","0 0 16 16"),d(s,"fill","currentColor"),ae(e,"color",Se.colors[t[0].state.board.boardTheme].black),d(e,"class","hidden lg:inline svelte-bwuzxv")},m(r,o){B(r,e,o),h(e,s),h(s,l),n||(i=[Y(e,"pointerdown",Nl(t[2])),Zs(a=sn.call(null,e,{minWidth:t[0].state.resizible.settings.min,maxWidth:t[0].state.resizible.settings.max,curWidth:t[0].state.board.size})),Y(e,"resizing",t[3]),Y(e,"endResizing",t[4])],n=!0)},p(r,[o]){o&1&&ae(e,"color",Se.colors[r[0].state.board.boardTheme].black),a&&Js(a.update)&&o&1&&a.update.call(null,{minWidth:r[0].state.resizible.settings.min,maxWidth:r[0].state.resizible.settings.max,curWidth:r[0].state.board.size})},i:oe,o:oe,d(r){r&&p(e),n=!1,Pt(i)}}}function dn(t,e,s){let{chessboard:l}=e,{setSize:a}=e;function n(o){yt.call(this,t,o)}const i=o=>a(o.detail.size),r=o=>a(o.detail.size);return t.$$set=o=>{"chessboard"in o&&s(0,l=o.chessboard),"setSize"in o&&s(1,a=o.setSize)},[l,a,n,i,r]}class fn extends ze{constructor(e){super(),Be(this,e,dn,cn,He,{chessboard:0,setSize:1})}}const Sa=""+new URL("../../assets/darkBlue-02863507.svg",import.meta.url).href,Ca=""+new URL("../../assets/standard-97995bf9.svg",import.meta.url).href,hn=""+new URL("../../assets/move-e4d827fe.wav",import.meta.url).href,gn=""+new URL("../../assets/capture-3dff493a.wav",import.meta.url).href,bn=""+new URL("../../assets/castle-dcf4b2c5.wav",import.meta.url).href,pn=""+new URL("../../assets/undo-b4184324.mp3",import.meta.url).href;function Oa(t){let e,s,l,a;return{c(){e=w("audio"),s=w("track"),l=w("source"),this.h()},l(n){e=k(n,"AUDIO",{preload:!0});var i=T(e);s=k(i,"TRACK",{kind:!0}),l=k(i,"SOURCE",{src:!0}),i.forEach(p),this.h()},h(){d(s,"kind","captions"),At(l.src,a=hn)||d(l,"src",a),d(e,"preload","auto")},m(n,i){B(n,e,i),h(e,s),h(e,l),t[3](e)},p:oe,d(n){n&&p(e),t[3](null)}}}function Ia(t){let e,s,l,a;return{c(){e=w("audio"),s=w("track"),l=w("source"),this.h()},l(n){e=k(n,"AUDIO",{preload:!0});var i=T(e);s=k(i,"TRACK",{kind:!0}),l=k(i,"SOURCE",{src:!0}),i.forEach(p),this.h()},h(){d(s,"kind","captions"),At(l.src,a=gn)||d(l,"src",a),d(e,"preload","auto")},m(n,i){B(n,e,i),h(e,s),h(e,l),t[4](e)},p:oe,d(n){n&&p(e),t[4](null)}}}function Fa(t){let e,s,l,a;return{c(){e=w("audio"),s=w("track"),l=w("source"),this.h()},l(n){e=k(n,"AUDIO",{preload:!0});var i=T(e);s=k(i,"TRACK",{kind:!0}),l=k(i,"SOURCE",{src:!0}),i.forEach(p),this.h()},h(){d(s,"kind","captions"),At(l.src,a=bn)||d(l,"src",a),d(e,"preload","auto")},m(n,i){B(n,e,i),h(e,s),h(e,l),t[5](e)},p:oe,d(n){n&&p(e),t[5](null)}}}function qa(t){let e,s,l,a;return{c(){e=w("audio"),s=w("track"),l=w("source"),this.h()},l(n){e=k(n,"AUDIO",{preload:!0});var i=T(e);s=k(i,"TRACK",{kind:!0}),l=k(i,"SOURCE",{src:!0}),i.forEach(p),this.h()},h(){d(s,"kind","captions"),At(l.src,a=pn)||d(l,"src",a),d(e,"preload","auto")},m(n,i){B(n,e,i),h(e,s),h(e,l),t[6](e)},p:oe,d(n){n&&p(e),t[6](null)}}}function vn(t){let e,s,l,a,n=t[0].MOVE&&Oa(t),i=t[0].CAPTURE&&Ia(t),r=t[0].CASTLE&&Fa(t),o=t[0].UNDO&&qa(t);return{c(){n&&n.c(),e=V(),i&&i.c(),s=V(),r&&r.c(),l=V(),o&&o.c(),a=ne()},l(u){n&&n.l(u),e=N(u),i&&i.l(u),s=N(u),r&&r.l(u),l=N(u),o&&o.l(u),a=ne()},m(u,f){n&&n.m(u,f),B(u,e,f),i&&i.m(u,f),B(u,s,f),r&&r.m(u,f),B(u,l,f),o&&o.m(u,f),B(u,a,f)},p(u,[f]){u[0].MOVE?n?n.p(u,f):(n=Oa(u),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),u[0].CAPTURE?i?i.p(u,f):(i=Ia(u),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null),u[0].CASTLE?r?r.p(u,f):(r=Fa(u),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null),u[0].UNDO?o?o.p(u,f):(o=qa(u),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},i:oe,o:oe,d(u){n&&n.d(u),u&&p(e),i&&i.d(u),u&&p(s),r&&r.d(u),u&&p(l),o&&o.d(u),u&&p(a)}}}function mn(t,e,s){let{settings:l}=e;const a={MOVE:void 0,CAPTURE:void 0,CASTLE:void 0,UNDO:void 0},n=()=>{a.CASTLE&&(a.CASTLE.pause(),s(1,a.CASTLE.currentTime=0,a)),a.MOVE&&(a.MOVE.pause(),s(1,a.MOVE.currentTime=0,a)),a.CAPTURE&&(a.CAPTURE.pause(),s(1,a.CAPTURE.currentTime=0,a)),a.UNDO&&(a.UNDO.pause(),s(1,a.UNDO.currentTime=0,a))},i=v=>v===void 0||l[v];function r(v){switch(n(),v){case"MOVE":a.MOVE&&i("MOVE")&&a.MOVE.play();break;case"CAPTURE":a.CAPTURE&&i("CAPTURE")&&a.CAPTURE.play();break;case"CASTLE":a.CASTLE&&i("CASTLE")&&a.CASTLE.play();break;case"UNDO":a.UNDO&&i("UNDO")&&(s(1,a.UNDO.volume=.3,a),a.UNDO.play());break}}function o(v){Le[v?"unshift":"push"](()=>{a.MOVE=v,s(1,a)})}function u(v){Le[v?"unshift":"push"](()=>{a.CAPTURE=v,s(1,a)})}function f(v){Le[v?"unshift":"push"](()=>{a.CASTLE=v,s(1,a)})}function g(v){Le[v?"unshift":"push"](()=>{a.UNDO=v,s(1,a)})}return t.$$set=v=>{"settings"in v&&s(0,l=v.settings)},[l,a,r,o,u,f,g]}class _n extends ze{constructor(e){super(),Be(this,e,mn,vn,He,{settings:0,playMoveSound:2})}get playMoveSound(){return this.$$.ctx[2]}}function En(t){const e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}function wn(t){return t*t*((1.70158+1)*t-1.70158)}function kn(t){return--t*t*((1.70158+1)*t+1.70158)+1}function fs(t){const e=.36363636363636365,s=8/11,l=9/10,a=4356/361,n=35442/1805,i=16061/1805,r=t*t;return t<e?7.5625*r:t<s?9.075*r-9.9*t+3.4:t<l?a*r-n*t+i:10.8*t*t-20.52*t+10.72}function Mn(t){return t<.5?.5*(1-fs(1-t*2)):.5*fs(t*2-1)+.5}function yn(t){return 1-fs(1-t)}function An(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}function Pn(t){return 1-Math.sqrt(1-t*t)}function Ln(t){return Math.sqrt(1- --t*t)}function Tn(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function Sn(t){return t*t*t}function Cl(t){const e=t-1;return e*e*e+1}function Cn(t){return t<.5?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1}function On(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))}function In(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}function Fn(t){return t===0||t===1?t:t<.5?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-t*20)+1}function qn(t){return t===0?t:Math.pow(2,10*(t-1))}function Rn(t){return t===1?t:1-Math.pow(2,-10*t)}function Dn(t){return t/=.5,t<1?.5*t*t:(t--,-.5*(t*(t-2)-1))}function Vn(t){return t*t}function Nn(t){return-t*(t-2)}function Un(t){return t<.5?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1}function zn(t){return Math.pow(t,4)}function Bn(t){return Math.pow(t-1,3)*(1-t)+1}function Hn(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}function Kn(t){return t*t*t*t*t}function Wn(t){return--t*t*t*t*t+1}function jn(t){return-.5*(Math.cos(Math.PI*t)-1)}function Gn(t){const e=Math.cos(t*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}function Xn(t){return Math.sin(t*Math.PI/2)}const Yn=Object.freeze(Object.defineProperty({__proto__:null,backIn:wn,backInOut:En,backOut:kn,bounceIn:yn,bounceInOut:Mn,bounceOut:fs,circIn:Pn,circInOut:An,circOut:Ln,cubicIn:Sn,cubicInOut:Tn,cubicOut:Cl,elasticIn:On,elasticInOut:Cn,elasticOut:In,expoIn:qn,expoInOut:Fn,expoOut:Rn,quadIn:Vn,quadInOut:Dn,quadOut:Nn,quartIn:zn,quartInOut:Un,quartOut:Bn,quintIn:Kn,quintInOut:Hn,quintOut:Wn,sineIn:Gn,sineInOut:jn,sineOut:Xn,linear:Al},Symbol.toStringTag,{value:"Module"}));function Ra(t,{delay:e=0,duration:s=400,easing:l=Cl,x:a=0,y:n=0,opacity:i=0}={}){const r=getComputedStyle(t),o=+r.opacity,u=r.transform==="none"?"":r.transform,f=o*(1-i);return{delay:e,duration:s,easing:l,css:(g,v)=>`
			transform: ${u} translate(${(1-g)*a}px, ${(1-g)*n}px);
			opacity: ${o-f*v}`}}const Da=""+new URL("../../assets/wP-f78bae6c.svg",import.meta.url).href,xn=""+new URL("../../assets/wR-5eb92d73.svg",import.meta.url).href,Qn=""+new URL("../../assets/wN-a4c975a2.svg",import.meta.url).href,Zn=""+new URL("../../assets/wB-1ff2f149.svg",import.meta.url).href,Jn=""+new URL("../../assets/wQ-8568b485.svg",import.meta.url).href,$n=""+new URL("../../assets/wK-4cdf6dc9.svg",import.meta.url).href,ei=""+new URL("../../assets/bP-84e521e8.svg",import.meta.url).href,ti=""+new URL("../../assets/bR-e39efb08.svg",import.meta.url).href,si=""+new URL("../../assets/bN-d3912d91.svg",import.meta.url).href,ai=""+new URL("../../assets/bB-c430b746.svg",import.meta.url).href,li=""+new URL("../../assets/bQ-c7b9a43e.svg",import.meta.url).href,ni=""+new URL("../../assets/bK-3500a2e6.svg",import.meta.url).href;function js(t){switch(t){case"wP":return Da;case"wR":return xn;case"wN":return Qn;case"wB":return Zn;case"wQ":return Jn;case"wK":return $n;case"bP":return ei;case"bR":return ti;case"bN":return si;case"bB":return ai;case"bQ":return li;case"bK":return ni;default:return Da}}function ii(t){let e,s,l,a,n,i;return{c(){e=w("button"),s=w("img"),this.h()},l(r){e=k(r,"BUTTON",{});var o=T(e);s=k(o,"IMG",{src:!0,alt:!0,class:!0}),o.forEach(p),this.h()},h(){At(s.src,l=t[1])||d(s,"src",l),d(s,"alt",a="Promotion to "+t[0].toUpperCase()),d(s,"class","rounded-md border border-gray-300 hover:border-sky-600 hover:bg-gray-600")},m(r,o){B(r,e,o),h(e,s),n||(i=Y(e,"click",t[2]),n=!0)},p(r,[o]){o&1&&a!==(a="Promotion to "+r[0].toUpperCase())&&d(s,"alt",a)},i:oe,o:oe,d(r){r&&p(e),n=!1,i()}}}function ri(t,e,s){let{piece:l}=e,{isWhite:a}=e,{showModal:n}=e;const i=$s(),r=(a?"w":"b")+l.toUpperCase(),o=js(r),u=()=>{i("newPromotion",l),s(3,n=!1)};return t.$$set=f=>{"piece"in f&&s(0,l=f.piece),"isWhite"in f&&s(4,a=f.isWhite),"showModal"in f&&s(3,n=f.showModal)},[l,o,u,n,a]}class oi extends ze{constructor(e){super(),Be(this,e,ri,ii,He,{piece:0,isWhite:4,showModal:3})}}function Va(t,e,s){const l=t.slice();return l[6]=e[s],l}function Na(t){let e,s,l,a,n,i=["q","r","b","n"],r=[];for(let u=0;u<4;u+=1)r[u]=Ua(Va(t,i,u));const o=u=>x(r[u],1,1,()=>{r[u]=null});return{c(){e=w("div"),s=w("div");for(let u=0;u<4;u+=1)r[u].c();this.h()},l(u){e=k(u,"DIV",{class:!0});var f=T(e);s=k(f,"DIV",{class:!0});var g=T(s);for(let v=0;v<4;v+=1)r[v].l(g);g.forEach(p),f.forEach(p),this.h()},h(){d(s,"class","modal-content p-3 gap-3 svelte-tvjsje"),d(e,"class","modal svelte-tvjsje")},m(u,f){B(u,e,f),h(e,s);for(let g=0;g<4;g+=1)r[g].m(s,null);n=!0},p(u,f){if(f&3){i=["q","r","b","n"];let g;for(g=0;g<4;g+=1){const v=Va(u,i,g);r[g]?(r[g].p(v,f),K(r[g],1)):(r[g]=Ua(v),r[g].c(),K(r[g],1),r[g].m(s,null))}for(qe(),g=4;g<4;g+=1)o(g);Re()}},i(u){if(!n){for(let f=0;f<4;f+=1)K(r[f]);Kt(()=>{a&&a.end(1),l=Ul(s,Ra,{x:100,duration:300}),l.start()}),n=!0}},o(u){r=r.filter(Boolean);for(let f=0;f<4;f+=1)x(r[f]);l&&l.invalidate(),a=zl(s,Ra,{x:-200,duration:100}),n=!1},d(u){u&&p(e),dt(r,u),u&&a&&a.end()}}}function Ua(t){let e,s,l,a;function n(o){t[3](o)}function i(o){t[4](o)}let r={piece:t[6]};return t[1]!==void 0&&(r.isWhite=t[1]),t[0]!==void 0&&(r.showModal=t[0]),e=new oi({props:r}),Le.push(()=>Ks(e,"isWhite",n)),Le.push(()=>Ks(e,"showModal",i)),e.$on("newPromotion",t[5]),{c(){De(e.$$.fragment)},l(o){Ve(e.$$.fragment,o)},m(o,u){Ne(e,o,u),a=!0},p(o,u){const f={};!s&&u&2&&(s=!0,f.isWhite=o[1],Ws(()=>s=!1)),!l&&u&1&&(l=!0,f.showModal=o[0],Ws(()=>l=!1)),e.$set(f)},i(o){a||(K(e.$$.fragment,o),a=!0)},o(o){x(e.$$.fragment,o),a=!1},d(o){Ue(e,o)}}}function ui(t){let e,s,l=t[0]&&Na(t);return{c(){l&&l.c(),e=ne()},l(a){l&&l.l(a),e=ne()},m(a,n){l&&l.m(a,n),B(a,e,n),s=!0},p(a,[n]){a[0]?l?(l.p(a,n),n&1&&K(l,1)):(l=Na(a),l.c(),K(l,1),l.m(e.parentNode,e)):l&&(qe(),x(l,1,1,()=>{l=null}),Re())},i(a){s||(K(l),s=!0)},o(a){x(l),s=!1},d(a){l&&l.d(a),a&&p(e)}}}function ci(t,e,s){let l=!1,a;function n(u){s(0,l=!0),u?s(1,a=!0):s(1,a=!1)}function i(u){a=u,s(1,a)}function r(u){l=u,s(0,l)}function o(u){yt.call(this,t,u)}return[l,a,n,i,r,o]}class di extends ze{constructor(e){super(),Be(this,e,ci,ui,He,{openPromotionModal:2})}get openPromotionModal(){return this.$$.ctx[2]}}const fi=["a","b","c","d","e","f","g","h"],hi=["8","7","6","5","4","3","2","1"];function Gs(t){return{x:fi.indexOf(t[0]),y:hi.indexOf(t[1])}}function Xs(t){return t.charCodeAt(0)-97}function gi(t){return 8-parseInt(t,10)}const bi=t=>{let e="",s=0;for(let l=0;l<t.length;l++){l!==0&&(e+="/");for(let a=0;a<t[l].length;a++){const n=t[l][a];n!=null&&s===0?n[0]==="w"?e+=n[1]:e+=n[1].toLowerCase():n!=null&&s!==0?(e+=s.toString(),s=0,n[0]==="w"?e+=n[1]:e+=n[1].toLowerCase()):s++}s!==0&&(e+=s.toString(),s=0)}return e},pi=["a","b","c","d","e","f","g","h"],vi=["8","7","6","5","4","3","2","1"];function mi(t){t.querySelectorAll("[sf]").forEach(e=>e.remove())}function Ys(t){return`${pi[t.x]}${vi[t.y]}`}function Ol(t,e){return Math.abs((t.x-e.x)*(t.y-e.y))===2}function xs(t,e){return`${Ys(t)}${Ys(e)}`}function _i(t,e){return!!(Ol(t,e)||Math.abs(t.x-e.x)===Math.abs(t.y-e.y)||t.x===e.x!=(t.y===e.y))}function Il(t,e,s,l,a,n){let i={x:-1,y:-1},r,o;Ol(e,s)&&l?(Math.abs(s.x-e.x)===2?i={x:s.x,y:e.y}:i={x:e.x,y:s.y},i.y-e.y<0?o=Math.PI+Math.atan((i.x-e.x)/(i.y-e.y)):o=Math.atan((i.x-e.x)/Math.abs(i.y-e.y)),r={x:s.x-Math.sign(s.x-i.x)*(i.x!==s.x?.4:0),y:s.y-Math.sign(s.y-i.y)*(i.y!==s.y?.4:0)}):(s.y-e.y<0?o=Math.PI+Math.atan((s.x-e.x)/(s.y-e.y)):o=Math.atan((s.x-e.x)/Math.abs(s.y-e.y)),r={x:s.x-Math.sin(o)*.4,y:s.y-Math.cos(o)*.4});const u={x:e.x+Math.sin(o)*.4,y:e.y+Math.cos(o)*.4};t.setAttribute("points",`${u.x+.5},${u.y+.5} ${i.x!==-1&&i.y!==-1&&l?`${i.x+.5},${i.y+.5} `:""}${r.x+.5},${r.y+.5}`),t.setAttribute("data-sqID",`${xs(e,s)}`),n!==void 0&&t.setAttribute("opacity",`${n}`),a!==void 0&&(t.setAttribute("marker-start",`url(#start-${a[0]})`),t.setAttribute("marker-end",`url(#end-${a[0]})`),t.setAttribute("stroke",a))}function cs(t,e,s,l,a,n){if(!(e===void 0||s.x===-1&&s.y===-1)){if(e.tagName==="circle")e.setAttribute("fill","transparent"),l?e.setAttribute("stroke","red"):a?e.setAttribute("stroke","orange"):n?e.setAttribute("stroke","blue"):e.setAttribute("stroke","green"),t.querySelectorAll(`\u0441ircle[cx="${s.x+.5}"][cy="${s.y+.5}"]`).forEach(i=>{e!==void 0&&i!==e&&(i.getAttribute("stroke")===e.getAttribute("stroke")?e.setAttribute("remove",""):e.hasAttribute("remove")&&e.removeAttribute("remove"))});else if(e.tagName==="polyline"){const i=l?"red":a?"orange":n?"blue":"green";e.setAttribute("stroke",`${i}`),e.setAttribute("marker-start",`url(#start-${i[0]})`),e.setAttribute("marker-end",`url(#end-${i[0]})`),t.querySelectorAll(`polyline[data-sqID="${e.getAttribute("data-sqID")}"]`).forEach(r=>{e instanceof SVGPolylineElement&&r!==e&&(r.getAttribute("stroke")===e.getAttribute("stroke")?e.setAttribute("remove",""):e.hasAttribute("remove")&&e.removeAttribute("remove"))})}}}function Fl(t,e,s,l,a){const n=document.createElementNS("http://www.w3.org/2000/svg","polyline");return Il(n,t,e,s,l,a),n.setAttribute("fill","none"),n.setAttribute("stroke-width","0.25"),n.setAttribute("stroke-linejoin","round"),n.setAttribute("opacity",a!==void 0?`${a}`:"0.4"),n.setAttribute("marker-start",l?`url(#start-${l[0]})`:"url(#start-g)"),n.setAttribute("marker-end",l?`url(#end-${l[0]})`:"url(#end-g)"),n.setAttribute("stroke",l||"green"),n}function Ei(t,e,s){e.forEach(l=>{const a=Fl(Gs(l.move.substring(0,2)),Gs(l.move.substring(2,4)),s,l.color,l.opacity);a.setAttribute("sf",""),t.appendChild(a)})}function za(t){t.querySelectorAll("circle,polyline").forEach(e=>{e.hasAttribute("sf")||e.remove()})}function wi(t,e){let{svg:s,flipped:l,enabled:a,settings:n}=e,i=!1,r={x:-1,y:-1},o,u;function f(E,c){const b=t.getBoundingClientRect(),L=l?b.width-(E-b.left):E-b.left,A=l?b.height-(c-b.top):c-b.top;return{x:Math.max(0,Math.min(7,Math.floor(L/(t.clientWidth/8)))),y:Math.max(0,Math.min(7,Math.floor(A/(t.clientHeight/8))))}}function g(E){u=document.createElementNS("http://www.w3.org/2000/svg","circle"),u.setAttribute("cx",`${E.x+.5}`),u.setAttribute("cy",`${E.y+.5}`),u.setAttribute("r","0.465"),u.setAttribute("opacity","0.4"),u.setAttribute("fill","none"),u.setAttribute("stroke-width","0.07"),u.setAttribute("stroke","green")}function v(E){if(u===void 0||r.x===-1&&r.y===-1)return;const c=f(E.clientX,E.clientY);n.onlyChessMove&&!_i(r,c)||(o=void 0,u.hasAttribute("remove")&&u.removeAttribute("remove"),r.x===c.x&&r.y===c.y?(xs(r,c),u instanceof SVGPolylineElement&&(u.remove(),g(c)),cs(s,u,r,E.shiftKey,E.ctrlKey,E.altKey),s.appendChild(u),s.querySelectorAll(`circle[cx="${r.x+.5}"][cy="${r.y+.5}"]`).forEach(b=>{b!==u&&(o=b,u!==void 0&&b.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))})):(u instanceof SVGCircleElement&&u.remove(),o=void 0,s.querySelectorAll(`polyline[data-sqID="${xs(r,c)}"]`).forEach(b=>{u===void 0||r.x===-1&&r.y===-1||b===u||(o=b,b.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))}),u instanceof SVGCircleElement?(u=Fl(r,c,n.LshapeKnightMove),cs(s,u,r,E.shiftKey,E.ctrlKey,E.altKey),s.appendChild(u)):u instanceof SVGPolylineElement&&Il(u,r,c,n.LshapeKnightMove)))}function m(E){E.preventDefault()}function C(E){E.preventDefault(),cs(s,u,r,E.shiftKey,E.ctrlKey,E.altKey)}function S(E){if(E.button===0)i=!1;else if(E.button===2){if(r.x===-1&&r.y===-1)return;s.querySelectorAll("[remove]").forEach(c=>{c.remove()}),o&&o.remove(),o=void 0,(u==null?void 0:u.tagName)==="circle"&&!u.hasAttribute("remove")&&t.dispatchEvent(new CustomEvent("drawCircle",{detail:{square:Ys(r),color:u.getAttribute("stroke")}})),(u==null?void 0:u.tagName)==="polyline"&&!u.hasAttribute("remove")&&t.dispatchEvent(new CustomEvent("drawArrow",{detail:{move:u.getAttribute("data-sqID"),color:u.getAttribute("stroke")}})),u=void 0,r={x:-1,y:-1},i=!1,window.removeEventListener("mousemove",v),window.removeEventListener("keydown",C),window.removeEventListener("keyup",C),window.removeEventListener("contextmenu",m)}window.removeEventListener("mouseup",S)}function y(E){if(E.button===0)i=!0,za(s),window.addEventListener("mouseup",S);else if(E.button===2&&!i){const c=f(E.clientX,E.clientY);r=c,g(c),cs(s,u,r,E.shiftKey,E.ctrlKey,E.altKey),o=void 0,s.querySelectorAll(`circle[cx="${c.x+.5}"][cy="${c.y+.5}"]`).forEach(b=>{o=b,u!==void 0&&b.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove","")}),u&&s.appendChild(u),window.addEventListener("mousemove",v),window.addEventListener("mouseup",S),window.addEventListener("keydown",C),window.addEventListener("keyup",C),window.addEventListener("contextmenu",m)}}return a&&t.addEventListener("mousedown",y),{update(E){E.svg!==s&&(s=E.svg),E.enabled!==a&&(a=E.enabled,a?t.addEventListener("mousedown",y):(za(s),t.removeEventListener("mousedown",y))),n=E.settings,l=E.flipped}}}function Ba(t,e,s){const l=t.slice();return l[8]=e[s],l}function Ha(t){let e,s,l,a;return{c(){e=nt("marker"),s=nt("path"),l=nt("marker"),a=nt("path"),this.h()},l(n){e=it(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var i=T(e);s=it(i,"path",{fill:!0,d:!0}),T(s).forEach(p),i.forEach(p),l=it(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,orient:!0,fill:!0});var r=T(l);a=it(r,"path",{fill:!0,d:!0}),T(a).forEach(p),r.forEach(p),this.h()},h(){d(s,"fill",t[8]),d(s,"d","M 5 0 Q 0 0 0 5 L 0 15 Q 0 20 5 20 Z"),d(e,"id","start-"+t[8][0]),d(e,"viewBox","0 0 5 20"),d(e,"refX","4"),d(e,"refY","10"),d(e,"markerUnits","strokeWidth"),d(e,"markerWidth","0.5"),d(e,"markerHeight","1"),d(e,"orient","auto"),d(a,"fill",t[8]),d(a,"d","M 0 4 L 10 10 L 0 16 Z"),d(l,"id","end-"+t[8][0]),d(l,"viewBox","0 0 10 20"),d(l,"refX","0.2"),d(l,"refY","10"),d(l,"markerUnits","strokeWidth"),d(l,"orient","auto"),d(l,"fill","currentColor")},m(n,i){B(n,e,i),h(e,s),B(n,l,i),h(l,a)},p:oe,d(n){n&&p(e),n&&p(l)}}}function ki(t){let e,s,l,a=t[2],n=[];for(let i=0;i<a.length;i+=1)n[i]=Ha(Ba(t,a,i));return{c(){e=nt("svg"),s=nt("defs");for(let i=0;i<n.length;i+=1)n[i].c();l=nt("g"),this.h()},l(i){e=it(i,"svg",{xmlns:!0,style:!0,class:!0,viewBox:!0});var r=T(e);s=it(r,"defs",{});var o=T(s);for(let u=0;u<n.length;u+=1)n[u].l(o);o.forEach(p),l=it(r,"g",{}),T(l).forEach(p),r.forEach(p),this.h()},h(){d(e,"xmlns","http://www.w3.org/2000/svg"),ae(e,"transform","rotate("+(t[1]?"180deg":"0deg")+")"),d(e,"class","rounded svelte-1ez37sv"),d(e,"viewBox","0 0 8 8")},m(i,r){B(i,e,r),h(e,s);for(let o=0;o<n.length;o+=1)n[o].m(s,null);h(e,l),t[5](l)},p(i,[r]){if(r&4){a=i[2];let o;for(o=0;o<a.length;o+=1){const u=Ba(i,a,o);n[o]?n[o].p(u,r):(n[o]=Ha(u),n[o].c(),n[o].m(s,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=a.length}r&2&&ae(e,"transform","rotate("+(i[1]?"180deg":"0deg")+")")},i:oe,o:oe,d(i){i&&p(e),dt(n,i),t[5](null)}}}function Mi(t,e,s){let{flipped:l=!1}=e,{svg:a}=e,{LshapeKnightMove:n=!1}=e,{computerArrows:i=[]}=e,r=!1;function o(g){!r||(mi(a),Ei(a,g,n))}ea(()=>{r=!0,o(i)});const u=["green","red","blue","orange"];function f(g){Le[g?"unshift":"push"](()=>{a=g,s(0,a)})}return t.$$set=g=>{"flipped"in g&&s(1,l=g.flipped),"svg"in g&&s(0,a=g.svg),"LshapeKnightMove"in g&&s(3,n=g.LshapeKnightMove),"computerArrows"in g&&s(4,i=g.computerArrows)},t.$$.update=()=>{t.$$.dirty&16&&o(i)},[a,l,u,n,i,f]}class yi extends ze{constructor(e){super(),Be(this,e,Mi,ki,He,{flipped:1,svg:0,LshapeKnightMove:3,computerArrows:4})}}function Ai(t){let e,s;return{c(){e=w("div"),this.h()},l(l){e=k(l,"DIV",{style:!0,class:!0}),T(e).forEach(p),this.h()},h(){ae(e,"left",t[2]*12.5+"%"),ae(e,"bottom",t[3]*12.5+"%"),d(e,"class",s="noselect "+Se.squareStyles[t[1]][t[0]]+" svelte-10vytug")},m(l,a){B(l,e,a)},p(l,[a]){a&4&&ae(e,"left",l[2]*12.5+"%"),a&8&&ae(e,"bottom",l[3]*12.5+"%"),a&3&&s!==(s="noselect "+Se.squareStyles[l[1]][l[0]]+" svelte-10vytug")&&d(e,"class",s)},i:oe,o:oe,d(l){l&&p(e)}}}function Pi(t,e,s){let{square:l}=e,{color:a}=e,{getGridCoordsFromSquare:n}=e,{flipped:i}=e,{theme:r}=e,o,u;const f=()=>{const g=n(l);s(2,o=g.x),s(3,u=g.y)};return t.$$set=g=>{"square"in g&&s(4,l=g.square),"color"in g&&s(0,a=g.color),"getGridCoordsFromSquare"in g&&s(5,n=g.getGridCoordsFromSquare),"flipped"in g&&s(6,i=g.flipped),"theme"in g&&s(1,r=g.theme)},t.$$.update=()=>{t.$$.dirty&64&&f()},[a,r,o,u,l,n,i]}class Li extends ze{constructor(e){super(),Be(this,e,Pi,Ai,He,{square:4,color:0,getGridCoordsFromSquare:5,flipped:6,theme:1})}}function Ka(t,e,s,l){if(e===0&&s===0)return t;const a=l?["a","b","c","d","e","f","g","h"].reverse():["a","b","c","d","e","f","g","h"],n=l?["8","7","6","5","4","3","2","1"].reverse():["8","7","6","5","4","3","2","1"],i=a[a.indexOf(t[0])+e],r=n[n.indexOf(t[1])+s];if(!(!i||!r))return i+r}function Wa(t,e,s){const l=e*1.15,a=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","circle");return a.setAttribute("width",(t.offsetWidth*l).toString()),a.setAttribute("height",(t.offsetHeight*l).toString()),a.style.position="absolute",a.style.zIndex="100",a.style.transform=`translate(${s?"":"-"}${25*l/2}%, -${25*l/2}%)`,a.style.opacity="0.2",n.setAttribute("r",(t.offsetWidth*l/2).toString()),n.setAttribute("cx",(t.offsetWidth*l/2).toString()),n.setAttribute("cy",(t.offsetHeight*l/2).toString()),n.setAttribute("fill","black"),a.appendChild(n),a}function Ti(t,e){let s;function l(D,Z=1e3){let H=!1;const W=()=>{s==null?H=!1:(D(...s),s=null,setTimeout(W,Z))};return(...le)=>{if(H){s=le;return}D(...le),H=!0,setTimeout(W,Z)}}let a,n,i,r,o,u,f,g,v=!1,m;const C=t.parentNode;let S,{startSquare:y,boardFlipped:E,onlyShow:c}=e;const{coords:b}=e;let L=ka(b).x,A=ka(b).y;const P=120,O=1.6;let q=Wa(t,O,E);t.draggable=!1;function I(D){let Z,H;if(D instanceof MouseEvent?(Z=D.clientX-a,H=D.clientY-n,a=D.clientX,n=D.clientY):(Z=D.touches[0].clientX-a,H=D.touches[0].clientY-n,a=D.touches[0].clientX,n=D.touches[0].clientY),o+=Z,u+=H,v||(Math.abs(o)>1||Math.abs(u)>1)&&(b.update(W=>({x:W.x+(a-t.offsetWidth/2-t.getBoundingClientRect().x)/t.clientWidth,y:D instanceof MouseEvent?W.y-(n-t.offsetHeight/2-t.getBoundingClientRect().y)/t.clientWidth:W.y-(n-t.offsetHeight*1.5-t.getBoundingClientRect().y)/t.clientWidth,scale:D instanceof MouseEvent?1:O}),{duration:P}),v=!0,t.style.zIndex="30",t.style.cursor="grabbing",t.dispatchEvent(new CustomEvent("startMoving"))),!!v){if(!(D instanceof MouseEvent)){const W=Math.floor((o+i)/t.offsetWidth),le=Math.floor((u+r)/t.offsetHeight),ue=Ka(y,W,le,E);if(ue){if(ue!==S&&!(D instanceof MouseEvent)){const ce=Gs(ue);q.style.left=`${ce.x*12.5}%`,q.style.top=`${ce.y*12.5}%`,C.appendChild(q)}}else S&&(S="")}b.update(W=>({x:W.x+Z/t.clientWidth,y:W.y-H/t.clientWidth,scale:D instanceof MouseEvent?1:O}),{duration:0}),t.dispatchEvent(new CustomEvent("moving",{detail:{x:a,y:n}}))}}const M=l(I,10);function F(){const D=window.scrollX-f,Z=window.scrollY-g;f=window.scrollX,g=window.scrollY,b.update(H=>({x:H.x+D,y:H.y+Z,scale:1}),{duration:0})}function j(){window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",j),document.body.removeEventListener("mouseleave",j),window.removeEventListener("scroll",F),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",j),window.removeEventListener("touchcancel",j),s=null;const D=Math.floor((o+i)/t.offsetWidth),Z=Math.floor((u+r)/t.offsetHeight),H=Ka(y,D,Z,E);H&&H!==y&&t.dispatchEvent(new CustomEvent("dropped",{detail:H})),b.update(()=>({x:L,y:A,scale:1}),{duration:P}).then(()=>{t.dispatchEvent(new CustomEvent("animationEnded"))}),a=0,n=0,o=0,u=0,v=!1,t.style.removeProperty("cursor"),setTimeout(()=>{t.style.zIndex="10"},P),q.remove()}function ie(D){var H;if(D.preventDefault(),D instanceof MouseEvent&&D.button!==0||!(D instanceof MouseEvent)&&((H=D.touches)==null?void 0:H.length)>1)return;L=E?7-Xs(y[0]):Xs(y[0]),A=E?8-parseInt(y[1],10):parseInt(y[1],10)-1,S=y;const Z=D.target.getBoundingClientRect();!(D instanceof MouseEvent)&&D.touches[0]&&D.targetTouches[0]?(a=D.touches[0].clientX,n=D.touches[0].clientY,i=D.targetTouches[0].clientX-Z.x,r=D.targetTouches[0].clientY-Z.y):D instanceof MouseEvent&&(a=D.clientX,n=D.clientY,i=D.offsetX,r=D.offsetY),o=0,u=0,f=window.scrollX,g=window.scrollY,t.dispatchEvent(new CustomEvent("clicked")),window.addEventListener("mousemove",M),window.addEventListener("mouseup",j),document.body.addEventListener("mouseleave",j),window.addEventListener("scroll",F),window.addEventListener("touchmove",M),window.addEventListener("touchend",j)}function de(D){D.preventDefault()}function Te(D){D.preventDefault()}return t.addEventListener("contextmenu",de),t.addEventListener("dragstart",Te),c||(t.addEventListener("mousedown",ie),t.addEventListener("touchstart",ie)),{destroy(){t.removeEventListener("mousedown",ie),t.removeEventListener("touchstart",ie),t.removeEventListener("contextmenu",de),t.removeEventListener("dragstart",Te),window.clearTimeout(m)},update(D){y=D.startSquare,D.onlyShow!==c&&(c=D.onlyShow,c?(t.removeEventListener("mousedown",ie),t.removeEventListener("touchstart",ie)):(t.addEventListener("mousedown",ie),t.addEventListener("touchstart",ie))),E!==D.boardFlipped&&(q=Wa(t,O,D.boardFlipped)),E=D.boardFlipped}}}function ja(t){return Object.prototype.toString.call(t)==="[object Date]"}function Qs(t,e){if(t===e||t!==t)return()=>t;const s=typeof t;if(s!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const l=e.map((a,n)=>Qs(t[n],a));return a=>l.map(n=>n(a))}if(s==="object"){if(!t||!e)throw new Error("Object cannot be null");if(ja(t)&&ja(e)){t=t.getTime(),e=e.getTime();const n=e-t;return i=>new Date(t+i*n)}const l=Object.keys(e),a={};return l.forEach(n=>{a[n]=Qs(t[n],e[n])}),n=>{const i={};return l.forEach(r=>{i[r]=a[r](n)}),i}}if(s==="number"){const l=e-t;return a=>t+a*l}throw new Error(`Cannot interpolate ${s} values`)}function Si(t,e={}){const s=en(t);let l,a=t;function n(i,r){if(t==null)return s.set(t=i),Promise.resolve();a=i;let o=l,u=!1,{delay:f=0,duration:g=400,easing:v=Al,interpolate:m=Qs}=ds(ds({},e),r);if(g===0)return o&&(o.abort(),o=null),s.set(t=a),Promise.resolve();const C=Bl()+f;let S;return l=Hl(y=>{if(y<C)return!0;u||(S=m(t,i),typeof g=="function"&&(g=g(t,i)),u=!0),o&&(o.abort(),o=null);const E=y-C;return E>g?(s.set(t=i),!1):(s.set(t=S(v(E/g))),!0)}),l.promise}return{set:n,update:(i,r)=>n(i(a,t),r),subscribe:s.subscribe}}function Ci(t){let e,s,l,a,n;return{c(){e=w("img"),this.h()},l(i){e=k(i,"IMG",{style:!0,class:!0,src:!0,alt:!0}),this.h()},h(){ae(e,"left",t[5].x*12.5+"%"),ae(e,"bottom",t[5].y*12.5+"%"),ae(e,"z-Index",t[4]),ae(e,"opacity",t[3]?.3:1),d(e,"class","noselect "+(t[9]()?"cursor-pointer":"")+" svelte-1g241z"),At(e.src,s=js(t[1]))||d(e,"src",s),d(e,"alt",t[1])},m(i,r){B(i,e,r),a||(n=[Zs(l=Ti.call(null,e,{startSquare:t[0],onlyShow:!t[9](),boardFlipped:t[2],coords:t[7]})),Y(e,"dropped",t[8]),Y(e,"clicked",t[15]),Y(e,"startMoving",t[16]),Y(e,"animationEnded",t[17]),Y(e,"moving",t[18])],a=!0)},p(i,[r]){r&32&&ae(e,"left",i[5].x*12.5+"%"),r&32&&ae(e,"bottom",i[5].y*12.5+"%"),r&16&&ae(e,"z-Index",i[4]),r&8&&ae(e,"opacity",i[3]?.3:1),r&2&&!At(e.src,s=js(i[1]))&&d(e,"src",s),r&2&&d(e,"alt",i[1]),l&&Js(l.update)&&r&5&&l.update.call(null,{startSquare:i[0],onlyShow:!i[9](),boardFlipped:i[2],coords:i[7]})},i:oe,o:oe,d(i){i&&p(e),a=!1,Pt(n)}}}function Oi(t,e,s){let l,a,{square:n}=e,{name:i}=e,{getGridCoordsFromSquare:r}=e,{flipped:o}=e,{whiteToMove:u=!1}=e,{movable:f}=e,{ghostPiece:g=!1}=e,{easing:v="cubicInOut"}=e,{duration:m=120}=e;const C=$s();let S=m;const y=Si({x:0,y:0,scale:1},{duration:S,easing:Yn[v]});Kl(t,y,M=>s(5,a=M));let E=!1;const c=M=>M[0]==="w"?ee.WHITE:ee.BLACK,b=M=>{const F=r(M);y.update(()=>({x:F.x,y:F.y,scale:1}),{duration:E?S:0}),E||(E=!0),S=m},L=M=>{S=0,C("endDragging",M.detail),C("move",n+M.detail)},A=()=>f===!0||f!==!1&&f.enabled&&(f.color===c(i)||f.color===ee.BOTH&&(u&&c(i)===ee.WHITE||!u&&c(i)===ee.BLACK));function P(M){yt.call(this,t,M)}function O(M){yt.call(this,t,M)}function q(M){yt.call(this,t,M)}const I=M=>C("moving",M.detail);return t.$$set=M=>{"square"in M&&s(0,n=M.square),"name"in M&&s(1,i=M.name),"getGridCoordsFromSquare"in M&&s(10,r=M.getGridCoordsFromSquare),"flipped"in M&&s(2,o=M.flipped),"whiteToMove"in M&&s(11,u=M.whiteToMove),"movable"in M&&s(12,f=M.movable),"ghostPiece"in M&&s(3,g=M.ghostPiece),"easing"in M&&s(13,v=M.easing),"duration"in M&&s(14,m=M.duration)},t.$$.update=()=>{t.$$.dirty&5&&b(n),t.$$.dirty&4096&&s(4,l=typeof f=="boolean"?f?1:0:f.enabled?1:0)},[n,i,o,g,l,a,C,y,L,A,r,u,f,v,m,P,O,q,I]}class ql extends ze{constructor(e){super(),Be(this,e,Oi,Ci,He,{square:0,name:1,getGridCoordsFromSquare:10,flipped:2,whiteToMove:11,movable:12,ghostPiece:3,easing:13,duration:14})}}function Ga(t,e,s){const l=t.slice();return l[3]=e[s],l[5]=s,l}function Xa(t,e,s){const l=t.slice();return l[3]=e[s],l[5]=s,l}function Ya(t){let e,s=t[2][t[1]?Math.abs(t[5]-7):t[5]]+"",l,a;return{c(){e=w("span"),l=G(s),a=V(),this.h()},l(n){e=k(n,"SPAN",{style:!0,class:!0});var i=T(e);l=X(i,s),a=N(i),i.forEach(p),this.h()},h(){ae(e,"color",t[5]%2===0?Se.colors[t[0]].white:Se.colors[t[0]].black),d(e,"class","svelte-t3eav4")},m(n,i){B(n,e,i),h(e,l),h(e,a)},p(n,i){i&2&&s!==(s=n[2][n[1]?Math.abs(n[5]-7):n[5]]+"")&&ta(l,s),i&1&&ae(e,"color",n[5]%2===0?Se.colors[n[0]].white:Se.colors[n[0]].black)},d(n){n&&p(e)}}}function xa(t){let e,s=(t[1]?t[5]+1:Math.abs(t[5]-8))+"",l,a,n;return{c(){e=w("span"),l=G(s),a=V(),this.h()},l(i){e=k(i,"SPAN",{style:!0,class:!0});var r=T(e);l=X(r,s),a=N(r),r.forEach(p),this.h()},h(){ae(e,"color",t[5]%2===0?Se.colors[t[0]].white:Se.colors[t[0]].black),d(e,"class",n=Ma(t[1]?"":"text-right")+" svelte-t3eav4")},m(i,r){B(i,e,r),h(e,l),h(e,a)},p(i,r){r&2&&s!==(s=(i[1]?i[5]+1:Math.abs(i[5]-8))+"")&&ta(l,s),r&1&&ae(e,"color",i[5]%2===0?Se.colors[i[0]].white:Se.colors[i[0]].black),r&2&&n!==(n=Ma(i[1]?"":"text-right")+" svelte-t3eav4")&&d(e,"class",n)},d(i){i&&p(e)}}}function Ii(t){let e,s,l,a=t[2],n=[];for(let o=0;o<a.length;o+=1)n[o]=Ya(Xa(t,a,o));let i=t[2],r=[];for(let o=0;o<i.length;o+=1)r[o]=xa(Ga(t,i,o));return{c(){e=w("div");for(let o=0;o<n.length;o+=1)n[o].c();s=V(),l=w("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=k(o,"DIV",{class:!0});var u=T(e);for(let g=0;g<n.length;g+=1)n[g].l(u);u.forEach(p),s=N(o),l=k(o,"DIV",{class:!0});var f=T(l);for(let g=0;g<r.length;g+=1)r[g].l(f);f.forEach(p),this.h()},h(){d(e,"class","files noselect svelte-t3eav4"),d(l,"class","ranks noselect svelte-t3eav4")},m(o,u){B(o,e,u);for(let f=0;f<n.length;f+=1)n[f].m(e,null);B(o,s,u),B(o,l,u);for(let f=0;f<r.length;f+=1)r[f].m(l,null)},p(o,[u]){if(u&7){a=o[2];let f;for(f=0;f<a.length;f+=1){const g=Xa(o,a,f);n[f]?n[f].p(g,u):(n[f]=Ya(g),n[f].c(),n[f].m(e,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=a.length}if(u&3){i=o[2];let f;for(f=0;f<i.length;f+=1){const g=Ga(o,i,f);r[f]?r[f].p(g,u):(r[f]=xa(g),r[f].c(),r[f].m(l,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=i.length}},i:oe,o:oe,d(o){o&&p(e),dt(n,o),o&&p(s),o&&p(l),dt(r,o)}}}function Fi(t,e,s){let{theme:l}=e,{flipped:a}=e;const n=["a","b","c","d","e","f","g","h"];return t.$$set=i=>{"theme"in i&&s(0,l=i.theme),"flipped"in i&&s(1,a=i.flipped)},[l,a,n]}class qi extends ze{constructor(e){super(),Be(this,e,Fi,Ii,He,{theme:0,flipped:1})}}const Ri="8/8/8/8/8/8/8/8 w - - 0 1";class Di{constructor(e){this.letters={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},this.changeLegalHoverIfNeeded=s=>{s.color!==R.LEGAL&&s.color!==R.PREMOVE||this.state.pieces.forEach(l=>{l.square===s.square&&(s.color=s.color===R.LEGAL?R.LEGALHOVER:R.PREMOVEHOVER)})},this.highlightSquare=(s,l)=>{const a={square:s,color:l};this.state.markedSquares.forEach(n=>{n.square===s&&n.color!==R.MOVE&&n.color!==R.CHECK&&this.state.markedSquares.delete(n)}),this.changeLegalHoverIfNeeded(a),this.state.markedSquares.add(a)},this.legalHover=s=>{this.state.markedSquares.forEach(l=>{if(l.square===s&&l.color===R.LEGAL)l.color=R.LEGALHOVER;else if(l.square!==s&&l.color===R.LEGALHOVER){let a=!1;this.state.pieces.forEach(n=>{n.square===l.square&&(a=!0)}),a||(l.color=R.LEGAL)}})},this.preMoveHover=s=>{this.state.markedSquares.forEach(l=>{if(l.square===s&&l.color===R.PREMOVE)l.color=R.PREMOVEHOVER;else if(l.square!==s&&l.color===R.PREMOVEHOVER){let a=!1;this.state.pieces.forEach(n=>{n.square===l.square&&(a=!0)}),a||(l.color=R.PREMOVE)}})},this.toggleSquareHighlight=(s,l)=>{const a={square:s,color:l};let n=!1;return this.state.markedSquares.forEach(i=>{i.square===s&&(this.state.markedSquares.delete(i),i.color===l&&(n=!0))}),this.changeLegalHoverIfNeeded(a),n?!0:(this.state.markedSquares.add(a),!1)},this.getSelectedSquare=()=>{let s="";return this.state.markedSquares.forEach(l=>{l.color===R.SELECT&&(s=l.square)}),s},this.clearSquare=(s,l)=>{s.length===2&&this.state.markedSquares.forEach(a=>{a.square===s&&(a.color===l||l===void 0)&&this.state.markedSquares.delete(a)})},this.clearAllSquares=s=>{s===void 0?this.state.markedSquares.clear():this.state.markedSquares.forEach(l=>{l.color===s&&this.state.markedSquares.delete(l)})},this.setPiece=(s,l)=>{if(this.notValidThing({square:s,piece:l}))return;const a=this.state.pieces.find(n=>n.square===s);a?a.name=l:this.state.pieces.push({square:s,name:l})},this.removePiece=s=>{this.notValidThing({square:s})||this.state.pieces.forEach((l,a)=>{l.square===s&&this.state.pieces.splice(a,1)})},this.clearAllPieces=()=>{this.state.pieces.length=0},this.getGridCoordsFromSquare=s=>{if(this.notValidThing({square:s}))return{x:0,y:0};const l=s[0],a=s[1],n=this.state.board.flipped?Math.abs(this.letters[l]-7):this.letters[l],i=this.state.board.flipped?Math.abs(parseInt(a,10)-8):parseInt(a,10)-1;return typeof n!="number"||i<0||i>7?{x:0,y:0}:{x:n,y:i}},this.makeMove=s=>{if(this.notValidThing({move:s}))return;let l=!1,a;const n=s.substring(0,2),i=s.substring(2,4),r=s.substring(4);this.state.pieces.forEach(o=>{o.square===i&&(a=o,this.removePiece(o.square))}),this.state.pieces.forEach(o=>{o.square===n&&(o.square=i,l=!0,r&&(o.name=o.name[0]+r.toUpperCase()))}),l?this.state.legal.lastMove=s:a&&this.state.pieces.push(a)},this.getSquareFromIndices=(s,l)=>Object.keys(this.letters)[s]+(l+1).toString(),this.updatePiecesWithFen=s=>{const l=[...Array(8)].map(()=>Array(8).fill(null)),a=["1","2","3","4","5","6","7","8"];let n=0,i=0;for(let u=0;u<(s.includes(" ")?s.indexOf(" "):s.length);u++)if(s[u]==="/")n++,i=0;else if(!a.includes(s[u]))s[u]===s[u].toUpperCase()?l[n][i]=`w${s[u]}`:l[n][i]=`b${s[u].toUpperCase()}`,i++;else for(let f=0;f<parseInt(s[u],10);f++)l[n][i]=null,i++;const r=[],o=[];for(let u=0;u<l.length;++u)for(let f=0;f<l.length;++f){const g=l[u][f],v=this.getPieceFromSquare(this.getSquareFromIndices(f,Math.abs(u-7)));g&&!v&&r.push({square:this.getSquareFromIndices(f,Math.abs(u-7)),name:g}),!g&&v&&o.push(v),g&&v&&g!==v.name&&(r.push({square:this.getSquareFromIndices(f,Math.abs(u-7)),name:g}),o.push(v))}for(let u=0;u<o.length;u++)for(let f=0;f<r.length;f++)!r[f]||!o[u]||r[f].name===o[u].name&&(o[u].square=r[f].square,o.splice(u,1),u--,r.splice(f,1),f--);r.forEach(u=>{this.state.pieces.push(u)}),o.forEach(u=>{this.state.pieces.splice(this.state.pieces.indexOf(u),1)})},this.notValidThing=s=>{const{square:l,piece:a,move:n}=s;return!!(l&&l.length!==2||a&&a.length!==2||n&&n.length!==4&&n.length!==5)},this.setGhostPiece=s=>{this.state.draggable.ghostPiece.piece=s},this.removeGhostPiece=()=>{this.state.draggable.ghostPiece.piece=void 0},this.isCastling=s=>{switch(s){case"e1g1":case"e1c1":case"e8g8":case"e8c8":return!0;default:return!1}},this.getRookMoveIfIsCastling=s=>{switch(s){case"e1g1":return"h1f1";case"e1c1":return"a1d1";case"e8g8":return"h8f8";case"e8c8":return"a8d8";default:return}},this.isEnPassant=s=>{if(s[0]===s[2]||this.getPieceFromSquare(s.substring(2,4)))return!1;const l=this.getPieceFromSquare(s.substring(0,2));return!(l===void 0||l.name!=="wP"&&l.name!=="bP")},this.getCapturedPawnSquareIfIsEnPassant=s=>{if(s[0]===s[2]||this.getPieceFromSquare(s.substring(2,4)))return;const l=this.getPieceFromSquare(s.substring(0,2));if(l===void 0||l.name!=="wP"&&l.name!=="bP")return;const a=this.getPieceFromSquare(`${s[2]}${parseInt(s[3],10)+(l.name==="wP"?-1:1)}`);return a==null?void 0:a.square},this.isCapture=s=>!!this.getPieceFromSquare(s.substring(2,4)),this.isPromotion=s=>{if((s[1]!=="7"||s[3]!=="8")&&(s[1]!=="2"||s[3]!=="1"))return!1;const l=this.getPieceFromSquare(s.substring(0,2));return!(l&&(l.name[1]!=="P"||l.name[0]==="w"&&s[3]==="1"||l.name[0]==="b"&&s[3]==="8"))},this.callbackExists=s=>this.state.callbacks[s]!==void 0,this.flipBoard=s=>{s!==void 0?this.state.board.flipped=s:this.state.board.flipped=!this.state.board.flipped},this.setConfigSettings=s=>{this.state.setConfigSettings(s)},this.state=new sa(e),this.state.board.startFen&&this.updatePiecesWithFen(this.state.board.startFen)}getShortFEN(){if(this.state.pieces.length===0)return Ri;const e=[...Array(8)].map(()=>Array(8).fill(null));return this.state.pieces.forEach(s=>{e[gi(s.square[1])][Xs(s.square[0])]=s.name}),bi(e)}getPieceFromSquare(e){let s;return this.state.pieces.forEach(l=>{l.square===e&&(s=l)}),s}}function Qa(t,e,s){const l=t.slice();return l[66]=e[s],l}function Za(t,e,s){const l=t.slice();return l[69]=e[s],l}function Ja(t){let e=[],s=new Map,l,a,n=t[2].state.pieces;const i=r=>r[69];for(let r=0;r<n.length;r+=1){let o=Za(t,n,r),u=i(o);s.set(u,e[r]=$a(u,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=ne()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);l=ne()},m(r,o){for(let u=0;u<e.length;u+=1)e[u].m(r,o);B(r,l,o),a=!0},p(r,o){o[0]&55556&&(n=r[2].state.pieces,qe(),e=Pl(e,o,i,1,r,n,s,l.parentNode,Ll,$a,l,Za),Re())},i(r){if(!a){for(let o=0;o<n.length;o+=1)K(e[o]);a=!0}},o(r){for(let o=0;o<e.length;o+=1)x(e[o]);a=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&p(l)}}}function $a(t,e){let s,l,a;function n(){return e[47](e[69])}function i(){return e[48](e[69])}return l=new ql({props:{square:e[69].square,name:e[69].name,easing:e[2].state.draggable.transition.settings.easing,whiteToMove:e[2].state.legal.whiteToMove,movable:e[2].state.movable,getGridCoordsFromSquare:e[2].getGridCoordsFromSquare,flipped:e[2].state.board.flipped}}),l.$on("move",e[11]),l.$on("clicked",n),l.$on("startMoving",i),l.$on("moving",e[12]),l.$on("endDragging",e[49]),l.$on("animationEnded",e[14]),{key:t,first:null,c(){s=ne(),De(l.$$.fragment),this.h()},l(r){s=ne(),Ve(l.$$.fragment,r),this.h()},h(){this.first=s},m(r,o){B(r,s,o),Ne(l,r,o),a=!0},p(r,o){e=r;const u={};o[0]&4&&(u.square=e[69].square),o[0]&4&&(u.name=e[69].name),o[0]&4&&(u.easing=e[2].state.draggable.transition.settings.easing),o[0]&4&&(u.whiteToMove=e[2].state.legal.whiteToMove),o[0]&4&&(u.movable=e[2].state.movable),o[0]&4&&(u.getGridCoordsFromSquare=e[2].getGridCoordsFromSquare),o[0]&4&&(u.flipped=e[2].state.board.flipped),l.$set(u)},i(r){a||(K(l.$$.fragment,r),a=!0)},o(r){x(l.$$.fragment,r),a=!1},d(r){r&&p(s),Ue(l,r)}}}function el(t){let e,s;return e=new ql({props:{ghostPiece:!0,duration:0,square:t[2].state.draggable.ghostPiece.piece.square,name:t[2].state.draggable.ghostPiece.piece.name,movable:!1,getGridCoordsFromSquare:t[2].getGridCoordsFromSquare,flipped:t[2].state.board.flipped}}),{c(){De(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ne(e,l,a),s=!0},p(l,a){const n={};a[0]&4&&(n.square=l[2].state.draggable.ghostPiece.piece.square),a[0]&4&&(n.name=l[2].state.draggable.ghostPiece.piece.name),a[0]&4&&(n.getGridCoordsFromSquare=l[2].getGridCoordsFromSquare),a[0]&4&&(n.flipped=l[2].state.board.flipped),e.$set(n)},i(l){s||(K(e.$$.fragment,l),s=!0)},o(l){x(e.$$.fragment,l),s=!1},d(l){Ue(e,l)}}}function Vi(t){let e=[],s=new Map,l,a,n=[...t[2].state.markedSquares];const i=r=>r[66];for(let r=0;r<n.length;r+=1){let o=Qa(t,n,r),u=i(o);s.set(u,e[r]=tl(u,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=ne()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);l=ne()},m(r,o){for(let u=0;u<e.length;u+=1)e[u].m(r,o);B(r,l,o),a=!0},p(r,o){o[0]&5&&(n=[...r[2].state.markedSquares],qe(),e=Pl(e,o,i,1,r,n,s,l.parentNode,Ll,tl,l,Qa),Re())},i(r){if(!a){for(let o=0;o<n.length;o+=1)K(e[o]);a=!0}},o(r){for(let o=0;o<e.length;o+=1)x(e[o]);a=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&p(l)}}}function tl(t,e){let s,l,a;return l=new Li({props:{theme:e[2].state.board.boardTheme,square:e[66].square,color:e[66].color,getGridCoordsFromSquare:e[2].getGridCoordsFromSquare,flipped:e[2].state.board.flipped}}),l.$on("dragenter",e[50]),{key:t,first:null,c(){s=ne(),De(l.$$.fragment),this.h()},l(n){s=ne(),Ve(l.$$.fragment,n),this.h()},h(){this.first=s},m(n,i){B(n,s,i),Ne(l,n,i),a=!0},p(n,i){e=n;const r={};i[0]&4&&(r.theme=e[2].state.board.boardTheme),i[0]&4&&(r.square=e[66].square),i[0]&4&&(r.color=e[66].color),i[0]&4&&(r.getGridCoordsFromSquare=e[2].getGridCoordsFromSquare),i[0]&4&&(r.flipped=e[2].state.board.flipped),l.$set(r)},i(n){a||(K(l.$$.fragment,n),a=!0)},o(n){x(l.$$.fragment,n),a=!1},d(n){n&&p(s),Ue(l,n)}}}function sl(t){let e,s;return e=new qi({props:{theme:t[2].state.board.boardTheme,flipped:t[2].state.board.flipped}}),{c(){De(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ne(e,l,a),s=!0},p(l,a){const n={};a[0]&4&&(n.theme=l[2].state.board.boardTheme),a[0]&4&&(n.flipped=l[2].state.board.flipped),e.$set(n)},i(l){s||(K(e.$$.fragment,l),s=!0)},o(l){x(e.$$.fragment,l),s=!1},d(l){Ue(e,l)}}}function al(t){let e,s;return e=new fn({props:{chessboard:t[2],setSize:t[1]}}),{c(){De(e.$$.fragment)},l(l){Ve(e.$$.fragment,l)},m(l,a){Ne(e,l,a),s=!0},p(l,a){const n={};a[0]&4&&(n.chessboard=l[2]),e.$set(n)},i(l){s||(K(e.$$.fragment,l),s=!0)},o(l){x(e.$$.fragment,l),s=!1},d(l){Ue(e,l)}}}function ll(t){let e,s,l;function a(i){t[51](i)}let n={flipped:t[2].state.board.flipped,computerArrows:t[7],LshapeKnightMove:t[2].state.drawTools.settings.LshapeKnightMove};return t[4]!==void 0&&(n.svg=t[4]),e=new yi({props:n}),Le.push(()=>Ks(e,"svg",a)),{c(){De(e.$$.fragment)},l(i){Ve(e.$$.fragment,i)},m(i,r){Ne(e,i,r),l=!0},p(i,r){const o={};r[0]&4&&(o.flipped=i[2].state.board.flipped),r[0]&128&&(o.computerArrows=i[7]),r[0]&4&&(o.LshapeKnightMove=i[2].state.drawTools.settings.LshapeKnightMove),!s&&r[0]&16&&(s=!0,o.svg=i[4],Ws(()=>s=!1)),e.$set(o)},i(i){l||(K(e.$$.fragment,i),l=!0)},o(i){x(e.$$.fragment,i),l=!1},d(i){Ue(e,i)}}}function nl(t){let e,s,l={};return e=new di({props:l}),t[52](e),e.$on("newPromotion",t[13]),{c(){De(e.$$.fragment)},l(a){Ve(e.$$.fragment,a)},m(a,n){Ne(e,a,n),s=!0},p(a,n){const i={};e.$set(i)},i(a){s||(K(e.$$.fragment,a),s=!0)},o(a){x(e.$$.fragment,a),s=!1},d(a){t[52](null),Ue(e,a)}}}function il(t){let e,s,l={settings:t[2].state.sounds.settings};return e=new _n({props:l}),t[57](e),{c(){De(e.$$.fragment)},l(a){Ve(e.$$.fragment,a)},m(a,n){Ne(e,a,n),s=!0},p(a,n){const i={};n[0]&4&&(i.settings=a[2].state.sounds.settings),e.$set(i)},i(a){s||(K(e.$$.fragment,a),s=!0)},o(a){x(e.$$.fragment,a),s=!1},d(a){t[57](null),Ue(e,a)}}}function Ni(t){let e,s,l,a,n=t[9](),i,r,o,u,f,g,v,m,C,S,y,E,c=t[2].state.board.startFen&&Ja(t),b=t[2].state.draggable.ghostPiece.enabled&&t[2].state.draggable.ghostPiece.piece!==void 0&&el(t),L=n&&Vi(t),A=t[2].state.board.notation&&sl(t),P=t[2].state.resizible.enabled&&al(t),O=t[2].state.drawTools.enabled&&ll(t),q=t[2].state.legal.enabled&&nl(t),I=t[2].state.sounds.enabled&&il(t);return{c(){e=w("div"),s=w("div"),c&&c.c(),l=V(),b&&b.c(),a=V(),L&&L.c(),i=V(),A&&A.c(),r=V(),P&&P.c(),o=V(),O&&O.c(),u=V(),q&&q.c(),m=V(),I&&I.c(),C=ne(),this.h()},l(M){e=k(M,"DIV",{class:!0,style:!0});var F=T(e);s=k(F,"DIV",{class:!0});var j=T(s);c&&c.l(j),j.forEach(p),l=N(F),b&&b.l(F),a=N(F),L&&L.l(F),i=N(F),A&&A.l(F),r=N(F),P&&P.l(F),o=N(F),O&&O.l(F),u=N(F),q&&q.l(F),F.forEach(p),m=N(M),I&&I.l(M),C=ne(),this.h()},h(){d(s,"class","noselect h-full w-full"),d(e,"class",f="noselect lg:rounded board text-xs"+(t[2].state.board.shadow?" shadow-lg":"")+" sm:text-sm svelte-wzcws1"),ae(e,"--boardTheme","url("+(t[2].state.board.boardTheme==="standard"?Ca:Sa)+")"),Kt(()=>t[56].call(e))},m(M,F){B(M,e,F),h(e,s),c&&c.m(s,null),h(e,l),b&&b.m(e,null),h(e,a),L&&L.m(e,null),h(e,i),A&&A.m(e,null),h(e,r),P&&P.m(e,null),h(e,o),O&&O.m(e,null),h(e,u),q&&q.m(e,null),t[55](e),v=Wl(e,t[56].bind(e)),B(M,m,F),I&&I.m(M,F),B(M,C,F),S=!0,y||(E=[Y(e,"pointerdown",t[10]),Y(e,"contextmenu",ya(t[45])),Y(e,"drag",ya(t[46])),Zs(g=wi.call(null,e,{svg:t[4],flipped:t[2].state.board.flipped,enabled:t[2].state.drawTools.enabled,settings:t[2].state.drawTools.settings})),Y(e,"drawCircle",t[53]),Y(e,"drawArrow",t[54])],y=!0)},p(M,F){M[2].state.board.startFen?c?(c.p(M,F),F[0]&4&&K(c,1)):(c=Ja(M),c.c(),K(c,1),c.m(s,null)):c&&(qe(),x(c,1,1,()=>{c=null}),Re()),M[2].state.draggable.ghostPiece.enabled&&M[2].state.draggable.ghostPiece.piece!==void 0?b?(b.p(M,F),F[0]&4&&K(b,1)):(b=el(M),b.c(),K(b,1),b.m(e,a)):b&&(qe(),x(b,1,1,()=>{b=null}),Re()),n&&L.p(M,F),M[2].state.board.notation?A?(A.p(M,F),F[0]&4&&K(A,1)):(A=sl(M),A.c(),K(A,1),A.m(e,r)):A&&(qe(),x(A,1,1,()=>{A=null}),Re()),M[2].state.resizible.enabled?P?(P.p(M,F),F[0]&4&&K(P,1)):(P=al(M),P.c(),K(P,1),P.m(e,o)):P&&(qe(),x(P,1,1,()=>{P=null}),Re()),M[2].state.drawTools.enabled?O?(O.p(M,F),F[0]&4&&K(O,1)):(O=ll(M),O.c(),K(O,1),O.m(e,u)):O&&(qe(),x(O,1,1,()=>{O=null}),Re()),M[2].state.legal.enabled?q?(q.p(M,F),F[0]&4&&K(q,1)):(q=nl(M),q.c(),K(q,1),q.m(e,null)):q&&(qe(),x(q,1,1,()=>{q=null}),Re()),(!S||F[0]&4&&f!==(f="noselect lg:rounded board text-xs"+(M[2].state.board.shadow?" shadow-lg":"")+" sm:text-sm svelte-wzcws1"))&&d(e,"class",f),(!S||F[0]&4)&&ae(e,"--boardTheme","url("+(M[2].state.board.boardTheme==="standard"?Ca:Sa)+")"),g&&Js(g.update)&&F[0]&20&&g.update.call(null,{svg:M[4],flipped:M[2].state.board.flipped,enabled:M[2].state.drawTools.enabled,settings:M[2].state.drawTools.settings}),M[2].state.sounds.enabled?I?(I.p(M,F),F[0]&4&&K(I,1)):(I=il(M),I.c(),K(I,1),I.m(C.parentNode,C)):I&&(qe(),x(I,1,1,()=>{I=null}),Re())},i(M){S||(K(c),K(b),K(L),K(A),K(P),K(O),K(q),K(I),S=!0)},o(M){x(c),x(b),x(L),x(A),x(P),x(O),x(q),x(I),S=!1},d(M){M&&p(e),c&&c.d(),b&&b.d(),L&&L.d(),A&&A.d(),P&&P.d(),O&&O.d(),q&&q.d(),t[55](null),v(),M&&p(m),I&&I.d(M),M&&p(C),y=!1,Pt(E)}}}function Ui(t,e,s){let{config:l}=e;const a=new Di(l),n=$s();let i,r,o,u,f="";jl(()=>{document.documentElement.hasAttribute("style")&&a.state.resizible.enabled&&document.documentElement.removeAttribute("style")});let g=[],v={[ee.WHITE]:"",[ee.BLACK]:""};const m=_=>{a.clearAllSquares(_),_===R.LEGAL&&a.clearAllSquares(R.LEGALHOVER),_===R.PREMOVE&&a.clearAllSquares(R.PREMOVEHOVER),s(2,a)},C=(_,U)=>{a.highlightSquare(_,U),s(2,a)},S=_=>a.state.highlight.enabled&&(_===void 0||a.state.highlight.settings[_]),y=_=>{m(R.CHECK),_!==void 0&&S("check")&&C(v[_],R.CHECK),s(2,a)},E=_=>{a.flipBoard(_),s(2,a)},c=(_,U)=>{_.forEach(J=>a.highlightSquare(J,U)),s(2,a)},b=(_,U=R.MOVE)=>{_.length<4||c([_.substring(0,2),_.substring(2,4)],U)},L=(_,U=R.MOVE)=>{const J=[];_.forEach(te=>{te.length<4||(J.push(te.substring(0,2)),J.push(te.substring(2,4)))}),c(J,U)},A=_=>{C(_.substring(2,4),R.LEGAL)},P=_=>{m(R.LEGAL),L(_,R.LEGAL)},O=(_,U=!0)=>{a.makeMove(_),U&&(m(R.MOVE),S("move")&&b(_)),s(2,a)},q=_=>{a.removePiece(_),s(2,a)},I=_=>_[0]==="w"?ee.WHITE:ee.BLACK,M=()=>a.state.movable.enabled&&(a.state.movable.color===ee.BOTH||a.state.legal.whiteToMove&&a.state.movable.color===I("w")||!a.state.legal.whiteToMove&&a.state.movable.color===I("b")),F=()=>{!a.state.legal.enabled||(a.state.callbacks.getWhiteToMove&&s(2,a.state.legal.whiteToMove=a.state.callbacks.getWhiteToMove(),a),a.state.callbacks.getPreMoves&&!M()&&a.state.legal.preMoves.enabled?s(2,a.state.legal.preMoves.moves=a.state.callbacks.getPreMoves(),a):s(2,a.state.legal.preMoves.moves.length=0,a),a.state.callbacks.getLegalMoves&&M()?s(2,a.state.legal.moves=a.state.callbacks.getLegalMoves(),a):s(2,a.state.legal.moves.length=0,a),M()&&a.state.selectable.selectedPiece!==void 0&&a.state.legal.preMoves.enabled&&(m(R.PREMOVE),m(R.LEGAL),S("legal")&&a.state.legal.moves.forEach(_=>{a.state.selectable.selectedPiece&&_.substring(0,2)===a.state.selectable.selectedPiece.square&&C(_.substring(2,4),R.LEGAL)})),a.state.callbacks.getKingLocations&&(v=a.state.callbacks.getKingLocations()),a.state.callbacks.getInCheck&&y(a.state.callbacks.getInCheck()))},j=_=>{if(_.substring(0,2)===_.substring(2,4))return;a.state.callbacks.beforeMove&&a.state.callbacks.beforeMove(_),m(R.LEGAL),m(R.SELECT);const U=a.getRookMoveIfIsCastling(_),J=a.getCapturedPawnSquareIfIsEnPassant(_);if(U&&a.state.legal.enabled&&a.state.legal.settings.allowCastling?(O(U,!1),o.playMoveSound("CASTLE")):J&&a.state.legal.enabled&&a.state.legal.settings.allowEnPassant?(q(J),o.playMoveSound("CAPTURE")):a.isCapture(_)?o.playMoveSound("CAPTURE"):o.playMoveSound("MOVE"),a.removeGhostPiece(),s(2,a),O(_),a.state.callbacks.afterMove&&a.state.callbacks.afterMove(_),F(),a.state.legal.enabled&&a.state.legal.preMoves.enabled&&a.state.legal.preMoves.curMove!==""){if(a.state.legal.moves.includes(a.state.legal.preMoves.curMove)||a.state.legal.moves.includes(`${a.state.legal.preMoves.curMove}q`)){const te=a.state.legal.preMoves.curMove;s(2,a.state.legal.preMoves.curMove="",a),Gl().then(()=>{j(te)})}m(R.NEXTMOVE)}},ie=_=>{!a.state.legal.enabled||!a.state.legal.preMoves.enabled||!a.state.movable.enabled||(m(R.PREMOVE),m(R.NEXTMOVE),a.state.highlight.enabled&&a.state.highlight.settings.nextMove&&b(_,R.NEXTMOVE),s(2,a.state.legal.preMoves.curMove=_,a),n("nextMove",{move:_}))},de=_=>{u.openPromotionModal(!0),f=_,a.makeMove(_),m(R.LEGAL),m(R.SELECT),m(R.MOVE),b(_)},Te=(_,U)=>{a.clearSquare(_,U),s(2,a)},D=()=>{a.clearAllPieces(),s(2,a)},Z=(_,U)=>{a.setPiece(_,U),s(2,a)},H=(_,U)=>{var te;const J=(te=a.getPieceFromSquare(_))==null?void 0:te.name;!J||(U!==void 0?a.setPiece(_,`${U===ee.WHITE?"w":"b"}${J[1]}`):a.setPiece(_,`${J[0]==="w"?"b":"w"}${J[1]}`),s(2,a))},W=(_,U)=>{const J=Math.floor(_/a.state.board.size*8),te=Math.floor(U/a.state.board.size*8),re=a.state.board.flipped?Math.abs(J-7):J,se=a.state.board.flipped?te:Math.abs(te-7);return Object.keys(a.letters)[re]+(se+1).toString()},le=_=>a.state.movable.enabled?!!(a.state.legal.enabled&&a.state.legal.preMoves.enabled&&(a.state.movable.color===ee.BOTH||a.state.movable.color===I(_))||a.state.movable.color===ee.BOTH||a.state.movable.color===I(_)):!1,ue=_=>{if(_.button===2){m(),s(2,a.state.selectable.selectedPiece=void 0,a);return}const U=i.getBoundingClientRect(),J=_.clientX-U.left,te=_.clientY-U.top,re=W(J,te),se=a.getPieceFromSquare(re);if(n("squareClick",{square:re,piece:se?se.name:void 0}),!a.state.legal.enabled||!a.state.selectable.enabled){s(2,a.state.selectable.selectedPiece=void 0,a);return}if(a.state.selectable.selectedPiece!==void 0&&a.state.selectable.selectedPiece.square!==re&&!a.state.legal.enabled){j(a.state.selectable.selectedPiece.square+re),s(2,a.state.selectable.selectedPiece=void 0,a);return}if(a.state.selectable.selectedPiece!==void 0&&a.state.selectable.selectedPiece.square!==re&&(se===void 0||se.name[0]!==a.state.selectable.selectedPiece.name[0])){a.isPromotion(a.state.selectable.selectedPiece.square+re)&&a.state.legal.moves.includes(`${a.state.selectable.selectedPiece.square+re}q`)?de(a.state.selectable.selectedPiece.square+re):a.state.legal.moves.includes(a.state.selectable.selectedPiece.square+re)?j(a.state.selectable.selectedPiece.square+re):a.state.legal.preMoves.enabled&&a.state.legal.preMoves.moves.includes(a.state.selectable.selectedPiece.square+re)?ie(a.state.selectable.selectedPiece.square+re):(m(R.LEGAL),m(R.PREMOVE),m(R.SELECT)),s(2,a.state.selectable.selectedPiece=void 0,a);return}if(a.state.selectable.selectedPiece!==se&&se!==void 0&&a.state.movable.enabled&&(a.state.movable.color===ee.BOTH||a.state.movable.color===I(se.name))){S("legal")&&a.state.legal&&M()&&(m(R.LEGAL),a.state.legal.moves.forEach(Me=>{Me.substring(0,2)===re&&C(Me.substring(2,4),R.LEGAL)})),S("preMove")&&a.state.legal.enabled&&a.state.legal.preMoves.enabled&&a.state.movable.color!==ee.BOTH&&!M()&&(m(R.PREMOVE),a.state.highlight.enabled&&a.state.highlight.settings.preMove&&a.state.legal.preMoves.moves.forEach(Me=>{Me.substring(0,2)===re&&C(Me.substring(2,4),R.PREMOVE)})),S("select")&&(a.state.legal.enabled&&le(se.name[0])||!a.state.legal.enabled)&&(m(R.SELECT),C(re,R.SELECT)),(a.state.legal.enabled&&le(se.name[0])||!a.state.legal.enabled)&&s(2,a.state.selectable.selectedPiece=se,a);return}a.state.selectable.selectedPiece!==void 0&&a.state.selectable.selectedPiece===se&&(m(R.LEGAL),m(R.PREMOVE),m(R.SELECT),s(2,a.state.selectable.selectedPiece=void 0,a))},ce=_=>{const U=_.detail;if(U.substring(0,2)===U.substring(2,4)){C(U.substring(0,2),R.SELECT),s(2,a);return}a.state.legal.enabled?a.isPromotion(U)&&a.state.legal.moves.includes(`${U}q`)?de(U):a.state.legal.moves.includes(U)?j(U):a.state.legal.preMoves.enabled&&a.state.legal.preMoves.moves.includes(U)&&ie(U):j(U),m(R.LEGAL),m(R.PREMOVE),s(2,a)},Ce=(_,U="MOVE")=>{if(a.updatePiecesWithFen(_),m(),a.removeGhostPiece(),F(),a.state.callbacks.getLastMove){const J=a.state.callbacks.getLastMove();U!=="MOVE"?o.playMoveSound(U):a.isCastling(J)?o.playMoveSound("CASTLE"):o.playMoveSound(U),b(J)}else o.playMoveSound(U);s(2,a),s(2,a)},Ee=()=>a.getShortFEN(),ye=_=>{!_||a.state.board.size===_||(s(2,a.state.board.size=_,a),a.state.resizible.enabled&&document.documentElement.style.setProperty("--boardSize",`${a.state.board.size}px`))},Ke=_=>{var U;return(U=a.getPieceFromSquare(_))==null?void 0:U.name},we=_=>{s(7,g=_)},We=()=>{s(7,g.length=0,g)},ke=()=>{F()},Ae=_=>{_===!1?s(2,a.state.movable.enabled=!1,a):(s(2,a.state.movable.enabled=!0,a),s(2,a.state.movable.color=_===!0?ee.BOTH:_,a))},fe=_=>{_!==void 0&&(a.setConfigSettings(_),s(2,a))},ft=()=>a.state,Pe=_=>{s(2,a.state=_,a)},qt=_=>Sl(_),Rt=_=>{const U=i.getBoundingClientRect();a.state.legal.enabled&&(M()&&a.legalHover(W(_.detail.x-U.x,_.detail.y-U.y)),!M()&&a.state.legal.preMoves.enabled&&a.preMoveHover(W(_.detail.x-U.x,_.detail.y-U.y))),s(2,a)},Dt=_=>{const U=a.getPieceFromSquare(f.substring(2,4));if(!U)return;const J=U.name[0]+_.detail.toUpperCase(),te=f+_.detail;a.state.callbacks.beforeMove&&a.state.callbacks.beforeMove(te),a.setPiece(U.square,J),s(2,a),o.playMoveSound("MOVE"),a.state.callbacks.afterMove&&a.state.callbacks.afterMove(te),F()},je=_=>{a.setGhostPiece(_),s(2,a)},Vt=()=>{a.removeGhostPiece(),s(2,a)},Ge=_=>{a.state.draggable.ghostPiece&&je(_),m(R.SELECT),a.state.selectable.selectedPiece===void 0&&S("legal")&&a.state.legal.moves.forEach(U=>{U.substring(0,2)===_.square&&C(U.substring(2,4),R.LEGAL)})};ea(()=>{F(),a.state.callbacks.getLastMove&&b(a.state.callbacks.getLastMove()),a.state.resizible&&ye(a.state.board.size-a.state.board.size%8)});function Xe(_){yt.call(this,t,_)}function Oe(_){yt.call(this,t,_)}const Nt=_=>{n("piececlick",{piece:_})},Ye=_=>{n("startDragging",{piece:_}),Ge(_)},Ut=()=>{n("endDragging"),s(2,a.state.selectable.selectedPiece=void 0,a)},zt=_=>{C(_.detail.square,R.LEGALHOVER)};function xe(_){r=_,s(4,r)}function Bt(_){Le[_?"unshift":"push"](()=>{u=_,s(6,u)})}const Ie=_=>n("drawCircle",{square:_.detail.square,color:_.detail.color}),Qe=_=>n("drawArrow",{move:_.detail.move,color:_.detail.color});function Fe(_){Le[_?"unshift":"push"](()=>{i=_,s(3,i)})}function Ht(){a.state.board.size=this.clientWidth,s(2,a)}function Ze(_){Le[_?"unshift":"push"](()=>{o=_,s(5,o)})}return t.$$set=_=>{"config"in _&&s(16,l=_.config)},t.$$.update=()=>{t.$$.dirty[0]&4&&ye(a.state.board.size-a.state.board.size%8)},[C,ye,a,i,r,o,u,g,n,S,ue,ce,Rt,Dt,Vt,Ge,l,m,E,c,b,L,A,P,O,q,j,ie,de,Te,D,Z,H,W,Ce,Ee,Ke,we,We,ke,Ae,fe,ft,Pe,qt,Xe,Oe,Nt,Ye,Ut,zt,xe,Bt,Ie,Qe,Fe,Ht,Ze]}class zi extends ze{constructor(e){super(),Be(this,e,Ui,Ni,He,{config:16,clearAllSquares:17,highlightSquare:0,flipBoard:18,highlightManySquares:19,highlightMove:20,highlightManyMoves:21,highlightLegalMove:22,highlightLegalMoves:23,movePiece:24,removePiece:25,makeMove:26,makeNextMove:27,makeMovePromotion:28,removeSquareHighlight:29,removeAllPiece:30,createPiece:31,changeColorOfPiece:32,getSquareFromCoords:33,setFEN:34,getShortFEN:35,setSize:1,getPieceFromSquare:36,setComputerArrows:37,removeComputerArrows:38,updateLegalState:39,setMovableColor:40,setConfigSettings:41,getState:42,setState:43,getConfigFromState:44},null,[-1,-1,-1])}get clearAllSquares(){return this.$$.ctx[17]}get highlightSquare(){return this.$$.ctx[0]}get flipBoard(){return this.$$.ctx[18]}get highlightManySquares(){return this.$$.ctx[19]}get highlightMove(){return this.$$.ctx[20]}get highlightManyMoves(){return this.$$.ctx[21]}get highlightLegalMove(){return this.$$.ctx[22]}get highlightLegalMoves(){return this.$$.ctx[23]}get movePiece(){return this.$$.ctx[24]}get removePiece(){return this.$$.ctx[25]}get makeMove(){return this.$$.ctx[26]}get makeNextMove(){return this.$$.ctx[27]}get makeMovePromotion(){return this.$$.ctx[28]}get removeSquareHighlight(){return this.$$.ctx[29]}get removeAllPiece(){return this.$$.ctx[30]}get createPiece(){return this.$$.ctx[31]}get changeColorOfPiece(){return this.$$.ctx[32]}get getSquareFromCoords(){return this.$$.ctx[33]}get setFEN(){return this.$$.ctx[34]}get getShortFEN(){return this.$$.ctx[35]}get setSize(){return this.$$.ctx[1]}get getPieceFromSquare(){return this.$$.ctx[36]}get setComputerArrows(){return this.$$.ctx[37]}get removeComputerArrows(){return this.$$.ctx[38]}get updateLegalState(){return this.$$.ctx[39]}get setMovableColor(){return this.$$.ctx[40]}get setConfigSettings(){return this.$$.ctx[41]}get getState(){return this.$$.ctx[42]}get setState(){return this.$$.ctx[43]}get getConfigFromState(){return this.$$.ctx[44]}}typeof window<"u"&&(window.Prism&&console.warn("Prism has already been initiated. Please ensure that svelte-prism is imported first."),window.Prism=window.Prism||{},window.Prism.manual=!0);var rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rl={exports:{}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var s=function(l){var a=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,i={},r={manual:l.Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function c(b){return b instanceof o?new o(b.type,c(b.content),b.alias):Array.isArray(b)?b.map(c):b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(c){return Object.prototype.toString.call(c).slice(8,-1)},objId:function(c){return c.__id||Object.defineProperty(c,"__id",{value:++n}),c.__id},clone:function c(b,L){L=L||{};var A,P;switch(r.util.type(b)){case"Object":if(P=r.util.objId(b),L[P])return L[P];A={},L[P]=A;for(var O in b)b.hasOwnProperty(O)&&(A[O]=c(b[O],L));return A;case"Array":return P=r.util.objId(b),L[P]?L[P]:(A=[],L[P]=A,b.forEach(function(q,I){A[I]=c(q,L)}),A);default:return b}},getLanguage:function(c){for(;c;){var b=a.exec(c.className);if(b)return b[1].toLowerCase();c=c.parentElement}return"none"},setLanguage:function(c,b){c.className=c.className.replace(RegExp(a,"gi"),""),c.classList.add("language-"+b)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(A){var c=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(A.stack)||[])[1];if(c){var b=document.getElementsByTagName("script");for(var L in b)if(b[L].src==c)return b[L]}return null}},isActive:function(c,b,L){for(var A="no-"+b;c;){var P=c.classList;if(P.contains(b))return!0;if(P.contains(A))return!1;c=c.parentElement}return!!L}},languages:{plain:i,plaintext:i,text:i,txt:i,extend:function(c,b){var L=r.util.clone(r.languages[c]);for(var A in b)L[A]=b[A];return L},insertBefore:function(c,b,L,A){A=A||r.languages;var P=A[c],O={};for(var q in P)if(P.hasOwnProperty(q)){if(q==b)for(var I in L)L.hasOwnProperty(I)&&(O[I]=L[I]);L.hasOwnProperty(q)||(O[q]=P[q])}var M=A[c];return A[c]=O,r.languages.DFS(r.languages,function(F,j){j===M&&F!=c&&(this[F]=O)}),O},DFS:function c(b,L,A,P){P=P||{};var O=r.util.objId;for(var q in b)if(b.hasOwnProperty(q)){L.call(b,q,b[q],A||q);var I=b[q],M=r.util.type(I);M==="Object"&&!P[O(I)]?(P[O(I)]=!0,c(I,L,null,P)):M==="Array"&&!P[O(I)]&&(P[O(I)]=!0,c(I,L,q,P))}}},plugins:{},highlightAll:function(c,b){r.highlightAllUnder(document,c,b)},highlightAllUnder:function(c,b,L){var A={callback:L,container:c,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",A),A.elements=Array.prototype.slice.apply(A.container.querySelectorAll(A.selector)),r.hooks.run("before-all-elements-highlight",A);for(var P=0,O;O=A.elements[P++];)r.highlightElement(O,b===!0,A.callback)},highlightElement:function(c,b,L){var A=r.util.getLanguage(c),P=r.languages[A];r.util.setLanguage(c,A);var O=c.parentElement;O&&O.nodeName.toLowerCase()==="pre"&&r.util.setLanguage(O,A);var q=c.textContent,I={element:c,language:A,grammar:P,code:q};function M(j){I.highlightedCode=j,r.hooks.run("before-insert",I),I.element.innerHTML=I.highlightedCode,r.hooks.run("after-highlight",I),r.hooks.run("complete",I),L&&L.call(I.element)}if(r.hooks.run("before-sanity-check",I),O=I.element.parentElement,O&&O.nodeName.toLowerCase()==="pre"&&!O.hasAttribute("tabindex")&&O.setAttribute("tabindex","0"),!I.code){r.hooks.run("complete",I),L&&L.call(I.element);return}if(r.hooks.run("before-highlight",I),!I.grammar){M(r.util.encode(I.code));return}if(b&&l.Worker){var F=new Worker(r.filename);F.onmessage=function(j){M(j.data)},F.postMessage(JSON.stringify({language:I.language,code:I.code,immediateClose:!0}))}else M(r.highlight(I.code,I.grammar,I.language))},highlight:function(c,b,L){var A={code:c,grammar:b,language:L};if(r.hooks.run("before-tokenize",A),!A.grammar)throw new Error('The language "'+A.language+'" has no grammar.');return A.tokens=r.tokenize(A.code,A.grammar),r.hooks.run("after-tokenize",A),o.stringify(r.util.encode(A.tokens),A.language)},tokenize:function(c,b){var L=b.rest;if(L){for(var A in L)b[A]=L[A];delete b.rest}var P=new g;return v(P,P.head,c),f(c,P,b,P.head,0),C(P)},hooks:{all:{},add:function(c,b){var L=r.hooks.all;L[c]=L[c]||[],L[c].push(b)},run:function(c,b){var L=r.hooks.all[c];if(!(!L||!L.length))for(var A=0,P;P=L[A++];)P(b)}},Token:o};l.Prism=r;function o(c,b,L,A){this.type=c,this.content=b,this.alias=L,this.length=(A||"").length|0}o.stringify=function c(b,L){if(typeof b=="string")return b;if(Array.isArray(b)){var A="";return b.forEach(function(M){A+=c(M,L)}),A}var P={type:b.type,content:c(b.content,L),tag:"span",classes:["token",b.type],attributes:{},language:L},O=b.alias;O&&(Array.isArray(O)?Array.prototype.push.apply(P.classes,O):P.classes.push(O)),r.hooks.run("wrap",P);var q="";for(var I in P.attributes)q+=" "+I+'="'+(P.attributes[I]||"").replace(/"/g,"&quot;")+'"';return"<"+P.tag+' class="'+P.classes.join(" ")+'"'+q+">"+P.content+"</"+P.tag+">"};function u(c,b,L,A){c.lastIndex=b;var P=c.exec(L);if(P&&A&&P[1]){var O=P[1].length;P.index+=O,P[0]=P[0].slice(O)}return P}function f(c,b,L,A,P,O){for(var q in L)if(!(!L.hasOwnProperty(q)||!L[q])){var I=L[q];I=Array.isArray(I)?I:[I];for(var M=0;M<I.length;++M){if(O&&O.cause==q+","+M)return;var F=I[M],j=F.inside,ie=!!F.lookbehind,de=!!F.greedy,Te=F.alias;if(de&&!F.pattern.global){var D=F.pattern.toString().match(/[imsuy]*$/)[0];F.pattern=RegExp(F.pattern.source,D+"g")}for(var Z=F.pattern||F,H=A.next,W=P;H!==b.tail&&!(O&&W>=O.reach);W+=H.value.length,H=H.next){var le=H.value;if(b.length>c.length)return;if(!(le instanceof o)){var ue=1,ce;if(de){if(ce=u(Z,W,c,ie),!ce||ce.index>=c.length)break;var Ke=ce.index,Ce=ce.index+ce[0].length,Ee=W;for(Ee+=H.value.length;Ke>=Ee;)H=H.next,Ee+=H.value.length;if(Ee-=H.value.length,W=Ee,H.value instanceof o)continue;for(var ye=H;ye!==b.tail&&(Ee<Ce||typeof ye.value=="string");ye=ye.next)ue++,Ee+=ye.value.length;ue--,le=c.slice(W,Ee),ce.index-=W}else if(ce=u(Z,0,le,ie),!ce)continue;var Ke=ce.index,we=ce[0],We=le.slice(0,Ke),ke=le.slice(Ke+we.length),Ae=W+le.length;O&&Ae>O.reach&&(O.reach=Ae);var fe=H.prev;We&&(fe=v(b,fe,We),W+=We.length),m(b,fe,ue);var ft=new o(q,j?r.tokenize(we,j):we,Te,we);if(H=v(b,fe,ft),ke&&v(b,H,ke),ue>1){var Pe={cause:q+","+M,reach:Ae};f(c,b,L,H.prev,W,Pe),O&&Pe.reach>O.reach&&(O.reach=Pe.reach)}}}}}}function g(){var c={value:null,prev:null,next:null},b={value:null,prev:c,next:null};c.next=b,this.head=c,this.tail=b,this.length=0}function v(c,b,L){var A=b.next,P={value:L,prev:b,next:A};return b.next=P,A.prev=P,c.length++,P}function m(c,b,L){for(var A=b.next,P=0;P<L&&A!==c.tail;P++)A=A.next;b.next=A,A.prev=b,c.length-=P}function C(c){for(var b=[],L=c.head.next;L!==c.tail;)b.push(L.value),L=L.next;return b}if(!l.document)return l.addEventListener&&(r.disableWorkerMessageHandler||l.addEventListener("message",function(c){var b=JSON.parse(c.data),L=b.language,A=b.code,P=b.immediateClose;l.postMessage(r.highlight(A,r.languages[L],L)),P&&l.close()},!1)),r;var S=r.util.currentScript();S&&(r.filename=S.src,S.hasAttribute("data-manual")&&(r.manual=!0));function y(){r.manual||r.highlightAll()}if(!r.manual){var E=document.readyState;E==="loading"||E==="interactive"&&S&&S.defer?document.addEventListener("DOMContentLoaded",y):window.requestAnimationFrame?window.requestAnimationFrame(y):window.setTimeout(y,16)}return r}(e);t.exports&&(t.exports=s),typeof rl<"u"&&(rl.Prism=s),s.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},s.languages.markup.tag.inside["attr-value"].inside.entity=s.languages.markup.entity,s.languages.markup.doctype.inside["internal-subset"].inside=s.languages.markup,s.hooks.add("wrap",function(l){l.type==="entity"&&(l.attributes.title=l.content.replace(/&amp;/,"&"))}),Object.defineProperty(s.languages.markup.tag,"addInlined",{value:function(a,n){var i={};i["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:s.languages[n]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};r["language-"+n]={pattern:/[\s\S]+/,inside:s.languages[n]};var o={};o[a]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return a}),"i"),lookbehind:!0,greedy:!0,inside:r},s.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(s.languages.markup.tag,"addAttribute",{value:function(l,a){s.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+l+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[a,"language-"+a],inside:s.languages[a]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),s.languages.html=s.languages.markup,s.languages.mathml=s.languages.markup,s.languages.svg=s.languages.markup,s.languages.xml=s.languages.extend("markup",{}),s.languages.ssml=s.languages.xml,s.languages.atom=s.languages.xml,s.languages.rss=s.languages.xml,function(l){var a=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;l.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+a.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+a.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+a.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+a.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:a,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},l.languages.css.atrule.inside.rest=l.languages.css;var n=l.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(s),s.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},s.languages.javascript=s.languages.extend("clike",{"class-name":[s.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),s.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,s.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:s.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:s.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:s.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:s.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:s.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),s.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:s.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),s.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),s.languages.markup&&(s.languages.markup.tag.addInlined("script","javascript"),s.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),s.languages.js=s.languages.javascript,function(){if(typeof s>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var l="Loading\u2026",a=function(S,y){return"\u2716 Error "+S+" while fetching file: "+y},n="\u2716 Error: File does not exist or is empty",i={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},r="data-src-status",o="loading",u="loaded",f="failed",g="pre[data-src]:not(["+r+'="'+u+'"]):not(['+r+'="'+o+'"])';function v(S,y,E){var c=new XMLHttpRequest;c.open("GET",S,!0),c.onreadystatechange=function(){c.readyState==4&&(c.status<400&&c.responseText?y(c.responseText):c.status>=400?E(a(c.status,c.statusText)):E(n))},c.send(null)}function m(S){var y=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(S||"");if(y){var E=Number(y[1]),c=y[2],b=y[3];return c?b?[E,Number(b)]:[E,void 0]:[E,E]}}s.hooks.add("before-highlightall",function(S){S.selector+=", "+g}),s.hooks.add("before-sanity-check",function(S){var y=S.element;if(y.matches(g)){S.code="",y.setAttribute(r,o);var E=y.appendChild(document.createElement("CODE"));E.textContent=l;var c=y.getAttribute("data-src"),b=S.language;if(b==="none"){var L=(/\.(\w+)$/.exec(c)||[,"none"])[1];b=i[L]||L}s.util.setLanguage(E,b),s.util.setLanguage(y,b);var A=s.plugins.autoloader;A&&A.loadLanguages(b),v(c,function(P){y.setAttribute(r,u);var O=m(y.getAttribute("data-range"));if(O){var q=P.split(/\r\n?|\n/g),I=O[0],M=O[1]==null?q.length:O[1];I<0&&(I+=q.length),I=Math.max(0,Math.min(I-1,q.length)),M<0&&(M+=q.length),M=Math.max(0,Math.min(M,q.length)),P=q.slice(I,M).join(`
`),y.hasAttribute("data-start")||y.setAttribute("data-start",String(I+1))}E.textContent=P,s.highlightElement(E)},function(P){y.setAttribute(r,f),E.textContent=P})}}),s.plugins.fileHighlight={highlight:function(y){for(var E=(y||document).querySelectorAll(g),c=0,b;b=E[c++];)s.highlightElement(b)}};var C=!1;s.fileHighlight=function(){C||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),C=!0),s.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Rl);const Dl=Rl.exports,ol="(if|else if|await|then|catch|each|html|debug)";Prism.languages.svelte=Prism.languages.extend("markup",{each:{pattern:new RegExp("{[#/]each(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{"language-javascript":[{pattern:/(as[\s\S]*)\([\s\S]*\)(?=\s*\})/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(as[\s]*)[\s\S]*(?=\s*)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(#each[\s]*)[\s\S]*(?=as)/,lookbehind:!0,inside:Prism.languages.javascript}],keyword:/[#/]each|as/,punctuation:/{|}/}},block:{pattern:new RegExp("{[#:/@]/s"+ol+"(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{punctuation:/^{|}$/,keyword:[new RegExp("[#:/@]"+ol+"( )*"),/as/,/then/],"language-javascript":{pattern:/[\s\S]*/,inside:Prism.languages.javascript}}},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?:"[^"]*"|'[^']*'|{[\s\S]+?}(?=[\s/>])))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,inside:Prism.languages.javascript},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],"language-javascript":{pattern:/{[\s\S]+}/,inside:Prism.languages.javascript}}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,lookbehind:!0,inside:Prism.languages.javascript}});Prism.languages.svelte.tag.inside["attr-value"].inside.entity=Prism.languages.svelte.entity;Prism.hooks.add("wrap",t=>{t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.svelte.tag,"addInlined",{value:function(e,s){const l={};l["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[s]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;const a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};a["language-"+s]={pattern:/[\s\S]+/,inside:Prism.languages[s]};const n={};n[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:a},Prism.languages.insertBefore("svelte","cdata",n)}});Prism.languages.svelte.tag.addInlined("style","css");Prism.languages.svelte.tag.addInlined("script","javascript");function Bi(t){let e,s;return{c(){e=new Zl(!1),s=ne(),this.h()},l(l){e=Jl(l,!1),s=ne(),this.h()},h(){e.a=s},m(l,a){e.m(t[2],l,a),B(l,s,a)},p(l,a){a&4&&e.p(l[2])},d(l){l&&p(s),l&&e.d()}}}function Hi(t){let e;return{c(){e=G(t[2])},l(s){e=X(s,t[2])},m(s,l){B(s,e,l)},p(s,l){l&4&&ta(e,s[2])},d(s){s&&p(e)}}}function Ki(t){let e,s,l,a,n,i,r;const o=t[6].default,u=Xl(o,t,t[5],null);function f(m,C){return m[0]==="none"?Hi:Bi}let g=f(t),v=g(t);return{c(){e=w("code"),u&&u.c(),s=V(),l=w("pre"),a=w("code"),v.c(),this.h()},l(m){e=k(m,"CODE",{style:!0});var C=T(e);u&&u.l(C),C.forEach(p),s=N(m),l=k(m,"PRE",{class:!0,"command-line":!0,"data-output":!0});var S=T(l);a=k(S,"CODE",{class:!0});var y=T(a);v.l(y),y.forEach(p),S.forEach(p),this.h()},h(){ae(e,"display","none"),d(a,"class",n="language-"+t[0]),d(l,"class",i="language-"+t[0]),d(l,"command-line",""),d(l,"data-output","2-17")},m(m,C){B(m,e,C),u&&u.m(e,null),t[7](e),B(m,s,C),B(m,l,C),h(l,a),v.m(a,null),r=!0},p(m,[C]){u&&u.p&&(!r||C&32)&&Yl(u,o,m,m[5],r?Ql(o,m[5],C,null):xl(m[5]),null),g===(g=f(m))&&v?v.p(m,C):(v.d(1),v=g(m),v&&(v.c(),v.m(a,null))),(!r||C&1&&n!==(n="language-"+m[0]))&&d(a,"class",n),(!r||C&1&&i!==(i="language-"+m[0]))&&d(l,"class",i)},i(m){r||(K(u,m),r=!0)},o(m){x(u,m),r=!1},d(m){m&&p(e),u&&u.d(m),t[7](null),m&&p(s),m&&p(l),v.d()}}}const ul=Dl;Dl.highlightElement;const Wi={transform:t=>t};function ji(t,e,s){let{$$slots:l={},$$scope:a}=e,{language:n="javascript"}=e,{source:i=""}=e,{transform:r=v=>v}=e,o,u;function f(){const v=ul.languages[n];let m=i||o.textContent;m=Wi.transform(m),m=r(m),s(2,u=n==="none"?m:ul.highlight(m,v,n))}function g(v){Le[v?"unshift":"push"](()=>{o=v,s(1,o)})}return t.$$set=v=>{s(9,e=ds(ds({},e),Aa(v))),"language"in v&&s(0,n=v.language),"source"in v&&s(3,i=v.source),"transform"in v&&s(4,r=v.transform),"$$scope"in v&&s(5,a=v.$$scope)},t.$$.update=()=>{e&&(i||o)&&f()},e=Aa(e),[n,o,u,i,r,a,l,g]}class Gi extends ze{constructor(e){super(),Be(this,e,ji,Ki,He,{language:0,source:3,transform:4})}}function cl(t,e,s){const l=t.slice();return l[31]=e[s],l[32]=e,l[33]=s,l}function dl(t,e,s){const l=t.slice();return l[34]=e[s],l[35]=e,l[36]=s,l}function fl(t,e,s){const l=t.slice();return l[37]=e[s],l}function hl(t,e,s){const l=t.slice();return l[40]=e[s],l}function gl(t){let e,s=t[40]+"",l;return{c(){e=w("option"),l=G(s),this.h()},l(a){e=k(a,"OPTION",{});var n=T(e);l=X(n,s),n.forEach(p),this.h()},h(){e.__value=t[40],e.value=e.__value},m(a,n){B(a,e,n),h(e,l)},p:oe,d(a){a&&p(e)}}}function bl(t){let e,s,l,a,n,i,r,o,u,f;return{c(){e=w("div"),s=w("select"),l=w("option"),a=G("Both"),n=w("option"),i=G("White"),r=w("option"),o=G("Black"),this.h()},l(g){e=k(g,"DIV",{});var v=T(e);s=k(v,"SELECT",{class:!0});var m=T(s);l=k(m,"OPTION",{});var C=T(l);a=X(C,"Both"),C.forEach(p),n=k(m,"OPTION",{});var S=T(n);i=X(S,"White"),S.forEach(p),r=k(m,"OPTION",{});var y=T(r);o=X(y,"Black"),y.forEach(p),m.forEach(p),v.forEach(p),this.h()},h(){l.__value=ee.BOTH,l.value=l.__value,n.__value=ee.WHITE,n.value=n.__value,r.__value=ee.BLACK,r.value=r.__value,d(s,"class","svelte-1q80l21"),t[0].movable.color===void 0&&Kt(()=>t[11].call(s))},m(g,v){B(g,e,v),h(e,s),h(s,l),h(l,a),h(s,n),h(n,i),h(s,r),h(r,o),Ft(s,t[0].movable.color),u||(f=Y(s,"change",t[11]),u=!0)},p(g,v){v[0]&1&&Ft(s,g[0].movable.color)},d(g){g&&p(e),u=!1,f()}}}function pl(t){let e,s,l,a,n,i,r,o,u,f,g,v,m,C,S,y=t[0].draggable.transition.enabled&&vl(t);return{c(){e=w("div"),s=w("input"),l=V(),a=w("label"),n=G("ghost piece"),i=V(),r=w("div"),o=w("input"),u=V(),f=w("label"),g=G("transition enabled"),v=V(),y&&y.c(),m=ne(),this.h()},l(E){e=k(E,"DIV",{});var c=T(e);s=k(c,"INPUT",{id:!0,type:!0,class:!0}),l=N(c),a=k(c,"LABEL",{for:!0,class:!0});var b=T(a);n=X(b,"ghost piece"),b.forEach(p),c.forEach(p),i=N(E),r=k(E,"DIV",{});var L=T(r);o=k(L,"INPUT",{id:!0,type:!0,class:!0}),u=N(L),f=k(L,"LABEL",{for:!0,class:!0});var A=T(f);g=X(A,"transition enabled"),A.forEach(p),L.forEach(p),v=N(E),y&&y.l(E),m=ne(),this.h()},h(){d(s,"id","ghostPiece"),d(s,"type","checkbox"),d(s,"class","svelte-1q80l21"),d(a,"for","ghostPiece"),d(a,"class","select-none"),d(o,"id","draggableEnabled"),d(o,"type","checkbox"),d(o,"class","svelte-1q80l21"),d(f,"for","draggableEnabled"),d(f,"class","select-none")},m(E,c){B(E,e,c),h(e,s),s.checked=t[0].draggable.ghostPiece.enabled,h(e,l),h(e,a),h(a,n),B(E,i,c),B(E,r,c),h(r,o),o.checked=t[0].draggable.transition.enabled,h(r,u),h(r,f),h(f,g),B(E,v,c),y&&y.m(E,c),B(E,m,c),C||(S=[Y(s,"change",t[13]),Y(o,"change",t[14])],C=!0)},p(E,c){c[0]&1&&(s.checked=E[0].draggable.ghostPiece.enabled),c[0]&1&&(o.checked=E[0].draggable.transition.enabled),E[0].draggable.transition.enabled?y?y.p(E,c):(y=vl(E),y.c(),y.m(m.parentNode,m)):y&&(y.d(1),y=null)},d(E){E&&p(e),E&&p(i),E&&p(r),E&&p(v),y&&y.d(E),E&&p(m),C=!1,Pt(S)}}}function vl(t){let e,s,l,a,n,i,r,o,u,f,g,v,m,C=Ta,S=[];for(let y=0;y<C.length;y+=1)S[y]=ml(fl(t,C,y));return{c(){e=w("div"),s=w("input"),l=V(),a=w("label"),n=G("duration"),i=V(),r=w("div"),o=w("label"),u=G("easing func"),f=V(),g=w("select");for(let y=0;y<S.length;y+=1)S[y].c();this.h()},l(y){e=k(y,"DIV",{});var E=T(e);s=k(E,"INPUT",{id:!0,type:!0,class:!0}),l=N(E),a=k(E,"LABEL",{for:!0,class:!0});var c=T(a);n=X(c,"duration"),c.forEach(p),E.forEach(p),i=N(y),r=k(y,"DIV",{});var b=T(r);o=k(b,"LABEL",{for:!0,class:!0});var L=T(o);u=X(L,"easing func"),L.forEach(p),f=N(b),g=k(b,"SELECT",{id:!0,class:!0});var A=T(g);for(let P=0;P<S.length;P+=1)S[P].l(A);A.forEach(p),b.forEach(p),this.h()},h(){d(s,"id","transitionDuration"),d(s,"type","number"),d(s,"class","svelte-1q80l21"),d(a,"for","transitionDuration"),d(a,"class","select-none"),d(o,"for","easingFuncs"),d(o,"class","select-none"),d(g,"id","easingFuncs"),d(g,"class","svelte-1q80l21"),t[0].draggable.transition.settings.easing===void 0&&Kt(()=>t[16].call(g))},m(y,E){B(y,e,E),h(e,s),Pa(s,t[0].draggable.transition.settings.duration),h(e,l),h(e,a),h(a,n),B(y,i,E),B(y,r,E),h(r,o),h(o,u),h(r,f),h(r,g);for(let c=0;c<S.length;c+=1)S[c].m(g,null);Ft(g,t[0].draggable.transition.settings.easing),v||(m=[Y(s,"input",t[15]),Y(g,"change",t[16])],v=!0)},p(y,E){if(E[0]&1&&Tl(s.value)!==y[0].draggable.transition.settings.duration&&Pa(s,y[0].draggable.transition.settings.duration),E&0){C=Ta;let c;for(c=0;c<C.length;c+=1){const b=fl(y,C,c);S[c]?S[c].p(b,E):(S[c]=ml(b),S[c].c(),S[c].m(g,null))}for(;c<S.length;c+=1)S[c].d(1);S.length=C.length}E[0]&1&&Ft(g,y[0].draggable.transition.settings.easing)},d(y){y&&p(e),y&&p(i),y&&p(r),dt(S,y),v=!1,Pt(m)}}}function ml(t){let e,s=t[37]+"",l;return{c(){e=w("option"),l=G(s),this.h()},l(a){e=k(a,"OPTION",{});var n=T(e);l=X(n,s),n.forEach(p),this.h()},h(){e.__value=t[37],e.value=e.__value},m(a,n){B(a,e,n),h(e,l)},p:oe,d(a){a&&p(e)}}}function _l(t){let e,s,l,a,n,i,r;return{c(){e=w("div"),s=w("input"),l=V(),a=w("label"),n=G("preMoves enabled"),this.h()},l(o){e=k(o,"DIV",{});var u=T(e);s=k(u,"INPUT",{id:!0,type:!0,class:!0}),l=N(u),a=k(u,"LABEL",{for:!0,class:!0});var f=T(a);n=X(f,"preMoves enabled"),f.forEach(p),u.forEach(p),this.h()},h(){d(s,"id","preMovesEnabled"),d(s,"type","checkbox"),d(s,"class","svelte-1q80l21"),d(a,"for","preMovesEnabled"),d(a,"class","select-none")},m(o,u){B(o,e,u),h(e,s),s.checked=t[0].legal.preMoves.enabled,h(e,l),h(e,a),h(a,n),i||(r=Y(s,"change",t[19]),i=!0)},p(o,u){u[0]&1&&(s.checked=o[0].legal.preMoves.enabled)},d(o){o&&p(e),i=!1,r()}}}function El(t){let e,s=t[4],l=[];for(let a=0;a<s.length;a+=1)l[a]=wl(dl(t,s,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=ne()},l(a){for(let n=0;n<l.length;n+=1)l[n].l(a);e=ne()},m(a,n){for(let i=0;i<l.length;i+=1)l[i].m(a,n);B(a,e,n)},p(a,n){if(n[0]&17){s=a[4];let i;for(i=0;i<s.length;i+=1){const r=dl(a,s,i);l[i]?l[i].p(r,n):(l[i]=wl(r),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=s.length}},d(a){dt(l,a),a&&p(e)}}}function wl(t){let e,s,l,a,n=t[34]+"",i,r,o,u;function f(){t[21].call(s,t[34])}return{c(){e=w("div"),s=w("input"),l=V(),a=w("label"),i=G(n),r=V(),this.h()},l(g){e=k(g,"DIV",{});var v=T(e);s=k(v,"INPUT",{id:!0,type:!0,class:!0}),l=N(v),a=k(v,"LABEL",{for:!0,class:!0});var m=T(a);i=X(m,n),m.forEach(p),r=N(v),v.forEach(p),this.h()},h(){d(s,"id",t[34]+"Enabled"),d(s,"type","checkbox"),d(s,"class","svelte-1q80l21"),d(a,"for",t[34]+"Enabled"),d(a,"class","select-none")},m(g,v){B(g,e,v),h(e,s),s.checked=t[0].highlight.settings[t[34]],h(e,l),h(e,a),h(a,i),h(e,r),o||(u=Y(s,"change",f),o=!0)},p(g,v){t=g,v[0]&17&&(s.checked=t[0].highlight.settings[t[34]])},d(g){g&&p(e),o=!1,u()}}}function kl(t){let e,s,l,a,n,i,r,o,u,f,g,v,m;return{c(){e=w("div"),s=w("input"),l=V(),a=w("label"),n=G("L shape knight move"),i=V(),r=w("div"),o=w("input"),u=V(),f=w("label"),g=G("only chess move"),this.h()},l(C){e=k(C,"DIV",{});var S=T(e);s=k(S,"INPUT",{id:!0,type:!0,class:!0}),l=N(S),a=k(S,"LABEL",{for:!0,class:!0});var y=T(a);n=X(y,"L shape knight move"),y.forEach(p),S.forEach(p),i=N(C),r=k(C,"DIV",{});var E=T(r);o=k(E,"INPUT",{id:!0,type:!0,class:!0}),u=N(E),f=k(E,"LABEL",{for:!0,class:!0});var c=T(f);g=X(c,"only chess move"),c.forEach(p),E.forEach(p),this.h()},h(){d(s,"id","LshapeKnightMoveEnabled"),d(s,"type","checkbox"),d(s,"class","svelte-1q80l21"),d(a,"for","LshapeKnightMoveEnabled"),d(a,"class","select-none"),d(o,"id","onlyChessMoveEnabled"),d(o,"type","checkbox"),d(o,"class","svelte-1q80l21"),d(f,"for","onlyChessMoveEnabled"),d(f,"class","select-none")},m(C,S){B(C,e,S),h(e,s),s.checked=t[0].drawTools.settings.LshapeKnightMove,h(e,l),h(e,a),h(a,n),B(C,i,S),B(C,r,S),h(r,o),o.checked=t[0].drawTools.settings.onlyChessMove,h(r,u),h(r,f),h(f,g),v||(m=[Y(s,"change",t[23]),Y(o,"change",t[24])],v=!0)},p(C,S){S[0]&1&&(s.checked=C[0].drawTools.settings.LshapeKnightMove),S[0]&1&&(o.checked=C[0].drawTools.settings.onlyChessMove)},d(C){C&&p(e),C&&p(i),C&&p(r),v=!1,Pt(m)}}}function Ml(t){let e,s=t[5],l=[];for(let a=0;a<s.length;a+=1)l[a]=yl(cl(t,s,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=ne()},l(a){for(let n=0;n<l.length;n+=1)l[n].l(a);e=ne()},m(a,n){for(let i=0;i<l.length;i+=1)l[i].m(a,n);B(a,e,n)},p(a,n){if(n[0]&33){s=a[5];let i;for(i=0;i<s.length;i+=1){const r=cl(a,s,i);l[i]?l[i].p(r,n):(l[i]=yl(r),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=s.length}},d(a){dt(l,a),a&&p(e)}}}function yl(t){let e,s,l,a,n=t[31]+"",i,r,o,u;function f(){t[26].call(s,t[31])}return{c(){e=w("div"),s=w("input"),l=V(),a=w("label"),i=G(n),r=V(),this.h()},l(g){e=k(g,"DIV",{});var v=T(e);s=k(v,"INPUT",{id:!0,type:!0,class:!0}),l=N(v),a=k(v,"LABEL",{for:!0,class:!0});var m=T(a);i=X(m,n),m.forEach(p),r=N(v),v.forEach(p),this.h()},h(){d(s,"id",t[31]+"Enabled"),d(s,"type","checkbox"),d(s,"class","svelte-1q80l21"),d(a,"for",t[31]+"Enabled"),d(a,"class","select-none")},m(g,v){B(g,e,v),h(e,s),s.checked=t[0].sounds.settings[t[31]],h(e,l),h(e,a),h(a,i),h(e,r),o||(u=Y(s,"change",f),o=!0)},p(g,v){t=g,v[0]&33&&(s.checked=t[0].sounds.settings[t[31]])},d(g){g&&p(e),o=!1,u()}}}function Xi(t){let e,s,l,a,n,i,r,o,u,f,g,v,m,C,S,y,E,c,b,L,A,P,O,q,I,M,F,j,ie,de,Te,D,Z,H,W,le,ue,ce,Ce,Ee,ye,Ke,we,We,ke,Ae,fe,ft,Pe,qt,Rt,Dt,je,Vt,Ge,Xe,Oe,Nt,Ye,Ut,zt,xe,Bt,Ie,Qe,Fe,Ht,Ze,_,U,J,te,re,se,Me,Je,hs,ht,gs,bs,ps,gt,vs,$e,bt,et,ms,pt,_s,Es,ws,vt,ks,tt,mt,st,Ms,_t,ys,As,Ps,Et,Ls,Lt,wt,at,Ts,kt,Ss,Cs,rt,Tt,lt,Os,St,Ct,ot,Wt,Is,aa,Ot=La,he=[];for(let z=0;z<Ot.length;z+=1)he[z]=gl(hl(t,Ot,z));let ge=t[0].movable.enabled&&bl(t),be=t[0].draggable.enabled&&pl(t),pe=t[0].legal.enabled&&_l(t),ve=t[0].highlight.enabled&&El(t),me=t[0].drawTools.enabled&&kl(t),_e=t[0].sounds.enabled&&Ml(t),Vl={config:t[3]};return lt=new zi({props:Vl}),t[28](lt),ot=new Gi({props:{source:t[2]}}),{c(){e=w("link"),s=V(),l=w("div"),a=w("div"),n=w("div"),i=w("div"),r=G(`board
				`),o=w("div"),u=w("div"),f=w("label"),g=G("board theme"),v=V(),m=w("select");for(let z=0;z<he.length;z+=1)he[z].c();C=V(),S=w("div"),y=w("input"),E=V(),c=w("label"),b=G("notation"),L=V(),A=w("div"),P=w("input"),O=V(),q=w("label"),I=G("flipped"),M=V(),F=w("div"),j=w("input"),ie=V(),de=w("label"),Te=G("shadow"),D=V(),Z=w("div"),H=G(`movable
				`),W=w("div"),le=w("div"),ue=w("input"),ce=V(),Ce=w("label"),Ee=G("enabled"),ye=V(),ge&&ge.c(),Ke=V(),we=w("div"),We=G(`draggable
				`),ke=w("div"),Ae=w("div"),fe=w("input"),ft=V(),Pe=w("label"),qt=G("enabled"),Rt=V(),be&&be.c(),Dt=V(),je=w("div"),Vt=G(`selectable
				`),Ge=w("div"),Xe=w("div"),Oe=w("input"),Nt=V(),Ye=w("label"),Ut=G("enabled"),zt=V(),xe=w("div"),Bt=G(`legal
				`),Ie=w("div"),Qe=w("div"),Fe=w("input"),Ht=V(),Ze=w("label"),_=G("enabled"),U=V(),pe&&pe.c(),J=V(),te=w("div"),re=G(`highlight
				`),se=w("div"),Me=w("div"),Je=w("input"),hs=V(),ht=w("label"),gs=G("enabled"),bs=V(),ve&&ve.c(),ps=V(),gt=w("div"),vs=G(`drawTools
				`),$e=w("div"),bt=w("div"),et=w("input"),ms=V(),pt=w("label"),_s=G("enabled"),Es=V(),me&&me.c(),ws=V(),vt=w("div"),ks=G(`sounds
				`),tt=w("div"),mt=w("div"),st=w("input"),Ms=V(),_t=w("label"),ys=G("enabled"),As=V(),_e&&_e.c(),Ps=V(),Et=w("div"),Ls=G(`resizible
				`),Lt=w("div"),wt=w("div"),at=w("input"),Ts=V(),kt=w("label"),Ss=G("enabled"),Cs=V(),rt=w("div"),Tt=w("div"),De(lt.$$.fragment),Os=V(),St=w("div"),Ct=w("div"),De(ot.$$.fragment),this.h()},l(z){const $=$l('[data-svelte="svelte-tebjht"]',document.head);e=k($,"LINK",{rel:!0,href:!0}),$.forEach(p),s=N(z),l=k(z,"DIV",{class:!0});var ut=T(l);a=k(ut,"DIV",{class:!0});var Mt=T(a);n=k(Mt,"DIV",{class:!0});var Q=T(n);i=k(Q,"DIV",{class:!0});var It=T(i);r=X(It,`board
				`),o=k(It,"DIV",{class:!0});var ct=T(o);u=k(ct,"DIV",{});var jt=T(u);f=k(jt,"LABEL",{for:!0,class:!0});var la=T(f);g=X(la,"board theme"),la.forEach(p),v=N(jt),m=k(jt,"SELECT",{class:!0});var na=T(m);for(let Bs=0;Bs<he.length;Bs+=1)he[Bs].l(na);na.forEach(p),jt.forEach(p),C=N(ct),S=k(ct,"DIV",{});var Gt=T(S);y=k(Gt,"INPUT",{id:!0,type:!0,class:!0}),E=N(Gt),c=k(Gt,"LABEL",{for:!0,class:!0});var ia=T(c);b=X(ia,"notation"),ia.forEach(p),Gt.forEach(p),L=N(ct),A=k(ct,"DIV",{});var Xt=T(A);P=k(Xt,"INPUT",{id:!0,type:!0,class:!0}),O=N(Xt),q=k(Xt,"LABEL",{for:!0,class:!0});var ra=T(q);I=X(ra,"flipped"),ra.forEach(p),Xt.forEach(p),M=N(ct),F=k(ct,"DIV",{});var Yt=T(F);j=k(Yt,"INPUT",{id:!0,type:!0,class:!0}),ie=N(Yt),de=k(Yt,"LABEL",{for:!0,class:!0});var oa=T(de);Te=X(oa,"shadow"),oa.forEach(p),Yt.forEach(p),ct.forEach(p),It.forEach(p),D=N(Q),Z=k(Q,"DIV",{class:!0});var Fs=T(Z);H=X(Fs,`movable
				`),W=k(Fs,"DIV",{class:!0});var xt=T(W);le=k(xt,"DIV",{});var Qt=T(le);ue=k(Qt,"INPUT",{id:!0,type:!0,class:!0}),ce=N(Qt),Ce=k(Qt,"LABEL",{for:!0,class:!0});var ua=T(Ce);Ee=X(ua,"enabled"),ua.forEach(p),Qt.forEach(p),ye=N(xt),ge&&ge.l(xt),xt.forEach(p),Fs.forEach(p),Ke=N(Q),we=k(Q,"DIV",{class:!0});var qs=T(we);We=X(qs,`draggable
				`),ke=k(qs,"DIV",{class:!0});var Zt=T(ke);Ae=k(Zt,"DIV",{});var Jt=T(Ae);fe=k(Jt,"INPUT",{id:!0,type:!0,class:!0}),ft=N(Jt),Pe=k(Jt,"LABEL",{for:!0,class:!0});var ca=T(Pe);qt=X(ca,"enabled"),ca.forEach(p),Jt.forEach(p),Rt=N(Zt),be&&be.l(Zt),Zt.forEach(p),qs.forEach(p),Dt=N(Q),je=k(Q,"DIV",{class:!0});var Rs=T(je);Vt=X(Rs,`selectable
				`),Ge=k(Rs,"DIV",{class:!0});var da=T(Ge);Xe=k(da,"DIV",{});var $t=T(Xe);Oe=k($t,"INPUT",{id:!0,type:!0,class:!0}),Nt=N($t),Ye=k($t,"LABEL",{for:!0,class:!0});var fa=T(Ye);Ut=X(fa,"enabled"),fa.forEach(p),$t.forEach(p),da.forEach(p),Rs.forEach(p),zt=N(Q),xe=k(Q,"DIV",{class:!0});var Ds=T(xe);Bt=X(Ds,`legal
				`),Ie=k(Ds,"DIV",{class:!0});var es=T(Ie);Qe=k(es,"DIV",{});var ts=T(Qe);Fe=k(ts,"INPUT",{id:!0,type:!0,class:!0}),Ht=N(ts),Ze=k(ts,"LABEL",{for:!0,class:!0});var ha=T(Ze);_=X(ha,"enabled"),ha.forEach(p),ts.forEach(p),U=N(es),pe&&pe.l(es),es.forEach(p),Ds.forEach(p),J=N(Q),te=k(Q,"DIV",{class:!0});var Vs=T(te);re=X(Vs,`highlight
				`),se=k(Vs,"DIV",{class:!0});var ss=T(se);Me=k(ss,"DIV",{});var as=T(Me);Je=k(as,"INPUT",{id:!0,type:!0,class:!0}),hs=N(as),ht=k(as,"LABEL",{for:!0,class:!0});var ga=T(ht);gs=X(ga,"enabled"),ga.forEach(p),as.forEach(p),bs=N(ss),ve&&ve.l(ss),ss.forEach(p),Vs.forEach(p),ps=N(Q),gt=k(Q,"DIV",{class:!0});var Ns=T(gt);vs=X(Ns,`drawTools
				`),$e=k(Ns,"DIV",{class:!0});var ls=T($e);bt=k(ls,"DIV",{});var ns=T(bt);et=k(ns,"INPUT",{id:!0,type:!0,class:!0}),ms=N(ns),pt=k(ns,"LABEL",{for:!0,class:!0});var ba=T(pt);_s=X(ba,"enabled"),ba.forEach(p),ns.forEach(p),Es=N(ls),me&&me.l(ls),ls.forEach(p),Ns.forEach(p),ws=N(Q),vt=k(Q,"DIV",{class:!0});var Us=T(vt);ks=X(Us,`sounds
				`),tt=k(Us,"DIV",{class:!0});var is=T(tt);mt=k(is,"DIV",{});var rs=T(mt);st=k(rs,"INPUT",{id:!0,type:!0,class:!0}),Ms=N(rs),_t=k(rs,"LABEL",{for:!0,class:!0});var pa=T(_t);ys=X(pa,"enabled"),pa.forEach(p),rs.forEach(p),As=N(is),_e&&_e.l(is),is.forEach(p),Us.forEach(p),Ps=N(Q),Et=k(Q,"DIV",{class:!0});var zs=T(Et);Ls=X(zs,`resizible
				`),Lt=k(zs,"DIV",{class:!0});var va=T(Lt);wt=k(va,"DIV",{});var os=T(wt);at=k(os,"INPUT",{id:!0,type:!0,class:!0}),Ts=N(os),kt=k(os,"LABEL",{for:!0,class:!0});var ma=T(kt);Ss=X(ma,"enabled"),ma.forEach(p),os.forEach(p),va.forEach(p),zs.forEach(p),Q.forEach(p),Cs=N(Mt),rt=k(Mt,"DIV",{class:!0});var us=T(rt);Tt=k(us,"DIV",{class:!0});var _a=T(Tt);Ve(lt.$$.fragment,_a),_a.forEach(p),Os=N(us),St=k(us,"DIV",{class:!0});var Ea=T(St);Ct=k(Ea,"DIV",{class:!0});var wa=T(Ct);Ve(ot.$$.fragment,wa),wa.forEach(p),Ea.forEach(p),us.forEach(p),Mt.forEach(p),ut.forEach(p),this.h()},h(){document.title="Chessboard \u2022 PowChess.com",d(e,"rel","stylesheet"),d(e,"href","prism-one-dark.css"),d(f,"for","boardTheme"),d(f,"class","select-none"),d(m,"class","svelte-1q80l21"),t[0].board.boardTheme===void 0&&Kt(()=>t[6].call(m)),d(y,"id","notation"),d(y,"type","checkbox"),d(y,"class","svelte-1q80l21"),d(c,"for","notation"),d(c,"class","select-none"),d(P,"id","flipped"),d(P,"type","checkbox"),d(P,"class","svelte-1q80l21"),d(q,"for","flipped"),d(q,"class","select-none"),d(j,"id","shadow"),d(j,"type","checkbox"),d(j,"class","svelte-1q80l21"),d(de,"for","shadow"),d(de,"class","select-none"),d(o,"class","p-2 pl-4"),d(i,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(ue,"id","movableEnabled"),d(ue,"type","checkbox"),d(ue,"class","svelte-1q80l21"),d(Ce,"for","movableEnabled"),d(Ce,"class","select-none"),d(W,"class","p-2 pl-4"),d(Z,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(fe,"id","draggableEnabled"),d(fe,"type","checkbox"),d(fe,"class","svelte-1q80l21"),d(Pe,"for","draggableEnabled"),d(Pe,"class","select-none"),d(ke,"class","p-2 pl-4"),d(we,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(Oe,"id","selectableEnabled"),d(Oe,"type","checkbox"),d(Oe,"class","svelte-1q80l21"),d(Ye,"for","selectableEnabled"),d(Ye,"class","select-none"),d(Ge,"class","p-2 pl-4"),d(je,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(Fe,"id","legalEnabled"),d(Fe,"type","checkbox"),d(Fe,"class","svelte-1q80l21"),d(Ze,"for","legalEnabled"),d(Ze,"class","select-none"),d(Ie,"class","p-2 pl-4"),d(xe,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(Je,"id","legalEnabled"),d(Je,"type","checkbox"),d(Je,"class","svelte-1q80l21"),d(ht,"for","legalEnabled"),d(ht,"class","select-none"),d(se,"class","p-2 pl-4"),d(te,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(et,"id","drawToolsEnabled"),d(et,"type","checkbox"),d(et,"class","svelte-1q80l21"),d(pt,"for","drawToolsEnabled"),d(pt,"class","select-none"),d($e,"class","p-2 pl-4"),d(gt,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(st,"id","soundsEnabled"),d(st,"type","checkbox"),d(st,"class","svelte-1q80l21"),d(_t,"for","soundsEnabled"),d(_t,"class","select-none"),d(tt,"class","p-2 pl-4"),d(vt,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(at,"id","resizibleEnabled"),d(at,"type","checkbox"),d(at,"class","svelte-1q80l21"),d(kt,"for","resizibleEnabled"),d(kt,"class","select-none"),d(Lt,"class","p-2 pl-4"),d(Et,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(n,"class","col-start-1 flex flex-col gap-2 w-60 text-gray-300 text-sm"),d(Tt,"class","w-[var(--boardSize,40rem)]"),d(Ct,"class","shadow-lg rounded"),d(St,"class","row-start-2"),d(rt,"class","grid grid-rows-[min-content_auto] gap-10"),d(a,"class","col-start-2 gap-10 grid grid-cols-[auto_auto]"),d(l,"class","mt-10 grid grid-cols-center")},m(z,$){h(document.head,e),B(z,s,$),B(z,l,$),h(l,a),h(a,n),h(n,i),h(i,r),h(i,o),h(o,u),h(u,f),h(f,g),h(u,v),h(u,m);for(let ut=0;ut<he.length;ut+=1)he[ut].m(m,null);Ft(m,t[0].board.boardTheme),h(o,C),h(o,S),h(S,y),y.checked=t[0].board.notation,h(S,E),h(S,c),h(c,b),h(o,L),h(o,A),h(A,P),P.checked=t[0].board.flipped,h(A,O),h(A,q),h(q,I),h(o,M),h(o,F),h(F,j),j.checked=t[0].board.shadow,h(F,ie),h(F,de),h(de,Te),h(n,D),h(n,Z),h(Z,H),h(Z,W),h(W,le),h(le,ue),ue.checked=t[0].movable.enabled,h(le,ce),h(le,Ce),h(Ce,Ee),h(W,ye),ge&&ge.m(W,null),h(n,Ke),h(n,we),h(we,We),h(we,ke),h(ke,Ae),h(Ae,fe),fe.checked=t[0].draggable.enabled,h(Ae,ft),h(Ae,Pe),h(Pe,qt),h(ke,Rt),be&&be.m(ke,null),h(n,Dt),h(n,je),h(je,Vt),h(je,Ge),h(Ge,Xe),h(Xe,Oe),Oe.checked=t[0].selectable.enabled,h(Xe,Nt),h(Xe,Ye),h(Ye,Ut),h(n,zt),h(n,xe),h(xe,Bt),h(xe,Ie),h(Ie,Qe),h(Qe,Fe),Fe.checked=t[0].legal.enabled,h(Qe,Ht),h(Qe,Ze),h(Ze,_),h(Ie,U),pe&&pe.m(Ie,null),h(n,J),h(n,te),h(te,re),h(te,se),h(se,Me),h(Me,Je),Je.checked=t[0].highlight.enabled,h(Me,hs),h(Me,ht),h(ht,gs),h(se,bs),ve&&ve.m(se,null),h(n,ps),h(n,gt),h(gt,vs),h(gt,$e),h($e,bt),h(bt,et),et.checked=t[0].drawTools.enabled,h(bt,ms),h(bt,pt),h(pt,_s),h($e,Es),me&&me.m($e,null),h(n,ws),h(n,vt),h(vt,ks),h(vt,tt),h(tt,mt),h(mt,st),st.checked=t[0].sounds.enabled,h(mt,Ms),h(mt,_t),h(_t,ys),h(tt,As),_e&&_e.m(tt,null),h(n,Ps),h(n,Et),h(Et,Ls),h(Et,Lt),h(Lt,wt),h(wt,at),at.checked=t[0].resizible.enabled,h(wt,Ts),h(wt,kt),h(kt,Ss),h(a,Cs),h(a,rt),h(rt,Tt),Ne(lt,Tt,null),h(rt,Os),h(rt,St),h(St,Ct),Ne(ot,Ct,null),Wt=!0,Is||(aa=[Y(m,"change",t[6]),Y(y,"change",t[7]),Y(P,"change",t[8]),Y(j,"change",t[9]),Y(ue,"change",t[10]),Y(fe,"change",t[12]),Y(Oe,"change",t[17]),Y(Fe,"change",t[18]),Y(Je,"change",t[20]),Y(et,"change",t[22]),Y(st,"change",t[25]),Y(at,"change",t[27])],Is=!0)},p(z,$){if($&0){Ot=La;let Q;for(Q=0;Q<Ot.length;Q+=1){const It=hl(z,Ot,Q);he[Q]?he[Q].p(It,$):(he[Q]=gl(It),he[Q].c(),he[Q].m(m,null))}for(;Q<he.length;Q+=1)he[Q].d(1);he.length=Ot.length}$[0]&1&&Ft(m,z[0].board.boardTheme),$[0]&1&&(y.checked=z[0].board.notation),$[0]&1&&(P.checked=z[0].board.flipped),$[0]&1&&(j.checked=z[0].board.shadow),$[0]&1&&(ue.checked=z[0].movable.enabled),z[0].movable.enabled?ge?ge.p(z,$):(ge=bl(z),ge.c(),ge.m(W,null)):ge&&(ge.d(1),ge=null),$[0]&1&&(fe.checked=z[0].draggable.enabled),z[0].draggable.enabled?be?be.p(z,$):(be=pl(z),be.c(),be.m(ke,null)):be&&(be.d(1),be=null),$[0]&1&&(Oe.checked=z[0].selectable.enabled),$[0]&1&&(Fe.checked=z[0].legal.enabled),z[0].legal.enabled?pe?pe.p(z,$):(pe=_l(z),pe.c(),pe.m(Ie,null)):pe&&(pe.d(1),pe=null),$[0]&1&&(Je.checked=z[0].highlight.enabled),z[0].highlight.enabled?ve?ve.p(z,$):(ve=El(z),ve.c(),ve.m(se,null)):ve&&(ve.d(1),ve=null),$[0]&1&&(et.checked=z[0].drawTools.enabled),z[0].drawTools.enabled?me?me.p(z,$):(me=kl(z),me.c(),me.m($e,null)):me&&(me.d(1),me=null),$[0]&1&&(st.checked=z[0].sounds.enabled),z[0].sounds.enabled?_e?_e.p(z,$):(_e=Ml(z),_e.c(),_e.m(tt,null)):_e&&(_e.d(1),_e=null),$[0]&1&&(at.checked=z[0].resizible.enabled);const ut={};lt.$set(ut);const Mt={};$[0]&4&&(Mt.source=z[2]),ot.$set(Mt)},i(z){Wt||(K(lt.$$.fragment,z),K(ot.$$.fragment,z),Wt=!0)},o(z){x(lt.$$.fragment,z),x(ot.$$.fragment,z),Wt=!1},d(z){p(e),z&&p(s),z&&p(l),dt(he,z),ge&&ge.d(),be&&be.d(),pe&&pe.d(),ve&&ve.d(),me&&me.d(),_e&&_e.d(),t[28](null),Ue(lt),Ue(ot),Is=!1,Pt(aa)}}}function Yi(t,e,s){let l;const a={resizible:!0};let n,i=new sa(a),r=!1;ea(()=>{r=!0,s(0,i=n.getState())});const o=H=>{let W=Sl(H);return r&&n.setState(H),`const config: ChessboardConfig = ${JSON.stringify(W,null,4)};`.replace(/"([^"]+)":/g,"$1:")},u=["select","legal","move","preMove","nextMove","check"],f=["MOVE","CAPTURE","CASTLE","UNDO"];function g(){i.board.boardTheme=Hs(this),s(0,i)}function v(){i.board.notation=this.checked,s(0,i)}function m(){i.board.flipped=this.checked,s(0,i)}function C(){i.board.shadow=this.checked,s(0,i)}function S(){i.movable.enabled=this.checked,s(0,i)}function y(){i.movable.color=Hs(this),s(0,i)}function E(){i.draggable.enabled=this.checked,s(0,i)}function c(){i.draggable.ghostPiece.enabled=this.checked,s(0,i)}function b(){i.draggable.transition.enabled=this.checked,s(0,i)}function L(){i.draggable.transition.settings.duration=Tl(this.value),s(0,i)}function A(){i.draggable.transition.settings.easing=Hs(this),s(0,i)}function P(){i.selectable.enabled=this.checked,s(0,i)}function O(){i.legal.enabled=this.checked,s(0,i)}function q(){i.legal.preMoves.enabled=this.checked,s(0,i)}function I(){i.highlight.enabled=this.checked,s(0,i)}function M(H){i.highlight.settings[H]=this.checked,s(0,i)}function F(){i.drawTools.enabled=this.checked,s(0,i)}function j(){i.drawTools.settings.LshapeKnightMove=this.checked,s(0,i)}function ie(){i.drawTools.settings.onlyChessMove=this.checked,s(0,i)}function de(){i.sounds.enabled=this.checked,s(0,i)}function Te(H){i.sounds.settings[H]=this.checked,s(0,i)}function D(){i.resizible.enabled=this.checked,s(0,i)}function Z(H){Le[H?"unshift":"push"](()=>{n=H,s(1,n)})}return t.$$.update=()=>{t.$$.dirty[0]&1&&s(2,l=o(i))},[i,n,l,a,u,f,g,v,m,C,S,y,E,c,b,L,A,P,O,q,I,M,F,j,ie,de,Te,D,Z]}class Zi extends ze{constructor(e){super(),Be(this,e,Yi,Xi,He,{},null,[-1,-1])}}export{Zi as default};
