import{S as _e,i as Ee,s as we,B as en,k as F,a as j,l as I,m as N,h as p,c as K,p as he,n as g,b as z,F as k,C as tn,D as sn,E as nn,f as W,t as G,H as Pt,I as ts,J as Q,K as Fn,e as pe,L as In,q as ce,r as fe,u as It,A as ge,M as nt,N as an,O as qn,P as Rn,Q as ss,R as lt,T as Xt,U as Z,V as Yt,W as it,X as Qt,G as Nn,Y as Qe,Z as Ae,_ as Ce,o as Zt,g as qe,d as Re,$ as rt,a0 as Dn,a1 as Vn,a2 as te,v as ae,w as le,x as re,a3 as se,y as oe,a4 as ln,a5 as Bn,a6 as ns,a7 as Un,a8 as rn,z as Hn,a9 as on,aa as Lt,ab as ht,ac as Jt,ad as un,ae as is,af as zn}from"../../chunks/index-18bffe9d.js";import{w as Wn}from"../../chunks/index-c2b86799.js";typeof window<"u"&&(window.Prism&&console.warn("Prism has already been initiated. Please ensure that svelte-prism is imported first."),window.Prism=window.Prism||{},window.Prism.manual=!0);var as=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dn={exports:{}};(function(s){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(i){var a=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,l={},r={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function d(f){return f instanceof o?new o(f.type,d(f.content),f.alias):Array.isArray(f)?f.map(d):f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(d){return Object.prototype.toString.call(d).slice(8,-1)},objId:function(d){return d.__id||Object.defineProperty(d,"__id",{value:++n}),d.__id},clone:function d(f,E){E=E||{};var v,M;switch(r.util.type(f)){case"Object":if(M=r.util.objId(f),E[M])return E[M];v={},E[M]=v;for(var O in f)f.hasOwnProperty(O)&&(v[O]=d(f[O],E));return v;case"Array":return M=r.util.objId(f),E[M]?E[M]:(v=[],E[M]=v,f.forEach(function(V,q){v[q]=d(V,E)}),v);default:return f}},getLanguage:function(d){for(;d;){var f=a.exec(d.className);if(f)return f[1].toLowerCase();d=d.parentElement}return"none"},setLanguage:function(d,f){d.className=d.className.replace(RegExp(a,"gi"),""),d.classList.add("language-"+f)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(v){var d=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(v.stack)||[])[1];if(d){var f=document.getElementsByTagName("script");for(var E in f)if(f[E].src==d)return f[E]}return null}},isActive:function(d,f,E){for(var v="no-"+f;d;){var M=d.classList;if(M.contains(f))return!0;if(M.contains(v))return!1;d=d.parentElement}return!!E}},languages:{plain:l,plaintext:l,text:l,txt:l,extend:function(d,f){var E=r.util.clone(r.languages[d]);for(var v in f)E[v]=f[v];return E},insertBefore:function(d,f,E,v){v=v||r.languages;var M=v[d],O={};for(var V in M)if(M.hasOwnProperty(V)){if(V==f)for(var q in E)E.hasOwnProperty(q)&&(O[q]=E[q]);E.hasOwnProperty(V)||(O[V]=M[V])}var T=v[d];return v[d]=O,r.languages.DFS(r.languages,function(R,H){H===T&&R!=d&&(this[R]=O)}),O},DFS:function d(f,E,v,M){M=M||{};var O=r.util.objId;for(var V in f)if(f.hasOwnProperty(V)){E.call(f,V,f[V],v||V);var q=f[V],T=r.util.type(q);T==="Object"&&!M[O(q)]?(M[O(q)]=!0,d(q,E,null,M)):T==="Array"&&!M[O(q)]&&(M[O(q)]=!0,d(q,E,V,M))}}},plugins:{},highlightAll:function(d,f){r.highlightAllUnder(document,d,f)},highlightAllUnder:function(d,f,E){var v={callback:E,container:d,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",v),v.elements=Array.prototype.slice.apply(v.container.querySelectorAll(v.selector)),r.hooks.run("before-all-elements-highlight",v);for(var M=0,O;O=v.elements[M++];)r.highlightElement(O,f===!0,v.callback)},highlightElement:function(d,f,E){var v=r.util.getLanguage(d),M=r.languages[v];r.util.setLanguage(d,v);var O=d.parentElement;O&&O.nodeName.toLowerCase()==="pre"&&r.util.setLanguage(O,v);var V=d.textContent,q={element:d,language:v,grammar:M,code:V};function T(H){q.highlightedCode=H,r.hooks.run("before-insert",q),q.element.innerHTML=q.highlightedCode,r.hooks.run("after-highlight",q),r.hooks.run("complete",q),E&&E.call(q.element)}if(r.hooks.run("before-sanity-check",q),O=q.element.parentElement,O&&O.nodeName.toLowerCase()==="pre"&&!O.hasAttribute("tabindex")&&O.setAttribute("tabindex","0"),!q.code){r.hooks.run("complete",q),E&&E.call(q.element);return}if(r.hooks.run("before-highlight",q),!q.grammar){T(r.util.encode(q.code));return}if(f&&i.Worker){var R=new Worker(r.filename);R.onmessage=function(H){T(H.data)},R.postMessage(JSON.stringify({language:q.language,code:q.code,immediateClose:!0}))}else T(r.highlight(q.code,q.grammar,q.language))},highlight:function(d,f,E){var v={code:d,grammar:f,language:E};if(r.hooks.run("before-tokenize",v),!v.grammar)throw new Error('The language "'+v.language+'" has no grammar.');return v.tokens=r.tokenize(v.code,v.grammar),r.hooks.run("after-tokenize",v),o.stringify(r.util.encode(v.tokens),v.language)},tokenize:function(d,f){var E=f.rest;if(E){for(var v in E)f[v]=E[v];delete f.rest}var M=new b;return h(M,M.head,d),c(d,M,f,M.head,0),y(M)},hooks:{all:{},add:function(d,f){var E=r.hooks.all;E[d]=E[d]||[],E[d].push(f)},run:function(d,f){var E=r.hooks.all[d];if(!(!E||!E.length))for(var v=0,M;M=E[v++];)M(f)}},Token:o};i.Prism=r;function o(d,f,E,v){this.type=d,this.content=f,this.alias=E,this.length=(v||"").length|0}o.stringify=function d(f,E){if(typeof f=="string")return f;if(Array.isArray(f)){var v="";return f.forEach(function(T){v+=d(T,E)}),v}var M={type:f.type,content:d(f.content,E),tag:"span",classes:["token",f.type],attributes:{},language:E},O=f.alias;O&&(Array.isArray(O)?Array.prototype.push.apply(M.classes,O):M.classes.push(O)),r.hooks.run("wrap",M);var V="";for(var q in M.attributes)V+=" "+q+'="'+(M.attributes[q]||"").replace(/"/g,"&quot;")+'"';return"<"+M.tag+' class="'+M.classes.join(" ")+'"'+V+">"+M.content+"</"+M.tag+">"};function u(d,f,E,v){d.lastIndex=f;var M=d.exec(E);if(M&&v&&M[1]){var O=M[1].length;M.index+=O,M[0]=M[0].slice(O)}return M}function c(d,f,E,v,M,O){for(var V in E)if(!(!E.hasOwnProperty(V)||!E[V])){var q=E[V];q=Array.isArray(q)?q:[q];for(var T=0;T<q.length;++T){if(O&&O.cause==V+","+T)return;var R=q[T],H=R.inside,X=!!R.lookbehind,L=!!R.greedy,ne=R.alias;if(L&&!R.pattern.global){var be=R.pattern.toString().match(/[imsuy]*$/)[0];R.pattern=RegExp(R.pattern.source,be+"g")}for(var B=R.pattern||R,A=v.next,Y=M;A!==f.tail&&!(O&&Y>=O.reach);Y+=A.value.length,A=A.next){var $=A.value;if(f.length>d.length)return;if(!($ instanceof o)){var me=1,ie;if(L){if(ie=u(B,Y,d,X),!ie||ie.index>=d.length)break;var De=ie.index,ue=ie.index+ie[0].length,Se=Y;for(Se+=A.value.length;De>=Se;)A=A.next,Se+=A.value.length;if(Se-=A.value.length,Y=Se,A.value instanceof o)continue;for(var Te=A;Te!==f.tail&&(Se<ue||typeof Te.value=="string");Te=Te.next)me++,Se+=Te.value.length;me--,$=d.slice(Y,Se),ie.index-=Y}else if(ie=u(B,0,$,X),!ie)continue;var De=ie.index,ke=ie[0],ye=$.slice(0,De),Ve=$.slice(De+ke.length),Pe=Y+$.length;O&&Pe>O.reach&&(O.reach=Pe);var Oe=A.prev;ye&&(Oe=h(f,Oe,ye),Y+=ye.length),S(f,Oe,me);var Fe=new o(V,H?r.tokenize(ke,H):ke,ne,ke);if(A=h(f,Oe,Fe),Ve&&h(f,A,Ve),me>1){var We={cause:V+","+T,reach:Pe};c(d,f,E,A.prev,Y,We),O&&We.reach>O.reach&&(O.reach=We.reach)}}}}}}function b(){var d={value:null,prev:null,next:null},f={value:null,prev:d,next:null};d.next=f,this.head=d,this.tail=f,this.length=0}function h(d,f,E){var v=f.next,M={value:E,prev:f,next:v};return f.next=M,v.prev=M,d.length++,M}function S(d,f,E){for(var v=f.next,M=0;M<E&&v!==d.tail;M++)v=v.next;f.next=v,v.prev=f,d.length-=M}function y(d){for(var f=[],E=d.head.next;E!==d.tail;)f.push(E.value),E=E.next;return f}if(!i.document)return i.addEventListener&&(r.disableWorkerMessageHandler||i.addEventListener("message",function(d){var f=JSON.parse(d.data),E=f.language,v=f.code,M=f.immediateClose;i.postMessage(r.highlight(v,r.languages[E],E)),M&&i.close()},!1)),r;var C=r.util.currentScript();C&&(r.filename=C.src,C.hasAttribute("data-manual")&&(r.manual=!0));function w(){r.manual||r.highlightAll()}if(!r.manual){var _=document.readyState;_==="loading"||_==="interactive"&&C&&C.defer?document.addEventListener("DOMContentLoaded",w):window.requestAnimationFrame?window.requestAnimationFrame(w):window.setTimeout(w,16)}return r}(e);s.exports&&(s.exports=t),typeof as<"u"&&(as.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(a,n){var l={};l["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};r["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var o={};o[a]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return a}),"i"),lookbehind:!0,greedy:!0,inside:r},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(i,a){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[a,"language-"+a],inside:t.languages[a]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(i){var a=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+a.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+a.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+a.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+a.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:a,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var n=i.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading\u2026",a=function(C,w){return"\u2716 Error "+C+" while fetching file: "+w},n="\u2716 Error: File does not exist or is empty",l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},r="data-src-status",o="loading",u="loaded",c="failed",b="pre[data-src]:not(["+r+'="'+u+'"]):not(['+r+'="'+o+'"])';function h(C,w,_){var d=new XMLHttpRequest;d.open("GET",C,!0),d.onreadystatechange=function(){d.readyState==4&&(d.status<400&&d.responseText?w(d.responseText):d.status>=400?_(a(d.status,d.statusText)):_(n))},d.send(null)}function S(C){var w=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(C||"");if(w){var _=Number(w[1]),d=w[2],f=w[3];return d?f?[_,Number(f)]:[_,void 0]:[_,_]}}t.hooks.add("before-highlightall",function(C){C.selector+=", "+b}),t.hooks.add("before-sanity-check",function(C){var w=C.element;if(w.matches(b)){C.code="",w.setAttribute(r,o);var _=w.appendChild(document.createElement("CODE"));_.textContent=i;var d=w.getAttribute("data-src"),f=C.language;if(f==="none"){var E=(/\.(\w+)$/.exec(d)||[,"none"])[1];f=l[E]||E}t.util.setLanguage(_,f),t.util.setLanguage(w,f);var v=t.plugins.autoloader;v&&v.loadLanguages(f),h(d,function(M){w.setAttribute(r,u);var O=S(w.getAttribute("data-range"));if(O){var V=M.split(/\r\n?|\n/g),q=O[0],T=O[1]==null?V.length:O[1];q<0&&(q+=V.length),q=Math.max(0,Math.min(q-1,V.length)),T<0&&(T+=V.length),T=Math.max(0,Math.min(T,V.length)),M=V.slice(q,T).join(`
`),w.hasAttribute("data-start")||w.setAttribute("data-start",String(q+1))}_.textContent=M,t.highlightElement(_)},function(M){w.setAttribute(r,c),_.textContent=M})}}),t.plugins.fileHighlight={highlight:function(w){for(var _=(w||document).querySelectorAll(b),d=0,f;f=_[d++];)t.highlightElement(f)}};var y=!1;t.fileHighlight=function(){y||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),y=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(dn);const cn=dn.exports,ls="(if|else if|await|then|catch|each|html|debug)";Prism.languages.svelte=Prism.languages.extend("markup",{each:{pattern:new RegExp("{[#/]each(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{"language-javascript":[{pattern:/(as[\s\S]*)\([\s\S]*\)(?=\s*\})/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(as[\s]*)[\s\S]*(?=\s*)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(#each[\s]*)[\s\S]*(?=as)/,lookbehind:!0,inside:Prism.languages.javascript}],keyword:/[#/]each|as/,punctuation:/{|}/}},block:{pattern:new RegExp("{[#:/@]/s"+ls+"(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{punctuation:/^{|}$/,keyword:[new RegExp("[#:/@]"+ls+"( )*"),/as/,/then/],"language-javascript":{pattern:/[\s\S]*/,inside:Prism.languages.javascript}}},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?:"[^"]*"|'[^']*'|{[\s\S]+?}(?=[\s/>])))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,inside:Prism.languages.javascript},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],"language-javascript":{pattern:/{[\s\S]+}/,inside:Prism.languages.javascript}}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,lookbehind:!0,inside:Prism.languages.javascript}});Prism.languages.svelte.tag.inside["attr-value"].inside.entity=Prism.languages.svelte.entity;Prism.hooks.add("wrap",s=>{s.type==="entity"&&(s.attributes.title=s.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.svelte.tag,"addInlined",{value:function(e,t){const i={};i["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;const a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};a["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};const n={};n[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:a},Prism.languages.insertBefore("svelte","cdata",n)}});Prism.languages.svelte.tag.addInlined("style","css");Prism.languages.svelte.tag.addInlined("script","javascript");function jn(s){let e,t;return{c(){e=new Fn(!1),t=pe(),this.h()},l(i){e=In(i,!1),t=pe(),this.h()},h(){e.a=t},m(i,a){e.m(s[2],i,a),z(i,t,a)},p(i,a){a&4&&e.p(i[2])},d(i){i&&p(t),i&&e.d()}}}function Kn(s){let e;return{c(){e=ce(s[2])},l(t){e=fe(t,s[2])},m(t,i){z(t,e,i)},p(t,i){i&4&&It(e,t[2])},d(t){t&&p(e)}}}function Gn(s){let e,t,i,a,n,l,r;const o=s[6].default,u=en(o,s,s[5],null);function c(S,y){return S[0]==="none"?Kn:jn}let b=c(s),h=b(s);return{c(){e=F("code"),u&&u.c(),t=j(),i=F("pre"),a=F("code"),h.c(),this.h()},l(S){e=I(S,"CODE",{style:!0});var y=N(e);u&&u.l(y),y.forEach(p),t=K(S),i=I(S,"PRE",{class:!0,"command-line":!0,"data-output":!0});var C=N(i);a=I(C,"CODE",{class:!0});var w=N(a);h.l(w),w.forEach(p),C.forEach(p),this.h()},h(){he(e,"display","none"),g(a,"class",n="language-"+s[0]),g(i,"class",l="language-"+s[0]),g(i,"command-line",""),g(i,"data-output","2-17")},m(S,y){z(S,e,y),u&&u.m(e,null),s[7](e),z(S,t,y),z(S,i,y),k(i,a),h.m(a,null),r=!0},p(S,[y]){u&&u.p&&(!r||y&32)&&tn(u,o,S,S[5],r?nn(o,S[5],y,null):sn(S[5]),null),b===(b=c(S))&&h?h.p(S,y):(h.d(1),h=b(S),h&&(h.c(),h.m(a,null))),(!r||y&1&&n!==(n="language-"+S[0]))&&g(a,"class",n),(!r||y&1&&l!==(l="language-"+S[0]))&&g(i,"class",l)},i(S){r||(W(u,S),r=!0)},o(S){G(u,S),r=!1},d(S){S&&p(e),u&&u.d(S),s[7](null),S&&p(t),S&&p(i),h.d()}}}const rs=cn;cn.highlightElement;const Xn={transform:s=>s};function Yn(s,e,t){let{$$slots:i={},$$scope:a}=e,{language:n="javascript"}=e,{source:l=""}=e,{transform:r=h=>h}=e,o,u;function c(){const h=rs.languages[n];let S=l||o.textContent;S=Xn.transform(S),S=r(S),t(2,u=n==="none"?S:rs.highlight(S,h,n))}function b(h){Q[h?"unshift":"push"](()=>{o=h,t(1,o)})}return s.$$set=h=>{t(9,e=Pt(Pt({},e),ts(h))),"language"in h&&t(0,n=h.language),"source"in h&&t(3,l=h.source),"transform"in h&&t(4,r=h.transform),"$$scope"in h&&t(5,a=h.$$scope)},s.$$.update=()=>{e&&(l||o)&&c()},e=ts(e),[n,o,u,l,r,a,i,b]}class Qn extends _e{constructor(e){super(),Ee(this,e,Yn,Gn,we,{language:0,source:3,transform:4})}}var x=(s=>(s[s.WHITE=0]="WHITE",s[s.BLACK=1]="BLACK",s[s.BOTH=2]="BOTH",s[s.SPECTATOR=3]="SPECTATOR",s[s.SERVER=4]="SERVER",s))(x||{}),D=(s=>(s[s.LEGAL=0]="LEGAL",s[s.LEGALHOVER=1]="LEGALHOVER",s[s.CHECK=2]="CHECK",s[s.MOVE=3]="MOVE",s[s.NEXTMOVE=4]="NEXTMOVE",s[s.PREMOVE=5]="PREMOVE",s[s.PREMOVEHOVER=6]="PREMOVEHOVER",s[s.SELECT=7]="SELECT",s))(D||{});class Zn{constructor(e){this.defaultState={boardTheme:"standard",piecesTheme:"standard",flipped:!1,notation:!0,shadow:!1,startFen:ai,size:0},this.setConfigSettings=t=>{t!==void 0&&(t.boardTheme!==void 0&&(this.boardTheme=t.boardTheme),t.piecesTheme!==void 0&&(this.piecesTheme=t.piecesTheme),t.flipped!==void 0&&(this.flipped=t.flipped),t.notation!==void 0&&(this.notation=t.notation),t.shadow!==void 0&&(this.shadow=t.shadow),t.startFen!==void 0&&(this.startFen=t.startFen))},this.getConfig=()=>{const t={...this.boardTheme!==this.defaultState.boardTheme&&{boardTheme:this.boardTheme},...this.piecesTheme!==this.defaultState.piecesTheme&&{piecesTheme:this.piecesTheme},...this.flipped!==this.defaultState.flipped&&{flipped:this.flipped},...this.notation!==this.defaultState.notation&&{notation:this.notation},...this.shadow!==this.defaultState.shadow&&{shadow:this.shadow},...this.startFen!==this.defaultState.startFen&&{startFen:this.startFen}};if(Object.keys(t).length!==0)return t},this.boardTheme=this.defaultState.boardTheme,this.piecesTheme=this.defaultState.piecesTheme,this.flipped=this.defaultState.flipped,this.notation=this.defaultState.notation,this.shadow=this.defaultState.shadow,this.startFen=this.defaultState.startFen,this.size=this.defaultState.size,this.setConfigSettings(e)}}class fn{constructor(e){this.defaultState={enabled:!0,color:x.BOTH},this.setConfigSettings=t=>{switch(t){case!0:this.enabled=!0,this.color=x.BOTH;break;case!1:this.enabled=!1;break;case x.WHITE:this.enabled=!0,this.color=x.WHITE;break;case x.BLACK:this.enabled=!0,this.color=x.BLACK;break}},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.color!==this.defaultState.color)return this.color;if(this.enabled&&!this.defaultState.enabled)return this.color;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.color=this.defaultState.color,this.setConfigSettings(e)}}class Jn{constructor(e){this.defaultState={enabled:!0,ghostPiece:{enabled:!0,piece:void 0},transition:{enabled:!0,settings:{duration:120,easing:"cubicInOut"}}},this.setConfigSettings=t=>{var i,a,n,l;t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,(t==null?void 0:t.ghostPiece)!==void 0&&(this.ghostPiece.enabled=t.ghostPiece),t.transition!==void 0&&((t==null?void 0:t.transition)===!0?this.transition.enabled=!0:(t==null?void 0:t.transition)===!1?this.transition.enabled=!1:(this.transition.enabled=!0,(i=t==null?void 0:t.transition)!=null&&i.duration&&(this.transition.settings.duration=(a=t==null?void 0:t.transition)==null?void 0:a.duration),(n=t==null?void 0:t.transition)!=null&&n.easing&&(this.transition.settings.easing=(l=t==null?void 0:t.transition)==null?void 0:l.easing)))))},this.getConfig=()=>{const t={},i={};if(this.enabled&&this.defaultState.enabled&&(this.ghostPiece.enabled!==this.defaultState.ghostPiece.enabled&&(t.ghostPiece=this.ghostPiece.enabled),this.transition.enabled&&this.defaultState.transition.enabled&&(this.transition.settings.duration!==this.defaultState.transition.settings.duration&&(i.duration=this.transition.settings.duration),this.transition.settings.easing!==this.defaultState.transition.settings.easing&&(i.easing=this.transition.settings.easing),Object.keys(i).length!==0&&(t.transition=i)),!this.transition.enabled&&this.defaultState.transition.enabled&&(t.transition=!1),Object.keys(t).length!==0))return t;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.ghostPiece={...this.defaultState.ghostPiece},this.transition={enabled:this.defaultState.transition.enabled,settings:{...this.defaultState.transition.settings}},this.setConfigSettings(e)}}class xn{constructor(e){this.defaultState={enabled:!0,selectedPiece:void 0},this.setConfigSettings=t=>{t!==void 0&&(this.enabled=t)},this.getConfig=()=>{if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.selectedPiece=this.defaultState.selectedPiece,this.setConfigSettings(e)}}class $n{constructor(e){this.defaultState={enabled:!1,whiteToMove:!0,moves:[],settings:{allowPromotion:!0,allowEnPassant:!0,allowCastling:!0},preMoves:{enabled:!1,moves:[],curMove:""},lastMove:""},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.settings&&(t.settings.allowCastling!==void 0&&(this.settings.allowCastling=t.settings.allowCastling),t.settings.allowEnPassant!==void 0&&(this.settings.allowEnPassant=t.settings.allowEnPassant),t.settings.allowPromotion!==void 0&&(this.settings.allowPromotion=t.settings.allowPromotion)),t.preMoves!==void 0&&(this.preMoves.enabled=t.preMoves)))},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.preMoves.enabled!==this.defaultState.preMoves.enabled)return{preMoves:this.preMoves.enabled};if(this.enabled!==this.defaultState.enabled)return this.preMoves.enabled!==this.defaultState.preMoves.enabled?{preMoves:this.preMoves.enabled}:this.enabled},this.enabled=this.defaultState.enabled,this.whiteToMove=this.defaultState.whiteToMove,this.moves=JSON.parse(JSON.stringify(this.defaultState.moves)),this.settings={...this.defaultState.settings},this.preMoves={enabled:this.defaultState.preMoves.enabled,moves:[...this.defaultState.preMoves.moves],curMove:this.defaultState.preMoves.curMove},this.lastMove=this.defaultState.lastMove,this.setConfigSettings(e)}}class ei{constructor(e){this.defaultState={enabled:!0,settings:{select:!0,legal:!0,move:!0,preMove:!1,nextMove:!1,check:!0}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.check!==void 0&&(this.settings.check=t.check),t.legal!==void 0&&(this.settings.legal=t.legal),t.move!==void 0&&(this.settings.move=t.move),t.nextMove!==void 0&&(this.settings.nextMove=t.nextMove),t.preMove!==void 0&&(this.settings.preMove=t.preMove),t.select!==void 0&&(this.settings.select=t.select)))},this.getConfig=()=>{const t={},i=["select","legal","move","preMove","nextMove","check"];if(this.enabled&&this.defaultState.enabled&&(i.forEach(a=>{this.settings[a]!==this.defaultState.settings[a]&&(t[a]=this.settings[a])}),Object.keys(t).length!==0))return t;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},this.setConfigSettings(e)}}class ti{constructor(e){this.defaultState={enabled:!0,engineArrows:[],settings:{knightLShape:!1,onlyChessMove:!1}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.knightLShape!==void 0&&(this.settings.knightLShape=t.knightLShape),t.onlyChessMove!==void 0&&(this.settings.onlyChessMove=t.onlyChessMove)))},this.getConfig=()=>{const t={};if(this.enabled&&this.defaultState.enabled&&(this.settings.knightLShape!==this.defaultState.settings.knightLShape&&(t.knightLShape=this.settings.knightLShape),this.settings.onlyChessMove!==this.defaultState.settings.onlyChessMove&&(t.onlyChessMove=this.settings.onlyChessMove),Object.keys(t).length!==0))return t;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.engineArrows=JSON.parse(JSON.stringify(this.defaultState.engineArrows)),this.settings={knightLShape:this.defaultState.settings.knightLShape,onlyChessMove:this.defaultState.settings.onlyChessMove},this.setConfigSettings(e)}}class si{constructor(e){this.defaultState={enabled:!0,settings:{MOVE:!0,CAPTURE:!0,CASTLE:!0,UNDO:!0}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.CAPTURE!==void 0&&(this.settings.CAPTURE=t.CAPTURE),t.CASTLE!==void 0&&(this.settings.CASTLE=t.CASTLE),t.MOVE!==void 0&&(this.settings.MOVE=t.MOVE),t.UNDO!==void 0&&(this.settings.UNDO=t.UNDO)))},this.getConfig=()=>{const t={};if(this.enabled&&this.defaultState.enabled&&(this.settings.MOVE!==this.defaultState.settings.MOVE&&(t.MOVE=this.settings.MOVE),this.settings.CAPTURE!==this.defaultState.settings.CAPTURE&&(t.CAPTURE=this.settings.CAPTURE),this.settings.CASTLE!==this.defaultState.settings.CASTLE&&(t.CASTLE=this.settings.CASTLE),this.settings.UNDO!==this.defaultState.settings.UNDO&&(t.UNDO=this.settings.UNDO),Object.keys(t).length!==0))return t;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.CAPTURE!==void 0&&(this.settings.CAPTURE=e.CAPTURE),e.CASTLE!==void 0&&(this.settings.CASTLE=e.CASTLE),e.MOVE!==void 0&&(this.settings.MOVE=e.MOVE),e.UNDO!==void 0&&(this.settings.UNDO=e.UNDO)))}}class ni{constructor(e){this.defaultState={enabled:!1,settings:{min:100,max:1e3}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.min!==void 0&&(this.settings.min=t.min),t.max!==void 0&&(this.settings.max=t.max)))},this.getConfig=()=>{if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},this.setConfigSettings(e)}}class ii{constructor(e){this.defaultState={getLegalMoves:void 0,getPreMoves:void 0,beforeMove:void 0,afterMove:void 0,getLastMove:void 0,getLastMoveSAN:void 0,getKingLocations:void 0,getInCheck:void 0,getWhiteToMove:void 0},this.setConfigSettings=t=>{t!==void 0&&(t.getLegalMoves&&(this.getLegalMoves=t.getLegalMoves),t.getPreMoves&&(this.getPreMoves=t.getPreMoves),t.beforeMove&&(this.beforeMove=t.beforeMove),t.afterMove&&(this.afterMove=t.afterMove),t.getLastMove&&(this.getLastMove=t.getLastMove),t.getLastMoveSAN&&(this.getLastMoveSAN=t.getLastMoveSAN),t.getKingLocations&&(this.getKingLocations=t.getKingLocations),t.getInCheck&&(this.getInCheck=t.getInCheck),t.getWhiteToMove&&(this.getWhiteToMove=t.getWhiteToMove))},this.getConfig=()=>{const t={...this.getLegalMoves&&{getLegalMoves:this.getLegalMoves},...this.getPreMoves&&{getPreMoves:this.getPreMoves},...this.beforeMove&&{beforeMove:this.beforeMove},...this.afterMove&&{afterMove:this.afterMove},...this.getLastMove&&{getLastMove:this.getLastMove},...this.getLastMoveSAN&&{getLastMoveSAN:this.getLastMoveSAN},...this.getKingLocations&&{getKingLocations:this.getKingLocations},...this.getInCheck&&{getInCheck:this.getInCheck},...this.getWhiteToMove&&{getWhiteToMove:this.getWhiteToMove}};return Object.keys(t).length>0?t:void 0},this.getLegalMoves=this.defaultState.getLegalMoves,this.getPreMoves=this.defaultState.getPreMoves,this.beforeMove=this.defaultState.beforeMove,this.afterMove=this.defaultState.afterMove,this.getLastMove=this.defaultState.getLastMove,this.getLastMoveSAN=this.defaultState.getLastMoveSAN,this.getKingLocations=this.defaultState.getKingLocations,this.getInCheck=this.defaultState.getInCheck,this.getWhiteToMove=this.defaultState.getWhiteToMove,this.setConfigSettings(e)}}const ai="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class hn{constructor(e){this.getConfig=()=>({board:this.board.getConfig(),movable:this.movable.getConfig(),draggable:this.draggable.getConfig(),selectable:this.selectable.getConfig(),legal:this.legal.getConfig(),highlight:this.highlight.getConfig(),drawTools:this.drawTools.getConfig(),sounds:this.sounds.getConfig(),resizible:this.resizible.getConfig()}),this.pieces=[],this.markedSquares=new Set,this.board=new Zn(e==null?void 0:e.board),this.movable=new fn(e==null?void 0:e.movable),this.draggable=new Jn(e==null?void 0:e.draggable),this.selectable=new xn(e==null?void 0:e.selectable),this.legal=new $n(e==null?void 0:e.legal),this.callbacks=new ii(e==null?void 0:e.callbacks),this.highlight=new ei(e==null?void 0:e.highlight),this.drawTools=new ti(e==null?void 0:e.drawTools),this.sounds=new si(e==null?void 0:e.sounds),this.resizible=new ni(e==null?void 0:e.resizible)}setConfigSettings(e){this.board.setConfigSettings(e.board),this.movable.setConfigSettings(e.movable),this.draggable.setConfigSettings(e.draggable),this.selectable.setConfigSettings(e.selectable),this.legal.setConfigSettings(e.legal),this.callbacks.setConfigSettings(e.callbacks),this.highlight.setConfigSettings(e.highlight),this.drawTools.setConfigSettings(e.drawTools),this.sounds.setConfigSettings(e.sounds),this.resizible.setConfigSettings(e.resizible)}}const li=["a","b","c","d","e","f","g","h"],ri=["8","7","6","5","4","3","2","1"];function Ht(s){return{x:li.indexOf(s[0]),y:ri.indexOf(s[1])}}function zt(s){return s.charCodeAt(0)-97}function oi(s){return 8-parseInt(s,10)}const ui=s=>{let e="",t=0;for(let i=0;i<s.length;i++){i!==0&&(e+="/");for(let a=0;a<s[i].length;a++){const n=s[i][a];n!=null&&t===0?n[0]==="w"?e+=n[1]:e+=n[1].toLowerCase():n!=null&&t!==0?(e+=t.toString(),t=0,n[0]==="w"?e+=n[1]:e+=n[1].toLowerCase()):t++}t!==0&&(e+=t.toString(),t=0)}return e},di="8/8/8/8/8/8/8/8 w - - 0 1";class ci{constructor(e){this.letters={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},this.changeLegalHoverIfNeeded=t=>{t.color!==D.LEGAL&&t.color!==D.PREMOVE||this.state.pieces.forEach(i=>{i.square===t.square&&(t.color=t.color===D.LEGAL?D.LEGALHOVER:D.PREMOVEHOVER)})},this.highlightSquare=(t,i)=>{const a={square:t,color:i};this.state.markedSquares.forEach(n=>{n.square===t&&n.color!==D.MOVE&&n.color!==D.CHECK&&this.state.markedSquares.delete(n)}),this.changeLegalHoverIfNeeded(a),this.state.markedSquares.add(a)},this.legalHover=t=>{this.state.markedSquares.forEach(i=>{if(i.square===t&&i.color===D.LEGAL)i.color=D.LEGALHOVER;else if(i.square!==t&&i.color===D.LEGALHOVER){let a=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(a=!0)}),a||(i.color=D.LEGAL)}})},this.preMoveHover=t=>{this.state.markedSquares.forEach(i=>{if(i.square===t&&i.color===D.PREMOVE)i.color=D.PREMOVEHOVER;else if(i.square!==t&&i.color===D.PREMOVEHOVER){let a=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(a=!0)}),a||(i.color=D.PREMOVE)}})},this.toggleSquareHighlight=(t,i)=>{const a={square:t,color:i};let n=!1;return this.state.markedSquares.forEach(l=>{l.square===t&&(this.state.markedSquares.delete(l),l.color===i&&(n=!0))}),this.changeLegalHoverIfNeeded(a),n?!0:(this.state.markedSquares.add(a),!1)},this.getSelectedSquare=()=>{let t="";return this.state.markedSquares.forEach(i=>{i.color===D.SELECT&&(t=i.square)}),t},this.clearSquare=(t,i)=>{t.length===2&&this.state.markedSquares.forEach(a=>{a.square===t&&(a.color===i||i===void 0)&&this.state.markedSquares.delete(a)})},this.clearAllSquares=t=>{t===void 0?this.state.markedSquares.clear():this.state.markedSquares.forEach(i=>{i.color===t&&this.state.markedSquares.delete(i)})},this.setPiece=(t,i)=>{if(this.notValidThing({square:t,piece:i}))return;const a=this.state.pieces.find(n=>n.square===t);a?a.name=i:this.state.pieces.push({square:t,name:i})},this.removePiece=t=>{this.notValidThing({square:t})||this.state.pieces.forEach((i,a)=>{i.square===t&&this.state.pieces.splice(a,1)})},this.clearAllPieces=()=>{this.state.pieces.length=0},this.getGridCoordsFromSquare=t=>{if(this.notValidThing({square:t}))return{x:0,y:0};const i=t[0],a=t[1],n=this.state.board.flipped?Math.abs(this.letters[i]-7):this.letters[i],l=this.state.board.flipped?Math.abs(parseInt(a,10)-8):parseInt(a,10)-1;return typeof n!="number"||l<0||l>7?{x:0,y:0}:{x:n,y:l}},this.makeMove=t=>{if(this.notValidThing({move:t}))return;let i=!1,a;const n=t.substring(0,2),l=t.substring(2,4),r=t.substring(4);this.state.pieces.forEach(o=>{o.square===l&&(a=o,this.removePiece(o.square))}),this.state.pieces.forEach(o=>{o.square===n&&(o.square=l,i=!0,r&&(o.name=o.name[0]+r.toUpperCase()))}),i?this.state.legal.lastMove=t:a&&this.state.pieces.push(a)},this.getSquareFromIndices=(t,i)=>Object.keys(this.letters)[t]+(i+1).toString(),this.updatePiecesWithFen=t=>{const i=[...Array(8)].map(()=>Array(8).fill(null)),a=["1","2","3","4","5","6","7","8"];let n=0,l=0;for(let u=0;u<(t.includes(" ")?t.indexOf(" "):t.length);u++)if(t[u]==="/")n++,l=0;else if(!a.includes(t[u]))t[u]===t[u].toUpperCase()?i[n][l]=`w${t[u]}`:i[n][l]=`b${t[u].toUpperCase()}`,l++;else for(let c=0;c<parseInt(t[u],10);c++)i[n][l]=null,l++;const r=[],o=[];for(let u=0;u<i.length;++u)for(let c=0;c<i.length;++c){const b=i[u][c],h=this.getPieceFromSquare(this.getSquareFromIndices(c,Math.abs(u-7)));b&&!h&&r.push({square:this.getSquareFromIndices(c,Math.abs(u-7)),name:b}),!b&&h&&o.push(h),b&&h&&b!==h.name&&(r.push({square:this.getSquareFromIndices(c,Math.abs(u-7)),name:b}),o.push(h))}for(let u=0;u<o.length;u++)for(let c=0;c<r.length;c++)!r[c]||!o[u]||r[c].name===o[u].name&&(o[u].square=r[c].square,o.splice(u,1),u--,r.splice(c,1),c--);r.forEach(u=>{this.state.pieces.push(u)}),o.forEach(u=>{this.state.pieces.splice(this.state.pieces.indexOf(u),1)})},this.notValidThing=t=>{const{square:i,piece:a,move:n}=t;return!!(i&&i.length!==2||a&&a.length!==2||n&&n.length!==4&&n.length!==5)},this.setGhostPiece=t=>{this.state.draggable.ghostPiece.piece=t},this.removeGhostPiece=()=>{this.state.draggable.ghostPiece.piece=void 0},this.isCastling=t=>{switch(t){case"e1g1":case"e1c1":case"e8g8":case"e8c8":return!0;default:return!1}},this.getRookMoveIfIsCastling=t=>{switch(t){case"e1g1":return"h1f1";case"e1c1":return"a1d1";case"e8g8":return"h8f8";case"e8c8":return"a8d8";default:return}},this.isEnPassant=t=>{if(t[0]===t[2]||this.getPieceFromSquare(t.substring(2,4)))return!1;const i=this.getPieceFromSquare(t.substring(0,2));return!(i===void 0||i.name!=="wP"&&i.name!=="bP")},this.getCapturedPawnSquareIfIsEnPassant=t=>{if(t[0]===t[2]||this.getPieceFromSquare(t.substring(2,4)))return;const i=this.getPieceFromSquare(t.substring(0,2));if(i===void 0||i.name!=="wP"&&i.name!=="bP")return;const a=this.getPieceFromSquare(`${t[2]}${parseInt(t[3],10)+(i.name==="wP"?-1:1)}`);return a==null?void 0:a.square},this.isCapture=t=>!!this.getPieceFromSquare(t.substring(2,4)),this.isPromotion=t=>{if((t[1]!=="7"||t[3]!=="8")&&(t[1]!=="2"||t[3]!=="1"))return!1;const i=this.getPieceFromSquare(t.substring(0,2));return!(i&&(i.name[1]!=="P"||i.name[0]==="w"&&t[3]==="1"||i.name[0]==="b"&&t[3]==="8"))},this.callbackExists=t=>this.state.callbacks[t]!==void 0,this.flipBoard=t=>{t!==void 0?this.state.board.flipped=t:this.state.board.flipped=!this.state.board.flipped},this.setConfigSettings=t=>{this.state.setConfigSettings(t)},this.state=new hn(e),this.state.board.startFen&&this.updatePiecesWithFen(this.state.board.startFen)}getShortFEN(){if(this.state.pieces.length===0)return di;const e=[...Array(8)].map(()=>Array(8).fill(null));return this.state.pieces.forEach(t=>{e[oi(t.square[1])][zt(t.square[0])]=t.name}),ui(e)}getPieceFromSquare(e){let t;return this.state.pieces.forEach(i=>{i.square===e&&(t=i)}),t}}const fi={[D.LEGAL]:"legalSQ cursor-pointer",[D.LEGALHOVER]:"legalSQ_hover cursor-pointer",[D.SELECT]:"selectedSQ",[D.MOVE]:"highlightMove",[D.NEXTMOVE]:"nextMoveSQ",[D.PREMOVE]:"preMoveSQ cursor-pointer",[D.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[D.CHECK]:"checkSQ"},hi={white:"#f0d9b5",black:"#b58863"},gi="standard.svg",bi={[D.LEGAL]:"legalSQ cursor-pointer",[D.LEGALHOVER]:"legalSQ_hover cursor-pointer",[D.SELECT]:"selectedSQ-darkBlue",[D.MOVE]:"highlightMove-darkBlue",[D.NEXTMOVE]:"nextMoveSQ",[D.PREMOVE]:"preMoveSQ cursor-pointer",[D.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[D.CHECK]:"checkSQ"},pi={white:"#94A3B8",black:"#475569"},mi="darkBlue.svg",Ne={squareStyles:{standard:fi,darkBlue:bi},colors:{standard:hi,darkBlue:pi},imageName:{standard:gi,darkBlue:mi}};function os(s,e,t){const i=s.slice();return i[3]=e[t],i[5]=t,i}function us(s,e,t){const i=s.slice();return i[3]=e[t],i[5]=t,i}function ds(s){let e,t=s[2][s[1]?Math.abs(s[5]-7):s[5]]+"",i,a;return{c(){e=F("span"),i=ce(t),a=j(),this.h()},l(n){e=I(n,"SPAN",{"data-file":!0,style:!0,class:!0});var l=N(e);i=fe(l,t),a=K(l),l.forEach(p),this.h()},h(){g(e,"data-file",s[3]),he(e,"color",s[5]%2===0?Ne.colors[s[0]].white:Ne.colors[s[0]].black),g(e,"class","svelte-t3eav4")},m(n,l){z(n,e,l),k(e,i),k(e,a)},p(n,l){l&2&&t!==(t=n[2][n[1]?Math.abs(n[5]-7):n[5]]+"")&&It(i,t),l&1&&he(e,"color",n[5]%2===0?Ne.colors[n[0]].white:Ne.colors[n[0]].black)},d(n){n&&p(e)}}}function cs(s){let e,t=(s[1]?s[5]+1:Math.abs(s[5]-8))+"",i,a,n;return{c(){e=F("span"),i=ce(t),a=j(),this.h()},l(l){e=I(l,"SPAN",{"data-file":!0,style:!0,class:!0});var r=N(e);i=fe(r,t),a=K(r),r.forEach(p),this.h()},h(){g(e,"data-file",s[3]),g(e,"style",n="color: "+(s[5]%2===0?Ne.colors[s[0]].white:Ne.colors[s[0]].black)+";"+(s[1]?" text-align: right;":"")),g(e,"class","svelte-t3eav4")},m(l,r){z(l,e,r),k(e,i),k(e,a)},p(l,r){r&2&&t!==(t=(l[1]?l[5]+1:Math.abs(l[5]-8))+"")&&It(i,t),r&3&&n!==(n="color: "+(l[5]%2===0?Ne.colors[l[0]].white:Ne.colors[l[0]].black)+";"+(l[1]?" text-align: right;":""))&&g(e,"style",n)},d(l){l&&p(e)}}}function vi(s){let e,t,i,a=s[2],n=[];for(let o=0;o<a.length;o+=1)n[o]=ds(us(s,a,o));let l=s[2],r=[];for(let o=0;o<l.length;o+=1)r[o]=cs(os(s,l,o));return{c(){e=F("div");for(let o=0;o<n.length;o+=1)n[o].c();t=j(),i=F("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=I(o,"DIV",{class:!0});var u=N(e);for(let b=0;b<n.length;b+=1)n[b].l(u);u.forEach(p),t=K(o),i=I(o,"DIV",{class:!0});var c=N(i);for(let b=0;b<r.length;b+=1)r[b].l(c);c.forEach(p),this.h()},h(){g(e,"class","files noselect svelte-t3eav4"),g(i,"class","ranks noselect svelte-t3eav4")},m(o,u){z(o,e,u);for(let c=0;c<n.length;c+=1)n[c].m(e,null);z(o,t,u),z(o,i,u);for(let c=0;c<r.length;c+=1)r[c].m(i,null)},p(o,[u]){if(u&7){a=o[2];let c;for(c=0;c<a.length;c+=1){const b=us(o,a,c);n[c]?n[c].p(b,u):(n[c]=ds(b),n[c].c(),n[c].m(e,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=a.length}if(u&7){l=o[2];let c;for(c=0;c<l.length;c+=1){const b=os(o,l,c);r[c]?r[c].p(b,u):(r[c]=cs(b),r[c].c(),r[c].m(i,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=l.length}},i:ge,o:ge,d(o){o&&p(e),nt(n,o),o&&p(t),o&&p(i),nt(r,o)}}}function _i(s,e,t){let{theme:i}=e,{flipped:a}=e;const n=["a","b","c","d","e","f","g","h"];return s.$$set=l=>{"theme"in l&&t(0,i=l.theme),"flipped"in l&&t(1,a=l.flipped)},[i,a,n]}class Ei extends _e{constructor(e){super(),Ee(this,e,_i,vi,we,{theme:0,flipped:1})}}function wi(s){const e=2.5949095;return(s*=2)<1?.5*(s*s*((e+1)*s-e)):.5*((s-=2)*s*((e+1)*s+e)+2)}function Mi(s){return s*s*((1.70158+1)*s-1.70158)}function ki(s){return--s*s*((1.70158+1)*s+1.70158)+1}function Tt(s){const e=.36363636363636365,t=8/11,i=9/10,a=4356/361,n=35442/1805,l=16061/1805,r=s*s;return s<e?7.5625*r:s<t?9.075*r-9.9*s+3.4:s<i?a*r-n*s+l:10.8*s*s-20.52*s+10.72}function Si(s){return s<.5?.5*(1-Tt(1-s*2)):.5*Tt(s*2-1)+.5}function yi(s){return 1-Tt(1-s)}function Ai(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)}function Ci(s){return 1-Math.sqrt(1-s*s)}function Pi(s){return Math.sqrt(1- --s*s)}function Li(s){return s<.5?4*s*s*s:.5*Math.pow(2*s-2,3)+1}function Ti(s){return s*s*s}function xt(s){const e=s-1;return e*e*e+1}function Oi(s){return s<.5?.5*Math.sin(13*Math.PI/2*2*s)*Math.pow(2,10*(2*s-1)):.5*Math.sin(-13*Math.PI/2*(2*s-1+1))*Math.pow(2,-10*(2*s-1))+1}function Fi(s){return Math.sin(13*s*Math.PI/2)*Math.pow(2,10*(s-1))}function Ii(s){return Math.sin(-13*(s+1)*Math.PI/2)*Math.pow(2,-10*s)+1}function qi(s){return s===0||s===1?s:s<.5?.5*Math.pow(2,20*s-10):-.5*Math.pow(2,10-s*20)+1}function Ri(s){return s===0?s:Math.pow(2,10*(s-1))}function Ni(s){return s===1?s:1-Math.pow(2,-10*s)}function Di(s){return s/=.5,s<1?.5*s*s:(s--,-.5*(s*(s-2)-1))}function Vi(s){return s*s}function Bi(s){return-s*(s-2)}function Ui(s){return s<.5?8*Math.pow(s,4):-8*Math.pow(s-1,4)+1}function Hi(s){return Math.pow(s,4)}function zi(s){return Math.pow(s-1,3)*(1-s)+1}function Wi(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)}function ji(s){return s*s*s*s*s}function Ki(s){return--s*s*s*s*s+1}function Gi(s){return-.5*(Math.cos(Math.PI*s)-1)}function Xi(s){const e=Math.cos(s*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}function Yi(s){return Math.sin(s*Math.PI/2)}const Ot=Object.freeze(Object.defineProperty({__proto__:null,backIn:Mi,backInOut:wi,backOut:ki,bounceIn:yi,bounceInOut:Si,bounceOut:Tt,circIn:Ci,circInOut:Ai,circOut:Pi,cubicIn:Ti,cubicInOut:Li,cubicOut:xt,elasticIn:Fi,elasticInOut:Oi,elasticOut:Ii,expoIn:Ri,expoInOut:qi,expoOut:Ni,quadIn:Vi,quadInOut:Di,quadOut:Bi,quartIn:Hi,quartInOut:Ui,quartOut:zi,quintIn:ji,quintInOut:Wi,quintOut:Ki,sineIn:Xi,sineInOut:Gi,sineOut:Yi,linear:an},Symbol.toStringTag,{value:"Module"}));function fs(s){return Object.prototype.toString.call(s)==="[object Date]"}function Wt(s,e){if(s===e||s!==s)return()=>s;const t=typeof s;if(t!==typeof e||Array.isArray(s)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(s)){const i=e.map((a,n)=>Wt(s[n],a));return a=>i.map(n=>n(a))}if(t==="object"){if(!s||!e)throw new Error("Object cannot be null");if(fs(s)&&fs(e)){s=s.getTime(),e=e.getTime();const n=e-s;return l=>new Date(s+l*n)}const i=Object.keys(e),a={};return i.forEach(n=>{a[n]=Wt(s[n],e[n])}),n=>{const l={};return i.forEach(r=>{l[r]=a[r](n)}),l}}if(t==="number"){const i=e-s;return a=>s+a*i}throw new Error(`Cannot interpolate ${t} values`)}function Qi(s,e={}){const t=Wn(s);let i,a=s;function n(l,r){if(s==null)return t.set(s=l),Promise.resolve();a=l;let o=i,u=!1,{delay:c=0,duration:b=400,easing:h=an,interpolate:S=Wt}=Pt(Pt({},e),r);if(b===0)return o&&(o.abort(),o=null),t.set(s=a),Promise.resolve();const y=qn()+c;let C;return i=Rn(w=>{if(w<y)return!0;u||(C=S(s,l),typeof b=="function"&&(b=b(s,l)),u=!0),o&&(o.abort(),o=null);const _=w-y;return _>b?(t.set(s=l),!1):(t.set(s=C(h(_/b))),!0)}),i.promise}return{set:n,update:(l,r)=>n(l(a,s),r),subscribe:t.subscribe}}function hs(s,e,t,i){if(e===0&&t===0)return s;const a=i?["a","b","c","d","e","f","g","h"].reverse():["a","b","c","d","e","f","g","h"],n=i?["8","7","6","5","4","3","2","1"].reverse():["8","7","6","5","4","3","2","1"],l=a[a.indexOf(s[0])+e],r=n[n.indexOf(s[1])+t];if(!(!l||!r))return l+r}function gs(s,e,t){const i=e*1.15,a=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","circle");return a.setAttribute("width",(s.offsetWidth*i).toString()),a.setAttribute("height",(s.offsetHeight*i).toString()),a.style.position="absolute",a.style.zIndex="100",a.style.transform=`translate(${t?"":"-"}${25*i/2}%, -${25*i/2}%)`,a.style.opacity="0.2",n.setAttribute("r",(s.offsetWidth*i/2).toString()),n.setAttribute("cx",(s.offsetWidth*i/2).toString()),n.setAttribute("cy",(s.offsetHeight*i/2).toString()),n.setAttribute("fill","black"),a.appendChild(n),a}function Zi(s,e){let t;function i(B,A=1e3){let Y=!1;const $=()=>{t==null?Y=!1:(B(...t),t=null,setTimeout($,A))};return(...me)=>{if(Y){t=me;return}B(...me),Y=!0,setTimeout($,A)}}let a,n,l,r,o,u,c,b,h=!1,S;const y=s.parentNode;let C,{startSquare:w,boardFlipped:_,onlyShow:d,duration:f,easingFunc:E}=e;const{coords:v}=e;let M=ss(v).x,O=ss(v).y;const V=1.6;let q=gs(s,V,_);s.draggable=!1;function T(B){let A,Y;if(B instanceof MouseEvent?(A=B.clientX-a,Y=B.clientY-n,a=B.clientX,n=B.clientY):(A=B.touches[0].clientX-a,Y=B.touches[0].clientY-n,a=B.touches[0].clientX,n=B.touches[0].clientY),o+=A,u+=Y,h||(Math.abs(o)>1||Math.abs(u)>1)&&(v.update($=>({x:$.x+(a-s.offsetWidth/2-s.getBoundingClientRect().x)/s.clientWidth,y:B instanceof MouseEvent?$.y-(n-s.offsetHeight/2-s.getBoundingClientRect().y)/s.clientWidth:$.y-(n-s.offsetHeight*1.5-s.getBoundingClientRect().y)/s.clientWidth,scale:B instanceof MouseEvent?1:V}),{duration:f,easing:E}),h=!0,s.style.zIndex="30",s.style.cursor="grabbing",s.dispatchEvent(new CustomEvent("startMoving"))),!!h){if(!(B instanceof MouseEvent)){const $=Math.floor((o+l)/s.offsetWidth),me=Math.floor((u+r)/s.offsetHeight),ie=hs(w,$,me,_);if(ie){if(ie!==C&&!(B instanceof MouseEvent)){const ue=Ht(ie);q.style.left=`${ue.x*12.5}%`,q.style.top=`${ue.y*12.5}%`,y.appendChild(q)}}else C&&(C="")}v.update($=>({x:$.x+A/s.clientWidth,y:$.y-Y/s.clientWidth,scale:B instanceof MouseEvent?1:V}),{duration:0}),s.dispatchEvent(new CustomEvent("moving",{detail:{x:a,y:n}}))}}const R=i(T,10);function H(){const B=window.scrollX-c,A=window.scrollY-b;c=window.scrollX,b=window.scrollY,v.update(Y=>({x:Y.x+B,y:Y.y+A,scale:1}),{duration:0})}function X(){window.removeEventListener("mousemove",R),window.removeEventListener("mouseup",X),document.body.removeEventListener("mouseleave",X),window.removeEventListener("scroll",H),window.removeEventListener("touchmove",R),window.removeEventListener("touchend",X),window.removeEventListener("touchcancel",X),t=null;const B=Math.floor((o+l)/s.offsetWidth),A=Math.floor((u+r)/s.offsetHeight),Y=hs(w,B,A,_);Y&&s.dispatchEvent(new CustomEvent("dropped",{detail:Y})),v.update(()=>({x:M,y:O,scale:1}),{duration:f,easing:E}).then(()=>{s.dispatchEvent(new CustomEvent("animationEnded"))}),a=0,n=0,o=0,u=0,h=!1,s.style.removeProperty("cursor"),setTimeout(()=>{s.style.zIndex="1"},f),q.remove()}function L(B){var Y;if(B.preventDefault(),B instanceof MouseEvent&&B.button!==0||!(B instanceof MouseEvent)&&((Y=B.touches)==null?void 0:Y.length)>1)return;M=_?7-zt(w[0]):zt(w[0]),O=_?8-parseInt(w[1],10):parseInt(w[1],10)-1,C=w;const A=B.target.getBoundingClientRect();!(B instanceof MouseEvent)&&B.touches[0]&&B.targetTouches[0]?(a=B.touches[0].clientX,n=B.touches[0].clientY,l=B.targetTouches[0].clientX-A.x,r=B.targetTouches[0].clientY-A.y):B instanceof MouseEvent&&(a=B.clientX,n=B.clientY,l=B.offsetX,r=B.offsetY),o=0,u=0,c=window.scrollX,b=window.scrollY,s.dispatchEvent(new CustomEvent("clicked")),window.addEventListener("mousemove",R),window.addEventListener("mouseup",X),document.body.addEventListener("mouseleave",X),window.addEventListener("scroll",H),window.addEventListener("touchmove",R),window.addEventListener("touchend",X)}function ne(B){B.preventDefault()}function be(B){B.preventDefault()}return s.addEventListener("contextmenu",ne),s.addEventListener("dragstart",be),d||(s.addEventListener("mousedown",L),s.addEventListener("touchstart",L)),{destroy(){s.removeEventListener("mousedown",L),s.removeEventListener("touchstart",L),s.removeEventListener("contextmenu",ne),s.removeEventListener("dragstart",be),window.clearTimeout(S)},update(B){w=B.startSquare,f=B.duration,E=B.easingFunc,B.onlyShow!==d&&(d=B.onlyShow,d?(s.removeEventListener("mousedown",L),s.removeEventListener("touchstart",L)):(s.addEventListener("mousedown",L),s.addEventListener("touchstart",L))),_!==B.boardFlipped&&(q=gs(s,V,B.boardFlipped)),_=B.boardFlipped}}}const bs=""+new URL("../../assets/wP-f78bae6c.svg",import.meta.url).href,Ji=""+new URL("../../assets/wR-5eb92d73.svg",import.meta.url).href,xi=""+new URL("../../assets/wN-a4c975a2.svg",import.meta.url).href,$i=""+new URL("../../assets/wB-1ff2f149.svg",import.meta.url).href,ea=""+new URL("../../assets/wQ-8568b485.svg",import.meta.url).href,ta=""+new URL("../../assets/wK-4cdf6dc9.svg",import.meta.url).href,sa=""+new URL("../../assets/bP-84e521e8.svg",import.meta.url).href,na=""+new URL("../../assets/bR-e39efb08.svg",import.meta.url).href,ia=""+new URL("../../assets/bN-d3912d91.svg",import.meta.url).href,aa=""+new URL("../../assets/bB-c430b746.svg",import.meta.url).href,la=""+new URL("../../assets/bQ-c7b9a43e.svg",import.meta.url).href,ra=""+new URL("../../assets/bK-3500a2e6.svg",import.meta.url).href;function jt(s){switch(s){case"wP":return bs;case"wR":return Ji;case"wN":return xi;case"wB":return $i;case"wQ":return ea;case"wK":return ta;case"bP":return sa;case"bR":return na;case"bN":return ia;case"bB":return aa;case"bQ":return la;case"bK":return ra;default:return bs}}function oa(s){let e,t,i,a,n,l;return{c(){e=F("img"),this.h()},l(r){e=I(r,"IMG",{style:!0,class:!0,src:!0,alt:!0}),this.h()},h(){he(e,"left",s[8].x*12.5+"%"),he(e,"bottom",s[8].y*12.5+"%"),he(e,"z-Index",s[7]),he(e,"opacity",s[4]?.3:1),g(e,"class",t="noselect "+(s[12](s[3])?"pointer":"")+" svelte-wpq1i"),lt(e.src,i=jt(s[1]))||g(e,"src",i),g(e,"alt",s[1])},m(r,o){z(r,e,o),n||(l=[Xt(a=Zi.call(null,e,{startSquare:s[0],onlyShow:!s[12](s[3]),boardFlipped:s[2],duration:s[6],easingFunc:Ot[s[5]],coords:s[10]})),Z(e,"dropped",s[11]),Z(e,"clicked",s[18]),Z(e,"startMoving",s[19]),Z(e,"animationEnded",s[20]),Z(e,"moving",s[21])],n=!0)},p(r,[o]){o&256&&he(e,"left",r[8].x*12.5+"%"),o&256&&he(e,"bottom",r[8].y*12.5+"%"),o&128&&he(e,"z-Index",r[7]),o&16&&he(e,"opacity",r[4]?.3:1),o&8&&t!==(t="noselect "+(r[12](r[3])?"pointer":"")+" svelte-wpq1i")&&g(e,"class",t),o&2&&!lt(e.src,i=jt(r[1]))&&g(e,"src",i),o&2&&g(e,"alt",r[1]),a&&Yt(a.update)&&o&109&&a.update.call(null,{startSquare:r[0],onlyShow:!r[12](r[3]),boardFlipped:r[2],duration:r[6],easingFunc:Ot[r[5]],coords:r[10]})},i:ge,o:ge,d(r){r&&p(e),n=!1,it(l)}}}function ua(s,e,t){let i,a,{square:n}=e,{name:l}=e,{getGridCoordsFromSquare:r}=e,{flipped:o}=e,{legal:u}=e,{preMoves:c=!1}=e,{whiteToMove:b=!1}=e,{movableState:h}=e,{ghostPiece:S=!1}=e,{easing:y="cubicInOut"}=e,{duration:C=120}=e,{piecesWasDeselected:w=!1}=e,_=!1;const d=Qt();let f=C;const E=Qi({x:0,y:0,scale:1},{duration:f,easing:Ot[y]});Nn(s,E,L=>t(8,a=L));let v=!1;const M=L=>L[0]==="w"?x.WHITE:x.BLACK,O=L=>{const ne=r(L);E.update(()=>({x:ne.x,y:ne.y,scale:1}),{duration:v?f:0,easing:Ot[y]}),v||(v=!0),f=C},V=L=>{f=0,n===L.detail?(d(_?"deselect":"select"),_=!_):_=!1,d("endDragging",n+L.detail),n!==L.detail&&d("move",n+L.detail)},q=L=>L.enabled?u?!!(c&&M(l)===L.color||L.color===x.WHITE&&b&&M(l)===x.WHITE||L.color===x.BLACK&&!b&&M(l)===x.BLACK||L.color===x.BOTH&&(M(l)===x.WHITE&&b||M(l)===x.BLACK&&!b)):L.color===M(l)||L.color===x.BOTH:!1;function T(L){Qe.call(this,s,L)}function R(L){Qe.call(this,s,L)}function H(L){Qe.call(this,s,L)}const X=L=>d("moving",L.detail);return s.$$set=L=>{"square"in L&&t(0,n=L.square),"name"in L&&t(1,l=L.name),"getGridCoordsFromSquare"in L&&t(13,r=L.getGridCoordsFromSquare),"flipped"in L&&t(2,o=L.flipped),"legal"in L&&t(14,u=L.legal),"preMoves"in L&&t(15,c=L.preMoves),"whiteToMove"in L&&t(16,b=L.whiteToMove),"movableState"in L&&t(3,h=L.movableState),"ghostPiece"in L&&t(4,S=L.ghostPiece),"easing"in L&&t(5,y=L.easing),"duration"in L&&t(6,C=L.duration),"piecesWasDeselected"in L&&t(17,w=L.piecesWasDeselected)},s.$$.update=()=>{s.$$.dirty&131072&&w&&(_=!1),s.$$.dirty&5&&O(n),s.$$.dirty&8&&t(7,i=typeof h=="boolean"?h?2:1:h.enabled?2:1)},[n,l,o,h,S,y,C,i,a,d,E,V,q,r,u,c,b,w,T,R,H,X]}class gn extends _e{constructor(e){super(),Ee(this,e,ua,oa,we,{square:0,name:1,getGridCoordsFromSquare:13,flipped:2,legal:14,preMoves:15,whiteToMove:16,movableState:3,ghostPiece:4,easing:5,duration:6,piecesWasDeselected:17})}}function da(s){let e,t;return{c(){e=F("div"),this.h()},l(i){e=I(i,"DIV",{style:!0,class:!0}),N(e).forEach(p),this.h()},h(){he(e,"left",s[2]*12.5+"%"),he(e,"bottom",s[3]*12.5+"%"),g(e,"class",t="noselect "+Ne.squareStyles[s[1]][s[0]]+" svelte-10vytug")},m(i,a){z(i,e,a)},p(i,[a]){a&4&&he(e,"left",i[2]*12.5+"%"),a&8&&he(e,"bottom",i[3]*12.5+"%"),a&3&&t!==(t="noselect "+Ne.squareStyles[i[1]][i[0]]+" svelte-10vytug")&&g(e,"class",t)},i:ge,o:ge,d(i){i&&p(e)}}}function ca(s,e,t){let{square:i}=e,{color:a}=e,{getGridCoordsFromSquare:n}=e,{flipped:l}=e,{theme:r}=e,o,u;const c=()=>{const b=n(i);t(2,o=b.x),t(3,u=b.y)};return s.$$set=b=>{"square"in b&&t(4,i=b.square),"color"in b&&t(0,a=b.color),"getGridCoordsFromSquare"in b&&t(5,n=b.getGridCoordsFromSquare),"flipped"in b&&t(6,l=b.flipped),"theme"in b&&t(1,r=b.theme)},s.$$.update=()=>{s.$$.dirty&64&&c()},[a,r,o,u,i,n,l]}class fa extends _e{constructor(e){super(),Ee(this,e,ca,da,we,{square:4,color:0,getGridCoordsFromSquare:5,flipped:6,theme:1})}}const ha=["a","b","c","d","e","f","g","h"],ga=["8","7","6","5","4","3","2","1"];function ba(s){s.querySelectorAll("[sf]").forEach(e=>e.remove())}function Kt(s){return`${ha[s.x]}${ga[s.y]}`}function bn(s,e){return Math.abs((s.x-e.x)*(s.y-e.y))===2}function Gt(s,e){return`${Kt(s)}${Kt(e)}`}function pa(s,e){return!!(bn(s,e)||Math.abs(s.x-e.x)===Math.abs(s.y-e.y)||s.x===e.x!=(s.y===e.y))}function pn(s,e,t,i,a,n){let l={x:-1,y:-1},r,o;bn(e,t)&&i?(Math.abs(t.x-e.x)===2?l={x:t.x,y:e.y}:l={x:e.x,y:t.y},l.y-e.y<0?o=Math.PI+Math.atan((l.x-e.x)/(l.y-e.y)):o=Math.atan((l.x-e.x)/Math.abs(l.y-e.y)),r={x:t.x-Math.sign(t.x-l.x)*(l.x!==t.x?.4:0),y:t.y-Math.sign(t.y-l.y)*(l.y!==t.y?.4:0)}):(t.y-e.y<0?o=Math.PI+Math.atan((t.x-e.x)/(t.y-e.y)):o=Math.atan((t.x-e.x)/Math.abs(t.y-e.y)),r={x:t.x-Math.sin(o)*.4,y:t.y-Math.cos(o)*.4});const u={x:e.x+Math.sin(o)*.4,y:e.y+Math.cos(o)*.4};s.setAttribute("points",`${u.x+.5},${u.y+.5} ${l.x!==-1&&l.y!==-1&&i?`${l.x+.5},${l.y+.5} `:""}${r.x+.5},${r.y+.5}`),s.setAttribute("data-sqID",`${Gt(e,t)}`),n!==void 0&&s.setAttribute("opacity",`${n}`),a!==void 0&&(s.setAttribute("marker-start",`url(#start-${a[0]})`),s.setAttribute("marker-end",`url(#end-${a[0]})`),s.setAttribute("stroke",a))}function Ct(s,e,t,i,a,n){if(!(e===void 0||t.x===-1&&t.y===-1)){if(e.tagName==="circle")e.setAttribute("fill","transparent"),i?e.setAttribute("stroke","red"):a?e.setAttribute("stroke","orange"):n?e.setAttribute("stroke","blue"):e.setAttribute("stroke","green"),s.querySelectorAll(`\u0441ircle[cx="${t.x+.5}"][cy="${t.y+.5}"]`).forEach(l=>{e!==void 0&&l!==e&&(l.getAttribute("stroke")===e.getAttribute("stroke")?e.setAttribute("remove",""):e.hasAttribute("remove")&&e.removeAttribute("remove"))});else if(e.tagName==="polyline"){const l=i?"red":a?"orange":n?"blue":"green";e.setAttribute("stroke",`${l}`),e.setAttribute("marker-start",`url(#start-${l[0]})`),e.setAttribute("marker-end",`url(#end-${l[0]})`),s.querySelectorAll(`polyline[data-sqID="${e.getAttribute("data-sqID")}"]`).forEach(r=>{e instanceof SVGPolylineElement&&r!==e&&(r.getAttribute("stroke")===e.getAttribute("stroke")?e.setAttribute("remove",""):e.hasAttribute("remove")&&e.removeAttribute("remove"))})}}}function mn(s,e,t,i,a){const n=document.createElementNS("http://www.w3.org/2000/svg","polyline");return pn(n,s,e,t,i,a),n.setAttribute("fill","none"),n.setAttribute("stroke-width","0.25"),n.setAttribute("stroke-linejoin","round"),n.setAttribute("opacity",a!==void 0?`${a}`:"0.4"),n.setAttribute("marker-start",i?`url(#start-${i[0]})`:"url(#start-g)"),n.setAttribute("marker-end",i?`url(#end-${i[0]})`:"url(#end-g)"),n.setAttribute("stroke",i||"green"),n}function ma(s,e,t){e.forEach(i=>{const a=mn(Ht(i.move.substring(0,2)),Ht(i.move.substring(2,4)),t,i.color,i.opacity);a.setAttribute("sf",""),s.appendChild(a)})}function ps(s){s.querySelectorAll("circle,polyline").forEach(e=>{e.hasAttribute("sf")||e.remove()})}function va(s,e){let{svg:t,flipped:i,enabled:a,settings:n}=e,l=!1,r={x:-1,y:-1},o,u;function c(_,d){const f=s.getBoundingClientRect(),E=i?f.width-(_-f.left):_-f.left,v=i?f.height-(d-f.top):d-f.top;return{x:Math.max(0,Math.min(7,Math.floor(E/(s.clientWidth/8)))),y:Math.max(0,Math.min(7,Math.floor(v/(s.clientHeight/8))))}}function b(_){u=document.createElementNS("http://www.w3.org/2000/svg","circle"),u.setAttribute("cx",`${_.x+.5}`),u.setAttribute("cy",`${_.y+.5}`),u.setAttribute("r","0.465"),u.setAttribute("opacity","0.4"),u.setAttribute("fill","none"),u.setAttribute("stroke-width","0.07"),u.setAttribute("stroke","green")}function h(_){if(u===void 0||r.x===-1&&r.y===-1)return;const d=c(_.clientX,_.clientY);n.onlyChessMove&&!pa(r,d)||(o=void 0,u.hasAttribute("remove")&&u.removeAttribute("remove"),r.x===d.x&&r.y===d.y?(Gt(r,d),u instanceof SVGPolylineElement&&(u.remove(),b(d)),Ct(t,u,r,_.shiftKey,_.ctrlKey,_.altKey),t.appendChild(u),t.querySelectorAll(`circle[cx="${r.x+.5}"][cy="${r.y+.5}"]`).forEach(f=>{f!==u&&(o=f,u!==void 0&&f.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))})):(u instanceof SVGCircleElement&&u.remove(),o=void 0,t.querySelectorAll(`polyline[data-sqID="${Gt(r,d)}"]`).forEach(f=>{u===void 0||r.x===-1&&r.y===-1||f===u||(o=f,f.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))}),u instanceof SVGCircleElement?(u=mn(r,d,n.knightLShape),Ct(t,u,r,_.shiftKey,_.ctrlKey,_.altKey),t.appendChild(u)):u instanceof SVGPolylineElement&&pn(u,r,d,n.knightLShape)))}function S(_){_.preventDefault()}function y(_){_.preventDefault(),Ct(t,u,r,_.shiftKey,_.ctrlKey,_.altKey)}function C(_){if(_.button===0)l=!1;else if(_.button===2){if(r.x===-1&&r.y===-1)return;t.querySelectorAll("[remove]").forEach(d=>{d.remove()}),o&&o.remove(),o=void 0,(u==null?void 0:u.tagName)==="circle"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawCircle",{detail:{square:Kt(r),color:u.getAttribute("stroke")}})),(u==null?void 0:u.tagName)==="polyline"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawArrow",{detail:{move:u.getAttribute("data-sqID"),color:u.getAttribute("stroke")}})),u=void 0,r={x:-1,y:-1},l=!1,window.removeEventListener("mousemove",h),window.removeEventListener("keydown",y),window.removeEventListener("keyup",y),window.removeEventListener("contextmenu",S)}window.removeEventListener("mouseup",C)}function w(_){if(_.button===0)l=!0,ps(t),window.addEventListener("mouseup",C);else if(_.button===2&&!l){const d=c(_.clientX,_.clientY);r=d,b(d),Ct(t,u,r,_.shiftKey,_.ctrlKey,_.altKey),o=void 0,t.querySelectorAll(`circle[cx="${d.x+.5}"][cy="${d.y+.5}"]`).forEach(f=>{o=f,u!==void 0&&f.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove","")}),u&&t.appendChild(u),window.addEventListener("mousemove",h),window.addEventListener("mouseup",C),window.addEventListener("keydown",y),window.addEventListener("keyup",y),window.addEventListener("contextmenu",S)}}return a&&s.addEventListener("mousedown",w),{update(_){_.svg!==t&&(t=_.svg),_.enabled!==a&&(a=_.enabled,a?s.addEventListener("mousedown",w):(ps(t),s.removeEventListener("mousedown",w))),n=_.settings,i=_.flipped}}}function ms(s,e,t){const i=s.slice();return i[8]=e[t],i}function vs(s){let e,t,i,a;return{c(){e=Ae("marker"),t=Ae("path"),i=Ae("marker"),a=Ae("path"),this.h()},l(n){e=Ce(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var l=N(e);t=Ce(l,"path",{fill:!0,d:!0}),N(t).forEach(p),l.forEach(p),i=Ce(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,orient:!0,fill:!0});var r=N(i);a=Ce(r,"path",{fill:!0,d:!0}),N(a).forEach(p),r.forEach(p),this.h()},h(){g(t,"fill",s[8]),g(t,"d","M 5 0 Q 0 0 0 5 L 0 15 Q 0 20 5 20 Z"),g(e,"id","start-"+s[8][0]),g(e,"viewBox","0 0 5 20"),g(e,"refX","4"),g(e,"refY","10"),g(e,"markerUnits","strokeWidth"),g(e,"markerWidth","0.5"),g(e,"markerHeight","1"),g(e,"orient","auto"),g(a,"fill",s[8]),g(a,"d","M 0 4 L 10 10 L 0 16 Z"),g(i,"id","end-"+s[8][0]),g(i,"viewBox","0 0 10 20"),g(i,"refX","0.2"),g(i,"refY","10"),g(i,"markerUnits","strokeWidth"),g(i,"orient","auto"),g(i,"fill","currentColor")},m(n,l){z(n,e,l),k(e,t),z(n,i,l),k(i,a)},p:ge,d(n){n&&p(e),n&&p(i)}}}function _a(s){let e,t,i,a=s[2],n=[];for(let l=0;l<a.length;l+=1)n[l]=vs(ms(s,a,l));return{c(){e=Ae("svg"),t=Ae("defs");for(let l=0;l<n.length;l+=1)n[l].c();i=Ae("g"),this.h()},l(l){e=Ce(l,"svg",{xmlns:!0,style:!0,viewBox:!0,class:!0});var r=N(e);t=Ce(r,"defs",{});var o=N(t);for(let u=0;u<n.length;u+=1)n[u].l(o);o.forEach(p),i=Ce(r,"g",{}),N(i).forEach(p),r.forEach(p),this.h()},h(){g(e,"xmlns","http://www.w3.org/2000/svg"),he(e,"transform","rotate("+(s[1]?"180deg":"0deg")+")"),g(e,"viewBox","0 0 8 8"),g(e,"class","svelte-19gv2n4")},m(l,r){z(l,e,r),k(e,t);for(let o=0;o<n.length;o+=1)n[o].m(t,null);k(e,i),s[5](i)},p(l,[r]){if(r&4){a=l[2];let o;for(o=0;o<a.length;o+=1){const u=ms(l,a,o);n[o]?n[o].p(u,r):(n[o]=vs(u),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=a.length}r&2&&he(e,"transform","rotate("+(l[1]?"180deg":"0deg")+")")},i:ge,o:ge,d(l){l&&p(e),nt(n,l),s[5](null)}}}function Ea(s,e,t){let{flipped:i=!1}=e,{svg:a}=e,{knightLShape:n=!1}=e,{computerArrows:l=[]}=e,r=!1;function o(b){!r||(ba(a),ma(a,b,n))}Zt(()=>{r=!0,o(l)});const u=["green","red","blue","orange"];function c(b){Q[b?"unshift":"push"](()=>{a=b,t(0,a)})}return s.$$set=b=>{"flipped"in b&&t(1,i=b.flipped),"svg"in b&&t(0,a=b.svg),"knightLShape"in b&&t(3,n=b.knightLShape),"computerArrows"in b&&t(4,l=b.computerArrows)},s.$$.update=()=>{s.$$.dirty&16&&o(l)},[a,i,u,n,l,c]}class wa extends _e{constructor(e){super(),Ee(this,e,Ea,_a,we,{flipped:1,svg:0,knightLShape:3,computerArrows:4})}}function _s(s,{delay:e=0,duration:t=400,easing:i=xt,x:a=0,y:n=0,opacity:l=0}={}){const r=getComputedStyle(s),o=+r.opacity,u=r.transform==="none"?"":r.transform,c=o*(1-l);return{delay:e,duration:t,easing:i,css:(b,h)=>`
			transform: ${u} translate(${(1-b)*a}px, ${(1-b)*n}px);
			opacity: ${o-c*h}`}}function Ft(s,{delay:e=0,duration:t=400,easing:i=xt}={}){const a=getComputedStyle(s),n=+a.opacity,l=parseFloat(a.height),r=parseFloat(a.paddingTop),o=parseFloat(a.paddingBottom),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),b=parseFloat(a.borderTopWidth),h=parseFloat(a.borderBottomWidth);return{delay:e,duration:t,easing:i,css:S=>`overflow: hidden;opacity: ${Math.min(S*20,1)*n};height: ${S*l}px;padding-top: ${S*r}px;padding-bottom: ${S*o}px;margin-top: ${S*u}px;margin-bottom: ${S*c}px;border-top-width: ${S*b}px;border-bottom-width: ${S*h}px;`}}function Ma(s){let e,t,i,a,n,l;return{c(){e=F("button"),t=F("img"),this.h()},l(r){e=I(r,"BUTTON",{});var o=N(e);t=I(o,"IMG",{src:!0,alt:!0,class:!0}),o.forEach(p),this.h()},h(){lt(t.src,i=s[1])||g(t,"src",i),g(t,"alt",a="Promotion to "+s[0].toUpperCase()),g(t,"class","svelte-17pqsbb")},m(r,o){z(r,e,o),k(e,t),n||(l=Z(e,"click",s[2]),n=!0)},p(r,[o]){o&1&&a!==(a="Promotion to "+r[0].toUpperCase())&&g(t,"alt",a)},i:ge,o:ge,d(r){r&&p(e),n=!1,l()}}}function ka(s,e,t){let{piece:i}=e,{isWhite:a}=e,{showModal:n}=e;const l=Qt(),r=(a?"w":"b")+i.toUpperCase(),o=jt(r),u=()=>{l("newPromotion",i),t(3,n=!1)};return s.$$set=c=>{"piece"in c&&t(0,i=c.piece),"isWhite"in c&&t(4,a=c.isWhite),"showModal"in c&&t(3,n=c.showModal)},[i,o,u,n,a]}class Sa extends _e{constructor(e){super(),Ee(this,e,ka,Ma,we,{piece:0,isWhite:4,showModal:3})}}function Es(s,e,t){const i=s.slice();return i[6]=e[t],i}function ws(s){let e,t,i,a,n,l=["q","r","b","n"],r=[];for(let u=0;u<4;u+=1)r[u]=Ms(Es(s,l,u));const o=u=>G(r[u],1,1,()=>{r[u]=null});return{c(){e=F("div"),t=F("div");for(let u=0;u<4;u+=1)r[u].c();this.h()},l(u){e=I(u,"DIV",{class:!0});var c=N(e);t=I(c,"DIV",{class:!0});var b=N(t);for(let h=0;h<4;h+=1)r[h].l(b);b.forEach(p),c.forEach(p),this.h()},h(){g(t,"class","modal-content svelte-it5mr1"),g(e,"class","modal svelte-it5mr1")},m(u,c){z(u,e,c),k(e,t);for(let b=0;b<4;b+=1)r[b].m(t,null);n=!0},p(u,c){if(c&3){l=["q","r","b","n"];let b;for(b=0;b<4;b+=1){const h=Es(u,l,b);r[b]?(r[b].p(h,c),W(r[b],1)):(r[b]=Ms(h),r[b].c(),W(r[b],1),r[b].m(t,null))}for(qe(),b=4;b<4;b+=1)o(b);Re()}},i(u){if(!n){for(let c=0;c<4;c+=1)W(r[c]);rt(()=>{a&&a.end(1),i=Dn(t,_s,{x:100,duration:300}),i.start()}),n=!0}},o(u){r=r.filter(Boolean);for(let c=0;c<4;c+=1)G(r[c]);i&&i.invalidate(),a=Vn(t,_s,{x:-200,duration:100}),n=!1},d(u){u&&p(e),nt(r,u),u&&a&&a.end()}}}function Ms(s){let e,t,i,a;function n(o){s[3](o)}function l(o){s[4](o)}let r={piece:s[6]};return s[1]!==void 0&&(r.isWhite=s[1]),s[0]!==void 0&&(r.showModal=s[0]),e=new Sa({props:r}),Q.push(()=>te(e,"isWhite",n)),Q.push(()=>te(e,"showModal",l)),e.$on("newPromotion",s[5]),{c(){ae(e.$$.fragment)},l(o){le(e.$$.fragment,o)},m(o,u){re(e,o,u),a=!0},p(o,u){const c={};!t&&u&2&&(t=!0,c.isWhite=o[1],se(()=>t=!1)),!i&&u&1&&(i=!0,c.showModal=o[0],se(()=>i=!1)),e.$set(c)},i(o){a||(W(e.$$.fragment,o),a=!0)},o(o){G(e.$$.fragment,o),a=!1},d(o){oe(e,o)}}}function ya(s){let e,t,i=s[0]&&ws(s);return{c(){i&&i.c(),e=pe()},l(a){i&&i.l(a),e=pe()},m(a,n){i&&i.m(a,n),z(a,e,n),t=!0},p(a,[n]){a[0]?i?(i.p(a,n),n&1&&W(i,1)):(i=ws(a),i.c(),W(i,1),i.m(e.parentNode,e)):i&&(qe(),G(i,1,1,()=>{i=null}),Re())},i(a){t||(W(i),t=!0)},o(a){G(i),t=!1},d(a){i&&i.d(a),a&&p(e)}}}function Aa(s,e,t){let i=!1,a;function n(u){t(0,i=!0),u?t(1,a=!0):t(1,a=!1)}function l(u){a=u,t(1,a)}function r(u){i=u,t(0,i)}function o(u){Qe.call(this,s,u)}return[i,a,n,l,r,o]}class Ca extends _e{constructor(e){super(),Ee(this,e,Aa,ya,we,{openPromotionModal:2})}get openPromotionModal(){return this.$$.ctx[2]}}const Pa=""+new URL("../../assets/move-e4d827fe.wav",import.meta.url).href,La=""+new URL("../../assets/capture-3dff493a.wav",import.meta.url).href,Ta=""+new URL("../../assets/castle-dcf4b2c5.wav",import.meta.url).href,Oa=""+new URL("../../assets/undo-b4184324.mp3",import.meta.url).href;function ks(s){let e,t,i,a;return{c(){e=F("audio"),t=F("track"),i=F("source"),this.h()},l(n){e=I(n,"AUDIO",{preload:!0});var l=N(e);t=I(l,"TRACK",{kind:!0}),i=I(l,"SOURCE",{src:!0}),l.forEach(p),this.h()},h(){g(t,"kind","captions"),lt(i.src,a=Pa)||g(i,"src",a),g(e,"preload","auto")},m(n,l){z(n,e,l),k(e,t),k(e,i),s[3](e)},p:ge,d(n){n&&p(e),s[3](null)}}}function Ss(s){let e,t,i,a;return{c(){e=F("audio"),t=F("track"),i=F("source"),this.h()},l(n){e=I(n,"AUDIO",{preload:!0});var l=N(e);t=I(l,"TRACK",{kind:!0}),i=I(l,"SOURCE",{src:!0}),l.forEach(p),this.h()},h(){g(t,"kind","captions"),lt(i.src,a=La)||g(i,"src",a),g(e,"preload","auto")},m(n,l){z(n,e,l),k(e,t),k(e,i),s[4](e)},p:ge,d(n){n&&p(e),s[4](null)}}}function ys(s){let e,t,i,a;return{c(){e=F("audio"),t=F("track"),i=F("source"),this.h()},l(n){e=I(n,"AUDIO",{preload:!0});var l=N(e);t=I(l,"TRACK",{kind:!0}),i=I(l,"SOURCE",{src:!0}),l.forEach(p),this.h()},h(){g(t,"kind","captions"),lt(i.src,a=Ta)||g(i,"src",a),g(e,"preload","auto")},m(n,l){z(n,e,l),k(e,t),k(e,i),s[5](e)},p:ge,d(n){n&&p(e),s[5](null)}}}function As(s){let e,t,i,a;return{c(){e=F("audio"),t=F("track"),i=F("source"),this.h()},l(n){e=I(n,"AUDIO",{preload:!0});var l=N(e);t=I(l,"TRACK",{kind:!0}),i=I(l,"SOURCE",{src:!0}),l.forEach(p),this.h()},h(){g(t,"kind","captions"),lt(i.src,a=Oa)||g(i,"src",a),g(e,"preload","auto")},m(n,l){z(n,e,l),k(e,t),k(e,i),s[6](e)},p:ge,d(n){n&&p(e),s[6](null)}}}function Fa(s){let e,t,i,a,n=s[0].MOVE&&ks(s),l=s[0].CAPTURE&&Ss(s),r=s[0].CASTLE&&ys(s),o=s[0].UNDO&&As(s);return{c(){n&&n.c(),e=j(),l&&l.c(),t=j(),r&&r.c(),i=j(),o&&o.c(),a=pe()},l(u){n&&n.l(u),e=K(u),l&&l.l(u),t=K(u),r&&r.l(u),i=K(u),o&&o.l(u),a=pe()},m(u,c){n&&n.m(u,c),z(u,e,c),l&&l.m(u,c),z(u,t,c),r&&r.m(u,c),z(u,i,c),o&&o.m(u,c),z(u,a,c)},p(u,[c]){u[0].MOVE?n?n.p(u,c):(n=ks(u),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),u[0].CAPTURE?l?l.p(u,c):(l=Ss(u),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),u[0].CASTLE?r?r.p(u,c):(r=ys(u),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null),u[0].UNDO?o?o.p(u,c):(o=As(u),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},i:ge,o:ge,d(u){n&&n.d(u),u&&p(e),l&&l.d(u),u&&p(t),r&&r.d(u),u&&p(i),o&&o.d(u),u&&p(a)}}}function Ia(s,e,t){let{settings:i}=e;const a={MOVE:void 0,CAPTURE:void 0,CASTLE:void 0,UNDO:void 0},n=()=>{a.CASTLE&&(a.CASTLE.pause(),t(1,a.CASTLE.currentTime=0,a)),a.MOVE&&(a.MOVE.pause(),t(1,a.MOVE.currentTime=0,a)),a.CAPTURE&&(a.CAPTURE.pause(),t(1,a.CAPTURE.currentTime=0,a)),a.UNDO&&(a.UNDO.pause(),t(1,a.UNDO.currentTime=0,a))},l=h=>h===void 0||i[h];function r(h){switch(n(),h){case"MOVE":a.MOVE&&l("MOVE")&&a.MOVE.play();break;case"CAPTURE":a.CAPTURE&&l("CAPTURE")?a.CAPTURE.play():a.MOVE&&l("MOVE")&&a.MOVE.play();break;case"CASTLE":a.CASTLE&&l("CASTLE")?a.CASTLE.play():a.MOVE&&l("MOVE")&&a.MOVE.play();break;case"UNDO":a.UNDO&&l("UNDO")?(t(1,a.UNDO.volume=.3,a),a.UNDO.play()):a.MOVE&&l("MOVE")&&a.MOVE.play();break}}function o(h){Q[h?"unshift":"push"](()=>{a.MOVE=h,t(1,a)})}function u(h){Q[h?"unshift":"push"](()=>{a.CAPTURE=h,t(1,a)})}function c(h){Q[h?"unshift":"push"](()=>{a.CASTLE=h,t(1,a)})}function b(h){Q[h?"unshift":"push"](()=>{a.UNDO=h,t(1,a)})}return s.$$set=h=>{"settings"in h&&t(0,i=h.settings)},[i,a,r,o,u,c,b]}class qa extends _e{constructor(e){super(),Ee(this,e,Ia,Fa,we,{settings:0,playMoveSound:2})}get playMoveSound(){return this.$$.ctx[2]}}const Cs=""+new URL("../../assets/standard-97995bf9.svg",import.meta.url).href,Ps=""+new URL("../../assets/darkBlue-02863507.svg",import.meta.url).href;function Ra(s,e){const{minWidth:t,maxWidth:i,curWidth:a}=e;let n=a,l,r,o,u;function c(S){S.stopPropagation(),s.dispatchEvent(new CustomEvent("resizing",{detail:{size:Math.max(Math.max(t,Math.min(i,o+(S.pageX-l))),Math.max(t,Math.min(i,u+(S.pageY-r))))}}))}function b(S){S.stopPropagation(),s.dispatchEvent(new CustomEvent("endResizing",{detail:{size:Math.max(Math.max(t,Math.min(i,o+Math.floor((S.pageX-l)/8)*8)),Math.max(t,Math.min(i,u+Math.floor((S.pageY-r)/8)*8)))}})),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",b)}function h(S){S.stopPropagation(),S.button===0&&(l=S.pageX,o=n,r=S.pageY,u=n,window.addEventListener("mousemove",c),window.addEventListener("mouseup",b))}return s.addEventListener("mousedown",h),{update(S){n=S.curWidth},destroy(){s.removeEventListener("mousedown",h)}}}function Na(s){let e,t,i,a,n,l;return{c(){e=F("div"),t=Ae("svg"),i=Ae("path"),this.h()},l(r){e=I(r,"DIV",{style:!0,class:!0});var o=N(e);t=Ce(o,"svg",{xmlns:!0,viewBox:!0,fill:!0});var u=N(t);i=Ce(u,"path",{d:!0}),N(i).forEach(p),u.forEach(p),o.forEach(p),this.h()},h(){g(i,"d","M 5 1 Q 6 0 6 2 L 6 4 Q 6 6 4 6 L 2 6 Q 0 6 1 5 Z"),g(t,"xmlns","http://www.w3.org/2000/svg"),g(t,"viewBox","0 0 16 16"),g(t,"fill","currentColor"),he(e,"color",Ne.colors[s[0].state.board.boardTheme].black),g(e,"class","svelte-mmuauc")},m(r,o){z(r,e,o),k(e,t),k(t,i),n||(l=[Z(e,"pointerdown",ln(s[2])),Xt(a=Ra.call(null,e,{minWidth:s[0].state.resizible.settings.min,maxWidth:s[0].state.resizible.settings.max,curWidth:s[0].state.board.size})),Z(e,"resizing",s[3]),Z(e,"endResizing",s[4])],n=!0)},p(r,[o]){o&1&&he(e,"color",Ne.colors[r[0].state.board.boardTheme].black),a&&Yt(a.update)&&o&1&&a.update.call(null,{minWidth:r[0].state.resizible.settings.min,maxWidth:r[0].state.resizible.settings.max,curWidth:r[0].state.board.size})},i:ge,o:ge,d(r){r&&p(e),n=!1,it(l)}}}function Da(s,e,t){let{chessboard:i}=e,{setSize:a}=e;function n(o){Qe.call(this,s,o)}const l=o=>a(o.detail.size),r=o=>a(o.detail.size);return s.$$set=o=>{"chessboard"in o&&t(0,i=o.chessboard),"setSize"in o&&t(1,a=o.setSize)},[i,a,n,l,r]}class Va extends _e{constructor(e){super(),Ee(this,e,Da,Na,we,{chessboard:0,setSize:1})}}function Ls(s,e,t){const i=s.slice();return i[72]=e[t],i}function Ts(s,e,t){const i=s.slice();return i[75]=e[t],i}function Os(s){let e=[],t=new Map,i,a,n=s[5].state.pieces;const l=r=>r[75];for(let r=0;r<n.length;r+=1){let o=Ts(s,n,r),u=l(o);t.set(u,e[r]=Fs(u,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=pe()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);i=pe()},m(r,o){for(let u=0;u<e.length;u+=1)e[u].m(r,o);z(r,i,o),a=!0},p(r,o){o[0]&247852&&(n=r[5].state.pieces,qe(),e=rn(e,o,l,1,r,n,t,i.parentNode,on,Fs,i,Ts),Re())},i(r){if(!a){for(let o=0;o<n.length;o+=1)W(e[o]);a=!0}},o(r){for(let o=0;o<e.length;o+=1)G(e[o]);a=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&p(i)}}}function Fs(s,e){let t,i,a;function n(){return e[51](e[75])}function l(){return e[52](e[75])}function r(){return e[54](e[75])}return i=new gn({props:{square:e[75].square,name:e[75].name,duration:e[5].state.draggable.transition.settings.duration,easing:e[5].state.draggable.transition.settings.easing,legal:e[5].state.legal.enabled,preMoves:e[5].state.legal.preMoves.enabled,piecesWasDeselected:e[5].state.selectable.selectedPiece===void 0,whiteToMove:e[5].state.legal.whiteToMove,movableState:e[5].state.movable,getGridCoordsFromSquare:e[5].getGridCoordsFromSquare,flipped:e[5].state.board.flipped}}),i.$on("move",e[14]),i.$on("clicked",n),i.$on("startMoving",l),i.$on("moving",e[15]),i.$on("endDragging",e[53]),i.$on("select",r),i.$on("deselect",e[55]),i.$on("animationEnded",e[16]),{key:s,first:null,c(){t=pe(),ae(i.$$.fragment),this.h()},l(o){t=pe(),le(i.$$.fragment,o),this.h()},h(){this.first=t},m(o,u){z(o,t,u),re(i,o,u),a=!0},p(o,u){e=o;const c={};u[0]&32&&(c.square=e[75].square),u[0]&32&&(c.name=e[75].name),u[0]&32&&(c.duration=e[5].state.draggable.transition.settings.duration),u[0]&32&&(c.easing=e[5].state.draggable.transition.settings.easing),u[0]&32&&(c.legal=e[5].state.legal.enabled),u[0]&32&&(c.preMoves=e[5].state.legal.preMoves.enabled),u[0]&32&&(c.piecesWasDeselected=e[5].state.selectable.selectedPiece===void 0),u[0]&32&&(c.whiteToMove=e[5].state.legal.whiteToMove),u[0]&32&&(c.movableState=e[5].state.movable),u[0]&32&&(c.getGridCoordsFromSquare=e[5].getGridCoordsFromSquare),u[0]&32&&(c.flipped=e[5].state.board.flipped),i.$set(c)},i(o){a||(W(i.$$.fragment,o),a=!0)},o(o){G(i.$$.fragment,o),a=!1},d(o){o&&p(t),oe(i,o)}}}function Is(s){let e,t;return e=new gn({props:{ghostPiece:!0,duration:0,legal:s[5].state.legal.enabled,square:s[5].state.draggable.ghostPiece.piece.square,name:s[5].state.draggable.ghostPiece.piece.name,movableState:new fn(!1),getGridCoordsFromSquare:s[5].getGridCoordsFromSquare,flipped:s[5].state.board.flipped}}),{c(){ae(e.$$.fragment)},l(i){le(e.$$.fragment,i)},m(i,a){re(e,i,a),t=!0},p(i,a){const n={};a[0]&32&&(n.legal=i[5].state.legal.enabled),a[0]&32&&(n.square=i[5].state.draggable.ghostPiece.piece.square),a[0]&32&&(n.name=i[5].state.draggable.ghostPiece.piece.name),a[0]&32&&(n.getGridCoordsFromSquare=i[5].getGridCoordsFromSquare),a[0]&32&&(n.flipped=i[5].state.board.flipped),e.$set(n)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Ba(s){let e=[],t=new Map,i,a,n=[...s[5].state.markedSquares];const l=r=>r[72];for(let r=0;r<n.length;r+=1){let o=Ls(s,n,r),u=l(o);t.set(u,e[r]=qs(u,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=pe()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);i=pe()},m(r,o){for(let u=0;u<e.length;u+=1)e[u].m(r,o);z(r,i,o),a=!0},p(r,o){o[0]&34&&(n=[...r[5].state.markedSquares],qe(),e=rn(e,o,l,1,r,n,t,i.parentNode,on,qs,i,Ls),Re())},i(r){if(!a){for(let o=0;o<n.length;o+=1)W(e[o]);a=!0}},o(r){for(let o=0;o<e.length;o+=1)G(e[o]);a=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&p(i)}}}function qs(s,e){let t,i,a;return i=new fa({props:{theme:e[5].state.board.boardTheme,square:e[72].square,color:e[72].color,getGridCoordsFromSquare:e[5].getGridCoordsFromSquare,flipped:e[5].state.board.flipped}}),i.$on("dragenter",e[56]),{key:s,first:null,c(){t=pe(),ae(i.$$.fragment),this.h()},l(n){t=pe(),le(i.$$.fragment,n),this.h()},h(){this.first=t},m(n,l){z(n,t,l),re(i,n,l),a=!0},p(n,l){e=n;const r={};l[0]&32&&(r.theme=e[5].state.board.boardTheme),l[0]&32&&(r.square=e[72].square),l[0]&32&&(r.color=e[72].color),l[0]&32&&(r.getGridCoordsFromSquare=e[5].getGridCoordsFromSquare),l[0]&32&&(r.flipped=e[5].state.board.flipped),i.$set(r)},i(n){a||(W(i.$$.fragment,n),a=!0)},o(n){G(i.$$.fragment,n),a=!1},d(n){n&&p(t),oe(i,n)}}}function Rs(s){let e,t;return e=new Ei({props:{theme:s[5].state.board.boardTheme,flipped:s[5].state.board.flipped}}),{c(){ae(e.$$.fragment)},l(i){le(e.$$.fragment,i)},m(i,a){re(e,i,a),t=!0},p(i,a){const n={};a[0]&32&&(n.theme=i[5].state.board.boardTheme),a[0]&32&&(n.flipped=i[5].state.board.flipped),e.$set(n)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Ns(s){let e,t;return e=new Va({props:{chessboard:s[5],setSize:s[4]}}),{c(){ae(e.$$.fragment)},l(i){le(e.$$.fragment,i)},m(i,a){re(e,i,a),t=!0},p(i,a){const n={};a[0]&32&&(n.chessboard=i[5]),e.$set(n)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Ds(s){let e,t,i;function a(l){s[57](l)}let n={flipped:s[5].state.board.flipped,computerArrows:s[10],knightLShape:s[5].state.drawTools.settings.knightLShape};return s[7]!==void 0&&(n.svg=s[7]),e=new wa({props:n}),Q.push(()=>te(e,"svg",a)),{c(){ae(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),i=!0},p(l,r){const o={};r[0]&32&&(o.flipped=l[5].state.board.flipped),r[0]&1024&&(o.computerArrows=l[10]),r[0]&32&&(o.knightLShape=l[5].state.drawTools.settings.knightLShape),!t&&r[0]&128&&(t=!0,o.svg=l[7],se(()=>t=!1)),e.$set(o)},i(l){i||(W(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){oe(e,l)}}}function Vs(s){let e,t,i={};return e=new Ca({props:i}),s[58](e),e.$on("newPromotion",s[18]),{c(){ae(e.$$.fragment)},l(a){le(e.$$.fragment,a)},m(a,n){re(e,a,n),t=!0},p(a,n){const l={};e.$set(l)},i(a){t||(W(e.$$.fragment,a),t=!0)},o(a){G(e.$$.fragment,a),t=!1},d(a){s[58](null),oe(e,a)}}}function Bs(s){let e,t,i={settings:s[5].state.sounds.settings};return e=new qa({props:i}),s[63](e),{c(){ae(e.$$.fragment)},l(a){le(e.$$.fragment,a)},m(a,n){re(e,a,n),t=!0},p(a,n){const l={};n[0]&32&&(l.settings=a[5].state.sounds.settings),e.$set(l)},i(a){t||(W(e.$$.fragment,a),t=!0)},o(a){G(e.$$.fragment,a),t=!1},d(a){s[63](null),oe(e,a)}}}function Ua(s){let e,t,i,a,n=s[12](),l,r,o,u,c,b,h,S,y,C,w,_,d=s[5].state.board.startFen&&Os(s),f=s[5].state.draggable.ghostPiece.enabled&&s[5].state.draggable.ghostPiece.piece!==void 0&&Is(s),E=n&&Ba(s),v=s[5].state.board.notation&&Rs(s),M=s[5].state.resizible.enabled&&Ns(s),O=s[5].state.drawTools.enabled&&Ds(s),V=s[5].state.legal.enabled&&Vs(s),q=s[5].state.sounds.enabled&&Bs(s);return{c(){e=F("div"),t=F("div"),d&&d.c(),i=j(),f&&f.c(),a=j(),E&&E.c(),l=j(),v&&v.c(),r=j(),M&&M.c(),o=j(),O&&O.c(),u=j(),V&&V.c(),S=j(),q&&q.c(),y=pe(),this.h()},l(T){e=I(T,"DIV",{class:!0,style:!0});var R=N(e);t=I(R,"DIV",{style:!0,class:!0});var H=N(t);d&&d.l(H),H.forEach(p),i=K(R),f&&f.l(R),a=K(R),E&&E.l(R),l=K(R),v&&v.l(R),r=K(R),M&&M.l(R),o=K(R),O&&O.l(R),u=K(R),V&&V.l(R),R.forEach(p),S=K(T),q&&q.l(T),y=pe(),this.h()},h(){he(t,"width","100%"),he(t,"height","100%"),g(t,"class","noselect"),g(e,"class",c="noselect board "+(s[5].state.board.shadow?" shadow":"")+" text-sm "+s[0]+" svelte-1bsiysh"),he(e,"--boardTheme","url("+(s[5].state.board.boardTheme==="standard"?Cs:Ps)+")"),rt(()=>s[62].call(e))},m(T,R){z(T,e,R),k(e,t),d&&d.m(t,null),k(e,i),f&&f.m(e,null),k(e,a),E&&E.m(e,null),k(e,l),v&&v.m(e,null),k(e,r),M&&M.m(e,null),k(e,o),O&&O.m(e,null),k(e,u),V&&V.m(e,null),s[61](e),h=Bn(e,s[62].bind(e)),z(T,S,R),q&&q.m(T,R),z(T,y,R),C=!0,w||(_=[Z(e,"pointerdown",s[13]),Z(e,"contextmenu",ns(s[49])),Z(e,"drag",ns(s[50])),Xt(b=va.call(null,e,{svg:s[7],flipped:s[5].state.board.flipped,enabled:s[5].state.drawTools.enabled,settings:s[5].state.drawTools.settings})),Z(e,"drawCircle",s[59]),Z(e,"drawArrow",s[60])],w=!0)},p(T,R){T[5].state.board.startFen?d?(d.p(T,R),R[0]&32&&W(d,1)):(d=Os(T),d.c(),W(d,1),d.m(t,null)):d&&(qe(),G(d,1,1,()=>{d=null}),Re()),T[5].state.draggable.ghostPiece.enabled&&T[5].state.draggable.ghostPiece.piece!==void 0?f?(f.p(T,R),R[0]&32&&W(f,1)):(f=Is(T),f.c(),W(f,1),f.m(e,a)):f&&(qe(),G(f,1,1,()=>{f=null}),Re()),n&&E.p(T,R),T[5].state.board.notation?v?(v.p(T,R),R[0]&32&&W(v,1)):(v=Rs(T),v.c(),W(v,1),v.m(e,r)):v&&(qe(),G(v,1,1,()=>{v=null}),Re()),T[5].state.resizible.enabled?M?(M.p(T,R),R[0]&32&&W(M,1)):(M=Ns(T),M.c(),W(M,1),M.m(e,o)):M&&(qe(),G(M,1,1,()=>{M=null}),Re()),T[5].state.drawTools.enabled?O?(O.p(T,R),R[0]&32&&W(O,1)):(O=Ds(T),O.c(),W(O,1),O.m(e,u)):O&&(qe(),G(O,1,1,()=>{O=null}),Re()),T[5].state.legal.enabled?V?(V.p(T,R),R[0]&32&&W(V,1)):(V=Vs(T),V.c(),W(V,1),V.m(e,null)):V&&(qe(),G(V,1,1,()=>{V=null}),Re()),(!C||R[0]&33&&c!==(c="noselect board "+(T[5].state.board.shadow?" shadow":"")+" text-sm "+T[0]+" svelte-1bsiysh"))&&g(e,"class",c),(!C||R[0]&32)&&he(e,"--boardTheme","url("+(T[5].state.board.boardTheme==="standard"?Cs:Ps)+")"),b&&Yt(b.update)&&R[0]&160&&b.update.call(null,{svg:T[7],flipped:T[5].state.board.flipped,enabled:T[5].state.drawTools.enabled,settings:T[5].state.drawTools.settings}),T[5].state.sounds.enabled?q?(q.p(T,R),R[0]&32&&W(q,1)):(q=Bs(T),q.c(),W(q,1),q.m(y.parentNode,y)):q&&(qe(),G(q,1,1,()=>{q=null}),Re())},i(T){C||(W(d),W(f),W(E),W(v),W(M),W(O),W(V),W(q),C=!0)},o(T){G(d),G(f),G(E),G(v),G(M),G(O),G(V),G(q),C=!1},d(T){T&&p(e),d&&d.d(),f&&f.d(),E&&E.d(),v&&v.d(),M&&M.d(),O&&O.d(),V&&V.d(),s[61](null),h(),T&&p(S),q&&q.d(T),T&&p(y),w=!1,it(_)}}}function Ha(s,e,t){let{config:i}=e,{className:a=""}=e;const n=new ci(i),l=Qt();let r,o,u,c,b="";Un(()=>{document.documentElement.hasAttribute("style")&&n.state.resizible.enabled&&document.documentElement.removeAttribute("style")});let h=[],S={[x.WHITE]:"",[x.BLACK]:""};const y=m=>{n.clearAllSquares(m),m===D.LEGAL&&n.clearAllSquares(D.LEGALHOVER),m===D.PREMOVE&&n.clearAllSquares(D.PREMOVEHOVER),t(5,n)},C=(m,U)=>{n.highlightSquare(m,U),t(5,n)},w=m=>n.state.highlight.enabled&&(m===void 0||n.state.highlight.settings[m]),_=m=>{if(!n.state.selectable.enabled)return;const U=n.getPieceFromSquare(m);U!==void 0&&(t(5,n.state.selectable.selectedPiece=U,n),w("select")&&C(m,D.SELECT))},d=()=>{y(D.SELECT),y(D.LEGAL),y(D.PREMOVE),t(5,n.state.selectable.selectedPiece=void 0,n)},f=m=>{y(D.CHECK),m!==void 0&&w("check")&&C(S[m],D.CHECK),t(5,n)},E=m=>{n.flipBoard(m),t(5,n)},v=(m,U)=>{m.forEach(ee=>n.highlightSquare(ee,U)),t(5,n)},M=(m,U=D.MOVE)=>{m.length<4||v([m.substring(0,2),m.substring(2,4)],U)},O=(m,U=D.MOVE)=>{const ee=[];m.forEach(ve=>{ve.length<4||(ee.push(ve.substring(0,2)),ee.push(ve.substring(2,4)))}),v(ee,U)},V=m=>{C(m.substring(2,4),D.LEGAL)},q=m=>{y(D.LEGAL),O(m,D.LEGAL)},T=(m,U=!0)=>{n.makeMove(m),U&&(y(D.MOVE),w("move")&&M(m)),t(5,n)},R=m=>{n.removePiece(m),t(5,n)},H=m=>m[0]==="w"?x.WHITE:x.BLACK,X=()=>n.state.movable.enabled&&(n.state.movable.color===x.BOTH||n.state.legal.whiteToMove&&n.state.movable.color===H("w")||!n.state.legal.whiteToMove&&n.state.movable.color===H("b")),L=()=>{!n.state.legal.enabled||(n.state.callbacks.getWhiteToMove&&t(5,n.state.legal.whiteToMove=n.state.callbacks.getWhiteToMove(),n),n.state.callbacks.getPreMoves&&!X()&&n.state.legal.preMoves.enabled?t(5,n.state.legal.preMoves.moves=n.state.callbacks.getPreMoves(),n):t(5,n.state.legal.preMoves.moves.length=0,n),n.state.callbacks.getLegalMoves&&X()?t(5,n.state.legal.moves=n.state.callbacks.getLegalMoves(),n):t(5,n.state.legal.moves.length=0,n),X()&&n.state.selectable.selectedPiece!==void 0&&n.state.legal.preMoves.enabled&&(y(D.PREMOVE),y(D.LEGAL),w("legal")&&n.state.legal.moves.forEach(m=>{n.state.selectable.selectedPiece&&m.substring(0,2)===n.state.selectable.selectedPiece.square&&C(m.substring(2,4),D.LEGAL)})),n.state.callbacks.getKingLocations&&(S=n.state.callbacks.getKingLocations()),n.state.callbacks.getInCheck&&f(n.state.callbacks.getInCheck()))},ne=m=>{n.state.sounds.enabled&&u.playMoveSound(m)},be=m=>{if(m.substring(0,2)===m.substring(2,4))return;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(m),d();const U=n.getRookMoveIfIsCastling(m),ee=n.getCapturedPawnSquareIfIsEnPassant(m);if(U&&n.state.legal.enabled&&n.state.legal.settings.allowCastling?(T(U,!1),ne("CASTLE")):ee&&n.state.legal.enabled&&n.state.legal.settings.allowEnPassant?(R(ee),ne("CAPTURE")):n.isCapture(m)?ne("CAPTURE"):ne("MOVE"),n.removeGhostPiece(),t(5,n),T(m),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(m),L(),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.curMove!==""){if(n.state.legal.moves.includes(n.state.legal.preMoves.curMove)||n.state.legal.moves.includes(`${n.state.legal.preMoves.curMove}q`)){const ve=n.state.legal.preMoves.curMove;t(5,n.state.legal.preMoves.curMove="",n),Hn().then(()=>{be(ve)})}y(D.NEXTMOVE)}},B=m=>{!n.state.legal.enabled||!n.state.legal.preMoves.enabled||!n.state.movable.enabled||(y(D.PREMOVE),y(D.NEXTMOVE),n.state.highlight.enabled&&n.state.highlight.settings.nextMove&&M(m,D.NEXTMOVE),t(5,n.state.legal.preMoves.curMove=m,n),l("nextMove",{move:m}))},A=m=>{c.openPromotionModal(!0),b=m,n.makeMove(m),y(D.LEGAL),y(D.SELECT),y(D.MOVE),M(m)},Y=(m,U)=>{n.clearSquare(m,U),t(5,n)},$=()=>{n.clearAllPieces(),t(5,n)},me=(m,U)=>{n.setPiece(m,U),t(5,n)},ie=(m,U)=>{var ve;const ee=(ve=n.getPieceFromSquare(m))==null?void 0:ve.name;!ee||(U!==void 0?n.setPiece(m,`${U===x.WHITE?"w":"b"}${ee[1]}`):n.setPiece(m,`${ee[0]==="w"?"b":"w"}${ee[1]}`),t(5,n))},ue=(m,U)=>{const ee=Math.floor(m/n.state.board.size*8),ve=Math.floor(U/n.state.board.size*8),Me=n.state.board.flipped?Math.abs(ee-7):ee,Le=n.state.board.flipped?ve:Math.abs(ve-7);return Object.keys(n.letters)[Me]+(Le+1).toString()},Se=m=>n.state.movable.enabled?!!(n.state.legal.enabled&&n.state.legal.preMoves.enabled&&(n.state.movable.color===x.BOTH||n.state.movable.color===H(m))||n.state.movable.color===x.BOTH||n.state.movable.color===H(m)):!1,Te=m=>{if(m.button===2){y(D.LEGAL),y(D.PREMOVE),t(5,n.state.selectable.selectedPiece=void 0,n);return}const U=r.getBoundingClientRect(),ee=m.clientX-U.left,ve=m.clientY-U.top,Me=ue(ee,ve),Le=n.getPieceFromSquare(Me);if(l("squareClick",{square:Me,piece:Le?Le.name:void 0}),!n.state.selectable.enabled){t(5,n.state.selectable.selectedPiece=void 0,n);return}if(n.state.selectable.selectedPiece!==void 0&&n.state.selectable.selectedPiece.square!==Me&&!n.state.legal.enabled){be(n.state.selectable.selectedPiece.square+Me),t(5,n.state.selectable.selectedPiece=void 0,n);return}if(n.state.selectable.selectedPiece!==void 0&&n.state.selectable.selectedPiece.square!==Me&&(Le===void 0||Le.name[0]!==n.state.selectable.selectedPiece.name[0])){n.isPromotion(n.state.selectable.selectedPiece.square+Me)&&n.state.legal.moves.includes(`${n.state.selectable.selectedPiece.square+Me}q`)?A(n.state.selectable.selectedPiece.square+Me):n.state.legal.moves.includes(n.state.selectable.selectedPiece.square+Me)?be(n.state.selectable.selectedPiece.square+Me):n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.includes(n.state.selectable.selectedPiece.square+Me)?B(n.state.selectable.selectedPiece.square+Me):(y(D.LEGAL),y(D.PREMOVE),y(D.SELECT)),t(5,n.state.selectable.selectedPiece=void 0,n);return}n.state.selectable.selectedPiece!==Le&&Le!==void 0&&n.state.movable.enabled&&(n.state.movable.color===x.BOTH||n.state.movable.color===H(Le.name))&&(w("legal")&&n.state.legal.enabled&&X()&&(y(D.LEGAL),n.state.legal.moves.forEach($e=>{$e.substring(0,2)===Me&&C($e.substring(2,4),D.LEGAL)})),w("preMove")&&n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.movable.color!==x.BOTH&&!X()&&(y(D.PREMOVE),n.state.highlight.enabled&&n.state.highlight.settings.preMove&&n.state.legal.preMoves.moves.forEach($e=>{$e.substring(0,2)===Me&&C($e.substring(2,4),D.PREMOVE)})),w("select")&&(n.state.legal.enabled&&Se(Le.name[0])||!n.state.legal.enabled)&&(y(D.SELECT),C(Me,D.SELECT)),(n.state.legal.enabled&&Se(Le.name[0])||!n.state.legal.enabled)&&t(5,n.state.selectable.selectedPiece=Le,n))},De=m=>{const U=m.detail;n.state.legal.enabled?n.isPromotion(U)&&n.state.legal.moves.includes(`${U}q`)?A(U):n.state.legal.moves.includes(U)?be(U):n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.includes(U)?B(U):d():be(U),y(D.LEGAL),y(D.PREMOVE),t(5,n)},ke=(m,U="MOVE")=>{if(n.updatePiecesWithFen(m),y(),n.removeGhostPiece(),L(),n.state.callbacks.getLastMove){const ee=n.state.callbacks.getLastMove();U!==!1&&(U!=="MOVE"?ne(U):n.isCastling(ee)?ne("CASTLE"):ne(U)),M(ee)}else U!==!1&&ne(U);t(5,n),t(5,n)},ye=()=>n.getShortFEN(),Ve=m=>{!m||n.state.board.size===m||(t(5,n.state.board.size=m,n),n.state.resizible.enabled&&document.documentElement.style.setProperty("--boardSize",`${n.state.board.size}px`))},Pe=m=>{var U;return(U=n.getPieceFromSquare(m))==null?void 0:U.name},Oe=m=>{t(10,h=m)},Fe=()=>{t(10,h.length=0,h)},We=()=>{L()},Je=m=>{m===!1?t(5,n.state.movable.enabled=!1,n):(t(5,n.state.movable.enabled=!0,n),t(5,n.state.movable.color=m===!0?x.BOTH:m,n))},Be=m=>{m!==void 0&&(n.setConfigSettings(m),t(5,n))},Ue=()=>n.state,Ie=m=>{t(5,n.state=m,n),y(),L(),n.state.legal.enabled&&n.state.legal.lastMove!==""&&w("move")&&M(n.state.legal.lastMove),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.curMove!==""&&w("nextMove")&&M(n.state.legal.preMoves.curMove,D.NEXTMOVE),n.state.selectable.enabled&&n.state.selectable.selectedPiece!==void 0&&(w("select")&&C(n.state.selectable.selectedPiece.square,D.SELECT),n.state.legal.enabled&&n.state.legal.moves.length>0&&w("legal")&&n.state.legal.moves.forEach(U=>{var ee;U.substring(0,2)===((ee=n.state.selectable.selectedPiece)==null?void 0:ee.square)&&C(U.substring(2,4),D.LEGAL)}),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.length>0&&w("preMove")&&n.state.legal.preMoves.moves.forEach(U=>{var ee;U.substring(0,2)===((ee=n.state.selectable.selectedPiece)==null?void 0:ee.square)&&C(U.substring(2,4),D.PREMOVE)}))},je=m=>m.getConfig(),gt=m=>{const U=r.getBoundingClientRect();n.state.legal.enabled&&(X()&&n.legalHover(ue(m.detail.x-U.x,m.detail.y-U.y)),!X()&&n.state.legal.preMoves.enabled&&n.preMoveHover(ue(m.detail.x-U.x,m.detail.y-U.y))),t(5,n)},ot=m=>{n.setGhostPiece(m),t(5,n)},bt=()=>{n.removeGhostPiece(),t(5,n)},Ke=m=>{n.state.draggable.ghostPiece&&ot(m),y(D.SELECT),n.state.selectable.selectedPiece===void 0&&(w("legal")&&n.state.legal.enabled&&n.state.legal.moves.forEach(U=>{U.substring(0,2)===m.square&&C(U.substring(2,4),D.LEGAL)}),w("preMove")&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.forEach(U=>{U.substring(0,2)===m.square&&C(U.substring(2,4),D.PREMOVE)}))},pt=m=>{const U=n.getPieceFromSquare(b.substring(2,4));if(!U)return;const ee=U.name[0]+m.detail.toUpperCase(),ve=b+m.detail;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(ve),n.setPiece(U.square,ee),t(5,n),ne("MOVE"),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(ve),L()};Zt(()=>{L(),n.state.callbacks.getLastMove&&M(n.state.callbacks.getLastMove()),n.state.resizible&&Ve(n.state.board.size-n.state.board.size%8)});function mt(m){Qe.call(this,s,m)}function Ge(m){Qe.call(this,s,m)}const vt=m=>{l("piececlick",{piece:m})},ut=m=>{l("startDragging",{piece:m}),Ke(m)};function _t(m){Qe.call(this,s,m)}const He=m=>_(m.square),Et=()=>d(),ze=m=>{C(m.detail.square,D.LEGALHOVER)};function xe(m){o=m,t(7,o)}function wt(m){Q[m?"unshift":"push"](()=>{c=m,t(9,c)})}const St=m=>l("drawCircle",{square:m.detail.square,color:m.detail.color}),qt=m=>l("drawArrow",{move:m.detail.move,color:m.detail.color});function Rt(m){Q[m?"unshift":"push"](()=>{r=m,t(6,r)})}function Nt(){n.state.board.size=this.clientWidth,t(5,n)}function Dt(m){Q[m?"unshift":"push"](()=>{u=m,t(8,u)})}return s.$$set=m=>{"config"in m&&t(19,i=m.config),"className"in m&&t(0,a=m.className)},s.$$.update=()=>{s.$$.dirty[0]&32&&Ve(n.state.board.size-n.state.board.size%8)},[a,C,_,d,Ve,n,r,o,u,c,h,l,w,Te,De,gt,bt,Ke,pt,i,y,E,v,M,O,V,q,T,R,ne,be,B,A,Y,$,me,ie,ue,ke,ye,Pe,Oe,Fe,We,Je,Be,Ue,Ie,je,mt,Ge,vt,ut,_t,He,Et,ze,xe,wt,St,qt,Rt,Nt,Dt]}class za extends _e{constructor(e){super(),Ee(this,e,Ha,Ua,we,{config:19,className:0,clearAllSquares:20,highlightSquare:1,selectPiece:2,deselect:3,flipBoard:21,highlightManySquares:22,highlightMove:23,highlightMoves:24,highlightLegalMove:25,highlightLegalMoves:26,movePiece:27,removePiece:28,playMoveSound:29,makeMove:30,makeNextMove:31,makeMovePromotion:32,removeSquareHighlight:33,removeAllPiece:34,createPiece:35,changeColorOfPiece:36,getSquareFromCoords:37,setFEN:38,getShortFEN:39,setSize:4,getPieceFromSquare:40,setComputerArrows:41,removeComputerArrows:42,updateLegalState:43,setMovableColor:44,setConfigSettings:45,getState:46,setState:47,getConfigFromState:48},null,[-1,-1,-1])}get clearAllSquares(){return this.$$.ctx[20]}get highlightSquare(){return this.$$.ctx[1]}get selectPiece(){return this.$$.ctx[2]}get deselect(){return this.$$.ctx[3]}get flipBoard(){return this.$$.ctx[21]}get highlightManySquares(){return this.$$.ctx[22]}get highlightMove(){return this.$$.ctx[23]}get highlightMoves(){return this.$$.ctx[24]}get highlightLegalMove(){return this.$$.ctx[25]}get highlightLegalMoves(){return this.$$.ctx[26]}get movePiece(){return this.$$.ctx[27]}get removePiece(){return this.$$.ctx[28]}get playMoveSound(){return this.$$.ctx[29]}get makeMove(){return this.$$.ctx[30]}get makeNextMove(){return this.$$.ctx[31]}get makeMovePromotion(){return this.$$.ctx[32]}get removeSquareHighlight(){return this.$$.ctx[33]}get removeAllPiece(){return this.$$.ctx[34]}get createPiece(){return this.$$.ctx[35]}get changeColorOfPiece(){return this.$$.ctx[36]}get getSquareFromCoords(){return this.$$.ctx[37]}get setFEN(){return this.$$.ctx[38]}get getShortFEN(){return this.$$.ctx[39]}get setSize(){return this.$$.ctx[4]}get getPieceFromSquare(){return this.$$.ctx[40]}get setComputerArrows(){return this.$$.ctx[41]}get removeComputerArrows(){return this.$$.ctx[42]}get updateLegalState(){return this.$$.ctx[43]}get setMovableColor(){return this.$$.ctx[44]}get setConfigSettings(){return this.$$.ctx[45]}get getState(){return this.$$.ctx[46]}get setState(){return this.$$.ctx[47]}get getConfigFromState(){return this.$$.ctx[48]}}const Us=["standard","darkBlue"],Hs=["backIn","backInOut","backOut","bounceIn","bounceInOut","bounceOut","circIn","circInOut","circOut","cubicIn","cubicInOut","cubicOut","elasticIn","elasticInOut","elasticOut","expoIn","expoInOut","expoOut","linear","quadIn","quadInOut","quadOut","quartIn","quartInOut","quartOut","quintIn","quintInOut","quintOut","sineIn","sineInOut","sineOut"];function zs(s){let e,t,i;return{c(){e=F("input"),this.h()},l(a){e=I(a,"INPUT",{type:!0,class:!0}),this.h()},h(){g(e,"type","checkbox"),g(e,"class","mr-1")},m(a,n){z(a,e,n),e.checked=s[0],t||(i=[Z(e,"click",ln(s[6])),Z(e,"change",s[7])],t=!0)},p(a,n){n&1&&(e.checked=a[0])},d(a){a&&p(e),t=!1,it(i)}}}function Ws(s){let e,t,i;return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(a){e=Ce(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=N(e);t=Ce(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),N(t).forEach(p),n.forEach(p),this.h()},h(){g(t,"fill-rule","evenodd"),g(t,"d","M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"),g(t,"clip-rule","evenodd"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 20 20"),g(e,"fill","currentColor"),g(e,"class",i="w-5 h-5 transition "+(s[1]?"rotate-180":"rotate-0"))},m(a,n){z(a,e,n),k(e,t)},p(a,n){n&2&&i!==(i="w-5 h-5 transition "+(a[1]?"rotate-180":"rotate-0"))&&g(e,"class",i)},d(a){a&&p(e)}}}function js(s){let e,t,i;const a=s[5].default,n=en(a,s,s[4],null);return{c(){e=F("div"),n&&n.c(),this.h()},l(l){e=I(l,"DIV",{class:!0});var r=N(e);n&&n.l(r),r.forEach(p),this.h()},h(){g(e,"class","py-2 px-4")},m(l,r){z(l,e,r),n&&n.m(e,null),i=!0},p(l,r){n&&n.p&&(!i||r&16)&&tn(n,a,l,l[4],i?nn(a,l[4],r,null):sn(l[4]),null)},i(l){i||(W(n,l),l&&rt(()=>{t||(t=Lt(e,Ft,{},!0)),t.run(1)}),i=!0)},o(l){G(n,l),l&&(t||(t=Lt(e,Ft,{},!1)),t.run(0)),i=!1},d(l){l&&p(e),n&&n.d(l),l&&t&&t.end()}}}function Wa(s){let e,t,i,a,n,l,r,o,u,c,b,h,S,y,C=s[0]!==void 0&&zs(s),w=s[3]&&Ws(s),_=s[1]&&js(s);return{c(){e=F("div"),t=F("button"),i=F("div"),C&&C.c(),a=j(),n=F("span"),l=ce(s[2]),o=j(),w&&w.c(),b=j(),_&&_.c(),this.h()},l(d){e=I(d,"DIV",{class:!0});var f=N(e);t=I(f,"BUTTON",{class:!0});var E=N(t);i=I(E,"DIV",{class:!0});var v=N(i);C&&C.l(v),a=K(v),n=I(v,"SPAN",{class:!0});var M=N(n);l=fe(M,s[2]),M.forEach(p),v.forEach(p),o=K(E),w&&w.l(E),E.forEach(p),b=K(f),_&&_.l(f),f.forEach(p),this.h()},h(){g(n,"class",r=s[0]===void 0?"ml-[21px]":""),g(i,"class","flex gap-1"),g(t,"class",u="flex justify-between px-4 py-2 "+(s[3]?"transition hover:bg-slate-800/40":"")+" rounded"),t.disabled=c=!s[3],g(e,"class","bg-slate-900/20 rounded shadow-lg flex flex-col")},m(d,f){z(d,e,f),k(e,t),k(t,i),C&&C.m(i,null),k(i,a),k(i,n),k(n,l),k(t,o),w&&w.m(t,null),k(e,b),_&&_.m(e,null),h=!0,S||(y=Z(t,"click",s[8]),S=!0)},p(d,[f]){d[0]!==void 0?C?C.p(d,f):(C=zs(d),C.c(),C.m(i,a)):C&&(C.d(1),C=null),(!h||f&4)&&It(l,d[2]),(!h||f&1&&r!==(r=d[0]===void 0?"ml-[21px]":""))&&g(n,"class",r),d[3]?w?w.p(d,f):(w=Ws(d),w.c(),w.m(t,null)):w&&(w.d(1),w=null),(!h||f&8&&u!==(u="flex justify-between px-4 py-2 "+(d[3]?"transition hover:bg-slate-800/40":"")+" rounded"))&&g(t,"class",u),(!h||f&8&&c!==(c=!d[3]))&&(t.disabled=c),d[1]?_?(_.p(d,f),f&2&&W(_,1)):(_=js(d),_.c(),W(_,1),_.m(e,null)):_&&(qe(),G(_,1,1,()=>{_=null}),Re())},i(d){h||(W(_),h=!0)},o(d){G(_),h=!1},d(d){d&&p(e),C&&C.d(),w&&w.d(),_&&_.d(),S=!1,y()}}}function ja(s,e,t){let{$$slots:i={},$$scope:a}=e,{name:n="board"}=e,{enabled:l=void 0}=e,{showExpand:r=!0}=e,{expanded:o=!1}=e;function u(h){Qe.call(this,s,h)}function c(){l=this.checked,t(0,l)}const b=()=>{t(1,o=!o)};return s.$$set=h=>{"name"in h&&t(2,n=h.name),"enabled"in h&&t(0,l=h.enabled),"showExpand"in h&&t(3,r=h.showExpand),"expanded"in h&&t(1,o=h.expanded),"$$scope"in h&&t(4,a=h.$$scope)},[l,o,n,r,a,i,u,c,b]}class Ze extends _e{constructor(e){super(),Ee(this,e,ja,Wa,we,{name:2,enabled:0,showExpand:3,expanded:1})}}function Ks(s,e,t){const i=s.slice();return i[9]=e[t],i}function Gs(s){let e,t=s[9]+"",i;return{c(){e=F("option"),i=ce(t),this.h()},l(a){e=I(a,"OPTION",{});var n=N(e);i=fe(n,t),n.forEach(p),this.h()},h(){e.__value=s[9],e.value=e.__value},m(a,n){z(a,e,n),k(e,i)},p:ge,d(a){a&&p(e)}}}function Ka(s){let e,t,i,a,n,l,r,o,u,c,b,h,S,y,C,w,_,d,f,E,v,M,O,V,q,T=Us,R=[];for(let H=0;H<T.length;H+=1)R[H]=Gs(Ks(s,T,H));return{c(){e=F("div"),t=F("select");for(let H=0;H<R.length;H+=1)R[H].c();i=j(),a=F("label"),n=ce("board theme"),l=j(),r=F("div"),o=F("input"),u=j(),c=F("label"),b=ce("notation"),h=j(),S=F("div"),y=F("input"),C=j(),w=F("label"),_=ce("flipped"),d=j(),f=F("div"),E=F("input"),v=j(),M=F("label"),O=ce("shadow"),this.h()},l(H){e=I(H,"DIV",{});var X=N(e);t=I(X,"SELECT",{class:!0});var L=N(t);for(let ie=0;ie<R.length;ie+=1)R[ie].l(L);L.forEach(p),i=K(X),a=I(X,"LABEL",{for:!0,class:!0});var ne=N(a);n=fe(ne,"board theme"),ne.forEach(p),X.forEach(p),l=K(H),r=I(H,"DIV",{});var be=N(r);o=I(be,"INPUT",{id:!0,type:!0,class:!0}),u=K(be),c=I(be,"LABEL",{for:!0,class:!0});var B=N(c);b=fe(B,"notation"),B.forEach(p),be.forEach(p),h=K(H),S=I(H,"DIV",{});var A=N(S);y=I(A,"INPUT",{id:!0,type:!0,class:!0}),C=K(A),w=I(A,"LABEL",{for:!0,class:!0});var Y=N(w);_=fe(Y,"flipped"),Y.forEach(p),A.forEach(p),d=K(H),f=I(H,"DIV",{});var $=N(f);E=I($,"INPUT",{id:!0,type:!0,class:!0}),v=K($),M=I($,"LABEL",{for:!0,class:!0});var me=N(M);O=fe(me,"shadow"),me.forEach(p),$.forEach(p),this.h()},h(){g(t,"class","svelte-1q80l21"),s[0]===void 0&&rt(()=>s[5].call(t)),g(a,"for","boardTheme"),g(a,"class","select-none"),g(o,"id","notation"),g(o,"type","checkbox"),g(o,"class","svelte-1q80l21"),g(c,"for","notation"),g(c,"class","select-none"),g(y,"id","flipped"),g(y,"type","checkbox"),g(y,"class","svelte-1q80l21"),g(w,"for","flipped"),g(w,"class","select-none"),g(E,"id","shadow"),g(E,"type","checkbox"),g(E,"class","svelte-1q80l21"),g(M,"for","shadow"),g(M,"class","select-none")},m(H,X){z(H,e,X),k(e,t);for(let L=0;L<R.length;L+=1)R[L].m(t,null);ht(t,s[0]),k(e,i),k(e,a),k(a,n),z(H,l,X),z(H,r,X),k(r,o),o.checked=s[1],k(r,u),k(r,c),k(c,b),z(H,h,X),z(H,S,X),k(S,y),y.checked=s[2],k(S,C),k(S,w),k(w,_),z(H,d,X),z(H,f,X),k(f,E),E.checked=s[3],k(f,v),k(f,M),k(M,O),V||(q=[Z(t,"change",s[5]),Z(o,"change",s[6]),Z(y,"change",s[7]),Z(E,"change",s[8])],V=!0)},p(H,X){if(X&0){T=Us;let L;for(L=0;L<T.length;L+=1){const ne=Ks(H,T,L);R[L]?R[L].p(ne,X):(R[L]=Gs(ne),R[L].c(),R[L].m(t,null))}for(;L<R.length;L+=1)R[L].d(1);R.length=T.length}X&1&&ht(t,H[0]),X&2&&(o.checked=H[1]),X&4&&(y.checked=H[2]),X&8&&(E.checked=H[3])},d(H){H&&p(e),nt(R,H),H&&p(l),H&&p(r),H&&p(h),H&&p(S),H&&p(d),H&&p(f),V=!1,it(q)}}}function Ga(s){let e,t;return e=new Ze({props:{name:s[4],expanded:!0,$$slots:{default:[Ka]},$$scope:{ctx:s}}}),{c(){ae(e.$$.fragment)},l(i){le(e.$$.fragment,i)},m(i,a){re(e,i,a),t=!0},p(i,[a]){const n={};a&16&&(n.name=i[4]),a&4111&&(n.$$scope={dirty:a,ctx:i}),e.$set(n)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){oe(e,i)}}}function Xa(s,e,t){let{name:i="Board"}=e,{boardTheme:a}=e,{notation:n}=e,{flipped:l}=e,{shadow:r}=e;function o(){a=Jt(this),t(0,a)}function u(){n=this.checked,t(1,n)}function c(){l=this.checked,t(2,l)}function b(){r=this.checked,t(3,r)}return s.$$set=h=>{"name"in h&&t(4,i=h.name),"boardTheme"in h&&t(0,a=h.boardTheme),"notation"in h&&t(1,n=h.notation),"flipped"in h&&t(2,l=h.flipped),"shadow"in h&&t(3,r=h.shadow)},[a,n,l,r,i,o,u,c,b]}class Ya extends _e{constructor(e){super(),Ee(this,e,Xa,Ga,we,{name:4,boardTheme:0,notation:1,flipped:2,shadow:3})}}function Qa(s){let e,t,i,a,n,l,r,o,u,c;return{c(){e=F("div"),t=F("select"),i=F("option"),a=ce("Both"),n=F("option"),l=ce("White"),r=F("option"),o=ce("Black"),this.h()},l(b){e=I(b,"DIV",{});var h=N(e);t=I(h,"SELECT",{class:!0});var S=N(t);i=I(S,"OPTION",{});var y=N(i);a=fe(y,"Both"),y.forEach(p),n=I(S,"OPTION",{});var C=N(n);l=fe(C,"White"),C.forEach(p),r=I(S,"OPTION",{});var w=N(r);o=fe(w,"Black"),w.forEach(p),S.forEach(p),h.forEach(p),this.h()},h(){i.__value=x.BOTH,i.value=i.__value,n.__value=x.WHITE,n.value=n.__value,r.__value=x.BLACK,r.value=r.__value,g(t,"class","svelte-1jggghe"),s[1]===void 0&&rt(()=>s[3].call(t))},m(b,h){z(b,e,h),k(e,t),k(t,i),k(i,a),k(t,n),k(n,l),k(t,r),k(r,o),ht(t,s[1]),u||(c=Z(t,"change",s[3]),u=!0)},p(b,h){h&2&&ht(t,b[1])},d(b){b&&p(e),u=!1,c()}}}function Za(s){let e,t,i;function a(l){s[4](l)}let n={name:s[2],$$slots:{default:[Qa]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new Ze({props:n}),Q.push(()=>te(e,"enabled",a)),{c(){ae(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),i=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&34&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],se(()=>t=!1)),e.$set(o)},i(l){i||(W(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){oe(e,l)}}}function Ja(s,e,t){let{name:i="Movable"}=e,{enabled:a=!1}=e,{color:n}=e;function l(){n=Jt(this),t(1,n)}function r(o){a=o,t(0,a)}return s.$$set=o=>{"name"in o&&t(2,i=o.name),"enabled"in o&&t(0,a=o.enabled),"color"in o&&t(1,n=o.color)},[a,n,i,l,r]}class xa extends _e{constructor(e){super(),Ee(this,e,Ja,Za,we,{name:2,enabled:0,color:1})}}function Xs(s,e,t){const i=s.slice();return i[11]=e[t],i}function Ys(s){let e,t,i,a,n,l,r,o,u,c,b,h,S,y,C,w,_=Hs,d=[];for(let f=0;f<_.length;f+=1)d[f]=Qs(Xs(s,_,f));return{c(){e=F("div"),t=F("div"),i=F("input"),a=j(),n=F("label"),l=ce("duration"),r=j(),o=F("div"),u=F("select");for(let f=0;f<d.length;f+=1)d[f].c();c=j(),b=F("label"),h=ce("easing"),this.h()},l(f){e=I(f,"DIV",{class:!0});var E=N(e);t=I(E,"DIV",{class:!0});var v=N(t);i=I(v,"INPUT",{id:!0,type:!0,class:!0}),a=K(v),n=I(v,"LABEL",{for:!0,class:!0});var M=N(n);l=fe(M,"duration"),M.forEach(p),v.forEach(p),r=K(E),o=I(E,"DIV",{class:!0});var O=N(o);u=I(O,"SELECT",{id:!0,class:!0});var V=N(u);for(let T=0;T<d.length;T+=1)d[T].l(V);V.forEach(p),c=K(O),b=I(O,"LABEL",{for:!0,class:!0});var q=N(b);h=fe(q,"easing"),q.forEach(p),O.forEach(p),E.forEach(p),this.h()},h(){g(i,"id","transitionDuration"),g(i,"type","number"),g(i,"class","w-16 svelte-ytgb67"),g(n,"for","transitionDuration"),g(n,"class","select-none"),g(t,"class","flex gap-2 mb-2"),g(u,"id","easingFuncs"),g(u,"class","svelte-ytgb67"),s[4]===void 0&&rt(()=>s[9].call(u)),g(b,"for","easingFuncs"),g(b,"class","select-none"),g(o,"class","flex gap-2"),g(e,"class","pl-2 pr-4 flex-col")},m(f,E){z(f,e,E),k(e,t),k(t,i),is(i,s[3]),k(t,a),k(t,n),k(n,l),k(e,r),k(e,o),k(o,u);for(let v=0;v<d.length;v+=1)d[v].m(u,null);ht(u,s[4]),k(o,c),k(o,b),k(b,h),y=!0,C||(w=[Z(i,"input",s[8]),Z(u,"change",s[9])],C=!0)},p(f,E){if(E&8&&un(i.value)!==f[3]&&is(i,f[3]),E&0){_=Hs;let v;for(v=0;v<_.length;v+=1){const M=Xs(f,_,v);d[v]?d[v].p(M,E):(d[v]=Qs(M),d[v].c(),d[v].m(u,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=_.length}E&16&&ht(u,f[4])},i(f){y||(f&&rt(()=>{S||(S=Lt(e,Ft,{},!0)),S.run(1)}),y=!0)},o(f){f&&(S||(S=Lt(e,Ft,{},!1)),S.run(0)),y=!1},d(f){f&&p(e),nt(d,f),f&&S&&S.end(),C=!1,it(w)}}}function Qs(s){let e,t=s[11]+"",i;return{c(){e=F("option"),i=ce(t),this.h()},l(a){e=I(a,"OPTION",{});var n=N(e);i=fe(n,t),n.forEach(p),this.h()},h(){e.__value=s[11],e.value=e.__value},m(a,n){z(a,e,n),k(e,i)},p:ge,d(a){a&&p(e)}}}function $a(s){let e,t,i,a,n,l,r,o,u,c,b,h,S,y,C,w=s[2]&&Ys(s);return{c(){e=F("div"),t=F("input"),i=j(),a=F("label"),n=ce("ghost piece"),l=j(),r=F("div"),o=F("input"),u=j(),c=F("label"),b=ce("transition"),h=j(),w&&w.c(),S=pe(),this.h()},l(_){e=I(_,"DIV",{});var d=N(e);t=I(d,"INPUT",{id:!0,type:!0,class:!0}),i=K(d),a=I(d,"LABEL",{for:!0,class:!0});var f=N(a);n=fe(f,"ghost piece"),f.forEach(p),d.forEach(p),l=K(_),r=I(_,"DIV",{class:!0});var E=N(r);o=I(E,"INPUT",{id:!0,type:!0,class:!0}),u=K(E),c=I(E,"LABEL",{for:!0,class:!0});var v=N(c);b=fe(v,"transition"),v.forEach(p),E.forEach(p),h=K(_),w&&w.l(_),S=pe(),this.h()},h(){g(t,"id","ghostPiece"),g(t,"type","checkbox"),g(t,"class","svelte-ytgb67"),g(a,"for","ghostPiece"),g(a,"class","select-none"),g(o,"id","draggableEnabled"),g(o,"type","checkbox"),g(o,"class","svelte-ytgb67"),g(c,"for","draggableEnabled"),g(c,"class","select-none"),g(r,"class","mb-2")},m(_,d){z(_,e,d),k(e,t),t.checked=s[1],k(e,i),k(e,a),k(a,n),z(_,l,d),z(_,r,d),k(r,o),o.checked=s[2],k(r,u),k(r,c),k(c,b),z(_,h,d),w&&w.m(_,d),z(_,S,d),y||(C=[Z(t,"change",s[6]),Z(o,"change",s[7])],y=!0)},p(_,d){d&2&&(t.checked=_[1]),d&4&&(o.checked=_[2]),_[2]?w?(w.p(_,d),d&4&&W(w,1)):(w=Ys(_),w.c(),W(w,1),w.m(S.parentNode,S)):w&&(qe(),G(w,1,1,()=>{w=null}),Re())},d(_){_&&p(e),_&&p(l),_&&p(r),_&&p(h),w&&w.d(_),_&&p(S),y=!1,it(C)}}}function el(s){let e,t,i;function a(l){s[10](l)}let n={name:s[5],$$slots:{default:[$a]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new Ze({props:n}),Q.push(()=>te(e,"enabled",a)),{c(){ae(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),i=!0},p(l,[r]){const o={};r&32&&(o.name=l[5]),r&16414&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],se(()=>t=!1)),e.$set(o)},i(l){i||(W(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){oe(e,l)}}}function tl(s,e,t){let{name:i="Draggable"}=e,{enabled:a=!1}=e,{ghostPiece:n=!1}=e,{transition:l=!1}=e,{duration:r=120}=e,{easing:o="easeInOut"}=e;function u(){n=this.checked,t(1,n)}function c(){l=this.checked,t(2,l)}function b(){r=un(this.value),t(3,r)}function h(){o=Jt(this),t(4,o)}function S(y){a=y,t(0,a)}return s.$$set=y=>{"name"in y&&t(5,i=y.name),"enabled"in y&&t(0,a=y.enabled),"ghostPiece"in y&&t(1,n=y.ghostPiece),"transition"in y&&t(2,l=y.transition),"duration"in y&&t(3,r=y.duration),"easing"in y&&t(4,o=y.easing)},[a,n,l,r,o,i,u,c,b,h,S]}class sl extends _e{constructor(e){super(),Ee(this,e,tl,el,we,{name:5,enabled:0,ghostPiece:1,transition:2,duration:3,easing:4})}}function Zs(s,e,t){const i=s.slice();return i[6]=e[t],i[7]=e,i[8]=t,i}function Js(s){let e,t,i,a,n=s[6]+"",l,r,o,u;function c(){s[4].call(t,s[6])}return{c(){e=F("div"),t=F("input"),i=j(),a=F("label"),l=ce(n),r=j(),this.h()},l(b){e=I(b,"DIV",{});var h=N(e);t=I(h,"INPUT",{id:!0,type:!0,class:!0}),i=K(h),a=I(h,"LABEL",{for:!0,class:!0});var S=N(a);l=fe(S,n),S.forEach(p),r=K(h),h.forEach(p),this.h()},h(){g(t,"id",s[6]+"Enabled"),g(t,"type","checkbox"),g(t,"class","svelte-f0od3c"),g(a,"for",s[6]+"Enabled"),g(a,"class","select-none")},m(b,h){z(b,e,h),k(e,t),t.checked=s[1][s[6]],k(e,i),k(e,a),k(a,l),k(e,r),o||(u=Z(t,"change",c),o=!0)},p(b,h){s=b,h&10&&(t.checked=s[1][s[6]])},d(b){b&&p(e),o=!1,u()}}}function nl(s){let e,t=s[3],i=[];for(let a=0;a<t.length;a+=1)i[a]=Js(Zs(s,t,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=pe()},l(a){for(let n=0;n<i.length;n+=1)i[n].l(a);e=pe()},m(a,n){for(let l=0;l<i.length;l+=1)i[l].m(a,n);z(a,e,n)},p(a,n){if(n&10){t=a[3];let l;for(l=0;l<t.length;l+=1){const r=Zs(a,t,l);i[l]?i[l].p(r,n):(i[l]=Js(r),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(a){nt(i,a),a&&p(e)}}}function il(s){let e,t,i;function a(l){s[5](l)}let n={name:s[2],$$slots:{default:[nl]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new Ze({props:n}),Q.push(()=>te(e,"enabled",a)),{c(){ae(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),i=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&514&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],se(()=>t=!1)),e.$set(o)},i(l){i||(W(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){oe(e,l)}}}function al(s,e,t){let{name:i="Highlight"}=e,{enabled:a=!1}=e,{settings:n}=e;const l=["select","legal","move","preMove","nextMove","check"];function r(u){n[u]=this.checked,t(1,n)}function o(u){a=u,t(0,a)}return s.$$set=u=>{"name"in u&&t(2,i=u.name),"enabled"in u&&t(0,a=u.enabled),"settings"in u&&t(1,n=u.settings)},[a,n,i,l,r,o]}class ll extends _e{constructor(e){super(),Ee(this,e,al,il,we,{name:2,enabled:0,settings:1})}}function rl(s){let e,t,i,a,n,l,r,o,u,c,b,h,S;return{c(){e=F("div"),t=F("input"),i=j(),a=F("label"),n=ce("L shape knight move"),l=j(),r=F("div"),o=F("input"),u=j(),c=F("label"),b=ce("only chess move"),this.h()},l(y){e=I(y,"DIV",{});var C=N(e);t=I(C,"INPUT",{id:!0,type:!0,class:!0}),i=K(C),a=I(C,"LABEL",{for:!0,class:!0});var w=N(a);n=fe(w,"L shape knight move"),w.forEach(p),C.forEach(p),l=K(y),r=I(y,"DIV",{});var _=N(r);o=I(_,"INPUT",{id:!0,type:!0,class:!0}),u=K(_),c=I(_,"LABEL",{for:!0,class:!0});var d=N(c);b=fe(d,"only chess move"),d.forEach(p),_.forEach(p),this.h()},h(){g(t,"id","knightLShapeMoveEnabled"),g(t,"type","checkbox"),g(t,"class","svelte-f0od3c"),g(a,"for","knightLShapeMoveEnabled"),g(a,"class","select-none"),g(o,"id","onlyChessMoveEnabled"),g(o,"type","checkbox"),g(o,"class","svelte-f0od3c"),g(c,"for","onlyChessMoveEnabled"),g(c,"class","select-none")},m(y,C){z(y,e,C),k(e,t),t.checked=s[1],k(e,i),k(e,a),k(a,n),z(y,l,C),z(y,r,C),k(r,o),o.checked=s[2],k(r,u),k(r,c),k(c,b),h||(S=[Z(t,"change",s[4]),Z(o,"change",s[5])],h=!0)},p(y,C){C&2&&(t.checked=y[1]),C&4&&(o.checked=y[2])},d(y){y&&p(e),y&&p(l),y&&p(r),h=!1,it(S)}}}function ol(s){let e,t,i;function a(l){s[6](l)}let n={name:s[3],$$slots:{default:[rl]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new Ze({props:n}),Q.push(()=>te(e,"enabled",a)),{c(){ae(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),i=!0},p(l,[r]){const o={};r&8&&(o.name=l[3]),r&134&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],se(()=>t=!1)),e.$set(o)},i(l){i||(W(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){oe(e,l)}}}function ul(s,e,t){let{name:i="DrawTools"}=e,{enabled:a=!1}=e,{knightLShape:n=!1}=e,{onlyChessMove:l=!1}=e;function r(){n=this.checked,t(1,n)}function o(){l=this.checked,t(2,l)}function u(c){a=c,t(0,a)}return s.$$set=c=>{"name"in c&&t(3,i=c.name),"enabled"in c&&t(0,a=c.enabled),"knightLShape"in c&&t(1,n=c.knightLShape),"onlyChessMove"in c&&t(2,l=c.onlyChessMove)},[a,n,l,i,r,o,u]}class dl extends _e{constructor(e){super(),Ee(this,e,ul,ol,we,{name:3,enabled:0,knightLShape:1,onlyChessMove:2})}}function xs(s,e,t){const i=s.slice();return i[6]=e[t],i[7]=e,i[8]=t,i}function $s(s){let e,t,i,a,n=s[6]+"",l,r,o,u;function c(){s[4].call(t,s[6])}return{c(){e=F("div"),t=F("input"),i=j(),a=F("label"),l=ce(n),r=j(),this.h()},l(b){e=I(b,"DIV",{});var h=N(e);t=I(h,"INPUT",{id:!0,type:!0,class:!0}),i=K(h),a=I(h,"LABEL",{for:!0,class:!0});var S=N(a);l=fe(S,n),S.forEach(p),r=K(h),h.forEach(p),this.h()},h(){g(t,"id",s[6]+"Enabled"),g(t,"type","checkbox"),g(t,"class","svelte-1mhxfw5"),g(a,"for",s[6]+"Enabled"),g(a,"class","select-none")},m(b,h){z(b,e,h),k(e,t),t.checked=s[1][s[6]],k(e,i),k(e,a),k(a,l),k(e,r),o||(u=Z(t,"change",c),o=!0)},p(b,h){s=b,h&10&&(t.checked=s[1][s[6]])},d(b){b&&p(e),o=!1,u()}}}function cl(s){let e,t=s[3],i=[];for(let a=0;a<t.length;a+=1)i[a]=$s(xs(s,t,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=pe()},l(a){for(let n=0;n<i.length;n+=1)i[n].l(a);e=pe()},m(a,n){for(let l=0;l<i.length;l+=1)i[l].m(a,n);z(a,e,n)},p(a,n){if(n&10){t=a[3];let l;for(l=0;l<t.length;l+=1){const r=xs(a,t,l);i[l]?i[l].p(r,n):(i[l]=$s(r),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(a){nt(i,a),a&&p(e)}}}function fl(s){let e,t,i;function a(l){s[5](l)}let n={name:s[2],$$slots:{default:[cl]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new Ze({props:n}),Q.push(()=>te(e,"enabled",a)),{c(){ae(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),i=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&514&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],se(()=>t=!1)),e.$set(o)},i(l){i||(W(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){oe(e,l)}}}function hl(s,e,t){let{name:i="Sounds"}=e,{enabled:a=!1}=e,{settings:n}=e;const l=["MOVE","CAPTURE","CASTLE","UNDO"];function r(u){n[u]=this.checked,t(1,n)}function o(u){a=u,t(0,a)}return s.$$set=u=>{"name"in u&&t(2,i=u.name),"enabled"in u&&t(0,a=u.enabled),"settings"in u&&t(1,n=u.settings)},[a,n,i,l,r,o]}class gl extends _e{constructor(e){super(),Ee(this,e,hl,fl,we,{name:2,enabled:0,settings:1})}}function bl(s){let e,t;return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(i){e=Ce(i,"svg",{style:!0,xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var a=N(e);t=Ce(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),N(t).forEach(p),a.forEach(p),this.h()},h(){g(t,"stroke-linecap","round"),g(t,"stroke-linejoin","round"),g(t,"stroke-width","2"),g(t,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),he(e,"transform","translate(1px, 0px)"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"class","h-5"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24"),g(e,"aria-hidden","true"),g(e,"stroke","currentColor")},m(i,a){z(i,e,a),k(e,t)},d(i){i&&p(e)}}}function pl(s){let e,t;return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(i){e=Ce(i,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var a=N(e);t=Ce(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),N(t).forEach(p),a.forEach(p),this.h()},h(){g(t,"stroke-linecap","round"),g(t,"stroke-linejoin","round"),g(t,"stroke-width","2"),g(t,"d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"class","h-5 text-green-500"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24"),g(e,"aria-hidden","true"),g(e,"stroke","currentColor")},m(i,a){z(i,e,a),k(e,t)},d(i){i&&p(e)}}}function ml(s){let e,t,i;function a(r,o){return r[1]?pl:bl}let n=a(s),l=n(s);return{c(){e=F("button"),l.c(),this.h()},l(r){e=I(r,"BUTTON",{type:!0,class:!0});var o=N(e);l.l(o),o.forEach(p),this.h()},h(){g(e,"type","button"),g(e,"class","box-border rounded-sm bg-slate-800 bg-opacity-40 text-gray-500 transition hover:text-gray-300 focus:z-10 focus:ring-1 focus:ring-blue-600 p-1")},m(r,o){z(r,e,o),l.m(e,null),s[4](e),t||(i=Z(e,"click",s[2]),t=!0)},p(r,[o]){n!==(n=a(r))&&(l.d(1),l=n(r),l&&(l.c(),l.m(e,null)))},i:ge,o:ge,d(r){r&&p(e),l.d(),s[4](null),t=!1,i()}}}function vl(s,e,t){let{copyText:i}=e,a,n=!1;function l(){navigator.clipboard.writeText(i),t(1,n=!0),setTimeout(()=>{t(1,n=!1)},2e3),a.setAttribute("data-cooltipz-dir","top"),a.setAttribute("aria-label","Copied!"),setTimeout(()=>{a.removeAttribute("aria-label"),a.removeAttribute("data-cooltipz-dir")},2e3)}function r(o){Q[o?"unshift":"push"](()=>{a=o,t(0,a)})}return s.$$set=o=>{"copyText"in o&&t(3,i=o.copyText)},[a,n,l,i,r]}class _l extends _e{constructor(e){super(),Ee(this,e,vl,ml,we,{copyText:3})}}function El(s){let e,t,i,a,n,l,r;return{c(){e=F("div"),t=F("input"),i=j(),a=F("label"),n=ce("preMoves"),this.h()},l(o){e=I(o,"DIV",{});var u=N(e);t=I(u,"INPUT",{id:!0,type:!0,class:!0}),i=K(u),a=I(u,"LABEL",{for:!0,class:!0});var c=N(a);n=fe(c,"preMoves"),c.forEach(p),u.forEach(p),this.h()},h(){g(t,"id","preMovesEnabled"),g(t,"type","checkbox"),g(t,"class","svelte-f0od3c"),g(a,"for","preMovesEnabled"),g(a,"class","select-none")},m(o,u){z(o,e,u),k(e,t),t.checked=s[1],k(e,i),k(e,a),k(a,n),l||(r=Z(t,"change",s[3]),l=!0)},p(o,u){u&2&&(t.checked=o[1])},d(o){o&&p(e),l=!1,r()}}}function wl(s){let e,t,i;function a(l){s[4](l)}let n={name:s[2],$$slots:{default:[El]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new Ze({props:n}),Q.push(()=>te(e,"enabled",a)),{c(){ae(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),i=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&34&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],se(()=>t=!1)),e.$set(o)},i(l){i||(W(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){oe(e,l)}}}function Ml(s,e,t){let{name:i="Legal"}=e,{enabled:a=!1}=e,{preMovesEnabled:n=!1}=e;function l(){n=this.checked,t(1,n)}function r(o){a=o,t(0,a)}return s.$$set=o=>{"name"in o&&t(2,i=o.name),"enabled"in o&&t(0,a=o.enabled),"preMovesEnabled"in o&&t(1,n=o.preMovesEnabled)},[a,n,i,l,r]}class kl extends _e{constructor(e){super(),Ee(this,e,Ml,wl,we,{name:2,enabled:0,preMovesEnabled:1})}}function Sl(s){let e,t,i,a,n,l,r,o,u,c,b,h,S,y,C,w,_,d,f,E,v,M,O,V,q,T,R,H,X,L,ne,be,B,A,Y,$,me,ie,ue,Se,Te,De,ke,ye,Ve,Pe,Oe,Fe,We,Je,Be,Ue,Ie,je,gt,ot,bt,Ke,pt,mt,Ge,vt,ut,_t,He,Et,ze,xe,wt,St;function qt(P){s[5](P)}function Rt(P){s[6](P)}function Nt(P){s[7](P)}function Dt(P){s[8](P)}let m={};s[0].board.boardTheme!==void 0&&(m.boardTheme=s[0].board.boardTheme),s[0].board.notation!==void 0&&(m.notation=s[0].board.notation),s[0].board.flipped!==void 0&&(m.flipped=s[0].board.flipped),s[0].board.shadow!==void 0&&(m.shadow=s[0].board.shadow),l=new Ya({props:m}),Q.push(()=>te(l,"boardTheme",qt)),Q.push(()=>te(l,"notation",Rt)),Q.push(()=>te(l,"flipped",Nt)),Q.push(()=>te(l,"shadow",Dt));function U(P){s[9](P)}function ee(P){s[10](P)}let ve={};s[0].movable.enabled!==void 0&&(ve.enabled=s[0].movable.enabled),s[0].movable.color!==void 0&&(ve.color=s[0].movable.color),h=new xa({props:ve}),Q.push(()=>te(h,"enabled",U)),Q.push(()=>te(h,"color",ee));function Me(P){s[11](P)}function Le(P){s[12](P)}function $e(P){s[13](P)}function vn(P){s[14](P)}function _n(P){s[15](P)}let dt={};s[0].draggable.enabled!==void 0&&(dt.enabled=s[0].draggable.enabled),s[0].draggable.ghostPiece.enabled!==void 0&&(dt.ghostPiece=s[0].draggable.ghostPiece.enabled),s[0].draggable.transition.enabled!==void 0&&(dt.transition=s[0].draggable.transition.enabled),s[0].draggable.transition.settings.duration!==void 0&&(dt.duration=s[0].draggable.transition.settings.duration),s[0].draggable.transition.settings.easing!==void 0&&(dt.easing=s[0].draggable.transition.settings.easing),w=new sl({props:dt}),Q.push(()=>te(w,"enabled",Me)),Q.push(()=>te(w,"ghostPiece",Le)),Q.push(()=>te(w,"transition",$e)),Q.push(()=>te(w,"duration",vn)),Q.push(()=>te(w,"easing",_n));function En(P){s[16](P)}let $t={name:"Selectable",showExpand:!1};s[0].selectable.enabled!==void 0&&($t.enabled=s[0].selectable.enabled),O=new Ze({props:$t}),Q.push(()=>te(O,"enabled",En));function wn(P){s[17](P)}function Mn(P){s[18](P)}let Vt={};s[0].legal.enabled!==void 0&&(Vt.enabled=s[0].legal.enabled),s[0].legal.preMoves.enabled!==void 0&&(Vt.preMovesEnabled=s[0].legal.preMoves.enabled),T=new kl({props:Vt}),Q.push(()=>te(T,"enabled",wn)),Q.push(()=>te(T,"preMovesEnabled",Mn));function kn(P){s[19](P)}function Sn(P){s[20](P)}let Bt={};s[0].highlight.enabled!==void 0&&(Bt.enabled=s[0].highlight.enabled),s[0].highlight.settings!==void 0&&(Bt.settings=s[0].highlight.settings),L=new ll({props:Bt}),Q.push(()=>te(L,"enabled",kn)),Q.push(()=>te(L,"settings",Sn));function yn(P){s[21](P)}function An(P){s[22](P)}function Cn(P){s[23](P)}let yt={};s[0].drawTools.enabled!==void 0&&(yt.enabled=s[0].drawTools.enabled),s[0].drawTools.settings.knightLShape!==void 0&&(yt.knightLShape=s[0].drawTools.settings.knightLShape),s[0].drawTools.settings.onlyChessMove!==void 0&&(yt.onlyChessMove=s[0].drawTools.settings.onlyChessMove),A=new dl({props:yt}),Q.push(()=>te(A,"enabled",yn)),Q.push(()=>te(A,"knightLShape",An)),Q.push(()=>te(A,"onlyChessMove",Cn));function Pn(P){s[24](P)}function Ln(P){s[25](P)}let Ut={};s[0].sounds.enabled!==void 0&&(Ut.enabled=s[0].sounds.enabled),s[0].sounds.settings!==void 0&&(Ut.settings=s[0].sounds.settings),ue=new gl({props:Ut}),Q.push(()=>te(ue,"enabled",Pn)),Q.push(()=>te(ue,"settings",Ln));function Tn(P){s[26](P)}let es={name:"Resizible",showExpand:!1};s[0].resizible.enabled!==void 0&&(es.enabled=s[0].resizible.enabled),ke=new Ze({props:es}),Q.push(()=>te(ke,"enabled",Tn));let On={config:s[4],className:"rounded"};return Fe=new za({props:On}),s[27](Fe),He=new _l({props:{copyText:s[3]}}),ze=new Qn({props:{source:s[3],language:"svelte"}}),{c(){e=F("link"),t=j(),i=F("div"),a=F("div"),n=F("div"),ae(l.$$.fragment),b=j(),ae(h.$$.fragment),C=j(),ae(w.$$.fragment),M=j(),ae(O.$$.fragment),q=j(),ae(T.$$.fragment),X=j(),ae(L.$$.fragment),B=j(),ae(A.$$.fragment),ie=j(),ae(ue.$$.fragment),De=j(),ae(ke.$$.fragment),Ve=j(),Pe=F("div"),Oe=F("div"),ae(Fe.$$.fragment),We=j(),Je=F("div"),Be=F("div"),Ue=F("div"),Ie=F("button"),je=F("span"),gt=ce("ts"),bt=j(),Ke=F("span"),pt=ce("/"),mt=j(),Ge=F("span"),vt=ce("js"),_t=j(),ae(He.$$.fragment),Et=j(),ae(ze.$$.fragment),this.h()},l(P){const J=zn('[data-svelte="svelte-tebjht"]',document.head);e=I(J,"LINK",{rel:!0,href:!0}),J.forEach(p),t=K(P),i=I(P,"DIV",{class:!0});var et=N(i);a=I(et,"DIV",{class:!0});var tt=N(a);n=I(tt,"DIV",{class:!0});var de=N(n);le(l.$$.fragment,de),b=K(de),le(h.$$.fragment,de),C=K(de),le(w.$$.fragment,de),M=K(de),le(O.$$.fragment,de),q=K(de),le(T.$$.fragment,de),X=K(de),le(L.$$.fragment,de),B=K(de),le(A.$$.fragment,de),ie=K(de),le(ue.$$.fragment,de),De=K(de),le(ke.$$.fragment,de),de.forEach(p),Ve=K(tt),Pe=I(tt,"DIV",{class:!0});var at=N(Pe);Oe=I(at,"DIV",{class:!0});var ct=N(Oe);le(Fe.$$.fragment,ct),ct.forEach(p),We=K(at),Je=I(at,"DIV",{class:!0});var ft=N(Je);Be=I(ft,"DIV",{class:!0});var Xe=N(Be);Ue=I(Xe,"DIV",{class:!0});var st=N(Ue);Ie=I(st,"BUTTON",{class:!0});var Ye=N(Ie);je=I(Ye,"SPAN",{class:!0});var At=N(je);gt=fe(At,"ts"),At.forEach(p),bt=K(Ye),Ke=I(Ye,"SPAN",{class:!0});var Mt=N(Ke);pt=fe(Mt,"/"),Mt.forEach(p),mt=K(Ye),Ge=I(Ye,"SPAN",{class:!0});var kt=N(Ge);vt=fe(kt,"js"),kt.forEach(p),Ye.forEach(p),_t=K(st),le(He.$$.fragment,st),st.forEach(p),Et=K(Xe),le(ze.$$.fragment,Xe),Xe.forEach(p),ft.forEach(p),at.forEach(p),tt.forEach(p),et.forEach(p),this.h()},h(){document.title="Chessboard \u2022 PowChess.com",g(e,"rel","stylesheet"),g(e,"href","prism-one-dark.css"),g(n,"class","col-start-1 flex flex-col gap-2 w-60 text-gray-300 text-sm"),g(Oe,"class","w-[var(--boardSize,40rem)]"),g(je,"class",ot=s[1]?"text-yellow-600":""),g(Ke,"class","text-gray-600"),g(Ge,"class",ut=s[1]?"":"text-yellow-600"),g(Ie,"class","text-gray-500 font-mono flex text-[0.8rem] mt-1"),g(Ue,"class","absolute right-2 top-2 flex gap-4"),g(Be,"class","shadow-lg rounded "),g(Je,"class","row-start-2 relative"),g(Pe,"class","grid grid-rows-[min-content_auto] gap-10"),g(a,"class","col-start-2 gap-10 grid grid-cols-[auto_auto]"),g(i,"class","my-10 grid grid-cols-center")},m(P,J){k(document.head,e),z(P,t,J),z(P,i,J),k(i,a),k(a,n),re(l,n,null),k(n,b),re(h,n,null),k(n,C),re(w,n,null),k(n,M),re(O,n,null),k(n,q),re(T,n,null),k(n,X),re(L,n,null),k(n,B),re(A,n,null),k(n,ie),re(ue,n,null),k(n,De),re(ke,n,null),k(a,Ve),k(a,Pe),k(Pe,Oe),re(Fe,Oe,null),k(Pe,We),k(Pe,Je),k(Je,Be),k(Be,Ue),k(Ue,Ie),k(Ie,je),k(je,gt),k(Ie,bt),k(Ie,Ke),k(Ke,pt),k(Ie,mt),k(Ie,Ge),k(Ge,vt),k(Ue,_t),re(He,Ue,null),k(Be,Et),re(ze,Be,null),xe=!0,wt||(St=Z(Ie,"click",s[28]),wt=!0)},p(P,[J]){const et={};!r&&J&1&&(r=!0,et.boardTheme=P[0].board.boardTheme,se(()=>r=!1)),!o&&J&1&&(o=!0,et.notation=P[0].board.notation,se(()=>o=!1)),!u&&J&1&&(u=!0,et.flipped=P[0].board.flipped,se(()=>u=!1)),!c&&J&1&&(c=!0,et.shadow=P[0].board.shadow,se(()=>c=!1)),l.$set(et);const tt={};!S&&J&1&&(S=!0,tt.enabled=P[0].movable.enabled,se(()=>S=!1)),!y&&J&1&&(y=!0,tt.color=P[0].movable.color,se(()=>y=!1)),h.$set(tt);const de={};!_&&J&1&&(_=!0,de.enabled=P[0].draggable.enabled,se(()=>_=!1)),!d&&J&1&&(d=!0,de.ghostPiece=P[0].draggable.ghostPiece.enabled,se(()=>d=!1)),!f&&J&1&&(f=!0,de.transition=P[0].draggable.transition.enabled,se(()=>f=!1)),!E&&J&1&&(E=!0,de.duration=P[0].draggable.transition.settings.duration,se(()=>E=!1)),!v&&J&1&&(v=!0,de.easing=P[0].draggable.transition.settings.easing,se(()=>v=!1)),w.$set(de);const at={};!V&&J&1&&(V=!0,at.enabled=P[0].selectable.enabled,se(()=>V=!1)),O.$set(at);const ct={};!R&&J&1&&(R=!0,ct.enabled=P[0].legal.enabled,se(()=>R=!1)),!H&&J&1&&(H=!0,ct.preMovesEnabled=P[0].legal.preMoves.enabled,se(()=>H=!1)),T.$set(ct);const ft={};!ne&&J&1&&(ne=!0,ft.enabled=P[0].highlight.enabled,se(()=>ne=!1)),!be&&J&1&&(be=!0,ft.settings=P[0].highlight.settings,se(()=>be=!1)),L.$set(ft);const Xe={};!Y&&J&1&&(Y=!0,Xe.enabled=P[0].drawTools.enabled,se(()=>Y=!1)),!$&&J&1&&($=!0,Xe.knightLShape=P[0].drawTools.settings.knightLShape,se(()=>$=!1)),!me&&J&1&&(me=!0,Xe.onlyChessMove=P[0].drawTools.settings.onlyChessMove,se(()=>me=!1)),A.$set(Xe);const st={};!Se&&J&1&&(Se=!0,st.enabled=P[0].sounds.enabled,se(()=>Se=!1)),!Te&&J&1&&(Te=!0,st.settings=P[0].sounds.settings,se(()=>Te=!1)),ue.$set(st);const Ye={};!ye&&J&1&&(ye=!0,Ye.enabled=P[0].resizible.enabled,se(()=>ye=!1)),ke.$set(Ye);const At={};Fe.$set(At),(!xe||J&2&&ot!==(ot=P[1]?"text-yellow-600":""))&&g(je,"class",ot),(!xe||J&2&&ut!==(ut=P[1]?"":"text-yellow-600"))&&g(Ge,"class",ut);const Mt={};J&8&&(Mt.copyText=P[3]),He.$set(Mt);const kt={};J&8&&(kt.source=P[3]),ze.$set(kt)},i(P){xe||(W(l.$$.fragment,P),W(h.$$.fragment,P),W(w.$$.fragment,P),W(O.$$.fragment,P),W(T.$$.fragment,P),W(L.$$.fragment,P),W(A.$$.fragment,P),W(ue.$$.fragment,P),W(ke.$$.fragment,P),W(Fe.$$.fragment,P),W(He.$$.fragment,P),W(ze.$$.fragment,P),xe=!0)},o(P){G(l.$$.fragment,P),G(h.$$.fragment,P),G(w.$$.fragment,P),G(O.$$.fragment,P),G(T.$$.fragment,P),G(L.$$.fragment,P),G(A.$$.fragment,P),G(ue.$$.fragment,P),G(ke.$$.fragment,P),G(Fe.$$.fragment,P),G(He.$$.fragment,P),G(ze.$$.fragment,P),xe=!1},d(P){p(e),P&&p(t),P&&p(i),oe(l),oe(h),oe(w),oe(O),oe(T),oe(L),oe(A),oe(ue),oe(ke),s[27](null),oe(Fe),oe(He),oe(ze),wt=!1,St()}}}function yl(s,e,t){const i={movable:x.WHITE,board:{shadow:!0},legal:{preMoves:!0},callbacks:{getLegalMoves:()=>["e2e4","d2d4"],getPreMoves:()=>["d7d5","e7e5"]},highlight:{preMove:!0,nextMove:!0},resizible:!0};let a,n=new hn(i),l=!1,r=!0,o="";Zt(()=>{l=!0,t(0,n=a.getState())});const u=(A,Y)=>{const $=A.getConfig(),me=`
	import type { ChessboardConfig } from '@powchess/chessboard/boardConfig';`;l&&a.setState(A);let ie=[],ue=JSON.stringify($,(ke,ye)=>typeof ye=="function"?(ie.push(ye.toString()),`{function_${ie.length-1}}`):ye,4).replace(/"([^"]+)":/g,"$1:").replaceAll(`
`,`
	`).replace(/"\{function_(\d+)\}"/g,(ke,ye)=>ie[ye]);const Se=`
	import { Color } from '@powchess/chessboard/enums';`;Y&&(ue=ue.replaceAll("movable: 0","movable: Color.WHITE").replaceAll("movable: 1","movable: Color.BLACK").replaceAll("movable: 2","movable: Color.BOTH"));function Te(){return ue.includes("movable: Color.WHITE")||ue.includes("movable: Color.BLACK")||ue.includes("movable: Color.BOTH")}return`<script${Y?' lang="ts"':""}>
	import Chessboard from '@powchess/chessboard';${Y?me:""}${Te()&&Y?Se:""}

	const config${Y?": ChessboardConfig":""} = ${ue};
<\/script>

<Chessboard {config} />`};function c(A){s.$$.not_equal(n.board.boardTheme,A)&&(n.board.boardTheme=A,t(0,n))}function b(A){s.$$.not_equal(n.board.notation,A)&&(n.board.notation=A,t(0,n))}function h(A){s.$$.not_equal(n.board.flipped,A)&&(n.board.flipped=A,t(0,n))}function S(A){s.$$.not_equal(n.board.shadow,A)&&(n.board.shadow=A,t(0,n))}function y(A){s.$$.not_equal(n.movable.enabled,A)&&(n.movable.enabled=A,t(0,n))}function C(A){s.$$.not_equal(n.movable.color,A)&&(n.movable.color=A,t(0,n))}function w(A){s.$$.not_equal(n.draggable.enabled,A)&&(n.draggable.enabled=A,t(0,n))}function _(A){s.$$.not_equal(n.draggable.ghostPiece.enabled,A)&&(n.draggable.ghostPiece.enabled=A,t(0,n))}function d(A){s.$$.not_equal(n.draggable.transition.enabled,A)&&(n.draggable.transition.enabled=A,t(0,n))}function f(A){s.$$.not_equal(n.draggable.transition.settings.duration,A)&&(n.draggable.transition.settings.duration=A,t(0,n))}function E(A){s.$$.not_equal(n.draggable.transition.settings.easing,A)&&(n.draggable.transition.settings.easing=A,t(0,n))}function v(A){s.$$.not_equal(n.selectable.enabled,A)&&(n.selectable.enabled=A,t(0,n))}function M(A){s.$$.not_equal(n.legal.enabled,A)&&(n.legal.enabled=A,t(0,n))}function O(A){s.$$.not_equal(n.legal.preMoves.enabled,A)&&(n.legal.preMoves.enabled=A,t(0,n))}function V(A){s.$$.not_equal(n.highlight.enabled,A)&&(n.highlight.enabled=A,t(0,n))}function q(A){s.$$.not_equal(n.highlight.settings,A)&&(n.highlight.settings=A,t(0,n))}function T(A){s.$$.not_equal(n.drawTools.enabled,A)&&(n.drawTools.enabled=A,t(0,n))}function R(A){s.$$.not_equal(n.drawTools.settings.knightLShape,A)&&(n.drawTools.settings.knightLShape=A,t(0,n))}function H(A){s.$$.not_equal(n.drawTools.settings.onlyChessMove,A)&&(n.drawTools.settings.onlyChessMove=A,t(0,n))}function X(A){s.$$.not_equal(n.sounds.enabled,A)&&(n.sounds.enabled=A,t(0,n))}function L(A){s.$$.not_equal(n.sounds.settings,A)&&(n.sounds.settings=A,t(0,n))}function ne(A){s.$$.not_equal(n.resizible.enabled,A)&&(n.resizible.enabled=A,t(0,n))}function be(A){Q[A?"unshift":"push"](()=>{a=A,t(2,a)})}const B=()=>{t(1,r=!r)};return s.$$.update=()=>{s.$$.dirty&3&&t(3,o=u(n,r))},[n,r,a,o,i,c,b,h,S,y,C,w,_,d,f,E,v,M,O,V,q,T,R,H,X,L,ne,be,B]}class Pl extends _e{constructor(e){super(),Ee(this,e,yl,Sl,we,{})}}export{Pl as default};
