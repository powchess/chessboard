import{S as Oe,i as Ie,s as Fe,B as rn,k as U,a as te,l as H,m as j,h as v,c as se,p as Se,n as c,b as Z,F as A,C as ln,D as on,E as un,f as $,t as ie,H as Ft,I as as,J as re,K as Un,e as ye,L as Hn,q as me,r as _e,u as Nt,A as Ae,M as lt,N as fn,O as Vn,P as Wn,Q as rs,R as ct,T as Jt,U as de,V as xt,W as Ye,X as $t,G as Kn,Y as xe,Z as Be,_ as Ue,o as es,g as Ne,d as De,$ as $e,a0 as zn,a1 as jn,a2 as ge,v as Ee,w as ke,x as we,a3 as be,y as Me,a4 as dn,a5 as Gn,a6 as ls,a7 as Qn,a8 as cn,z as Xn,a9 as hn,aa as ot,ab as Et,ac as ts,ad as rt,ae as at,af as Yn}from"../../chunks/index-18bffe9d.js";import{w as Zn}from"../../chunks/index-c2b86799.js";typeof window<"u"&&(window.Prism&&console.warn("Prism has already been initiated. Please ensure that svelte-prism is imported first."),window.Prism=window.Prism||{},window.Prism.manual=!0);var os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gn={exports:{}};(function(s){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var e=function(i){var a=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},o={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function d(h){return h instanceof l?new l(h.type,d(h.content),h.alias):Array.isArray(h)?h.map(d):h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(d){return Object.prototype.toString.call(d).slice(8,-1)},objId:function(d){return d.__id||Object.defineProperty(d,"__id",{value:++n}),d.__id},clone:function d(h,E){E=E||{};var T,P;switch(o.util.type(h)){case"Object":if(P=o.util.objId(h),E[P])return E[P];T={},E[P]=T;for(var z in h)h.hasOwnProperty(z)&&(T[z]=d(h[z],E));return T;case"Array":return P=o.util.objId(h),E[P]?E[P]:(T=[],E[P]=T,h.forEach(function(W,K){T[K]=d(W,E)}),T);default:return h}},getLanguage:function(d){for(;d;){var h=a.exec(d.className);if(h)return h[1].toLowerCase();d=d.parentElement}return"none"},setLanguage:function(d,h){d.className=d.className.replace(RegExp(a,"gi"),""),d.classList.add("language-"+h)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(T){var d=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(T.stack)||[])[1];if(d){var h=document.getElementsByTagName("script");for(var E in h)if(h[E].src==d)return h[E]}return null}},isActive:function(d,h,E){for(var T="no-"+h;d;){var P=d.classList;if(P.contains(h))return!0;if(P.contains(T))return!1;d=d.parentElement}return!!E}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(d,h){var E=o.util.clone(o.languages[d]);for(var T in h)E[T]=h[T];return E},insertBefore:function(d,h,E,T){T=T||o.languages;var P=T[d],z={};for(var W in P)if(P.hasOwnProperty(W)){if(W==h)for(var K in E)E.hasOwnProperty(K)&&(z[K]=E[K]);E.hasOwnProperty(W)||(z[W]=P[W])}var G=T[d];return T[d]=z,o.languages.DFS(o.languages,function(V,X){X===G&&V!=d&&(this[V]=z)}),z},DFS:function d(h,E,T,P){P=P||{};var z=o.util.objId;for(var W in h)if(h.hasOwnProperty(W)){E.call(h,W,h[W],T||W);var K=h[W],G=o.util.type(K);G==="Object"&&!P[z(K)]?(P[z(K)]=!0,d(K,E,null,P)):G==="Array"&&!P[z(K)]&&(P[z(K)]=!0,d(K,E,W,P))}}},plugins:{},highlightAll:function(d,h){o.highlightAllUnder(document,d,h)},highlightAllUnder:function(d,h,E){var T={callback:E,container:d,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",T),T.elements=Array.prototype.slice.apply(T.container.querySelectorAll(T.selector)),o.hooks.run("before-all-elements-highlight",T);for(var P=0,z;z=T.elements[P++];)o.highlightElement(z,h===!0,T.callback)},highlightElement:function(d,h,E){var T=o.util.getLanguage(d),P=o.languages[T];o.util.setLanguage(d,T);var z=d.parentElement;z&&z.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(z,T);var W=d.textContent,K={element:d,language:T,grammar:P,code:W};function G(X){K.highlightedCode=X,o.hooks.run("before-insert",K),K.element.innerHTML=K.highlightedCode,o.hooks.run("after-highlight",K),o.hooks.run("complete",K),E&&E.call(K.element)}if(o.hooks.run("before-sanity-check",K),z=K.element.parentElement,z&&z.nodeName.toLowerCase()==="pre"&&!z.hasAttribute("tabindex")&&z.setAttribute("tabindex","0"),!K.code){o.hooks.run("complete",K),E&&E.call(K.element);return}if(o.hooks.run("before-highlight",K),!K.grammar){G(o.util.encode(K.code));return}if(h&&i.Worker){var V=new Worker(o.filename);V.onmessage=function(X){G(X.data)},V.postMessage(JSON.stringify({language:K.language,code:K.code,immediateClose:!0}))}else G(o.highlight(K.code,K.grammar,K.language))},highlight:function(d,h,E){var T={code:d,grammar:h,language:E};if(o.hooks.run("before-tokenize",T),!T.grammar)throw new Error('The language "'+T.language+'" has no grammar.');return T.tokens=o.tokenize(T.code,T.grammar),o.hooks.run("after-tokenize",T),l.stringify(o.util.encode(T.tokens),T.language)},tokenize:function(d,h){var E=h.rest;if(E){for(var T in E)h[T]=E[T];delete h.rest}var P=new b;return p(P,P.head,d),f(d,P,h,P.head,0),F(P)},hooks:{all:{},add:function(d,h){var E=o.hooks.all;E[d]=E[d]||[],E[d].push(h)},run:function(d,h){var E=o.hooks.all[d];if(!(!E||!E.length))for(var T=0,P;P=E[T++];)P(h)}},Token:l};i.Prism=o;function l(d,h,E,T){this.type=d,this.content=h,this.alias=E,this.length=(T||"").length|0}l.stringify=function d(h,E){if(typeof h=="string")return h;if(Array.isArray(h)){var T="";return h.forEach(function(G){T+=d(G,E)}),T}var P={type:h.type,content:d(h.content,E),tag:"span",classes:["token",h.type],attributes:{},language:E},z=h.alias;z&&(Array.isArray(z)?Array.prototype.push.apply(P.classes,z):P.classes.push(z)),o.hooks.run("wrap",P);var W="";for(var K in P.attributes)W+=" "+K+'="'+(P.attributes[K]||"").replace(/"/g,"&quot;")+'"';return"<"+P.tag+' class="'+P.classes.join(" ")+'"'+W+">"+P.content+"</"+P.tag+">"};function u(d,h,E,T){d.lastIndex=h;var P=d.exec(E);if(P&&T&&P[1]){var z=P[1].length;P.index+=z,P[0]=P[0].slice(z)}return P}function f(d,h,E,T,P,z){for(var W in E)if(!(!E.hasOwnProperty(W)||!E[W])){var K=E[W];K=Array.isArray(K)?K:[K];for(var G=0;G<K.length;++G){if(z&&z.cause==W+","+G)return;var V=K[G],X=V.inside,he=!!V.lookbehind,N=!!V.greedy,g=V.alias;if(N&&!V.pattern.global){var M=V.pattern.toString().match(/[imsuy]*$/)[0];V.pattern=RegExp(V.pattern.source,M+"g")}for(var C=V.pattern||V,_=T.next,L=P;_!==h.tail&&!(z&&L>=z.reach);L+=_.value.length,_=_.next){var D=_.value;if(h.length>d.length)return;if(!(D instanceof l)){var R=1,I;if(N){if(I=u(C,L,d,he),!I||I.index>=d.length)break;var Q=I.index,q=I.index+I[0].length,w=L;for(w+=_.value.length;Q>=w;)_=_.next,w+=_.value.length;if(w-=_.value.length,L=w,_.value instanceof l)continue;for(var x=_;x!==h.tail&&(w<q||typeof x.value=="string");x=x.next)R++,w+=x.value.length;R--,D=d.slice(L,w),I.index-=L}else if(I=u(C,0,D,he),!I)continue;var Q=I.index,le=I[0],ee=D.slice(0,Q),ae=D.slice(Q+le.length),oe=L+D.length;z&&oe>z.reach&&(z.reach=oe);var ue=_.prev;ee&&(ue=p(h,ue,ee),L+=ee.length),S(h,ue,R);var Te=new l(W,X?o.tokenize(le,X):le,g,le);if(_=p(h,ue,Te),ae&&p(h,_,ae),R>1){var ne={cause:W+","+G,reach:oe};f(d,h,E,_.prev,L,ne),z&&ne.reach>z.reach&&(z.reach=ne.reach)}}}}}}function b(){var d={value:null,prev:null,next:null},h={value:null,prev:d,next:null};d.next=h,this.head=d,this.tail=h,this.length=0}function p(d,h,E){var T=h.next,P={value:E,prev:h,next:T};return h.next=P,T.prev=P,d.length++,P}function S(d,h,E){for(var T=h.next,P=0;P<E&&T!==d.tail;P++)T=T.next;h.next=T,T.prev=h,d.length-=P}function F(d){for(var h=[],E=d.head.next;E!==d.tail;)h.push(E.value),E=E.next;return h}if(!i.document)return i.addEventListener&&(o.disableWorkerMessageHandler||i.addEventListener("message",function(d){var h=JSON.parse(d.data),E=h.language,T=h.code,P=h.immediateClose;i.postMessage(o.highlight(T,o.languages[E],E)),P&&i.close()},!1)),o;var O=o.util.currentScript();O&&(o.filename=O.src,O.hasAttribute("data-manual")&&(o.manual=!0));function m(){o.manual||o.highlightAll()}if(!o.manual){var y=document.readyState;y==="loading"||y==="interactive"&&O&&O.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return o}(t);s.exports&&(s.exports=e),typeof os<"u"&&(os.Prism=e),e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(a,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+n]={pattern:/[\s\S]+/,inside:e.languages[n]};var l={};l[a]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return a}),"i"),lookbehind:!0,greedy:!0,inside:o},e.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(i,a){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[a,"language-"+a],inside:e.languages[a]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml,function(i){var a=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+a.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+a.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+a.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+a.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:a,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var n=i.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(e),e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript,function(){if(typeof e>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading\u2026",a=function(O,m){return"\u2716 Error "+O+" while fetching file: "+m},n="\u2716 Error: File does not exist or is empty",r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",l="loading",u="loaded",f="failed",b="pre[data-src]:not(["+o+'="'+u+'"]):not(['+o+'="'+l+'"])';function p(O,m,y){var d=new XMLHttpRequest;d.open("GET",O,!0),d.onreadystatechange=function(){d.readyState==4&&(d.status<400&&d.responseText?m(d.responseText):d.status>=400?y(a(d.status,d.statusText)):y(n))},d.send(null)}function S(O){var m=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(O||"");if(m){var y=Number(m[1]),d=m[2],h=m[3];return d?h?[y,Number(h)]:[y,void 0]:[y,y]}}e.hooks.add("before-highlightall",function(O){O.selector+=", "+b}),e.hooks.add("before-sanity-check",function(O){var m=O.element;if(m.matches(b)){O.code="",m.setAttribute(o,l);var y=m.appendChild(document.createElement("CODE"));y.textContent=i;var d=m.getAttribute("data-src"),h=O.language;if(h==="none"){var E=(/\.(\w+)$/.exec(d)||[,"none"])[1];h=r[E]||E}e.util.setLanguage(y,h),e.util.setLanguage(m,h);var T=e.plugins.autoloader;T&&T.loadLanguages(h),p(d,function(P){m.setAttribute(o,u);var z=S(m.getAttribute("data-range"));if(z){var W=P.split(/\r\n?|\n/g),K=z[0],G=z[1]==null?W.length:z[1];K<0&&(K+=W.length),K=Math.max(0,Math.min(K-1,W.length)),G<0&&(G+=W.length),G=Math.max(0,Math.min(G,W.length)),P=W.slice(K,G).join(`
`),m.hasAttribute("data-start")||m.setAttribute("data-start",String(K+1))}y.textContent=P,e.highlightElement(y)},function(P){m.setAttribute(o,f),y.textContent=P})}}),e.plugins.fileHighlight={highlight:function(m){for(var y=(m||document).querySelectorAll(b),d=0,h;h=y[d++];)e.highlightElement(h)}};var F=!1;e.fileHighlight=function(){F||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),F=!0),e.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(gn);const bn=gn.exports,us="(if|else if|await|then|catch|each|html|debug)";Prism.languages.svelte=Prism.languages.extend("markup",{each:{pattern:new RegExp("{[#/]each(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{"language-javascript":[{pattern:/(as[\s\S]*)\([\s\S]*\)(?=\s*\})/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(as[\s]*)[\s\S]*(?=\s*)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(#each[\s]*)[\s\S]*(?=as)/,lookbehind:!0,inside:Prism.languages.javascript}],keyword:/[#/]each|as/,punctuation:/{|}/}},block:{pattern:new RegExp("{[#:/@]/s"+us+"(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{punctuation:/^{|}$/,keyword:[new RegExp("[#:/@]"+us+"( )*"),/as/,/then/],"language-javascript":{pattern:/[\s\S]*/,inside:Prism.languages.javascript}}},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?:"[^"]*"|'[^']*'|{[\s\S]+?}(?=[\s/>])))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,inside:Prism.languages.javascript},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],"language-javascript":{pattern:/{[\s\S]+}/,inside:Prism.languages.javascript}}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,lookbehind:!0,inside:Prism.languages.javascript}});Prism.languages.svelte.tag.inside["attr-value"].inside.entity=Prism.languages.svelte.entity;Prism.hooks.add("wrap",s=>{s.type==="entity"&&(s.attributes.title=s.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.svelte.tag,"addInlined",{value:function(t,e){const i={};i["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[e]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;const a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};a["language-"+e]={pattern:/[\s\S]+/,inside:Prism.languages[e]};const n={};n[t]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:a},Prism.languages.insertBefore("svelte","cdata",n)}});Prism.languages.svelte.tag.addInlined("style","css");Prism.languages.svelte.tag.addInlined("script","javascript");function Jn(s){let t,e;return{c(){t=new Un(!1),e=ye(),this.h()},l(i){t=Hn(i,!1),e=ye(),this.h()},h(){t.a=e},m(i,a){t.m(s[2],i,a),Z(i,e,a)},p(i,a){a&4&&t.p(i[2])},d(i){i&&v(e),i&&t.d()}}}function xn(s){let t;return{c(){t=me(s[2])},l(e){t=_e(e,s[2])},m(e,i){Z(e,t,i)},p(e,i){i&4&&Nt(t,e[2])},d(e){e&&v(t)}}}function $n(s){let t,e,i,a,n,r,o;const l=s[6].default,u=rn(l,s,s[5],null);function f(S,F){return S[0]==="none"?xn:Jn}let b=f(s),p=b(s);return{c(){t=U("code"),u&&u.c(),e=te(),i=U("pre"),a=U("code"),p.c(),this.h()},l(S){t=H(S,"CODE",{style:!0});var F=j(t);u&&u.l(F),F.forEach(v),e=se(S),i=H(S,"PRE",{class:!0,"command-line":!0,"data-output":!0});var O=j(i);a=H(O,"CODE",{class:!0});var m=j(a);p.l(m),m.forEach(v),O.forEach(v),this.h()},h(){Se(t,"display","none"),c(a,"class",n="language-"+s[0]),c(i,"class",r="language-"+s[0]),c(i,"command-line",""),c(i,"data-output","2-17")},m(S,F){Z(S,t,F),u&&u.m(t,null),s[7](t),Z(S,e,F),Z(S,i,F),A(i,a),p.m(a,null),o=!0},p(S,[F]){u&&u.p&&(!o||F&32)&&ln(u,l,S,S[5],o?un(l,S[5],F,null):on(S[5]),null),b===(b=f(S))&&p?p.p(S,F):(p.d(1),p=b(S),p&&(p.c(),p.m(a,null))),(!o||F&1&&n!==(n="language-"+S[0]))&&c(a,"class",n),(!o||F&1&&r!==(r="language-"+S[0]))&&c(i,"class",r)},i(S){o||($(u,S),o=!0)},o(S){ie(u,S),o=!1},d(S){S&&v(t),u&&u.d(S),s[7](null),S&&v(e),S&&v(i),p.d()}}}const fs=bn;bn.highlightElement;const ei={transform:s=>s};function ti(s,t,e){let{$$slots:i={},$$scope:a}=t,{language:n="javascript"}=t,{source:r=""}=t,{transform:o=p=>p}=t,l,u;function f(){const p=fs.languages[n];let S=r||l.textContent;S=ei.transform(S),S=o(S),e(2,u=n==="none"?S:fs.highlight(S,p,n))}function b(p){re[p?"unshift":"push"](()=>{l=p,e(1,l)})}return s.$$set=p=>{e(9,t=Ft(Ft({},t),as(p))),"language"in p&&e(0,n=p.language),"source"in p&&e(3,r=p.source),"transform"in p&&e(4,o=p.transform),"$$scope"in p&&e(5,a=p.$$scope)},s.$$.update=()=>{t&&(r||l)&&f()},t=as(t),[n,l,u,r,o,a,i,b]}class si extends Oe{constructor(t){super(),Ie(this,t,ti,$n,Fe,{language:0,source:3,transform:4})}}var pn={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Chess=s.validateFen=s.SQUARES=s.DEFAULT_POSITION=s.KING=s.QUEEN=s.ROOK=s.BISHOP=s.KNIGHT=s.PAWN=s.BLACK=s.WHITE=void 0,s.WHITE="w",s.BLACK="b",s.PAWN="p",s.KNIGHT="n",s.BISHOP="b",s.ROOK="r",s.QUEEN="q",s.KING="k",s.DEFAULT_POSITION="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";const t=-1,e={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"};s.SQUARES=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"];const i={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},a={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},n={b:[16,32,17,15],w:[-16,-32,-17,-15]},r={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},o=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],l=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],u={p:1,n:2,b:4,r:8,q:16,k:32},f="pnbrqkPNBRQK",b=[s.KNIGHT,s.BISHOP,s.ROOK,s.QUEEN],p=7,S=6,F=1,O=0,m={w:[{square:a.a1,flag:i.QSIDE_CASTLE},{square:a.h1,flag:i.KSIDE_CASTLE}],b:[{square:a.a8,flag:i.QSIDE_CASTLE},{square:a.h8,flag:i.KSIDE_CASTLE}]},y={b:F,w:S},d=["1-0","0-1","1/2-1/2","*"];function h(N){return N>>4}function E(N){return N&15}function T(N){return"0123456789".indexOf(N)!==-1}function P(N){const g=E(N),M=h(N);return"abcdefgh".substring(g,g+1)+"87654321".substring(M,M+1)}function z(N){return N===s.WHITE?s.BLACK:s.WHITE}function W(N){const g=[];g[0]="No errors.",g[1]="FEN string must contain six space-delimited fields.",g[2]="6th field (move number) must be a positive integer.",g[3]="5th field (half move counter) must be a non-negative integer.",g[4]="4th field (en-passant square) is invalid.",g[5]="3rd field (castling availability) is invalid.",g[6]="2nd field (side to move) is invalid.",g[7]="1st field (piece positions) does not contain 8 '/'-delimited rows.",g[8]="1st field (piece positions) is invalid [consecutive numbers].",g[9]="1st field (piece positions) is invalid [invalid piece].",g[10]="1st field (piece positions) is invalid [row too large].",g[11]="Illegal en-passant square";const M=N.split(/\s+/);if(M.length!==6)return{valid:!1,errorNumber:1,error:g[1]};const C=parseInt(M[5],10);if(isNaN(C)||C<=0)return{valid:!1,errorNumber:2,error:g[2]};const _=parseInt(M[4],10);if(isNaN(_)||_<0)return{valid:!1,errorNumber:3,error:g[3]};if(!/^(-|[abcdefgh][36])$/.test(M[3]))return{valid:!1,errorNumber:4,error:g[4]};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(M[2]))return{valid:!1,errorNumber:5,error:g[5]};if(!/^(w|b)$/.test(M[1]))return{valid:!1,errorNumber:6,error:g[6]};const L=M[0].split("/");if(L.length!==8)return{valid:!1,errorNumber:7,error:g[7]};for(let D=0;D<L.length;D++){let R=0,I=!1;for(let q=0;q<L[D].length;q++)if(T(L[D][q])){if(I)return{valid:!1,errorNumber:8,error:g[8]};R+=parseInt(L[D][q],10),I=!0}else{if(!/^[prnbqkPRNBQK]$/.test(L[D][q]))return{valid:!1,errorNumber:9,error:g[9]};R+=1,I=!1}if(R!==8)return{valid:!1,errorNumber:10,error:g[10]}}return M[3][1]=="3"&&M[1]=="w"||M[3][1]=="6"&&M[1]=="b"?{valid:!1,errorNumber:11,error:g[11]}:{valid:!0,errorNumber:0,error:g[0]}}s.validateFen=W;function K(N,g){const M=N.from,C=N.to,_=N.piece;let L=0,D=0,R=0;for(let I=0,q=g.length;I<q;I++){const w=g[I].from,x=g[I].to,Q=g[I].piece;_===Q&&M!==w&&C===x&&(L++,h(M)===h(w)&&D++,E(M)===E(w)&&R++)}return L>0?D>0&&R>0?P(M):R>0?P(M).charAt(1):P(M).charAt(0):""}function G(N,g,M,C,_,L=void 0,D=i.NORMAL){const R=h(C);if(_===s.PAWN&&(R===p||R===O))for(let I=0;I<b.length;I++){const q=b[I];N.push({color:g,from:M,to:C,piece:_,captured:L,promotion:q,flags:D|i.PROMOTION})}else N.push({color:g,from:M,to:C,piece:_,captured:L,promotion:void 0,flags:D})}function V(N){let g=N.charAt(0);return g>="a"&&g<="h"?N.match(/[a-h]\d.*[a-h]\d/)?void 0:s.PAWN:(g=g.toLowerCase(),g==="o"?s.KING:g)}function X(N){return N.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class he{constructor(g=s.DEFAULT_POSITION){this._board=new Array(128),this._turn=s.WHITE,this._header={},this._kings={w:t,b:t},this._epSquare=-1,this._halfMoves=0,this._moveNumber=0,this._history=[],this._comments={},this._castling={w:0,b:0},this.load(g)}clear(g=!1){this._board=new Array(128),this._kings={w:t,b:t},this._turn=s.WHITE,this._castling={w:0,b:0},this._epSquare=t,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=g?this._header:{},this._updateSetup(this.fen())}load(g,M=!1){const C=g.split(/\s+/),_=C[0];let L=0;if(!W(g).valid)return!1;this.clear(M);for(let D=0;D<_.length;D++){const R=_.charAt(D);if(R==="/")L+=8;else if(T(R))L+=parseInt(R,10);else{const I=R<"a"?s.WHITE:s.BLACK;this.put({type:R.toLowerCase(),color:I},P(L)),L++}}return this._turn=C[1],C[2].indexOf("K")>-1&&(this._castling.w|=i.KSIDE_CASTLE),C[2].indexOf("Q")>-1&&(this._castling.w|=i.QSIDE_CASTLE),C[2].indexOf("k")>-1&&(this._castling.b|=i.KSIDE_CASTLE),C[2].indexOf("q")>-1&&(this._castling.b|=i.QSIDE_CASTLE),this._epSquare=C[3]==="-"?t:a[C[3]],this._halfMoves=parseInt(C[4],10),this._moveNumber=parseInt(C[5],10),this._updateSetup(this.fen()),!0}fen(){let g=0,M="";for(let L=a.a8;L<=a.h1;L++){if(this._board[L]){g>0&&(M+=g,g=0);const{color:D,type:R}=this._board[L];M+=D===s.WHITE?R.toUpperCase():R.toLowerCase()}else g++;L+1&136&&(g>0&&(M+=g),L!==a.h1&&(M+="/"),g=0,L+=8)}let C="";this._castling[s.WHITE]&i.KSIDE_CASTLE&&(C+="K"),this._castling[s.WHITE]&i.QSIDE_CASTLE&&(C+="Q"),this._castling[s.BLACK]&i.KSIDE_CASTLE&&(C+="k"),this._castling[s.BLACK]&i.QSIDE_CASTLE&&(C+="q"),C=C||"-";const _=this._epSquare===t?"-":P(this._epSquare);return[M,this._turn,C,_,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(g){this._history.length>0||(g!==s.DEFAULT_POSITION?(this._header.SetUp="1",this._header.FEN=g):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(s.DEFAULT_POSITION)}get(g){return this._board[a[g]]||!1}put({type:g,color:M},C){if(f.indexOf(g.toLowerCase())===-1||!(C in a))return!1;const _=a[C];return g==s.KING&&!(this._kings[M]==t||this._kings[M]==_)?!1:(this._board[_]={type:g,color:M},g===s.KING&&(this._kings[M]=_),this._updateSetup(this.fen()),!0)}remove(g){const M=this.get(g);return delete this._board[a[g]],M&&M.type===s.KING&&(this._kings[M.color]=t),this._updateSetup(this.fen()),M}_attacked(g,M){for(let C=a.a8;C<=a.h1;C++){if(C&136){C+=7;continue}if(this._board[C]===void 0||this._board[C].color!==g)continue;const _=this._board[C],L=C-M,D=L+119;if(o[D]&u[_.type]){if(_.type===s.PAWN){if(L>0){if(_.color===s.WHITE)return!0}else if(_.color===s.BLACK)return!0;continue}if(_.type==="n"||_.type==="k")return!0;const R=l[D];let I=C+R,q=!1;for(;I!==M;){if(this._board[I]!=null){q=!0;break}I+=R}if(!q)return!0}}return!1}_isKingAttacked(g){return this._attacked(z(g),this._kings[g])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const g={b:0,n:0,r:0,q:0,k:0,p:0},M=[];let C=0,_=0;for(let L=a.a8;L<=a.h1;L++){if(_=(_+1)%2,L&136){L+=7;continue}const D=this._board[L];D&&(g[D.type]=D.type in g?g[D.type]+1:1,D.type===s.BISHOP&&M.push(_),C++)}if(C===2)return!0;if(C===3&&(g[s.BISHOP]===1||g[s.KNIGHT]===1))return!0;if(C===g[s.BISHOP]+2){let L=0;const D=M.length;for(let R=0;R<D;R++)L+=M[R];if(L===0||L===D)return!0}return!1}isThreefoldRepetition(){const g=[],M={};let C=!1;for(;;){const _=this._undoMove();if(!_)break;g.push(_)}for(;;){const _=this.fen().split(" ").slice(0,4).join(" ");M[_]=_ in M?M[_]+1:1,M[_]>=3&&(C=!0);const L=g.pop();if(L)this._makeMove(L);else break}return C}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:g=!1,square:M=void 0}={}){const C=this._moves({square:M});return g?C.map(_=>this._makePretty(_)):C.map(_=>this._moveToSan(_,C))}_moves({legal:g=!0,piece:M=void 0,square:C=void 0}={}){var _;const L=C?C.toLowerCase():void 0,D=M==null?void 0:M.toLowerCase(),R=[],I=this._turn,q=z(I);let w=a.a8,x=a.h1,Q=!1;if(L)if(L in a)w=x=a[L],Q=!0;else return[];for(let ee=w;ee<=x;ee++){if(ee&136){ee+=7;continue}if(!this._board[ee]||this._board[ee].color===q)continue;const{type:ae}=this._board[ee];let oe;if(ae===s.PAWN){if(D&&D!==ae)continue;oe=ee+n[I][0],this._board[oe]||(G(R,I,ee,oe,s.PAWN),oe=ee+n[I][1],y[I]===h(ee)&&!this._board[oe]&&G(R,I,ee,oe,s.PAWN,void 0,i.BIG_PAWN));for(let ue=2;ue<4;ue++)oe=ee+n[I][ue],!(oe&136)&&(((_=this._board[oe])===null||_===void 0?void 0:_.color)===q?G(R,I,ee,oe,s.PAWN,this._board[oe].type,i.CAPTURE):oe===this._epSquare&&G(R,I,ee,oe,s.PAWN,s.PAWN,i.EP_CAPTURE))}else{if(D&&D!==ae)continue;for(let ue=0,Te=r[ae].length;ue<Te;ue++){const ne=r[ae][ue];for(oe=ee;oe+=ne,!(oe&136);){if(!this._board[oe])G(R,I,ee,oe,ae);else{if(this._board[oe].color===I)break;G(R,I,ee,oe,ae,this._board[oe].type,i.CAPTURE);break}if(ae===s.KNIGHT||ae===s.KING)break}}}}if((D===void 0||D===s.KING)&&(!Q||x===this._kings[I])){if(this._castling[I]&i.KSIDE_CASTLE){const ee=this._kings[I],ae=ee+2;!this._board[ee+1]&&!this._board[ae]&&!this._attacked(q,this._kings[I])&&!this._attacked(q,ee+1)&&!this._attacked(q,ae)&&G(R,I,this._kings[I],ae,s.KING,void 0,i.KSIDE_CASTLE)}if(this._castling[I]&i.QSIDE_CASTLE){const ee=this._kings[I],ae=ee-2;!this._board[ee-1]&&!this._board[ee-2]&&!this._board[ee-3]&&!this._attacked(q,this._kings[I])&&!this._attacked(q,ee-1)&&!this._attacked(q,ae)&&G(R,I,this._kings[I],ae,s.KING,void 0,i.QSIDE_CASTLE)}}if(!g)return R;const le=[];for(let ee=0,ae=R.length;ee<ae;ee++)this._makeMove(R[ee]),this._isKingAttacked(I)||le.push(R[ee]),this._undoMove();return le}move(g,{sloppy:M=!1}={}){let C=null;if(typeof g=="string")C=this._moveFromSan(g,M);else if(typeof g=="object"){const L=this._moves();for(let D=0,R=L.length;D<R;D++)if(g.from===P(L[D].from)&&g.to===P(L[D].to)&&(!("promotion"in L[D])||g.promotion===L[D].promotion)){C=L[D];break}}if(!C)return null;const _=this._makePretty(C);return this._makeMove(C),_}_push(g){this._history.push({move:g,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(g){const M=this._turn,C=z(M);if(this._push(g),this._board[g.to]=this._board[g.from],delete this._board[g.from],g.flags&i.EP_CAPTURE&&(this._turn===s.BLACK?delete this._board[g.to-16]:delete this._board[g.to+16]),g.promotion&&(this._board[g.to]={type:g.promotion,color:M}),this._board[g.to].type===s.KING){if(this._kings[M]=g.to,g.flags&i.KSIDE_CASTLE){const _=g.to-1,L=g.to+1;this._board[_]=this._board[L],delete this._board[L]}else if(g.flags&i.QSIDE_CASTLE){const _=g.to+1,L=g.to-2;this._board[_]=this._board[L],delete this._board[L]}this._castling[M]=0}if(this._castling[M]){for(let _=0,L=m[M].length;_<L;_++)if(g.from===m[M][_].square&&this._castling[M]&m[M][_].flag){this._castling[M]^=m[M][_].flag;break}}if(this._castling[C]){for(let _=0,L=m[C].length;_<L;_++)if(g.to===m[C][_].square&&this._castling[C]&m[C][_].flag){this._castling[C]^=m[C][_].flag;break}}g.flags&i.BIG_PAWN?M===s.BLACK?this._epSquare=g.to-16:this._epSquare=g.to+16:this._epSquare=t,g.piece===s.PAWN?this._halfMoves=0:g.flags&(i.CAPTURE|i.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,M===s.BLACK&&this._moveNumber++,this._turn=C}undo(){const g=this._undoMove();return g?this._makePretty(g):null}_undoMove(){const g=this._history.pop();if(g===void 0)return null;const M=g.move;this._kings=g.kings,this._turn=g.turn,this._castling=g.castling,this._epSquare=g.epSquare,this._halfMoves=g.halfMoves,this._moveNumber=g.moveNumber;const C=this._turn,_=z(C);if(this._board[M.from]=this._board[M.to],this._board[M.from].type=M.piece,delete this._board[M.to],M.captured)if(M.flags&i.EP_CAPTURE){let L;C===s.BLACK?L=M.to-16:L=M.to+16,this._board[L]={type:s.PAWN,color:_}}else this._board[M.to]={type:M.captured,color:_};if(M.flags&(i.KSIDE_CASTLE|i.QSIDE_CASTLE)){let L,D;M.flags&i.KSIDE_CASTLE?(L=M.to+1,D=M.to-1):(L=M.to-2,D=M.to+1),this._board[L]=this._board[D],delete this._board[D]}return M}pgn({newline:g=`
`,maxWidth:M=0}={}){const C=[];let _=!1;for(const Q in this._header)C.push("["+Q+' "'+this._header[Q]+'"]'+g),_=!0;_&&this._history.length&&C.push(g);const L=Q=>{const le=this._comments[this.fen()];if(typeof le<"u"){const ee=Q.length>0?" ":"";Q=`${Q}${ee}{${le}}`}return Q},D=[];for(;this._history.length>0;)D.push(this._undoMove());const R=[];let I="";for(D.length===0&&R.push(L(""));D.length>0;){I=L(I);const Q=D.pop();if(!Q)break;if(!this._history.length&&Q.color==="b"){const le=`${this._moveNumber}. ...`;I=I?`${I} ${le}`:le}else Q.color==="w"&&(I.length&&R.push(I),I=this._moveNumber+".");I=I+" "+this._moveToSan(Q,this._moves({legal:!0})),this._makeMove(Q)}if(I.length&&R.push(L(I)),typeof this._header.Result<"u"&&R.push(this._header.Result),M===0)return C.join("")+R.join(" ");const q=function(){return C.length>0&&C[C.length-1]===" "?(C.pop(),!0):!1},w=function(Q,le){for(const ee of le.split(" "))if(!!ee){if(Q+ee.length>M){for(;q();)Q--;C.push(g),Q=0}C.push(ee),Q+=ee.length,C.push(" "),Q++}return q()&&Q--,Q};let x=0;for(let Q=0;Q<R.length;Q++){if(x+R[Q].length>M&&R[Q].includes("{")){x=w(x,R[Q]);continue}x+R[Q].length>M&&Q!==0?(C[C.length-1]===" "&&C.pop(),C.push(g),x=0):Q!==0&&(C.push(" "),x++),C.push(R[Q]),x+=R[Q].length}return C.join("")}header(...g){for(let M=0;M<g.length;M+=2)typeof g[M]=="string"&&typeof g[M+1]=="string"&&(this._header[g[M]]=g[M+1]);return this._header}loadPgn(g,{sloppy:M=!1,newlineChar:C=`\r?
`}={}){function _(ne){return ne.replace(/\\/g,"\\")}function L(ne){const Pe={},Le=ne.split(new RegExp(_(C)));let He="",Ve="";for(let qe=0;qe<Le.length;qe++){const Ke=/^\s*\[([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;He=Le[qe].replace(Ke,"$1"),Ve=Le[qe].replace(Ke,"$2"),He.trim().length>0&&(Pe[He]=Ve)}return Pe}g=g.trim();const R=new RegExp("^(\\[((?:"+_(C)+")|.)*\\])(?:\\s*"+_(C)+"){2}").exec(g),I=R&&R.length>=2?R[1]:"";this.reset();const q=L(I);let w="";for(const ne in q)ne.toLowerCase()==="fen"&&(w=q[ne]),this.header(ne,q[ne]);if(M){if(w&&!this.load(w,!0))return!1}else if(q.SetUp==="1"&&!("FEN"in q&&this.load(q.FEN,!0)))return!1;function x(ne){return Array.from(ne).map(function(Pe){return Pe.charCodeAt(0)<128?Pe.charCodeAt(0).toString(16):encodeURIComponent(Pe).replace(/%/g,"").toLowerCase()}).join("")}function Q(ne){return ne.length==0?"":decodeURIComponent("%"+(ne.match(/.{1,2}/g)||[]).join("%"))}const le=function(ne){return ne=ne.replace(new RegExp(_(C),"g")," "),`{${x(ne.slice(1,ne.length-1))}}`},ee=function(ne){if(ne.startsWith("{")&&ne.endsWith("}"))return Q(ne.slice(1,ne.length-1))};let ae=g.replace(I,"").replace(new RegExp(`({[^}]*})+?|;([^${_(C)}]*)`,"g"),function(ne,Pe,Le){return Pe!==void 0?le(Pe):" "+le(`{${Le.slice(1)}}`)}).replace(new RegExp(_(C),"g")," ");const oe=/(\([^()]+\))+?/g;for(;oe.test(ae);)ae=ae.replace(oe,"");ae=ae.replace(/\d+\.(\.\.)?/g,""),ae=ae.replace(/\.\.\./g,""),ae=ae.replace(/\$\d+/g,"");let ue=ae.trim().split(new RegExp(/\s+/));ue=ue.join(",").replace(/,,+/g,",").split(",");let Te="";for(let ne=0;ne<ue.length;ne++){const Pe=ee(ue[ne]);if(Pe!==void 0){this._comments[this.fen()]=Pe;continue}const Le=this._moveFromSan(ue[ne],M);if(Le==null)if(d.indexOf(ue[ne])>-1)Te=ue[ne];else return!1;else Te="",this._makeMove(Le)}return Te&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",Te),!0}_moveToSan(g,M){let C="";if(g.flags&i.KSIDE_CASTLE)C="O-O";else if(g.flags&i.QSIDE_CASTLE)C="O-O-O";else{if(g.piece!==s.PAWN){const _=K(g,M);C+=g.piece.toUpperCase()+_}g.flags&(i.CAPTURE|i.EP_CAPTURE)&&(g.piece===s.PAWN&&(C+=P(g.from)[0]),C+="x"),C+=P(g.to),g.promotion&&(C+="="+g.promotion.toUpperCase())}return this._makeMove(g),this.isCheck()&&(this.isCheckmate()?C+="#":C+="+"),this._undoMove(),C}_moveFromSan(g,M=!1){const C=X(g);let _=V(C),L=this._moves({legal:!0,piece:_});for(let Q=0,le=L.length;Q<le;Q++)if(C===X(this._moveToSan(L[Q],L)))return L[Q];if(!M)return null;let D,R,I,q,w,x=!1;R=C.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),R?(D=R[1],I=R[2],q=R[3],w=R[4],I.length==1&&(x=!0)):(R=C.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),R&&(D=R[1],I=R[2],q=R[3],w=R[4],I.length==1&&(x=!0))),_=V(C),L=this._moves({legal:!0,piece:D||_});for(let Q=0,le=L.length;Q<le;Q++)if(I&&q){if((!D||D.toLowerCase()==L[Q].piece)&&a[I]==L[Q].from&&a[q]==L[Q].to&&(!w||w.toLowerCase()==L[Q].promotion))return L[Q];if(x){const ee=P(L[Q].from);if((!D||D.toLowerCase()==L[Q].piece)&&a[q]==L[Q].to&&(I==ee[0]||I==ee[1])&&(!w||w.toLowerCase()==L[Q].promotion))return L[Q]}}return null}ascii(){let g=`   +------------------------+
`;for(let M=a.a8;M<=a.h1;M++){if(E(M)===0&&(g+=" "+"87654321"[h(M)]+" |"),this._board[M]){const C=this._board[M].type,L=this._board[M].color===s.WHITE?C.toUpperCase():C.toLowerCase();g+=" "+L+" "}else g+=" . ";M+1&136&&(g+=`|
`,M+=8)}return g+=`   +------------------------+
`,g+="     a  b  c  d  e  f  g  h",g}perft(g){const M=this._moves({legal:!1});let C=0;const _=this._turn;for(let L=0,D=M.length;L<D;L++)this._makeMove(M[L]),this._isKingAttacked(_)||(g-1>0?C+=this.perft(g-1):C++),this._undoMove();return C}_makePretty(g){const{color:M,piece:C,from:_,to:L,flags:D,captured:R,promotion:I}=g;let q="";for(const x in i)i[x]&D&&(q+=e[x]);const w={color:M,piece:C,from:P(_),to:P(L),san:this._moveToSan(g,this._moves({legal:!0})),flags:q};return R&&(w.captured=R),I&&(w.promotion=I),w}turn(){return this._turn}board(){const g=[];let M=[];for(let C=a.a8;C<=a.h1;C++)this._board[C]==null?M.push(null):M.push({square:P(C),type:this._board[C].type,color:this._board[C].color}),C+1&136&&(g.push(M),M=[],C+=8);return g}squareColor(g){if(g in a){const M=a[g];return(h(M)+E(M))%2===0?"light":"dark"}return null}history({verbose:g=!1}={}){const M=[],C=[];for(;this._history.length>0;)M.push(this._undoMove());for(;;){const _=M.pop();if(!_)break;g?C.push(this._makePretty(_)):C.push(this._moveToSan(_,this._moves())),this._makeMove(_)}return C}_pruneComments(){const g=[],M={},C=_=>{_ in this._comments&&(M[_]=this._comments[_])};for(;this._history.length>0;)g.push(this._undoMove());for(C(this.fen());;){const _=g.pop();if(!_)break;this._makeMove(_),C(this.fen())}this._comments=M}getComment(){return this._comments[this.fen()]}setComment(g){this._comments[this.fen()]=g.replace("{","[").replace("}","]")}deleteComment(){const g=this._comments[this.fen()];return delete this._comments[this.fen()],g}getComments(){return this._pruneComments(),Object.keys(this._comments).map(g=>({fen:g,comment:this._comments[g]}))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map(g=>{const M=this._comments[g];return delete this._comments[g],{fen:g,comment:M}})}}s.Chess=he})(pn);var fe=(s=>(s[s.WHITE=0]="WHITE",s[s.BLACK=1]="BLACK",s[s.BOTH=2]="BOTH",s[s.SPECTATOR=3]="SPECTATOR",s[s.SERVER=4]="SERVER",s))(fe||{}),J=(s=>(s[s.LEGAL=0]="LEGAL",s[s.LEGALHOVER=1]="LEGALHOVER",s[s.CHECK=2]="CHECK",s[s.MOVE=3]="MOVE",s[s.NEXTMOVE=4]="NEXTMOVE",s[s.PREMOVE=5]="PREMOVE",s[s.PREMOVEHOVER=6]="PREMOVEHOVER",s[s.SELECT=7]="SELECT",s))(J||{});class ni{constructor(t){this.defaultState={boardTheme:"standard",piecesTheme:"standard",flipped:!1,notation:!0,shadow:!1,startFen:mn,size:0,style:{shadow:!1,borderRadius:"0rem"},resizible:{enabled:!1,min:256,max:1024}},this.setConfigSettings=e=>{e!==void 0&&(e.boardTheme!==void 0&&(this.boardTheme=e.boardTheme),e.piecesTheme!==void 0&&(this.piecesTheme=e.piecesTheme),e.flipped!==void 0&&(this.flipped=e.flipped),e.notation!==void 0&&(this.notation=e.notation),e.startFen!==void 0&&(this.startFen=e.startFen),e.style!==void 0&&(e.style.shadow!==void 0&&(this.style.shadow=e.style.shadow),e.style.borderRadius!==void 0&&(this.style.borderRadius=e.style.borderRadius)))},this.getConfig=()=>{const e={...this.boardTheme!==this.defaultState.boardTheme&&{boardTheme:this.boardTheme},...this.piecesTheme!==this.defaultState.piecesTheme&&{piecesTheme:this.piecesTheme},...this.flipped!==this.defaultState.flipped&&{flipped:this.flipped},...this.notation!==this.defaultState.notation&&{notation:this.notation},...this.startFen!==this.defaultState.startFen&&{startFen:this.startFen},...(this.style.shadow!==this.defaultState.style.shadow||this.style.borderRadius!==this.defaultState.style.borderRadius)&&{style:{...this.style.shadow!==this.defaultState.style.shadow&&{shadow:this.style.shadow},...this.style.borderRadius!==this.defaultState.style.borderRadius&&{borderRadius:this.style.borderRadius}}}};if(Object.keys(e).length!==0)return e},this.boardTheme=this.defaultState.boardTheme,this.piecesTheme=this.defaultState.piecesTheme,this.flipped=this.defaultState.flipped,this.notation=this.defaultState.notation,this.startFen=this.defaultState.startFen,this.size=this.defaultState.size,this.style={...this.defaultState.style},this.resizible={...this.defaultState.resizible},this.setConfigSettings(t)}}class ii{constructor(t){this.defaultState={enabled:!0,color:fe.BOTH},this.setConfigSettings=e=>{switch(e){case!0:this.enabled=!0,this.color=fe.BOTH;break;case!1:this.enabled=!1;break;case fe.WHITE:this.enabled=!0,this.color=fe.WHITE;break;case fe.BLACK:this.enabled=!0,this.color=fe.BLACK;break}},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.color!==this.defaultState.color)return this.color;if(this.enabled&&!this.defaultState.enabled)return this.color;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.color=this.defaultState.color,this.setConfigSettings(t)}}class ai{constructor(t){this.defaultState={enabled:!0,ghostPiece:{enabled:!0,piece:void 0},transition:{enabled:!0,settings:{duration:120,easing:"cubicInOut"}}},this.setConfigSettings=e=>{var i,a,n,r;e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,(e==null?void 0:e.ghostPiece)!==void 0&&(this.ghostPiece.enabled=e.ghostPiece),e.transition!==void 0&&((e==null?void 0:e.transition)===!0?this.transition.enabled=!0:(e==null?void 0:e.transition)===!1?this.transition.enabled=!1:(this.transition.enabled=!0,(i=e==null?void 0:e.transition)!=null&&i.duration&&(this.transition.settings.duration=(a=e==null?void 0:e.transition)==null?void 0:a.duration),(n=e==null?void 0:e.transition)!=null&&n.easing&&(this.transition.settings.easing=(r=e==null?void 0:e.transition)==null?void 0:r.easing)))))},this.getConfig=()=>{const e={},i={};if(this.enabled&&this.defaultState.enabled&&(this.ghostPiece.enabled!==this.defaultState.ghostPiece.enabled&&(e.ghostPiece=this.ghostPiece.enabled),this.transition.enabled&&this.defaultState.transition.enabled&&(this.transition.settings.duration!==this.defaultState.transition.settings.duration&&(i.duration=this.transition.settings.duration),this.transition.settings.easing!==this.defaultState.transition.settings.easing&&(i.easing=this.transition.settings.easing),Object.keys(i).length!==0&&(e.transition=i)),!this.transition.enabled&&this.defaultState.transition.enabled&&(e.transition=!1),Object.keys(e).length!==0))return e;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.ghostPiece={...this.defaultState.ghostPiece},this.transition={enabled:this.defaultState.transition.enabled,settings:{...this.defaultState.transition.settings}},this.setConfigSettings(t)}}class ri{constructor(t){this.defaultState={enabled:!0,selectedPiece:void 0},this.setConfigSettings=e=>{e!==void 0&&(this.enabled=e)},this.getConfig=()=>{if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.selectedPiece=this.defaultState.selectedPiece,this.setConfigSettings(t)}}class li{constructor(t){this.defaultState={enabled:!1,whiteToMove:!0,moves:[],settings:{allowPromotion:!0,allowEnPassant:!0,allowCastling:!0},preMoves:{enabled:!1,moves:[],curMove:""},lastMove:"",checkSquare:void 0},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.settings&&(e.settings.allowCastling!==void 0&&(this.settings.allowCastling=e.settings.allowCastling),e.settings.allowEnPassant!==void 0&&(this.settings.allowEnPassant=e.settings.allowEnPassant),e.settings.allowPromotion!==void 0&&(this.settings.allowPromotion=e.settings.allowPromotion)),e.preMoves!==void 0&&(this.preMoves.enabled=e.preMoves)))},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.preMoves.enabled!==this.defaultState.preMoves.enabled)return{preMoves:this.preMoves.enabled};if(this.enabled!==this.defaultState.enabled)return this.preMoves.enabled!==this.defaultState.preMoves.enabled?{preMoves:this.preMoves.enabled}:this.enabled},this.enabled=this.defaultState.enabled,this.whiteToMove=this.defaultState.whiteToMove,this.moves=JSON.parse(JSON.stringify(this.defaultState.moves)),this.settings={...this.defaultState.settings},this.preMoves={enabled:this.defaultState.preMoves.enabled,moves:[...this.defaultState.preMoves.moves],curMove:this.defaultState.preMoves.curMove},this.lastMove=this.defaultState.lastMove,this.checkSquare=this.defaultState.checkSquare,this.setConfigSettings(t)}}class oi{constructor(t){this.defaultState={enabled:!0,settings:{select:!0,legal:!0,move:!0,preMove:!1,nextMove:!1,check:!0}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.check!==void 0&&(this.settings.check=e.check),e.legal!==void 0&&(this.settings.legal=e.legal),e.move!==void 0&&(this.settings.move=e.move),e.nextMove!==void 0&&(this.settings.nextMove=e.nextMove),e.preMove!==void 0&&(this.settings.preMove=e.preMove),e.select!==void 0&&(this.settings.select=e.select)))},this.getConfig=()=>{const e={},i=["select","legal","move","preMove","nextMove","check"];if(this.enabled&&this.defaultState.enabled&&(i.forEach(a=>{this.settings[a]!==this.defaultState.settings[a]&&(e[a]=this.settings[a])}),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},this.setConfigSettings(t)}}class ui{constructor(t){this.defaultState={enabled:!0,tools:[],settings:{knightLShape:!1,onlyChessMove:!1}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.knightLShape!==void 0&&(this.settings.knightLShape=e.knightLShape),e.onlyChessMove!==void 0&&(this.settings.onlyChessMove=e.onlyChessMove)))},this.getConfig=()=>{const e={};if(this.enabled&&this.defaultState.enabled&&(this.settings.knightLShape!==this.defaultState.settings.knightLShape&&(e.knightLShape=this.settings.knightLShape),this.settings.onlyChessMove!==this.defaultState.settings.onlyChessMove&&(e.onlyChessMove=this.settings.onlyChessMove),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.tools=JSON.parse(JSON.stringify(this.defaultState.tools)),this.settings={knightLShape:this.defaultState.settings.knightLShape,onlyChessMove:this.defaultState.settings.onlyChessMove},this.setConfigSettings(t)}}class fi{constructor(t){this.defaultState={enabled:!0,settings:{MOVE:!0,CAPTURE:!0,CASTLE:!0,UNDO:!0}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.CAPTURE!==void 0&&(this.settings.CAPTURE=e.CAPTURE),e.CASTLE!==void 0&&(this.settings.CASTLE=e.CASTLE),e.MOVE!==void 0&&(this.settings.MOVE=e.MOVE),e.UNDO!==void 0&&(this.settings.UNDO=e.UNDO)))},this.getConfig=()=>{const e={};if(this.enabled&&this.defaultState.enabled&&(this.settings.MOVE!==this.defaultState.settings.MOVE&&(e.MOVE=this.settings.MOVE),this.settings.CAPTURE!==this.defaultState.settings.CAPTURE&&(e.CAPTURE=this.settings.CAPTURE),this.settings.CASTLE!==this.defaultState.settings.CASTLE&&(e.CASTLE=this.settings.CASTLE),this.settings.UNDO!==this.defaultState.settings.UNDO&&(e.UNDO=this.settings.UNDO),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.CAPTURE!==void 0&&(this.settings.CAPTURE=t.CAPTURE),t.CASTLE!==void 0&&(this.settings.CASTLE=t.CASTLE),t.MOVE!==void 0&&(this.settings.MOVE=t.MOVE),t.UNDO!==void 0&&(this.settings.UNDO=t.UNDO)))}}class di{constructor(t){this.defaultState={getLegalMoves:void 0,getPreMoves:void 0,beforeMove:void 0,afterMove:void 0,getLastMove:void 0,getInCheck:void 0,getWhiteToMove:void 0},this.setConfigSettings=e=>{e!==void 0&&(e.getLegalMoves&&(this.getLegalMoves=e.getLegalMoves),e.getPreMoves&&(this.getPreMoves=e.getPreMoves),e.beforeMove&&(this.beforeMove=e.beforeMove),e.afterMove&&(this.afterMove=e.afterMove),e.getLastMove&&(this.getLastMove=e.getLastMove),e.getInCheck&&(this.getInCheck=e.getInCheck),e.getWhiteToMove&&(this.getWhiteToMove=e.getWhiteToMove))},this.getConfig=()=>{const e={...this.getLegalMoves&&{getLegalMoves:this.getLegalMoves},...this.getPreMoves&&{getPreMoves:this.getPreMoves},...this.beforeMove&&{beforeMove:this.beforeMove},...this.afterMove&&{afterMove:this.afterMove},...this.getLastMove&&{getLastMove:this.getLastMove},...this.getInCheck&&{getInCheck:this.getInCheck},...this.getWhiteToMove&&{getWhiteToMove:this.getWhiteToMove}};return Object.keys(e).length>0?e:void 0},this.getLegalMoves=this.defaultState.getLegalMoves,this.getPreMoves=this.defaultState.getPreMoves,this.beforeMove=this.defaultState.beforeMove,this.afterMove=this.defaultState.afterMove,this.getLastMove=this.defaultState.getLastMove,this.getInCheck=this.defaultState.getInCheck,this.getWhiteToMove=this.defaultState.getWhiteToMove,this.setConfigSettings(t)}}const mn="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class _n{constructor(t){this.getConfig=()=>({board:this.board.getConfig(),movable:this.movable.getConfig(),draggable:this.draggable.getConfig(),selectable:this.selectable.getConfig(),legal:this.legal.getConfig(),...this.legal.enabled&&{callbacks:this.callbacks.getConfig()},highlight:this.highlight.getConfig(),drawTools:this.drawTools.getConfig(),sounds:this.sounds.getConfig()}),this.pieces=[],this.markedSquares=new Set,this.board=new ni(t==null?void 0:t.board),this.movable=new ii(t==null?void 0:t.movable),this.draggable=new ai(t==null?void 0:t.draggable),this.selectable=new ri(t==null?void 0:t.selectable),this.legal=new li(t==null?void 0:t.legal),this.callbacks=new di(t==null?void 0:t.callbacks),this.highlight=new oi(t==null?void 0:t.highlight),this.drawTools=new ui(t==null?void 0:t.drawTools),this.sounds=new fi(t==null?void 0:t.sounds)}setConfigSettings(t){this.board.setConfigSettings(t.board),this.movable.setConfigSettings(t.movable),this.draggable.setConfigSettings(t.draggable),this.selectable.setConfigSettings(t.selectable),this.legal.setConfigSettings(t.legal),this.callbacks.setConfigSettings(t.callbacks),this.highlight.setConfigSettings(t.highlight),this.drawTools.setConfigSettings(t.drawTools),this.sounds.setConfigSettings(t.sounds)}}const ci=["a","b","c","d","e","f","g","h"],hi=["8","7","6","5","4","3","2","1"];function It(s){return{x:ci.indexOf(s[0]),y:hi.indexOf(s[1])}}function jt(s){return s.charCodeAt(0)-97}function gi(s){return 8-parseInt(s,10)}const bi=s=>{let t="",e=0;for(let i=0;i<s.length;i++){i!==0&&(t+="/");for(let a=0;a<s[i].length;a++){const n=s[i][a];n!=null&&e===0?n[0]==="w"?t+=n[1]:t+=n[1].toLowerCase():n!=null&&e!==0?(t+=e.toString(),e=0,n[0]==="w"?t+=n[1]:t+=n[1].toLowerCase()):e++}e!==0&&(t+=e.toString(),e=0)}return t},pi="8/8/8/8/8/8/8/8 w - - 0 1";class mi{constructor(t){this.letters={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},this.changeLegalHoverIfNeeded=e=>{e.color!==J.LEGAL&&e.color!==J.PREMOVE||this.state.pieces.forEach(i=>{i.square===e.square&&(e.color=e.color===J.LEGAL?J.LEGALHOVER:J.PREMOVEHOVER)})},this.highlightSquare=(e,i)=>{const a={square:e,color:i};this.state.markedSquares.forEach(n=>{n.square===e&&n.color!==J.MOVE&&n.color!==J.CHECK&&this.state.markedSquares.delete(n)}),this.changeLegalHoverIfNeeded(a),this.state.markedSquares.add(a)},this.legalHover=e=>{this.state.markedSquares.forEach(i=>{if(i.square===e&&i.color===J.LEGAL)i.color=J.LEGALHOVER;else if(i.square!==e&&i.color===J.LEGALHOVER){let a=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(a=!0)}),a||(i.color=J.LEGAL)}})},this.preMoveHover=e=>{this.state.markedSquares.forEach(i=>{if(i.square===e&&i.color===J.PREMOVE)i.color=J.PREMOVEHOVER;else if(i.square!==e&&i.color===J.PREMOVEHOVER){let a=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(a=!0)}),a||(i.color=J.PREMOVE)}})},this.toggleSquareHighlight=(e,i)=>{const a={square:e,color:i};let n=!1;return this.state.markedSquares.forEach(r=>{r.square===e&&(this.state.markedSquares.delete(r),r.color===i&&(n=!0))}),this.changeLegalHoverIfNeeded(a),n?!0:(this.state.markedSquares.add(a),!1)},this.getSelectedSquare=()=>{let e="";return this.state.markedSquares.forEach(i=>{i.color===J.SELECT&&(e=i.square)}),e},this.clearSquare=(e,i)=>{e.length===2&&this.state.markedSquares.forEach(a=>{a.square===e&&(a.color===i||i===void 0)&&this.state.markedSquares.delete(a)})},this.clearAllSquares=e=>{e===void 0?this.state.markedSquares.clear():this.state.markedSquares.forEach(i=>{i.color===e&&this.state.markedSquares.delete(i)})},this.setPiece=(e,i)=>{if(this.notValidThing({square:e,piece:i}))return;const a=this.state.pieces.find(n=>n.square===e);a?a.name=i:this.state.pieces.push({square:e,name:i})},this.removePiece=e=>{this.notValidThing({square:e})||this.state.pieces.forEach((i,a)=>{i.square===e&&this.state.pieces.splice(a,1)})},this.clearAllPieces=()=>{this.state.pieces.length=0},this.getGridCoordsFromSquare=e=>{if(this.notValidThing({square:e}))return{x:0,y:0};const i=e[0],a=e[1],n=this.state.board.flipped?Math.abs(this.letters[i]-7):this.letters[i],r=this.state.board.flipped?Math.abs(parseInt(a,10)-8):parseInt(a,10)-1;return typeof n!="number"||r<0||r>7?{x:0,y:0}:{x:n,y:r}},this.makeMove=e=>{if(this.notValidThing({move:e}))return;let i=!1,a;const n=e.substring(0,2),r=e.substring(2,4),o=e.substring(4);this.state.pieces.forEach(l=>{l.square===r&&(a=l,this.removePiece(l.square))}),this.state.pieces.forEach(l=>{l.square===n&&(l.square=r,i=!0,o&&(l.name=l.name[0]+o.toUpperCase()))}),i?this.state.legal.lastMove=e:a&&this.state.pieces.push(a)},this.getSquareFromIndices=(e,i)=>`${Object.keys(this.letters)[e]}${(i+1).toString()}`,this.updatePiecesWithFen=e=>{const i=[...Array(8)].map(()=>Array(8).fill(null)),a=["1","2","3","4","5","6","7","8"];let n=0,r=0;for(let u=0;u<(e.includes(" ")?e.indexOf(" "):e.length);u++)if(e[u]==="/")n++,r=0;else if(!a.includes(e[u]))e[u]===e[u].toUpperCase()?i[n][r]=`w${e[u]}`:i[n][r]=`b${e[u].toUpperCase()}`,r++;else for(let f=0;f<parseInt(e[u],10);f++)i[n][r]=null,r++;const o=[],l=[];for(let u=0;u<i.length;++u)for(let f=0;f<i.length;++f){const b=i[u][f],p=this.getPieceFromSquare(this.getSquareFromIndices(f,Math.abs(u-7)));b&&!p&&o.push({square:this.getSquareFromIndices(f,Math.abs(u-7)),name:b}),!b&&p&&l.push(p),b&&p&&b!==p.name&&(o.push({square:this.getSquareFromIndices(f,Math.abs(u-7)),name:b}),l.push(p))}for(let u=0;u<l.length;u++)for(let f=0;f<o.length;f++)!o[f]||!l[u]||o[f].name===l[u].name&&(l[u].square=o[f].square,l.splice(u,1),u--,o.splice(f,1),f--);o.forEach(u=>{this.state.pieces.push(u)}),l.forEach(u=>{this.state.pieces.splice(this.state.pieces.indexOf(u),1)})},this.notValidThing=e=>{const{square:i,piece:a,move:n}=e;return!!(i&&i.length!==2||a&&a.length!==2||n&&n.length!==4&&n.length!==5)},this.setGhostPiece=e=>{this.state.draggable.ghostPiece.piece=e},this.removeGhostPiece=()=>{this.state.draggable.ghostPiece.piece=void 0},this.isCastling=e=>{switch(e){case"e1g1":case"e1c1":case"e8g8":case"e8c8":return!0;default:return!1}},this.getRookMoveIfIsCastling=e=>{switch(e){case"e1g1":return"h1f1";case"e1c1":return"a1d1";case"e8g8":return"h8f8";case"e8c8":return"a8d8";default:return}},this.isEnPassant=e=>{if(e[0]===e[2]||this.getPieceFromSquare(e.substring(2,4)))return!1;const i=this.getPieceFromSquare(e.substring(0,2));return!(i===void 0||i.name!=="wP"&&i.name!=="bP")},this.getCapturedPawnSquareIfIsEnPassant=e=>{if(e[0]===e[2]||this.getPieceFromSquare(e.substring(2,4)))return;const i=this.getPieceFromSquare(e.substring(0,2));if(i===void 0||i.name!=="wP"&&i.name!=="bP")return;const a=this.getPieceFromSquare(`${e[2]}${(parseInt(e[3],10)+(i.name==="wP"?-1:1)).toString()}`);return a==null?void 0:a.square},this.isCapture=e=>!!this.getPieceFromSquare(e.substring(2,4)),this.isPromotion=e=>{if((e[1]!=="7"||e[3]!=="8")&&(e[1]!=="2"||e[3]!=="1"))return!1;const i=this.getPieceFromSquare(e.substring(0,2));return!(i&&(i.name[1]!=="P"||i.name[0]==="w"&&e[3]==="1"||i.name[0]==="b"&&e[3]==="8"))},this.callbackExists=e=>this.state.callbacks[e]!==void 0,this.flipBoard=e=>{e!==void 0?this.state.board.flipped=e:this.state.board.flipped=!this.state.board.flipped},this.setConfigSettings=e=>{this.state.setConfigSettings(e)},this.state=new _n(t),this.state.board.startFen&&this.updatePiecesWithFen(this.state.board.startFen)}getWhiteKingSquare(){const t=this.state.pieces.find(e=>e.name==="wK");if(t)return t.square}getBlackKingSquare(){const t=this.state.pieces.find(e=>e.name==="bK");if(t)return t.square}getShortFEN(){if(this.state.pieces.length===0)return pi;const t=[...Array(8)].map(()=>Array(8).fill(null));return this.state.pieces.forEach(e=>{t[gi(e.square[1])][jt(e.square[0])]=e.name}),bi(t)}getPieceFromSquare(t){let e;return this.state.pieces.forEach(i=>{i.square===t&&(e=i)}),e}}const _i={[J.LEGAL]:"legalSQ cursor-pointer",[J.LEGALHOVER]:"legalSQ_hover cursor-pointer",[J.SELECT]:"selectedSQ",[J.MOVE]:"highlightMove",[J.NEXTMOVE]:"nextMoveSQ",[J.PREMOVE]:"preMoveSQ cursor-pointer",[J.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[J.CHECK]:"checkSQ"},vi={white:"#f0d9b5",black:"#b58863"},Ei="standard.svg",ki={[J.LEGAL]:"legalSQ cursor-pointer",[J.LEGALHOVER]:"legalSQ_hover cursor-pointer",[J.SELECT]:"selectedSQ-darkBlue",[J.MOVE]:"highlightMove-darkBlue",[J.NEXTMOVE]:"nextMoveSQ",[J.PREMOVE]:"preMoveSQ cursor-pointer",[J.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[J.CHECK]:"checkSQ"},wi={white:"#94A3B8",black:"#475569"},Mi="darkBlue.svg",je={squareStyles:{standard:_i,darkBlue:ki},colors:{standard:vi,darkBlue:wi},imageName:{standard:Ei,darkBlue:Mi}};function ds(s,t,e){const i=s.slice();return i[3]=t[e],i[5]=e,i}function cs(s,t,e){const i=s.slice();return i[3]=t[e],i[5]=e,i}function hs(s){let t,e=s[2][s[1]?Math.abs(s[5]-7):s[5]]+"",i,a;return{c(){t=U("span"),i=me(e),a=te(),this.h()},l(n){t=H(n,"SPAN",{"data-file":!0,style:!0,class:!0});var r=j(t);i=_e(r,e),a=se(r),r.forEach(v),this.h()},h(){c(t,"data-file",s[3]),Se(t,"color",s[5]%2===0?je.colors[s[0]].white:je.colors[s[0]].black),c(t,"class","svelte-1hixjwp")},m(n,r){Z(n,t,r),A(t,i),A(t,a)},p(n,r){r&2&&e!==(e=n[2][n[1]?Math.abs(n[5]-7):n[5]]+"")&&Nt(i,e),r&1&&Se(t,"color",n[5]%2===0?je.colors[n[0]].white:je.colors[n[0]].black)},d(n){n&&v(t)}}}function gs(s){let t,e=(s[1]?s[5]+1:Math.abs(s[5]-8))+"",i,a,n;return{c(){t=U("span"),i=me(e),a=te(),this.h()},l(r){t=H(r,"SPAN",{"data-file":!0,style:!0,class:!0});var o=j(t);i=_e(o,e),a=se(o),o.forEach(v),this.h()},h(){c(t,"data-file",s[3]),c(t,"style",n="color: "+(s[5]%2===0?je.colors[s[0]].white:je.colors[s[0]].black)+";"+(s[1]?" text-align: right;":"")),c(t,"class","svelte-1hixjwp")},m(r,o){Z(r,t,o),A(t,i),A(t,a)},p(r,o){o&2&&e!==(e=(r[1]?r[5]+1:Math.abs(r[5]-8))+"")&&Nt(i,e),o&3&&n!==(n="color: "+(r[5]%2===0?je.colors[r[0]].white:je.colors[r[0]].black)+";"+(r[1]?" text-align: right;":""))&&c(t,"style",n)},d(r){r&&v(t)}}}function Si(s){let t,e,i,a=s[2],n=[];for(let l=0;l<a.length;l+=1)n[l]=hs(cs(s,a,l));let r=s[2],o=[];for(let l=0;l<r.length;l+=1)o[l]=gs(ds(s,r,l));return{c(){t=U("div");for(let l=0;l<n.length;l+=1)n[l].c();e=te(),i=U("div");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){t=H(l,"DIV",{class:!0});var u=j(t);for(let b=0;b<n.length;b+=1)n[b].l(u);u.forEach(v),e=se(l),i=H(l,"DIV",{class:!0});var f=j(i);for(let b=0;b<o.length;b+=1)o[b].l(f);f.forEach(v),this.h()},h(){c(t,"class","files noselect svelte-1hixjwp"),c(i,"class","ranks noselect svelte-1hixjwp")},m(l,u){Z(l,t,u);for(let f=0;f<n.length;f+=1)n[f].m(t,null);Z(l,e,u),Z(l,i,u);for(let f=0;f<o.length;f+=1)o[f].m(i,null)},p(l,[u]){if(u&7){a=l[2];let f;for(f=0;f<a.length;f+=1){const b=cs(l,a,f);n[f]?n[f].p(b,u):(n[f]=hs(b),n[f].c(),n[f].m(t,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=a.length}if(u&7){r=l[2];let f;for(f=0;f<r.length;f+=1){const b=ds(l,r,f);o[f]?o[f].p(b,u):(o[f]=gs(b),o[f].c(),o[f].m(i,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=r.length}},i:Ae,o:Ae,d(l){l&&v(t),lt(n,l),l&&v(e),l&&v(i),lt(o,l)}}}function yi(s,t,e){let{theme:i}=t,{flipped:a}=t;const n=["a","b","c","d","e","f","g","h"];return s.$$set=r=>{"theme"in r&&e(0,i=r.theme),"flipped"in r&&e(1,a=r.flipped)},[i,a,n]}class Ci extends Oe{constructor(t){super(),Ie(this,t,yi,Si,Fe,{theme:0,flipped:1})}}function Ai(s){const t=2.5949095;return(s*=2)<1?.5*(s*s*((t+1)*s-t)):.5*((s-=2)*s*((t+1)*s+t)+2)}function Ti(s){return s*s*((1.70158+1)*s-1.70158)}function Pi(s){return--s*s*((1.70158+1)*s+1.70158)+1}function qt(s){const t=.36363636363636365,e=8/11,i=9/10,a=4356/361,n=35442/1805,r=16061/1805,o=s*s;return s<t?7.5625*o:s<e?9.075*o-9.9*s+3.4:s<i?a*o-n*s+r:10.8*s*s-20.52*s+10.72}function Li(s){return s<.5?.5*(1-qt(1-s*2)):.5*qt(s*2-1)+.5}function Oi(s){return 1-qt(1-s)}function Ii(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)}function Fi(s){return 1-Math.sqrt(1-s*s)}function qi(s){return Math.sqrt(1- --s*s)}function Ri(s){return s<.5?4*s*s*s:.5*Math.pow(2*s-2,3)+1}function Ni(s){return s*s*s}function ss(s){const t=s-1;return t*t*t+1}function Di(s){return s<.5?.5*Math.sin(13*Math.PI/2*2*s)*Math.pow(2,10*(2*s-1)):.5*Math.sin(-13*Math.PI/2*(2*s-1+1))*Math.pow(2,-10*(2*s-1))+1}function Bi(s){return Math.sin(13*s*Math.PI/2)*Math.pow(2,10*(s-1))}function Ui(s){return Math.sin(-13*(s+1)*Math.PI/2)*Math.pow(2,-10*s)+1}function Hi(s){return s===0||s===1?s:s<.5?.5*Math.pow(2,20*s-10):-.5*Math.pow(2,10-s*20)+1}function Vi(s){return s===0?s:Math.pow(2,10*(s-1))}function Wi(s){return s===1?s:1-Math.pow(2,-10*s)}function Ki(s){return s/=.5,s<1?.5*s*s:(s--,-.5*(s*(s-2)-1))}function zi(s){return s*s}function ji(s){return-s*(s-2)}function Gi(s){return s<.5?8*Math.pow(s,4):-8*Math.pow(s-1,4)+1}function Qi(s){return Math.pow(s,4)}function Xi(s){return Math.pow(s-1,3)*(1-s)+1}function Yi(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)}function Zi(s){return s*s*s*s*s}function Ji(s){return--s*s*s*s*s+1}function xi(s){return-.5*(Math.cos(Math.PI*s)-1)}function $i(s){const t=Math.cos(s*Math.PI*.5);return Math.abs(t)<1e-14?1:1-t}function ea(s){return Math.sin(s*Math.PI/2)}const Rt=Object.freeze(Object.defineProperty({__proto__:null,backIn:Ti,backInOut:Ai,backOut:Pi,bounceIn:Oi,bounceInOut:Li,bounceOut:qt,circIn:Fi,circInOut:Ii,circOut:qi,cubicIn:Ni,cubicInOut:Ri,cubicOut:ss,elasticIn:Bi,elasticInOut:Di,elasticOut:Ui,expoIn:Vi,expoInOut:Hi,expoOut:Wi,quadIn:zi,quadInOut:Ki,quadOut:ji,quartIn:Qi,quartInOut:Gi,quartOut:Xi,quintIn:Zi,quintInOut:Yi,quintOut:Ji,sineIn:$i,sineInOut:xi,sineOut:ea,linear:fn},Symbol.toStringTag,{value:"Module"}));function bs(s){return Object.prototype.toString.call(s)==="[object Date]"}function Gt(s,t){if(s===t||s!==s)return()=>s;const e=typeof s;if(e!==typeof t||Array.isArray(s)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(s)){const i=t.map((a,n)=>Gt(s[n],a));return a=>i.map(n=>n(a))}if(e==="object"){if(!s||!t)throw new Error("Object cannot be null");if(bs(s)&&bs(t)){s=s.getTime(),t=t.getTime();const n=t-s;return r=>new Date(s+r*n)}const i=Object.keys(t),a={};return i.forEach(n=>{a[n]=Gt(s[n],t[n])}),n=>{const r={};return i.forEach(o=>{r[o]=a[o](n)}),r}}if(e==="number"){const i=t-s;return a=>s+a*i}throw new Error(`Cannot interpolate ${e} values`)}function ta(s,t={}){const e=Zn(s);let i,a=s;function n(r,o){if(s==null)return e.set(s=r),Promise.resolve();a=r;let l=i,u=!1,{delay:f=0,duration:b=400,easing:p=fn,interpolate:S=Gt}=Ft(Ft({},t),o);if(b===0)return l&&(l.abort(),l=null),e.set(s=a),Promise.resolve();const F=Vn()+f;let O;return i=Wn(m=>{if(m<F)return!0;u||(O=S(s,r),typeof b=="function"&&(b=b(s,r)),u=!0),l&&(l.abort(),l=null);const y=m-F;return y>b?(e.set(s=r),!1):(e.set(s=O(p(y/b))),!0)}),i.promise}return{set:n,update:(r,o)=>n(r(a,s),o),subscribe:e.subscribe}}function ps(s,t,e,i){if(t===0&&e===0)return s;const a=["a","b","c","d","e","f","g","h"],n=["8","7","6","5","4","3","2","1"],r=a[i?7-a.indexOf(s[0])-t:a.indexOf(s[0])+t],o=n[i?7-n.indexOf(s[1])-e:n.indexOf(s[1])+e];if(!(!r||!o))return`${r}${o}`}function ms(s,t,e){const i=t*1.15,a=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","circle");return a.setAttribute("width",(s.offsetWidth*i).toString()),a.setAttribute("height",(s.offsetHeight*i).toString()),a.style.position="absolute",a.style.zIndex="100",a.style.translate=`${e?"":"-"}${25*i/2}% -${25*i/2}%`,a.style.opacity="0.2",n.setAttribute("r",(s.offsetWidth*i/2).toString()),n.setAttribute("cx",(s.offsetWidth*i/2).toString()),n.setAttribute("cy",(s.offsetHeight*i/2).toString()),n.setAttribute("fill","black"),a.appendChild(n),a}function sa(s,t){let e;function i(_,L=1e3){let D=!1;const R=()=>{e==null?D=!1:(_(...e),e=null,setTimeout(R,L))};return(...I)=>{if(D){e=I;return}_(...I),D=!0,setTimeout(R,L)}}let a,n,r,o,l,u,f,b,p=!1,S;const F=s.parentNode;let O,m=!1,{startSquare:y,boardFlipped:d,onlyShow:h,duration:E,easingFunc:T}=t;const{coords:P}=t;s.style.cursor=h?"default":"pointer";let z=rs(P).x,W=rs(P).y;const K=1.6;let G=ms(s,K,d);s.draggable=!1;function V(_){const L=_.clientX-a,D=_.clientY-n;if(a=_.clientX,n=_.clientY,l+=L,u+=D,p||(Math.abs(l)>1||Math.abs(u)>1)&&(P.update(R=>({x:R.x+(a-s.offsetWidth/2-s.getBoundingClientRect().x)/s.clientWidth,y:_.pointerType==="touch"?R.y-(n-s.offsetHeight*1.5-s.getBoundingClientRect().y)/s.clientWidth:R.y-(n-s.offsetHeight/2-s.getBoundingClientRect().y)/s.clientWidth,scale:_.pointerType==="touch"?K:1}),{duration:E,easing:T}),p=!0,s.style.zIndex="30",s.style.cursor="grabbing",s.dispatchEvent(new CustomEvent("startMoving"))),!!p){if(_.pointerType==="touch"){const R=Math.floor((l+r)/s.offsetWidth),I=Math.floor((u+o)/s.offsetHeight),q=ps(y,R,I,d);if(q){if(q!==O){const w=It(q);G.style.left=`${w.x*12.5}%`,G.style.top=`${w.y*12.5}%`,F.appendChild(G)}}else O&&(O=void 0)}P.update(R=>({x:R.x+L/s.clientWidth,y:R.y-D/s.clientWidth,scale:_.pointerType==="touch"?K:1}),{duration:0}),s.dispatchEvent(new CustomEvent("moving",{detail:{x:a,y:n}}))}}const X=i(V,10);function he(){const _=window.scrollX-f,L=window.scrollY-b;f=window.scrollX,b=window.scrollY,P.update(D=>({x:D.x+_,y:D.y+L,scale:1}),{duration:0})}function N(){window.removeEventListener("pointermove",X),window.removeEventListener("pointerup",N),window.removeEventListener("pointercancel",N),document.body.removeEventListener("pointerleave",N),window.removeEventListener("scroll",he),e=null;const _=Math.floor((l+r)/s.offsetWidth),L=Math.floor((u+o)/s.offsetHeight),D=ps(y,_,L,d);m=!1,s.dispatchEvent(new CustomEvent("dropped",{detail:D})),P.update(()=>({x:z,y:W,scale:1}),{duration:E,easing:T}).then(()=>{m||s.dispatchEvent(new CustomEvent("animationEnded")),m||(s.style.zIndex="2")}),a=0,n=0,l=0,u=0,s.style.cursor=h?"default":"pointer",setTimeout(()=>{m||(s.style.zIndex="2")},E),p=!1,G.remove()}function g(_){if(_.button!==0||!_.isPrimary)return;z=d?7-jt(y[0]):jt(y[0]),W=d?8-parseInt(y[1],10):parseInt(y[1],10)-1,O=y;const L=_.target.getBoundingClientRect();_.pointerType==="touch"?(a=_.clientX,n=_.clientY,r=_.clientX-L.x,o=_.clientY-L.y):(a=_.clientX,n=_.clientY,r=_.offsetX,o=_.offsetY),l=0,u=0,f=window.scrollX,b=window.scrollY,m=!0,s.dispatchEvent(new CustomEvent("clicked")),window.addEventListener("pointermove",X),window.addEventListener("pointerup",N),window.addEventListener("pointercancel",N),document.body.addEventListener("pointerleave",N),window.addEventListener("scroll",he)}function M(_){_.preventDefault()}function C(_){_.preventDefault()}return s.addEventListener("contextmenu",M),s.addEventListener("dragstart",C),h||s.addEventListener("pointerdown",g),{destroy(){s.removeEventListener("pointerdown",g),s.removeEventListener("contextmenu",M),s.removeEventListener("dragstart",C),window.clearTimeout(S)},update(_){y=_.startSquare,E=_.duration,T=_.easingFunc,_.onlyShow!==h&&(h=_.onlyShow,h?(s.removeEventListener("pointerdown",g),s.style.cursor="default"):(s.addEventListener("pointerdown",g),s.style.cursor="pointer")),d!==_.boardFlipped&&(G=ms(s,K,_.boardFlipped)),d=_.boardFlipped}}}const _s=""+new URL("../../assets/wP-f78bae6c.svg",import.meta.url).href,na=""+new URL("../../assets/wR-5eb92d73.svg",import.meta.url).href,ia=""+new URL("../../assets/wN-a4c975a2.svg",import.meta.url).href,aa=""+new URL("../../assets/wB-1ff2f149.svg",import.meta.url).href,ra=""+new URL("../../assets/wQ-8568b485.svg",import.meta.url).href,la=""+new URL("../../assets/wK-4cdf6dc9.svg",import.meta.url).href,oa=""+new URL("../../assets/bP-84e521e8.svg",import.meta.url).href,ua=""+new URL("../../assets/bR-e39efb08.svg",import.meta.url).href,fa=""+new URL("../../assets/bN-d3912d91.svg",import.meta.url).href,da=""+new URL("../../assets/bB-c430b746.svg",import.meta.url).href,ca=""+new URL("../../assets/bQ-c7b9a43e.svg",import.meta.url).href,ha=""+new URL("../../assets/bK-3500a2e6.svg",import.meta.url).href;function Qt(s){switch(s){case"wP":return _s;case"wR":return na;case"wN":return ia;case"wB":return aa;case"wQ":return ra;case"wK":return la;case"bP":return oa;case"bR":return ua;case"bN":return fa;case"bB":return da;case"bQ":return ca;case"bK":return ha;default:return _s}}function ga(s){let t,e,i,a,n;return{c(){t=U("img"),this.h()},l(r){t=H(r,"IMG",{style:!0,class:!0,src:!0,alt:!0}),this.h()},h(){Se(t,"left",s[7].x*12.5+"%"),Se(t,"bottom",s[7].y*12.5+"%"),Se(t,"scale",s[7].scale),Se(t,"z-Index",s[3]?0:s[6]),Se(t,"opacity",s[3]?.3:1),Se(t,"cursor","pointer"),c(t,"class","noselect svelte-1g241z"),ct(t.src,e=Qt(s[1]))||c(t,"src",e),c(t,"alt",s[1])},m(r,o){var l,u,f;Z(r,t,o),a||(n=[Jt(i=sa.call(null,t,{startSquare:s[0],onlyShow:!s[11](s[5]),boardFlipped:s[2],duration:(l=s[4])!=null&&l.transition.enabled?s[4].transition.settings.duration:0,easingFunc:Rt[(f=(u=s[4])==null?void 0:u.transition.settings.easing)!=null?f:"cubicInOut"],coords:s[9]})),de(t,"dropped",s[10]),de(t,"clicked",s[15]),de(t,"startMoving",s[16]),de(t,"animationEnded",s[17]),de(t,"moving",s[18])],a=!0)},p(r,[o]){var l,u,f;o&128&&Se(t,"left",r[7].x*12.5+"%"),o&128&&Se(t,"bottom",r[7].y*12.5+"%"),o&128&&Se(t,"scale",r[7].scale),o&72&&Se(t,"z-Index",r[3]?0:r[6]),o&8&&Se(t,"opacity",r[3]?.3:1),o&2&&!ct(t.src,e=Qt(r[1]))&&c(t,"src",e),o&2&&c(t,"alt",r[1]),i&&xt(i.update)&&o&53&&i.update.call(null,{startSquare:r[0],onlyShow:!r[11](r[5]),boardFlipped:r[2],duration:(l=r[4])!=null&&l.transition.enabled?r[4].transition.settings.duration:0,easingFunc:Rt[(f=(u=r[4])==null?void 0:u.transition.settings.easing)!=null?f:"cubicInOut"],coords:r[9]})},i:Ae,o:Ae,d(r){r&&v(t),a=!1,Ye(n)}}}function ba(s,t,e){var X,he;let i,a,{square:n}=t,{name:r}=t,{getGridCoordsFromSquare:o}=t,{flipped:l}=t,{isGhost:u=!1}=t,{draggableState:f=void 0}=t,{legalState:b=void 0}=t,{movableState:p=void 0}=t,{selectedPiece:S=void 0}=t,F=!1;const O=$t();let m=(X=f==null?void 0:f.transition)!=null&&X.enabled?f.transition.settings.duration:0;const y=ta({x:0,y:0,scale:1},{duration:m,easing:Rt[(he=f==null?void 0:f.transition.settings.easing)!=null?he:"cubicInOut"]});Kn(s,y,N=>e(7,a=N));let d=!1;const h=N=>N[0]==="w"?fe.WHITE:fe.BLACK,E=N=>{var M;const g=o(N);y.update(()=>({x:g.x,y:g.y,scale:1}),{duration:d?m:0,easing:Rt[(M=f==null?void 0:f.transition.settings.easing)!=null?M:"cubicInOut"]}),d||(d=!0),m=f!=null&&f.transition.enabled?f.transition.settings.duration:0},T=N=>{m=0,N.detail||O("deselect"),n===N.detail?(O(F?"deselect":"select"),F=!F):F=!1,O("endDragging",n+N.detail),n!==N.detail&&N.detail&&O("move",n+N.detail)},P=N=>N!=null&&N.enabled?b!=null&&b.enabled?!!(b.preMoves.enabled&&h(r)===N.color||N.color===fe.WHITE&&b.whiteToMove&&h(r)===fe.WHITE||N.color===fe.BLACK&&!b.whiteToMove&&h(r)===fe.BLACK||N.color===fe.BOTH&&(h(r)===fe.WHITE&&b.whiteToMove||h(r)===fe.BLACK&&!b.whiteToMove)):N.color===h(r)||N.color===fe.BOTH:!1,z=N=>N===void 0||N.name!==r||N.square!==n;function W(N){xe.call(this,s,N)}function K(N){xe.call(this,s,N)}function G(N){xe.call(this,s,N)}const V=N=>{O("moving",N.detail)};return s.$$set=N=>{"square"in N&&e(0,n=N.square),"name"in N&&e(1,r=N.name),"getGridCoordsFromSquare"in N&&e(12,o=N.getGridCoordsFromSquare),"flipped"in N&&e(2,l=N.flipped),"isGhost"in N&&e(3,u=N.isGhost),"draggableState"in N&&e(4,f=N.draggableState),"legalState"in N&&e(13,b=N.legalState),"movableState"in N&&e(5,p=N.movableState),"selectedPiece"in N&&e(14,S=N.selectedPiece)},s.$$.update=()=>{s.$$.dirty&16384&&z(S)&&(F=!1),s.$$.dirty&5&&E(n),s.$$.dirty&32&&e(6,i=typeof p=="boolean"?p?2:1:p!=null&&p.enabled?2:1)},[n,r,l,u,f,p,i,a,O,y,T,P,o,b,S,W,K,G,V]}class vn extends Oe{constructor(t){super(),Ie(this,t,ba,ga,Fe,{square:0,name:1,getGridCoordsFromSquare:12,flipped:2,isGhost:3,draggableState:4,legalState:13,movableState:5,selectedPiece:14})}}function pa(s){let t,e;return{c(){t=U("div"),this.h()},l(i){t=H(i,"DIV",{style:!0,class:!0}),j(t).forEach(v),this.h()},h(){Se(t,"left",s[2]*12.5+"%"),Se(t,"bottom",s[3]*12.5+"%"),c(t,"class",e="noselect "+je.squareStyles[s[1]][s[0]]+" svelte-10vytug")},m(i,a){Z(i,t,a)},p(i,[a]){a&4&&Se(t,"left",i[2]*12.5+"%"),a&8&&Se(t,"bottom",i[3]*12.5+"%"),a&3&&e!==(e="noselect "+je.squareStyles[i[1]][i[0]]+" svelte-10vytug")&&c(t,"class",e)},i:Ae,o:Ae,d(i){i&&v(t)}}}function ma(s,t,e){let{square:i}=t,{color:a}=t,{getGridCoordsFromSquare:n}=t,{flipped:r}=t,{theme:o}=t,l,u;const f=()=>{const b=n(i);e(2,l=b.x),e(3,u=b.y)};return s.$$set=b=>{"square"in b&&e(4,i=b.square),"color"in b&&e(0,a=b.color),"getGridCoordsFromSquare"in b&&e(5,n=b.getGridCoordsFromSquare),"flipped"in b&&e(6,r=b.flipped),"theme"in b&&e(1,o=b.theme)},s.$$.update=()=>{s.$$.dirty&64&&f()},[a,o,l,u,i,n,r]}class _a extends Oe{constructor(t){super(),Ie(this,t,ma,pa,Fe,{square:4,color:0,getGridCoordsFromSquare:5,flipped:6,theme:1})}}const va=["a","b","c","d","e","f","g","h"],Ea=["8","7","6","5","4","3","2","1"];function ka(s){s.querySelectorAll("[sf]").forEach(t=>t.remove())}function Xt(s){return`${va[s.x]}${Ea[s.y]}`}function En(s,t){return Math.abs((s.x-t.x)*(s.y-t.y))===2}function Yt(s,t){return`${Xt(s)}${Xt(t)}`}function wa(s,t){return!!(En(s,t)||Math.abs(s.x-t.x)===Math.abs(s.y-t.y)||s.x===t.x!=(s.y===t.y))}function kn(s,t,e,i,a,n){let r={x:-1,y:-1},o,l;En(t,e)&&i?(Math.abs(e.x-t.x)===2?r={x:e.x,y:t.y}:r={x:t.x,y:e.y},r.y-t.y<0?l=Math.PI+Math.atan((r.x-t.x)/(r.y-t.y)):l=Math.atan((r.x-t.x)/Math.abs(r.y-t.y)),o={x:e.x-Math.sign(e.x-r.x)*(r.x!==e.x?.4:0),y:e.y-Math.sign(e.y-r.y)*(r.y!==e.y?.4:0)}):(e.y-t.y<0?l=Math.PI+Math.atan((e.x-t.x)/(e.y-t.y)):l=Math.atan((e.x-t.x)/Math.abs(e.y-t.y)),o={x:e.x-Math.sin(l)*.4,y:e.y-Math.cos(l)*.4});const u={x:t.x+Math.sin(l)*.4,y:t.y+Math.cos(l)*.4};s.setAttribute("points",`${u.x+.5},${u.y+.5} ${r.x!==-1&&r.y!==-1&&i?`${r.x+.5},${r.y+.5} `:""}${o.x+.5},${o.y+.5}`),s.setAttribute("data-sqID",`${Yt(t,e)}`),n!==void 0&&s.setAttribute("opacity",`${n}`),a!==void 0&&(s.setAttribute("marker-start",`url(#start-${a[0]})`),s.setAttribute("marker-end",`url(#end-${a[0]})`),s.setAttribute("stroke",a))}function Ot(s,t,e,i,a,n){if(!(t===void 0||e.x===-1&&e.y===-1)){if(t.tagName==="circle")t.setAttribute("fill","transparent"),i?t.setAttribute("stroke","red"):a?t.setAttribute("stroke","orange"):n?t.setAttribute("stroke","blue"):t.setAttribute("stroke","green"),s.querySelectorAll(`\u0441ircle[cx="${e.x+.5}"][cy="${e.y+.5}"]`).forEach(r=>{t!==void 0&&r!==t&&(r.getAttribute("stroke")===t.getAttribute("stroke")?t.setAttribute("remove",""):t.hasAttribute("remove")&&t.removeAttribute("remove"))});else if(t.tagName==="polyline"){const r=i?"red":a?"orange":n?"blue":"green";t.setAttribute("stroke",`${r}`),t.setAttribute("marker-start",`url(#start-${r[0]})`),t.setAttribute("marker-end",`url(#end-${r[0]})`),s.querySelectorAll(`polyline[data-sqID="${t.getAttribute("data-sqID")}"]`).forEach(o=>{t instanceof SVGPolylineElement&&o!==t&&(o.getAttribute("stroke")===t.getAttribute("stroke")?t.setAttribute("remove",""):t.hasAttribute("remove")&&t.removeAttribute("remove"))})}}}function wn(s,t,e,i,a){const n=document.createElementNS("http://www.w3.org/2000/svg","polyline");return kn(n,s,t,e,i,a),n.setAttribute("fill","none"),n.setAttribute("stroke-width","0.25"),n.setAttribute("stroke-linejoin","round"),n.setAttribute("opacity",a!==void 0?`${a}`:"0.4"),n.setAttribute("marker-start",i?`url(#start-${i[0]})`:"url(#start-g)"),n.setAttribute("marker-end",i?`url(#end-${i[0]})`:"url(#end-g)"),n.setAttribute("stroke",i||"green"),n}function Zt(s,t,e){const i=document.createElementNS("http://www.w3.org/2000/svg","circle");return i.setAttribute("cx",`${s.x+.5}`),i.setAttribute("cy",`${s.y+.5}`),i.setAttribute("r","0.465"),i.setAttribute("opacity",e?`${e}`:"0.4"),i.setAttribute("fill","none"),i.setAttribute("stroke-width","0.07"),i.setAttribute("stroke",t!=null?t:"green"),i}function Ma(s,t,e){t.forEach(i=>{if(i.type==="circle"){const a=It(i.square),n=Zt(a,i.color,i.opacity);s.appendChild(n)}else if(i.type==="arrow"){const a=wn(It(i.from),It(i.to),e,i.color,i.opacity);a.setAttribute("fixed",""),s.appendChild(a)}})}function vs(s){s.querySelectorAll("circle,polyline").forEach(t=>{t.hasAttribute("sf")||t.remove()})}function Sa(s,t){let{svg:e,flipped:i,enabled:a,settings:n}=t,r=!1,o={x:-1,y:-1},l,u;function f(m,y){const d=s.getBoundingClientRect(),h=i?d.width-(m-d.left):m-d.left,E=i?d.height-(y-d.top):y-d.top;return{x:Math.max(0,Math.min(7,Math.floor(h/(s.clientWidth/8)))),y:Math.max(0,Math.min(7,Math.floor(E/(s.clientHeight/8))))}}function b(m){if(u===void 0||o.x===-1&&o.y===-1)return;const y=f(m.clientX,m.clientY);n.onlyChessMove&&!wa(o,y)||(l=void 0,u.hasAttribute("remove")&&u.removeAttribute("remove"),o.x===y.x&&o.y===y.y?(Yt(o,y),u instanceof SVGPolylineElement&&(u.remove(),u=Zt(y)),Ot(e,u,o,m.shiftKey,m.ctrlKey,m.altKey),e.appendChild(u),e.querySelectorAll(`circle[cx="${o.x+.5}"][cy="${o.y+.5}"]`).forEach(d=>{d!==u&&(l=d,u!==void 0&&d.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))})):(u instanceof SVGCircleElement&&u.remove(),l=void 0,e.querySelectorAll(`polyline[data-sqID="${Yt(o,y)}"]`).forEach(d=>{u===void 0||o.x===-1&&o.y===-1||d===u||(l=d,d.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))}),u instanceof SVGCircleElement?(u=wn(o,y,n.knightLShape),Ot(e,u,o,m.shiftKey,m.ctrlKey,m.altKey),e.appendChild(u)):u instanceof SVGPolylineElement&&kn(u,o,y,n.knightLShape)))}function p(m){m.preventDefault()}function S(m){m.preventDefault(),Ot(e,u,o,m.shiftKey,m.ctrlKey,m.altKey)}function F(m){if(m.button===0)r=!1;else if(m.button===2){if(o.x===-1&&o.y===-1)return;e.querySelectorAll("[remove]").forEach(y=>{y.remove()}),l&&l.remove(),l=void 0,(u==null?void 0:u.tagName)==="circle"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawCircle",{detail:{square:Xt(o),color:u.getAttribute("stroke")}})),(u==null?void 0:u.tagName)==="polyline"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawArrow",{detail:{move:u.getAttribute("data-sqID"),color:u.getAttribute("stroke")}})),u=void 0,o={x:-1,y:-1},r=!1,window.removeEventListener("mousemove",b),window.removeEventListener("keydown",S),window.removeEventListener("keyup",S),window.removeEventListener("contextmenu",p)}window.removeEventListener("mouseup",F)}function O(m){if(m.button===0)r=!0,vs(e),window.addEventListener("mouseup",F);else if(m.button===2&&!r){const y=f(m.clientX,m.clientY);o=y,u=Zt(y),Ot(e,u,o,m.shiftKey,m.ctrlKey,m.altKey),l=void 0,e.querySelectorAll(`circle[cx="${y.x+.5}"][cy="${y.y+.5}"]`).forEach(d=>{l=d,u!==void 0&&d.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove","")}),u&&e.appendChild(u),window.addEventListener("mousemove",b),window.addEventListener("mouseup",F),window.addEventListener("keydown",S),window.addEventListener("keyup",S),window.addEventListener("contextmenu",p)}}return a&&s.addEventListener("mousedown",O),{update(m){m.svg!==e&&(e=m.svg),m.enabled!==a&&(a=m.enabled,a?s.addEventListener("mousedown",O):(vs(e),s.removeEventListener("mousedown",O))),n=m.settings,i=m.flipped}}}function Es(s,t,e){const i=s.slice();return i[8]=t[e],i}function ks(s){let t,e,i,a;return{c(){t=Be("marker"),e=Be("path"),i=Be("marker"),a=Be("path"),this.h()},l(n){t=Ue(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var r=j(t);e=Ue(r,"path",{fill:!0,d:!0}),j(e).forEach(v),r.forEach(v),i=Ue(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,orient:!0,fill:!0});var o=j(i);a=Ue(o,"path",{fill:!0,d:!0}),j(a).forEach(v),o.forEach(v),this.h()},h(){c(e,"fill",s[8]),c(e,"d","M 5 0 Q 0 0 0 5 L 0 15 Q 0 20 5 20 Z"),c(t,"id","start-"+s[8][0]),c(t,"viewBox","0 0 5 20"),c(t,"refX","4"),c(t,"refY","10"),c(t,"markerUnits","strokeWidth"),c(t,"markerWidth","0.5"),c(t,"markerHeight","1"),c(t,"orient","auto"),c(a,"fill",s[8]),c(a,"d","M 0 4 L 10 10 L 0 16 Z"),c(i,"id","end-"+s[8][0]),c(i,"viewBox","0 0 10 20"),c(i,"refX","0.2"),c(i,"refY","10"),c(i,"markerUnits","strokeWidth"),c(i,"orient","auto"),c(i,"fill","currentColor")},m(n,r){Z(n,t,r),A(t,e),Z(n,i,r),A(i,a)},p:Ae,d(n){n&&v(t),n&&v(i)}}}function ya(s){let t,e,i,a=s[2],n=[];for(let r=0;r<a.length;r+=1)n[r]=ks(Es(s,a,r));return{c(){t=Be("svg"),e=Be("defs");for(let r=0;r<n.length;r+=1)n[r].c();i=Be("g"),this.h()},l(r){t=Ue(r,"svg",{xmlns:!0,style:!0,viewBox:!0,class:!0});var o=j(t);e=Ue(o,"defs",{});var l=j(e);for(let u=0;u<n.length;u+=1)n[u].l(l);l.forEach(v),i=Ue(o,"g",{}),j(i).forEach(v),o.forEach(v),this.h()},h(){c(t,"xmlns","http://www.w3.org/2000/svg"),Se(t,"transform","rotate("+(s[1]?"180deg":"0deg")+")"),c(t,"viewBox","0 0 8 8"),c(t,"class","svelte-19gv2n4")},m(r,o){Z(r,t,o),A(t,e);for(let l=0;l<n.length;l+=1)n[l].m(e,null);A(t,i),s[5](i)},p(r,[o]){if(o&4){a=r[2];let l;for(l=0;l<a.length;l+=1){const u=Es(r,a,l);n[l]?n[l].p(u,o):(n[l]=ks(u),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=a.length}o&2&&Se(t,"transform","rotate("+(r[1]?"180deg":"0deg")+")")},i:Ae,o:Ae,d(r){r&&v(t),lt(n,r),s[5](null)}}}function Ca(s,t,e){let{flipped:i=!1}=t,{svg:a}=t,{knightLShape:n=!1}=t,{tools:r=[]}=t,o=!1;function l(b){!o||(ka(a),Ma(a,b,n))}es(()=>{o=!0,l(r)});const u=["green","red","blue","orange"];function f(b){re[b?"unshift":"push"](()=>{a=b,e(0,a)})}return s.$$set=b=>{"flipped"in b&&e(1,i=b.flipped),"svg"in b&&e(0,a=b.svg),"knightLShape"in b&&e(3,n=b.knightLShape),"tools"in b&&e(4,r=b.tools)},s.$$.update=()=>{s.$$.dirty&16&&l(r)},[a,i,u,n,r,f]}class Aa extends Oe{constructor(t){super(),Ie(this,t,Ca,ya,Fe,{flipped:1,svg:0,knightLShape:3,tools:4})}}function ws(s,{delay:t=0,duration:e=400,easing:i=ss,x:a=0,y:n=0,opacity:r=0}={}){const o=getComputedStyle(s),l=+o.opacity,u=o.transform==="none"?"":o.transform,f=l*(1-r);return{delay:t,duration:e,easing:i,css:(b,p)=>`
			transform: ${u} translate(${(1-b)*a}px, ${(1-b)*n}px);
			opacity: ${l-f*p}`}}function ut(s,{delay:t=0,duration:e=400,easing:i=ss}={}){const a=getComputedStyle(s),n=+a.opacity,r=parseFloat(a.height),o=parseFloat(a.paddingTop),l=parseFloat(a.paddingBottom),u=parseFloat(a.marginTop),f=parseFloat(a.marginBottom),b=parseFloat(a.borderTopWidth),p=parseFloat(a.borderBottomWidth);return{delay:t,duration:e,easing:i,css:S=>`overflow: hidden;opacity: ${Math.min(S*20,1)*n};height: ${S*r}px;padding-top: ${S*o}px;padding-bottom: ${S*l}px;margin-top: ${S*u}px;margin-bottom: ${S*f}px;border-top-width: ${S*b}px;border-bottom-width: ${S*p}px;`}}function Ta(s){let t,e,i,a,n,r;return{c(){t=U("button"),e=U("img"),this.h()},l(o){t=H(o,"BUTTON",{});var l=j(t);e=H(l,"IMG",{src:!0,alt:!0,class:!0}),l.forEach(v),this.h()},h(){ct(e.src,i=s[1])||c(e,"src",i),c(e,"alt",a="Promotion to "+s[0].toUpperCase()),c(e,"class","svelte-17pqsbb")},m(o,l){Z(o,t,l),A(t,e),n||(r=de(t,"click",s[2]),n=!0)},p(o,[l]){l&1&&a!==(a="Promotion to "+o[0].toUpperCase())&&c(e,"alt",a)},i:Ae,o:Ae,d(o){o&&v(t),n=!1,r()}}}function Pa(s,t,e){let{piece:i}=t,{isWhite:a}=t,{showModal:n}=t;const r=$t(),o=(a?"w":"b")+i.toUpperCase(),l=Qt(o),u=()=>{r("newPromotion",i),e(3,n=!1)};return s.$$set=f=>{"piece"in f&&e(0,i=f.piece),"isWhite"in f&&e(4,a=f.isWhite),"showModal"in f&&e(3,n=f.showModal)},[i,l,u,n,a]}class La extends Oe{constructor(t){super(),Ie(this,t,Pa,Ta,Fe,{piece:0,isWhite:4,showModal:3})}}function Ms(s,t,e){const i=s.slice();return i[6]=t[e],i}function Ss(s){let t,e,i,a,n,r=["q","r","b","n"],o=[];for(let u=0;u<4;u+=1)o[u]=ys(Ms(s,r,u));const l=u=>ie(o[u],1,1,()=>{o[u]=null});return{c(){t=U("div"),e=U("div");for(let u=0;u<4;u+=1)o[u].c();this.h()},l(u){t=H(u,"DIV",{class:!0});var f=j(t);e=H(f,"DIV",{class:!0});var b=j(e);for(let p=0;p<4;p+=1)o[p].l(b);b.forEach(v),f.forEach(v),this.h()},h(){c(e,"class","modal-content svelte-it5mr1"),c(t,"class","modal svelte-it5mr1")},m(u,f){Z(u,t,f),A(t,e);for(let b=0;b<4;b+=1)o[b].m(e,null);n=!0},p(u,f){if(f&3){r=["q","r","b","n"];let b;for(b=0;b<4;b+=1){const p=Ms(u,r,b);o[b]?(o[b].p(p,f),$(o[b],1)):(o[b]=ys(p),o[b].c(),$(o[b],1),o[b].m(e,null))}for(Ne(),b=4;b<4;b+=1)l(b);De()}},i(u){if(!n){for(let f=0;f<4;f+=1)$(o[f]);$e(()=>{a&&a.end(1),i=zn(e,ws,{x:100,duration:300}),i.start()}),n=!0}},o(u){o=o.filter(Boolean);for(let f=0;f<4;f+=1)ie(o[f]);i&&i.invalidate(),a=jn(e,ws,{x:-200,duration:100}),n=!1},d(u){u&&v(t),lt(o,u),u&&a&&a.end()}}}function ys(s){let t,e,i,a;function n(l){s[3](l)}function r(l){s[4](l)}let o={piece:s[6]};return s[1]!==void 0&&(o.isWhite=s[1]),s[0]!==void 0&&(o.showModal=s[0]),t=new La({props:o}),re.push(()=>ge(t,"isWhite",n)),re.push(()=>ge(t,"showModal",r)),t.$on("newPromotion",s[5]),{c(){Ee(t.$$.fragment)},l(l){ke(t.$$.fragment,l)},m(l,u){we(t,l,u),a=!0},p(l,u){const f={};!e&&u&2&&(e=!0,f.isWhite=l[1],be(()=>e=!1)),!i&&u&1&&(i=!0,f.showModal=l[0],be(()=>i=!1)),t.$set(f)},i(l){a||($(t.$$.fragment,l),a=!0)},o(l){ie(t.$$.fragment,l),a=!1},d(l){Me(t,l)}}}function Oa(s){let t,e,i=s[0]&&Ss(s);return{c(){i&&i.c(),t=ye()},l(a){i&&i.l(a),t=ye()},m(a,n){i&&i.m(a,n),Z(a,t,n),e=!0},p(a,[n]){a[0]?i?(i.p(a,n),n&1&&$(i,1)):(i=Ss(a),i.c(),$(i,1),i.m(t.parentNode,t)):i&&(Ne(),ie(i,1,1,()=>{i=null}),De())},i(a){e||($(i),e=!0)},o(a){ie(i),e=!1},d(a){i&&i.d(a),a&&v(t)}}}function Ia(s,t,e){let i=!1,a;function n(u){e(0,i=!0),u?e(1,a=!0):e(1,a=!1)}function r(u){a=u,e(1,a)}function o(u){i=u,e(0,i)}function l(u){xe.call(this,s,u)}return[i,a,n,r,o,l]}class Fa extends Oe{constructor(t){super(),Ie(this,t,Ia,Oa,Fe,{openPromotionModal:2})}get openPromotionModal(){return this.$$.ctx[2]}}const qa=""+new URL("../../assets/move-e4d827fe.wav",import.meta.url).href,Ra=""+new URL("../../assets/capture-3dff493a.wav",import.meta.url).href,Na=""+new URL("../../assets/castle-dcf4b2c5.wav",import.meta.url).href,Da=""+new URL("../../assets/undo-b4184324.mp3",import.meta.url).href;function Cs(s){let t,e,i,a;return{c(){t=U("audio"),e=U("track"),i=U("source"),this.h()},l(n){t=H(n,"AUDIO",{preload:!0});var r=j(t);e=H(r,"TRACK",{kind:!0}),i=H(r,"SOURCE",{src:!0}),r.forEach(v),this.h()},h(){c(e,"kind","captions"),ct(i.src,a=qa)||c(i,"src",a),c(t,"preload","auto")},m(n,r){Z(n,t,r),A(t,e),A(t,i),s[3](t)},p:Ae,d(n){n&&v(t),s[3](null)}}}function As(s){let t,e,i,a;return{c(){t=U("audio"),e=U("track"),i=U("source"),this.h()},l(n){t=H(n,"AUDIO",{preload:!0});var r=j(t);e=H(r,"TRACK",{kind:!0}),i=H(r,"SOURCE",{src:!0}),r.forEach(v),this.h()},h(){c(e,"kind","captions"),ct(i.src,a=Ra)||c(i,"src",a),c(t,"preload","auto")},m(n,r){Z(n,t,r),A(t,e),A(t,i),s[4](t)},p:Ae,d(n){n&&v(t),s[4](null)}}}function Ts(s){let t,e,i,a;return{c(){t=U("audio"),e=U("track"),i=U("source"),this.h()},l(n){t=H(n,"AUDIO",{preload:!0});var r=j(t);e=H(r,"TRACK",{kind:!0}),i=H(r,"SOURCE",{src:!0}),r.forEach(v),this.h()},h(){c(e,"kind","captions"),ct(i.src,a=Na)||c(i,"src",a),c(t,"preload","auto")},m(n,r){Z(n,t,r),A(t,e),A(t,i),s[5](t)},p:Ae,d(n){n&&v(t),s[5](null)}}}function Ps(s){let t,e,i,a;return{c(){t=U("audio"),e=U("track"),i=U("source"),this.h()},l(n){t=H(n,"AUDIO",{preload:!0});var r=j(t);e=H(r,"TRACK",{kind:!0}),i=H(r,"SOURCE",{src:!0}),r.forEach(v),this.h()},h(){c(e,"kind","captions"),ct(i.src,a=Da)||c(i,"src",a),c(t,"preload","auto")},m(n,r){Z(n,t,r),A(t,e),A(t,i),s[6](t)},p:Ae,d(n){n&&v(t),s[6](null)}}}function Ba(s){let t,e,i,a,n=s[0].MOVE&&Cs(s),r=s[0].CAPTURE&&As(s),o=s[0].CASTLE&&Ts(s),l=s[0].UNDO&&Ps(s);return{c(){n&&n.c(),t=te(),r&&r.c(),e=te(),o&&o.c(),i=te(),l&&l.c(),a=ye()},l(u){n&&n.l(u),t=se(u),r&&r.l(u),e=se(u),o&&o.l(u),i=se(u),l&&l.l(u),a=ye()},m(u,f){n&&n.m(u,f),Z(u,t,f),r&&r.m(u,f),Z(u,e,f),o&&o.m(u,f),Z(u,i,f),l&&l.m(u,f),Z(u,a,f)},p(u,[f]){u[0].MOVE?n?n.p(u,f):(n=Cs(u),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),u[0].CAPTURE?r?r.p(u,f):(r=As(u),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),u[0].CASTLE?o?o.p(u,f):(o=Ts(u),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null),u[0].UNDO?l?l.p(u,f):(l=Ps(u),l.c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null)},i:Ae,o:Ae,d(u){n&&n.d(u),u&&v(t),r&&r.d(u),u&&v(e),o&&o.d(u),u&&v(i),l&&l.d(u),u&&v(a)}}}function Ua(s,t,e){let{settings:i}=t;const a={MOVE:void 0,CAPTURE:void 0,CASTLE:void 0,UNDO:void 0},n=()=>{a.CASTLE&&(a.CASTLE.pause(),e(1,a.CASTLE.currentTime=0,a)),a.MOVE&&(a.MOVE.pause(),e(1,a.MOVE.currentTime=0,a)),a.CAPTURE&&(a.CAPTURE.pause(),e(1,a.CAPTURE.currentTime=0,a)),a.UNDO&&(a.UNDO.pause(),e(1,a.UNDO.currentTime=0,a))},r=p=>p===void 0||i[p];function o(p){switch(n(),p){case"MOVE":a.MOVE&&r("MOVE")&&a.MOVE.play();break;case"CAPTURE":a.CAPTURE&&r("CAPTURE")?a.CAPTURE.play():a.MOVE&&r("MOVE")&&a.MOVE.play();break;case"CASTLE":a.CASTLE&&r("CASTLE")?a.CASTLE.play():a.MOVE&&r("MOVE")&&a.MOVE.play();break;case"UNDO":a.UNDO&&r("UNDO")?(e(1,a.UNDO.volume=.3,a),a.UNDO.play()):a.MOVE&&r("MOVE")&&a.MOVE.play();break}}function l(p){re[p?"unshift":"push"](()=>{a.MOVE=p,e(1,a)})}function u(p){re[p?"unshift":"push"](()=>{a.CAPTURE=p,e(1,a)})}function f(p){re[p?"unshift":"push"](()=>{a.CASTLE=p,e(1,a)})}function b(p){re[p?"unshift":"push"](()=>{a.UNDO=p,e(1,a)})}return s.$$set=p=>{"settings"in p&&e(0,i=p.settings)},[i,a,o,l,u,f,b]}class Ha extends Oe{constructor(t){super(),Ie(this,t,Ua,Ba,Fe,{settings:0,playMoveSound:2})}get playMoveSound(){return this.$$.ctx[2]}}const Ls=""+new URL("../../assets/standard-97995bf9.svg",import.meta.url).href,Os=""+new URL("../../assets/darkBlue-02863507.svg",import.meta.url).href;function Va(s,t){const{minWidth:e,maxWidth:i,curWidth:a}=t;let n=a,r,o,l,u;function f(S){S.stopPropagation(),s.dispatchEvent(new CustomEvent("resizing",{detail:{size:Math.max(Math.max(e,Math.min(i,l+(S.pageX-r))),Math.max(e,Math.min(i,u+(S.pageY-o))))}}))}function b(S){S.stopPropagation(),s.dispatchEvent(new CustomEvent("endResizing",{detail:{size:Math.max(Math.max(e,Math.min(i,l+Math.floor((S.pageX-r)/8)*8)),Math.max(e,Math.min(i,u+Math.floor((S.pageY-o)/8)*8)))}})),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",b)}function p(S){S.stopPropagation(),S.button===0&&(r=S.pageX,l=n,o=S.pageY,u=n,window.addEventListener("mousemove",f),window.addEventListener("mouseup",b))}return s.addEventListener("mousedown",p),{update(S){n=S.curWidth},destroy(){s.removeEventListener("mousedown",p)}}}function Wa(s){let t,e,i,a,n,r;return{c(){t=U("div"),e=Be("svg"),i=Be("path"),this.h()},l(o){t=H(o,"DIV",{style:!0,class:!0});var l=j(t);e=Ue(l,"svg",{xmlns:!0,viewBox:!0,fill:!0});var u=j(e);i=Ue(u,"path",{d:!0}),j(i).forEach(v),u.forEach(v),l.forEach(v),this.h()},h(){c(i,"d","M 5 1 Q 6 0 6 2 L 6 4 Q 6 6 4 6 L 2 6 Q 0 6 1 5 Z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 16 16"),c(e,"fill","currentColor"),Se(t,"color",je.colors[s[0].state.board.boardTheme].black),c(t,"class","svelte-mmuauc")},m(o,l){Z(o,t,l),A(t,e),A(e,i),n||(r=[de(t,"pointerdown",dn(s[2])),Jt(a=Va.call(null,t,{minWidth:s[0].state.board.resizible.min,maxWidth:s[0].state.board.resizible.max,curWidth:s[0].state.board.size})),de(t,"resizing",s[3]),de(t,"endResizing",s[4])],n=!0)},p(o,[l]){l&1&&Se(t,"color",je.colors[o[0].state.board.boardTheme].black),a&&xt(a.update)&&l&1&&a.update.call(null,{minWidth:o[0].state.board.resizible.min,maxWidth:o[0].state.board.resizible.max,curWidth:o[0].state.board.size})},i:Ae,o:Ae,d(o){o&&v(t),n=!1,Ye(r)}}}function Ka(s,t,e){let{chessboard:i}=t,{setSize:a}=t;function n(l){xe.call(this,s,l)}const r=l=>a(l.detail.size),o=l=>a(l.detail.size);return s.$$set=l=>{"chessboard"in l&&e(0,i=l.chessboard),"setSize"in l&&e(1,a=l.setSize)},[i,a,n,r,o]}class za extends Oe{constructor(t){super(),Ie(this,t,Ka,Wa,Fe,{chessboard:0,setSize:1})}}function Is(s,t,e){const i=s.slice();return i[74]=t[e],i}function Fs(s,t,e){const i=s.slice();return i[77]=t[e],i}function qs(s){let t=[],e=new Map,i,a,n=s[5].state.pieces;const r=o=>o[77];for(let o=0;o<n.length;o+=1){let l=Fs(s,n,o),u=r(l);e.set(u,t[o]=Rs(u,l))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();i=ye()},l(o){for(let l=0;l<t.length;l+=1)t[l].l(o);i=ye()},m(o,l){for(let u=0;u<t.length;u+=1)t[u].m(o,l);Z(o,i,l),a=!0},p(o,l){l[0]&58412&&(n=o[5].state.pieces,Ne(),t=cn(t,l,r,1,o,n,e,i.parentNode,hn,Rs,i,Fs),De())},i(o){if(!a){for(let l=0;l<n.length;l+=1)$(t[l]);a=!0}},o(o){for(let l=0;l<t.length;l+=1)ie(t[l]);a=!1},d(o){for(let l=0;l<t.length;l+=1)t[l].d(o);o&&v(i)}}}function Rs(s,t){let e,i,a;function n(){return t[54](t[77])}function r(){return t[55](t[77])}function o(){return t[57](t[77])}return i=new vn({props:{square:t[77].square,name:t[77].name,legalState:t[5].state.legal,draggableState:t[5].state.draggable,selectedPiece:t[5].state.selectable.selectedPiece,movableState:t[5].state.movable,getGridCoordsFromSquare:t[5].getGridCoordsFromSquare,flipped:t[5].state.board.flipped}}),i.$on("move",t[13]),i.$on("clicked",n),i.$on("startMoving",r),i.$on("moving",t[14]),i.$on("endDragging",t[56]),i.$on("select",o),i.$on("deselect",t[58]),{key:s,first:null,c(){e=ye(),Ee(i.$$.fragment),this.h()},l(l){e=ye(),ke(i.$$.fragment,l),this.h()},h(){this.first=e},m(l,u){Z(l,e,u),we(i,l,u),a=!0},p(l,u){t=l;const f={};u[0]&32&&(f.square=t[77].square),u[0]&32&&(f.name=t[77].name),u[0]&32&&(f.legalState=t[5].state.legal),u[0]&32&&(f.draggableState=t[5].state.draggable),u[0]&32&&(f.selectedPiece=t[5].state.selectable.selectedPiece),u[0]&32&&(f.movableState=t[5].state.movable),u[0]&32&&(f.getGridCoordsFromSquare=t[5].getGridCoordsFromSquare),u[0]&32&&(f.flipped=t[5].state.board.flipped),i.$set(f)},i(l){a||($(i.$$.fragment,l),a=!0)},o(l){ie(i.$$.fragment,l),a=!1},d(l){l&&v(e),Me(i,l)}}}function Ns(s){let t,e;return t=new vn({props:{isGhost:!0,square:s[5].state.draggable.ghostPiece.piece.square,name:s[5].state.draggable.ghostPiece.piece.name,getGridCoordsFromSquare:s[5].getGridCoordsFromSquare,flipped:s[5].state.board.flipped}}),{c(){Ee(t.$$.fragment)},l(i){ke(t.$$.fragment,i)},m(i,a){we(t,i,a),e=!0},p(i,a){const n={};a[0]&32&&(n.square=i[5].state.draggable.ghostPiece.piece.square),a[0]&32&&(n.name=i[5].state.draggable.ghostPiece.piece.name),a[0]&32&&(n.getGridCoordsFromSquare=i[5].getGridCoordsFromSquare),a[0]&32&&(n.flipped=i[5].state.board.flipped),t.$set(n)},i(i){e||($(t.$$.fragment,i),e=!0)},o(i){ie(t.$$.fragment,i),e=!1},d(i){Me(t,i)}}}function ja(s){let t=[],e=new Map,i,a,n=[...s[5].state.markedSquares];const r=o=>o[74];for(let o=0;o<n.length;o+=1){let l=Is(s,n,o),u=r(l);e.set(u,t[o]=Ds(u,l))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();i=ye()},l(o){for(let l=0;l<t.length;l+=1)t[l].l(o);i=ye()},m(o,l){for(let u=0;u<t.length;u+=1)t[u].m(o,l);Z(o,i,l),a=!0},p(o,l){l[0]&34&&(n=[...o[5].state.markedSquares],Ne(),t=cn(t,l,r,1,o,n,e,i.parentNode,hn,Ds,i,Is),De())},i(o){if(!a){for(let l=0;l<n.length;l+=1)$(t[l]);a=!0}},o(o){for(let l=0;l<t.length;l+=1)ie(t[l]);a=!1},d(o){for(let l=0;l<t.length;l+=1)t[l].d(o);o&&v(i)}}}function Ds(s,t){let e,i,a;return i=new _a({props:{theme:t[5].state.board.boardTheme,square:t[74].square,color:t[74].color,getGridCoordsFromSquare:t[5].getGridCoordsFromSquare,flipped:t[5].state.board.flipped}}),i.$on("dragenter",t[59]),{key:s,first:null,c(){e=ye(),Ee(i.$$.fragment),this.h()},l(n){e=ye(),ke(i.$$.fragment,n),this.h()},h(){this.first=e},m(n,r){Z(n,e,r),we(i,n,r),a=!0},p(n,r){t=n;const o={};r[0]&32&&(o.theme=t[5].state.board.boardTheme),r[0]&32&&(o.square=t[74].square),r[0]&32&&(o.color=t[74].color),r[0]&32&&(o.getGridCoordsFromSquare=t[5].getGridCoordsFromSquare),r[0]&32&&(o.flipped=t[5].state.board.flipped),i.$set(o)},i(n){a||($(i.$$.fragment,n),a=!0)},o(n){ie(i.$$.fragment,n),a=!1},d(n){n&&v(e),Me(i,n)}}}function Bs(s){let t,e;return t=new Ci({props:{theme:s[5].state.board.boardTheme,flipped:s[5].state.board.flipped}}),{c(){Ee(t.$$.fragment)},l(i){ke(t.$$.fragment,i)},m(i,a){we(t,i,a),e=!0},p(i,a){const n={};a[0]&32&&(n.theme=i[5].state.board.boardTheme),a[0]&32&&(n.flipped=i[5].state.board.flipped),t.$set(n)},i(i){e||($(t.$$.fragment,i),e=!0)},o(i){ie(t.$$.fragment,i),e=!1},d(i){Me(t,i)}}}function Us(s){let t,e;return t=new za({props:{chessboard:s[5],setSize:s[4]}}),{c(){Ee(t.$$.fragment)},l(i){ke(t.$$.fragment,i)},m(i,a){we(t,i,a),e=!0},p(i,a){const n={};a[0]&32&&(n.chessboard=i[5]),t.$set(n)},i(i){e||($(t.$$.fragment,i),e=!0)},o(i){ie(t.$$.fragment,i),e=!1},d(i){Me(t,i)}}}function Hs(s){let t,e,i;function a(r){s[60](r)}let n={flipped:s[5].state.board.flipped,tools:s[5].state.drawTools.tools,knightLShape:s[5].state.drawTools.settings.knightLShape};return s[7]!==void 0&&(n.svg=s[7]),t=new Aa({props:n}),re.push(()=>ge(t,"svg",a)),{c(){Ee(t.$$.fragment)},l(r){ke(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,o){const l={};o[0]&32&&(l.flipped=r[5].state.board.flipped),o[0]&32&&(l.tools=r[5].state.drawTools.tools),o[0]&32&&(l.knightLShape=r[5].state.drawTools.settings.knightLShape),!e&&o[0]&128&&(e=!0,l.svg=r[7],be(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){Me(t,r)}}}function Vs(s){let t,e,i={};return t=new Fa({props:i}),s[61](t),t.$on("newPromotion",s[16]),{c(){Ee(t.$$.fragment)},l(a){ke(t.$$.fragment,a)},m(a,n){we(t,a,n),e=!0},p(a,n){const r={};t.$set(r)},i(a){e||($(t.$$.fragment,a),e=!0)},o(a){ie(t.$$.fragment,a),e=!1},d(a){s[61](null),Me(t,a)}}}function Ws(s){let t,e,i={settings:s[5].state.sounds.settings};return t=new Ha({props:i}),s[66](t),{c(){Ee(t.$$.fragment)},l(a){ke(t.$$.fragment,a)},m(a,n){we(t,a,n),e=!0},p(a,n){const r={};n[0]&32&&(r.settings=a[5].state.sounds.settings),t.$set(r)},i(a){e||($(t.$$.fragment,a),e=!0)},o(a){ie(t.$$.fragment,a),e=!1},d(a){s[66](null),Me(t,a)}}}function Ga(s){let t,e,i,a,n=s[11](),r,o,l,u,f,b,p,S,F,O,m,y,d,h=s[5].state.board.startFen&&qs(s),E=s[5].state.draggable.ghostPiece.enabled&&s[5].state.draggable.ghostPiece.piece!==void 0&&Ns(s),T=n&&ja(s),P=s[5].state.board.notation&&Bs(s),z=s[5].state.board.resizible.enabled&&Us(s),W=s[5].state.drawTools.enabled&&Hs(s),K=s[5].state.legal.enabled&&Vs(s),G=s[5].state.sounds.enabled&&Ws(s);return{c(){t=U("div"),e=U("div"),h&&h.c(),i=te(),E&&E.c(),a=te(),T&&T.c(),r=te(),P&&P.c(),o=te(),z&&z.c(),l=te(),W&&W.c(),u=te(),K&&K.c(),F=te(),G&&G.c(),O=ye(),this.h()},l(V){t=H(V,"DIV",{class:!0,style:!0});var X=j(t);e=H(X,"DIV",{style:!0,class:!0});var he=j(e);h&&h.l(he),he.forEach(v),i=se(X),E&&E.l(X),a=se(X),T&&T.l(X),r=se(X),P&&P.l(X),o=se(X),z&&z.l(X),l=se(X),W&&W.l(X),u=se(X),K&&K.l(X),X.forEach(v),F=se(V),G&&G.l(V),O=ye(),this.h()},h(){Se(e,"width","100%"),Se(e,"height","100%"),c(e,"class","noselect"),c(t,"class",f="noselect board "+(s[5].state.board.style.shadow?"shadow":"")+" text-sm "+s[0]+" svelte-1bsiysh"),c(t,"style",b="--boardTheme: url("+(s[5].state.board.boardTheme==="standard"?Ls:Os)+"); "+(s[5].state.board.style.borderRadius!=="0rem"&&s[5].state.board.style.borderRadius!=="0px"?`border-radius: ${s[5].state.board.style.borderRadius};`:"")),$e(()=>s[65].call(t))},m(V,X){Z(V,t,X),A(t,e),h&&h.m(e,null),A(t,i),E&&E.m(t,null),A(t,a),T&&T.m(t,null),A(t,r),P&&P.m(t,null),A(t,o),z&&z.m(t,null),A(t,l),W&&W.m(t,null),A(t,u),K&&K.m(t,null),s[64](t),S=Gn(t,s[65].bind(t)),Z(V,F,X),G&&G.m(V,X),Z(V,O,X),m=!0,y||(d=[de(t,"pointerdown",s[12]),de(t,"contextmenu",ls(s[52])),de(t,"drag",ls(s[53])),Jt(p=Sa.call(null,t,{svg:s[7],flipped:s[5].state.board.flipped,enabled:s[5].state.drawTools.enabled,settings:s[5].state.drawTools.settings})),de(t,"drawCircle",s[62]),de(t,"drawArrow",s[63])],y=!0)},p(V,X){V[5].state.board.startFen?h?(h.p(V,X),X[0]&32&&$(h,1)):(h=qs(V),h.c(),$(h,1),h.m(e,null)):h&&(Ne(),ie(h,1,1,()=>{h=null}),De()),V[5].state.draggable.ghostPiece.enabled&&V[5].state.draggable.ghostPiece.piece!==void 0?E?(E.p(V,X),X[0]&32&&$(E,1)):(E=Ns(V),E.c(),$(E,1),E.m(t,a)):E&&(Ne(),ie(E,1,1,()=>{E=null}),De()),n&&T.p(V,X),V[5].state.board.notation?P?(P.p(V,X),X[0]&32&&$(P,1)):(P=Bs(V),P.c(),$(P,1),P.m(t,o)):P&&(Ne(),ie(P,1,1,()=>{P=null}),De()),V[5].state.board.resizible.enabled?z?(z.p(V,X),X[0]&32&&$(z,1)):(z=Us(V),z.c(),$(z,1),z.m(t,l)):z&&(Ne(),ie(z,1,1,()=>{z=null}),De()),V[5].state.drawTools.enabled?W?(W.p(V,X),X[0]&32&&$(W,1)):(W=Hs(V),W.c(),$(W,1),W.m(t,u)):W&&(Ne(),ie(W,1,1,()=>{W=null}),De()),V[5].state.legal.enabled?K?(K.p(V,X),X[0]&32&&$(K,1)):(K=Vs(V),K.c(),$(K,1),K.m(t,null)):K&&(Ne(),ie(K,1,1,()=>{K=null}),De()),(!m||X[0]&33&&f!==(f="noselect board "+(V[5].state.board.style.shadow?"shadow":"")+" text-sm "+V[0]+" svelte-1bsiysh"))&&c(t,"class",f),(!m||X[0]&32&&b!==(b="--boardTheme: url("+(V[5].state.board.boardTheme==="standard"?Ls:Os)+"); "+(V[5].state.board.style.borderRadius!=="0rem"&&V[5].state.board.style.borderRadius!=="0px"?`border-radius: ${V[5].state.board.style.borderRadius};`:"")))&&c(t,"style",b),p&&xt(p.update)&&X[0]&160&&p.update.call(null,{svg:V[7],flipped:V[5].state.board.flipped,enabled:V[5].state.drawTools.enabled,settings:V[5].state.drawTools.settings}),V[5].state.sounds.enabled?G?(G.p(V,X),X[0]&32&&$(G,1)):(G=Ws(V),G.c(),$(G,1),G.m(O.parentNode,O)):G&&(Ne(),ie(G,1,1,()=>{G=null}),De())},i(V){m||($(h),$(E),$(T),$(P),$(z),$(W),$(K),$(G),m=!0)},o(V){ie(h),ie(E),ie(T),ie(P),ie(z),ie(W),ie(K),ie(G),m=!1},d(V){V&&v(t),h&&h.d(),E&&E.d(),T&&T.d(),P&&P.d(),z&&z.d(),W&&W.d(),K&&K.d(),s[64](null),S(),V&&v(F),G&&G.d(V),V&&v(O),y=!1,Ye(d)}}}function Qa(s,t,e){let{config:i}=t,{className:a=""}=t;const n=new mi(i),r=$t();let o,l,u,f,b="";Qn(()=>{document.documentElement.hasAttribute("style")&&n.state.board.resizible.enabled&&document.documentElement.removeAttribute("style")});const p=k=>{n.clearAllSquares(k),k===J.LEGAL&&n.clearAllSquares(J.LEGALHOVER),k===J.PREMOVE&&n.clearAllSquares(J.PREMOVEHOVER),e(5,n)},S=(k,Y)=>{n.highlightSquare(k,Y),e(5,n)},F=k=>n.state.highlight.enabled&&(k===void 0||n.state.highlight.settings[k]),O=k=>{if(!n.state.selectable.enabled)return;const Y=n.getPieceFromSquare(k);Y!==void 0&&(p(J.SELECT),e(5,n.state.selectable.selectedPiece=Y,n),F("select")&&S(k,J.SELECT),F("legal")&&n.state.legal.enabled&&(n.state.callbacks.getLegalMoves&&X()?e(5,n.state.legal.moves=n.state.callbacks.getLegalMoves(),n):e(5,n.state.legal.moves.length=0,n),W(n.state.legal.moves,k)))},m=()=>{p(J.SELECT),p(J.LEGAL),p(J.PREMOVE),e(5,n.state.selectable.selectedPiece=void 0,n),e(5,n.state.legal.preMoves.curMove="",n)},y=k=>{p(J.CHECK),k&&F("check")&&n.state.legal.enabled&&S(k,J.CHECK),e(5,n)},d=()=>{p(J.CHECK)},h=k=>{n.flipBoard(k),e(5,n)},E=(k,Y)=>{k.forEach(ve=>n.highlightSquare(ve,Y)),e(5,n)},T=(k,Y=J.MOVE)=>{k.length<4||E([k.substring(0,2),k.substring(2,4)],Y)},P=(k,Y=J.MOVE)=>{const ve=[];k.forEach(pe=>{pe.length<4||(ve.push(pe.substring(0,2)),ve.push(pe.substring(2,4)))}),E(ve,Y)},z=k=>{S(k.substring(2,4),J.LEGAL)},W=(k,Y,ve=J.LEGAL)=>{p(ve),k.forEach(pe=>{pe.length<4||(Y===void 0||pe.substring(0,2)===Y)&&n.highlightSquare(pe.substring(2,4),ve)}),e(5,n)},K=(k,Y=!0)=>{n.makeMove(k),Y&&(p(J.MOVE),F("move")&&T(k)),e(5,n)},G=k=>{n.removePiece(k),e(5,n)},V=k=>k[0]==="w"?fe.WHITE:fe.BLACK,X=()=>n.state.movable.enabled&&(n.state.movable.color===fe.BOTH||n.state.legal.whiteToMove&&n.state.movable.color===V("w")||!n.state.legal.whiteToMove&&n.state.movable.color===V("b")),he=()=>{!n.state.legal.enabled||(n.state.callbacks.getWhiteToMove&&e(5,n.state.legal.whiteToMove=n.state.callbacks.getWhiteToMove(),n),n.state.callbacks.getPreMoves&&!X()&&n.state.legal.preMoves.enabled?e(5,n.state.legal.preMoves.moves=n.state.callbacks.getPreMoves(),n):e(5,n.state.legal.preMoves.moves.length=0,n),n.state.callbacks.getLegalMoves&&X()?e(5,n.state.legal.moves=n.state.callbacks.getLegalMoves(),n):e(5,n.state.legal.moves.length=0,n),X()&&n.state.selectable.selectedPiece!==void 0&&n.state.legal.preMoves.enabled&&(p(J.PREMOVE),p(J.LEGAL),F("legal")&&n.state.legal.moves.forEach(k=>{n.state.selectable.selectedPiece&&k.substring(0,2)===n.state.selectable.selectedPiece.square&&S(k.substring(2,4),J.LEGAL)})),n.state.callbacks.getInCheck&&n.state.callbacks.getInCheck()?n.state.legal.whiteToMove?y(n.getWhiteKingSquare()):y(n.getBlackKingSquare()):d())},N=k=>{n.state.sounds.enabled&&u&&u.playMoveSound(k)},g=k=>{n.setGhostPiece(k),e(5,n)},M=()=>{n.removeGhostPiece(),e(5,n)},C=k=>{if(k.substring(0,2)===k.substring(2,4))return;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(k),m();const Y=n.getRookMoveIfIsCastling(k),ve=n.getCapturedPawnSquareIfIsEnPassant(k);if(Y&&n.state.legal.enabled&&n.state.legal.settings.allowCastling?(K(Y,!1),N("CASTLE")):ve&&n.state.legal.enabled&&n.state.legal.settings.allowEnPassant?(G(ve),N("CAPTURE")):n.isCapture(k)?N("CAPTURE"):N("MOVE"),M(),K(k),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(k),he(),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.curMove!==""){if(n.state.legal.moves.includes(n.state.legal.preMoves.curMove)||n.state.legal.moves.includes(`${n.state.legal.preMoves.curMove}q`)){const pe=n.state.legal.preMoves.curMove;e(5,n.state.legal.preMoves.curMove="",n),Xn().then(()=>{C(pe)})}p(J.NEXTMOVE)}},_=k=>{!n.state.legal.enabled||!n.state.legal.preMoves.enabled||!n.state.movable.enabled||(p(J.PREMOVE),p(J.NEXTMOVE),n.state.highlight.enabled&&n.state.highlight.settings.nextMove&&T(k,J.NEXTMOVE),e(5,n.state.legal.preMoves.curMove=k,n),r("nextMove",{move:k}))},L=k=>{f.openPromotionModal(!0),b=k,n.makeMove(k),p(J.LEGAL),p(J.SELECT),p(J.MOVE),T(k)},D=(k,Y)=>{n.clearSquare(k,Y),e(5,n)},R=()=>{n.clearAllPieces(),e(5,n)},I=(k,Y)=>{n.setPiece(k,Y),e(5,n)},q=(k,Y)=>{var pe;const ve=(pe=n.getPieceFromSquare(k))==null?void 0:pe.name;!ve||(Y!==void 0?n.setPiece(k,`${Y===fe.WHITE?"w":"b"}${ve[1]}`):n.setPiece(k,`${ve[0]==="w"?"b":"w"}${ve[1]}`),e(5,n))},w=(k,Y)=>{const ve=Math.floor(k/n.state.board.size*8),pe=Math.floor(Y/n.state.board.size*8),Re=n.state.board.flipped?Math.abs(ve-7):ve,We=n.state.board.flipped?pe:Math.abs(pe-7);return`${Object.keys(n.letters)[Re]}${(We+1).toString()}`},x=k=>{if(!n.state.movable.enabled)return!1;if(n.state.legal.enabled){if(n.state.legal.preMoves.enabled&&(n.state.movable.color===V(k)&&n.state.legal.whiteToMove===!0&&V(k)===fe.WHITE||n.state.legal.whiteToMove===!1&&V(k)===fe.BLACK)||!n.state.legal.preMoves.enabled&&(n.state.legal.whiteToMove===!0&&V(k)===fe.WHITE||n.state.legal.whiteToMove===!1&&V(k)===fe.BLACK))return!0}else if(n.state.movable.color===fe.BOTH||n.state.movable.color===V(k))return!0;return!1},Q=k=>{if(k.button===2){m();return}const Y=o.getBoundingClientRect(),ve=k.clientX-Y.left,pe=k.clientY-Y.top,Re=w(ve,pe),We=n.getPieceFromSquare(Re);if(r("squareClick",{square:Re,piece:We?We.name:void 0}),!n.state.selectable.enabled){m();return}if(n.state.selectable.selectedPiece!==void 0&&n.state.selectable.selectedPiece.square!==Re&&!n.state.legal.enabled){C(n.state.selectable.selectedPiece.square+Re),m();return}if(n.state.selectable.selectedPiece!==void 0&&n.state.selectable.selectedPiece.square!==Re&&(We===void 0||We.name[0]!==n.state.selectable.selectedPiece.name[0])){n.isPromotion(n.state.selectable.selectedPiece.square+Re)&&n.state.legal.moves.includes(`${n.state.selectable.selectedPiece.square+Re}q`)?L(n.state.selectable.selectedPiece.square+Re):n.state.legal.moves.includes(n.state.selectable.selectedPiece.square+Re)?C(n.state.selectable.selectedPiece.square+Re):n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.includes(n.state.selectable.selectedPiece.square+Re)&&_(n.state.selectable.selectedPiece.square+Re),m();return}n.state.selectable.selectedPiece!==We&&We!==void 0&&n.state.movable.enabled&&(n.state.movable.color===fe.BOTH||n.state.movable.color===V(We.name))&&(F("legal")&&n.state.legal.enabled&&X()&&(p(J.LEGAL),n.state.legal.moves.forEach(Xe=>{Xe.substring(0,2)===Re&&S(Xe.substring(2,4),J.LEGAL)})),F("preMove")&&n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.movable.color!==fe.BOTH&&!X()&&(p(J.PREMOVE),n.state.legal.preMoves.moves.forEach(Xe=>{Xe.substring(0,2)===Re&&S(Xe.substring(2,4),J.PREMOVE)})),(n.state.legal.enabled&&x(We.name[0])||!n.state.legal.enabled)&&O(We.square))},le=k=>{const Y=k.detail;n.state.legal.enabled?n.isPromotion(Y)&&n.state.legal.moves.includes(`${Y}q`)?L(Y):n.state.legal.moves.includes(Y)?C(Y):n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.includes(Y)?_(Y):m():C(Y),p(J.LEGAL),p(J.PREMOVE),e(5,n)},ee=(k,Y="MOVE")=>{if(n.updatePiecesWithFen(k),p(),M(),he(),n.state.callbacks.getLastMove){const ve=n.state.callbacks.getLastMove();e(5,n.state.legal.lastMove=ve,n),Y!==!1&&(Y!=="MOVE"?N(Y):n.isCastling(ve)?N("CASTLE"):N(Y)),T(ve)}else Y!==!1&&N(Y);e(5,n)},ae=()=>n.getShortFEN(),oe=k=>{!k||n.state.board.size===k||(e(5,n.state.board.size=k,n),n.state.board.resizible.enabled&&document.documentElement.style.setProperty("--boardSize",`${n.state.board.size}px`))},ue=k=>{var Y;return(Y=n.getPieceFromSquare(k))==null?void 0:Y.name},Te=k=>{e(5,n.state.drawTools.tools=k,n)},ne=k=>{e(5,n.state.drawTools.tools=n.state.drawTools.tools.filter(Y=>k.type&&Y.type!==k.type||k.from&&(Y.type==="arrow"&&Y.from!==k.from||Y.type==="circle"&&Y.square!==k.from)||k.to&&Y.type==="arrow"&&Y.to!==k.to||k.fixed!==void 0&&Y.fixed!==k.fixed),n)},Pe=()=>{he()},Le=k=>{k===!1?e(5,n.state.movable.enabled=!1,n):(e(5,n.state.movable.enabled=!0,n),e(5,n.state.movable.color=k===!0?fe.BOTH:k,n))},He=k=>{k.length<4||(e(5,n.state.legal.lastMove=k,n),T(k))},Ve=k=>{e(5,n.state.legal.moves=k,n)},qe=k=>{e(5,n.state.legal.preMoves.moves=k,n)},Ke=()=>n.state,ht=k=>{e(5,n.state=k,n),p(),he(),n.state.legal.enabled&&n.state.legal.lastMove!==""&&F("move")&&T(n.state.legal.lastMove),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.curMove!==""&&F("nextMove")&&T(n.state.legal.preMoves.curMove,J.NEXTMOVE),n.state.selectable.enabled&&n.state.selectable.selectedPiece!==void 0&&(F("select")&&x(n.state.selectable.selectedPiece.name)&&S(n.state.selectable.selectedPiece.square,J.SELECT),n.state.legal.enabled&&n.state.legal.moves.length>0&&F("legal")&&W(n.state.legal.moves,n.state.selectable.selectedPiece.square),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.length>0&&F("preMove")&&W(n.state.legal.moves,n.state.selectable.selectedPiece.square,J.PREMOVE))},gt=k=>{k!==void 0&&(n.setConfigSettings(k),e(5,n),ht(n.state))},kt=k=>k.getConfig(),et=k=>{const Y=o.getBoundingClientRect();n.state.legal.enabled&&(X()&&n.legalHover(w(k.detail.x-Y.x,k.detail.y-Y.y)),!X()&&n.state.legal.preMoves.enabled&&n.preMoveHover(w(k.detail.x-Y.x,k.detail.y-Y.y))),e(5,n)},bt=k=>{n.state.draggable.ghostPiece&&g(k),p(J.SELECT),n.state.selectable.selectedPiece===void 0&&(F("legal")&&n.state.legal.enabled&&n.state.legal.moves.forEach(Y=>{Y.substring(0,2)===k.square&&S(Y.substring(2,4),J.LEGAL)}),F("preMove")&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.forEach(Y=>{Y.substring(0,2)===k.square&&S(Y.substring(2,4),J.PREMOVE)}))},wt=k=>{const Y=n.getPieceFromSquare(b.substring(2,4));if(!Y)return;const ve=Y.name[0]+k.detail.toUpperCase(),pe=b+k.detail;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(pe),n.setPiece(Y.square,ve),e(5,n),N("MOVE"),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(pe),he()};es(()=>{he(),n.state.callbacks.getLastMove&&T(n.state.callbacks.getLastMove()),n.state.board.resizible&&oe(n.state.board.size-n.state.board.size%8)});function Ze(k){xe.call(this,s,k)}function Mt(k){xe.call(this,s,k)}const pt=k=>{r("piececlick",{piece:k})},St=k=>{r("startDragging",{piece:k}),bt(k)};function Ge(k){xe.call(this,s,k)}const yt=k=>O(k.square),Qe=()=>m(),tt=k=>{S(k.detail.square,J.LEGALHOVER)};function Ct(k){l=k,e(7,l)}function Pt(k){re[k?"unshift":"push"](()=>{f=k,e(9,f)})}const Dt=k=>r("drawCircle",{square:k.detail.square,color:k.detail.color}),Bt=k=>r("drawArrow",{move:k.detail.move,color:k.detail.color});function Ut(k){re[k?"unshift":"push"](()=>{o=k,e(6,o)})}function Ht(){n.state.board.size=this.clientWidth,e(5,n)}function Vt(k){re[k?"unshift":"push"](()=>{u=k,e(8,u)})}return s.$$set=k=>{"config"in k&&e(17,i=k.config),"className"in k&&e(0,a=k.className)},s.$$.update=()=>{s.$$.dirty[0]&32&&oe(n.state.board.size-n.state.board.size%8)},[a,S,O,m,oe,n,o,l,u,f,r,F,Q,le,et,bt,wt,i,p,y,d,h,E,T,P,z,W,K,G,N,C,_,L,D,R,I,q,w,ee,ae,ue,Te,ne,Pe,Le,He,Ve,qe,Ke,ht,gt,kt,Ze,Mt,pt,St,Ge,yt,Qe,tt,Ct,Pt,Dt,Bt,Ut,Ht,Vt]}class Xa extends Oe{constructor(t){super(),Ie(this,t,Qa,Ga,Fe,{config:17,className:0,clearAllSquares:18,highlightSquare:1,selectPiece:2,deselect:3,setCheckSquare:19,removeCheckSquare:20,flipBoard:21,highlightManySquares:22,highlightMove:23,highlightMoves:24,highlightLegalMove:25,highlightLegalMoves:26,movePiece:27,removePiece:28,playMoveSound:29,makeMove:30,makeNextMove:31,makeMovePromotion:32,removeSquareHighlight:33,removeAllPiece:34,createPiece:35,changeColorOfPiece:36,getSquareFromCoords:37,setFEN:38,getShortFEN:39,setSize:4,getPieceFromSquare:40,setTools:41,removeTools:42,updateLegalState:43,setMovableColor:44,setLastMove:45,setLegalMoves:46,setPreMoves:47,getState:48,setState:49,setConfigSettings:50,getConfigFromState:51},null,[-1,-1,-1])}get clearAllSquares(){return this.$$.ctx[18]}get highlightSquare(){return this.$$.ctx[1]}get selectPiece(){return this.$$.ctx[2]}get deselect(){return this.$$.ctx[3]}get setCheckSquare(){return this.$$.ctx[19]}get removeCheckSquare(){return this.$$.ctx[20]}get flipBoard(){return this.$$.ctx[21]}get highlightManySquares(){return this.$$.ctx[22]}get highlightMove(){return this.$$.ctx[23]}get highlightMoves(){return this.$$.ctx[24]}get highlightLegalMove(){return this.$$.ctx[25]}get highlightLegalMoves(){return this.$$.ctx[26]}get movePiece(){return this.$$.ctx[27]}get removePiece(){return this.$$.ctx[28]}get playMoveSound(){return this.$$.ctx[29]}get makeMove(){return this.$$.ctx[30]}get makeNextMove(){return this.$$.ctx[31]}get makeMovePromotion(){return this.$$.ctx[32]}get removeSquareHighlight(){return this.$$.ctx[33]}get removeAllPiece(){return this.$$.ctx[34]}get createPiece(){return this.$$.ctx[35]}get changeColorOfPiece(){return this.$$.ctx[36]}get getSquareFromCoords(){return this.$$.ctx[37]}get setFEN(){return this.$$.ctx[38]}get getShortFEN(){return this.$$.ctx[39]}get setSize(){return this.$$.ctx[4]}get getPieceFromSquare(){return this.$$.ctx[40]}get setTools(){return this.$$.ctx[41]}get removeTools(){return this.$$.ctx[42]}get updateLegalState(){return this.$$.ctx[43]}get setMovableColor(){return this.$$.ctx[44]}get setLastMove(){return this.$$.ctx[45]}get setLegalMoves(){return this.$$.ctx[46]}get setPreMoves(){return this.$$.ctx[47]}get getState(){return this.$$.ctx[48]}get setState(){return this.$$.ctx[49]}get setConfigSettings(){return this.$$.ctx[50]}get getConfigFromState(){return this.$$.ctx[51]}}const Ks=["standard","darkBlue"],zs=["backIn","backInOut","backOut","bounceIn","bounceInOut","bounceOut","circIn","circInOut","circOut","cubicIn","cubicInOut","cubicOut","elasticIn","elasticInOut","elasticOut","expoIn","expoInOut","expoOut","linear","quadIn","quadInOut","quadOut","quartIn","quartInOut","quartOut","quintIn","quintInOut","quintOut","sineIn","sineInOut","sineOut"];function js(s){let t,e,i;return{c(){t=U("input"),this.h()},l(a){t=H(a,"INPUT",{type:!0,class:!0}),this.h()},h(){c(t,"type","checkbox"),c(t,"class","mr-1")},m(a,n){Z(a,t,n),t.checked=s[0],e||(i=[de(t,"click",dn(s[6])),de(t,"change",s[7])],e=!0)},p(a,n){n&1&&(t.checked=a[0])},d(a){a&&v(t),e=!1,Ye(i)}}}function Gs(s){let t,e,i;return{c(){t=Be("svg"),e=Be("path"),this.h()},l(a){t=Ue(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=j(t);e=Ue(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),j(e).forEach(v),n.forEach(v),this.h()},h(){c(e,"fill-rule","evenodd"),c(e,"d","M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"),c(e,"clip-rule","evenodd"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"viewBox","0 0 20 20"),c(t,"fill","currentColor"),c(t,"class",i="w-5 h-5 transition "+(s[1]?"rotate-180":"rotate-0"))},m(a,n){Z(a,t,n),A(t,e)},p(a,n){n&2&&i!==(i="w-5 h-5 transition "+(a[1]?"rotate-180":"rotate-0"))&&c(t,"class",i)},d(a){a&&v(t)}}}function Qs(s){let t,e,i;const a=s[5].default,n=rn(a,s,s[4],null);return{c(){t=U("div"),n&&n.c(),this.h()},l(r){t=H(r,"DIV",{class:!0});var o=j(t);n&&n.l(o),o.forEach(v),this.h()},h(){c(t,"class","py-2 px-4")},m(r,o){Z(r,t,o),n&&n.m(t,null),i=!0},p(r,o){n&&n.p&&(!i||o&16)&&ln(n,a,r,r[4],i?un(a,r[4],o,null):on(r[4]),null)},i(r){i||($(n,r),r&&$e(()=>{e||(e=ot(t,ut,{},!0)),e.run(1)}),i=!0)},o(r){ie(n,r),r&&(e||(e=ot(t,ut,{},!1)),e.run(0)),i=!1},d(r){r&&v(t),n&&n.d(r),r&&e&&e.end()}}}function Ya(s){let t,e,i,a,n,r,o,l,u,f,b,p,S,F,O=s[0]!==void 0&&js(s),m=s[3]&&Gs(s),y=s[1]&&Qs(s);return{c(){t=U("div"),e=U("button"),i=U("div"),O&&O.c(),a=te(),n=U("span"),r=me(s[2]),l=te(),m&&m.c(),b=te(),y&&y.c(),this.h()},l(d){t=H(d,"DIV",{class:!0});var h=j(t);e=H(h,"BUTTON",{class:!0});var E=j(e);i=H(E,"DIV",{class:!0});var T=j(i);O&&O.l(T),a=se(T),n=H(T,"SPAN",{class:!0});var P=j(n);r=_e(P,s[2]),P.forEach(v),T.forEach(v),l=se(E),m&&m.l(E),E.forEach(v),b=se(h),y&&y.l(h),h.forEach(v),this.h()},h(){c(n,"class",o=s[0]===void 0?"ml-[21px]":""),c(i,"class","flex gap-1"),c(e,"class",u="flex justify-between px-4 py-2 "+(s[3]?"transition hover:bg-slate-800/40":"")+" rounded"),e.disabled=f=!s[3],c(t,"class","bg-slate-900/20 rounded shadow-lg flex flex-col")},m(d,h){Z(d,t,h),A(t,e),A(e,i),O&&O.m(i,null),A(i,a),A(i,n),A(n,r),A(e,l),m&&m.m(e,null),A(t,b),y&&y.m(t,null),p=!0,S||(F=de(e,"click",s[8]),S=!0)},p(d,[h]){d[0]!==void 0?O?O.p(d,h):(O=js(d),O.c(),O.m(i,a)):O&&(O.d(1),O=null),(!p||h&4)&&Nt(r,d[2]),(!p||h&1&&o!==(o=d[0]===void 0?"ml-[21px]":""))&&c(n,"class",o),d[3]?m?m.p(d,h):(m=Gs(d),m.c(),m.m(e,null)):m&&(m.d(1),m=null),(!p||h&8&&u!==(u="flex justify-between px-4 py-2 "+(d[3]?"transition hover:bg-slate-800/40":"")+" rounded"))&&c(e,"class",u),(!p||h&8&&f!==(f=!d[3]))&&(e.disabled=f),d[1]?y?(y.p(d,h),h&2&&$(y,1)):(y=Qs(d),y.c(),$(y,1),y.m(t,null)):y&&(Ne(),ie(y,1,1,()=>{y=null}),De())},i(d){p||($(y),p=!0)},o(d){ie(y),p=!1},d(d){d&&v(t),O&&O.d(),m&&m.d(),y&&y.d(),S=!1,F()}}}function Za(s,t,e){let{$$slots:i={},$$scope:a}=t,{name:n="board"}=t,{enabled:r=void 0}=t,{showExpand:o=!0}=t,{expanded:l=!1}=t;function u(p){xe.call(this,s,p)}function f(){r=this.checked,e(0,r)}const b=()=>{e(1,l=!l)};return s.$$set=p=>{"name"in p&&e(2,n=p.name),"enabled"in p&&e(0,r=p.enabled),"showExpand"in p&&e(3,o=p.showExpand),"expanded"in p&&e(1,l=p.expanded),"$$scope"in p&&e(4,a=p.$$scope)},[r,l,n,o,a,i,u,f,b]}class ft extends Oe{constructor(t){super(),Ie(this,t,Za,Ya,Fe,{name:2,enabled:0,showExpand:3,expanded:1})}}function Xs(s,t,e){const i=s.slice();return i[21]=t[e],i}function Ys(s){let t,e=s[21]+"",i;return{c(){t=U("option"),i=me(e),this.h()},l(a){t=H(a,"OPTION",{});var n=j(t);i=_e(n,e),n.forEach(v),this.h()},h(){t.__value=s[21],t.value=t.__value},m(a,n){Z(a,t,n),A(t,i)},p:Ae,d(a){a&&v(t)}}}function Zs(s){let t,e,i,a,n,r,o,l,u,f,b,p,S,F,O,m;return{c(){t=U("div"),e=U("div"),i=U("input"),a=te(),n=U("label"),r=me("shadow"),o=te(),l=U("div"),u=U("input"),f=te(),b=U("label"),p=me("border-radius (rem)"),this.h()},l(y){t=H(y,"DIV",{class:!0});var d=j(t);e=H(d,"DIV",{class:!0});var h=j(e);i=H(h,"INPUT",{id:!0,type:!0,class:!0}),a=se(h),n=H(h,"LABEL",{for:!0,class:!0});var E=j(n);r=_e(E,"shadow"),E.forEach(v),h.forEach(v),o=se(d),l=H(d,"DIV",{class:!0});var T=j(l);u=H(T,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0}),f=se(T),b=H(T,"LABEL",{for:!0,class:!0});var P=j(b);p=_e(P,"border-radius (rem)"),P.forEach(v),T.forEach(v),d.forEach(v),this.h()},h(){c(i,"id","shadow"),c(i,"type","checkbox"),c(i,"class","svelte-lnr7xr"),c(n,"for","shadow"),c(n,"class","select-none"),c(e,"class","flex gap-2 mb-2"),c(u,"id","borderRadius"),c(u,"type","number"),c(u,"class","w-16 svelte-lnr7xr"),c(u,"min",0),c(u,"max",1),c(b,"for","borderRadius"),c(b,"class","select-none whitespace-nowrap"),c(l,"class","flex gap-2 mb-2"),c(t,"class","pl-2 pr-4 flex-col")},m(y,d){Z(y,t,d),A(t,e),A(e,i),i.checked=s[3],A(e,a),A(e,n),A(n,r),A(t,o),A(t,l),A(l,u),at(u,s[9]),A(l,f),A(l,b),A(b,p),F=!0,O||(m=[de(i,"change",s[16]),de(u,"input",s[17])],O=!0)},p(y,d){d&8&&(i.checked=y[3]),d&512&&rt(u.value)!==y[9]&&at(u,y[9])},i(y){F||(y&&$e(()=>{S||(S=ot(t,ut,{},!0)),S.run(1)}),F=!0)},o(y){y&&(S||(S=ot(t,ut,{},!1)),S.run(0)),F=!1},d(y){y&&v(t),y&&S&&S.end(),O=!1,Ye(m)}}}function Js(s){let t,e,i,a,n,r,o,l,u,f,b,p,S,F,O,m;return{c(){t=U("div"),e=U("div"),i=U("input"),a=te(),n=U("label"),r=me("min"),o=te(),l=U("div"),u=U("input"),f=te(),b=U("label"),p=me("max"),this.h()},l(y){t=H(y,"DIV",{class:!0});var d=j(t);e=H(d,"DIV",{class:!0});var h=j(e);i=H(h,"INPUT",{id:!0,type:!0,class:!0}),a=se(h),n=H(h,"LABEL",{for:!0,class:!0});var E=j(n);r=_e(E,"min"),E.forEach(v),h.forEach(v),o=se(d),l=H(d,"DIV",{class:!0});var T=j(l);u=H(T,"INPUT",{id:!0,type:!0,class:!0}),f=se(T),b=H(T,"LABEL",{for:!0,class:!0});var P=j(b);p=_e(P,"max"),P.forEach(v),T.forEach(v),d.forEach(v),this.h()},h(){c(i,"id","resizibleMin"),c(i,"type","number"),c(i,"class","w-16 svelte-lnr7xr"),c(n,"for","resizibleMin"),c(n,"class","select-none"),c(e,"class","flex gap-2 mb-2"),c(u,"id","resizibleMax"),c(u,"type","number"),c(u,"class","w-16 svelte-lnr7xr"),c(b,"for","resizibleMax"),c(b,"class","select-none"),c(l,"class","flex gap-2"),c(t,"class","pl-2 pr-4 flex-col")},m(y,d){Z(y,t,d),A(t,e),A(e,i),at(i,s[5]),A(e,a),A(e,n),A(n,r),A(t,o),A(t,l),A(l,u),at(u,s[6]),A(l,f),A(l,b),A(b,p),F=!0,O||(m=[de(i,"input",s[19]),de(u,"input",s[20])],O=!0)},p(y,d){d&32&&rt(i.value)!==y[5]&&at(i,y[5]),d&64&&rt(u.value)!==y[6]&&at(u,y[6])},i(y){F||(y&&$e(()=>{S||(S=ot(t,ut,{},!0)),S.run(1)}),F=!0)},o(y){y&&(S||(S=ot(t,ut,{},!1)),S.run(0)),F=!1},d(y){y&&v(t),y&&S&&S.end(),O=!1,Ye(m)}}}function Ja(s){let t,e,i,a,n,r,o,l,u,f,b,p,S,F,O,m,y,d,h,E,T,P,z,W,K,G,V,X,he,N,g,M,C,_,L=Ks,D=[];for(let q=0;q<L.length;q+=1)D[q]=Ys(Xs(s,L,q));let R=s[10]&&Zs(s),I=s[4]&&Js(s);return{c(){t=U("div"),e=U("select");for(let q=0;q<D.length;q+=1)D[q].c();i=te(),a=U("label"),n=me("board theme"),r=te(),o=U("div"),l=U("input"),u=te(),f=U("label"),b=me("notation"),p=te(),S=U("div"),F=U("input"),O=te(),m=U("label"),y=me("flipped"),d=te(),h=U("div"),E=U("input"),T=te(),P=U("label"),z=me("style"),W=te(),R&&R.c(),K=te(),G=U("div"),V=U("input"),X=te(),he=U("label"),N=me("resizible"),g=te(),I&&I.c(),M=ye(),this.h()},l(q){t=H(q,"DIV",{class:!0});var w=j(t);e=H(w,"SELECT",{class:!0});var x=j(e);for(let Le=0;Le<D.length;Le+=1)D[Le].l(x);x.forEach(v),i=se(w),a=H(w,"LABEL",{for:!0,class:!0});var Q=j(a);n=_e(Q,"board theme"),Q.forEach(v),w.forEach(v),r=se(q),o=H(q,"DIV",{class:!0});var le=j(o);l=H(le,"INPUT",{id:!0,type:!0,class:!0}),u=se(le),f=H(le,"LABEL",{for:!0,class:!0});var ee=j(f);b=_e(ee,"notation"),ee.forEach(v),le.forEach(v),p=se(q),S=H(q,"DIV",{class:!0});var ae=j(S);F=H(ae,"INPUT",{id:!0,type:!0,class:!0}),O=se(ae),m=H(ae,"LABEL",{for:!0,class:!0});var oe=j(m);y=_e(oe,"flipped"),oe.forEach(v),ae.forEach(v),d=se(q),h=H(q,"DIV",{});var ue=j(h);E=H(ue,"INPUT",{id:!0,type:!0,class:!0}),T=se(ue),P=H(ue,"LABEL",{for:!0,class:!0});var Te=j(P);z=_e(Te,"style"),Te.forEach(v),ue.forEach(v),W=se(q),R&&R.l(q),K=se(q),G=H(q,"DIV",{class:!0});var ne=j(G);V=H(ne,"INPUT",{id:!0,type:!0,class:!0}),X=se(ne),he=H(ne,"LABEL",{for:!0,class:!0});var Pe=j(he);N=_e(Pe,"resizible"),Pe.forEach(v),ne.forEach(v),g=se(q),I&&I.l(q),M=ye(),this.h()},h(){c(e,"class","svelte-lnr7xr"),s[0]===void 0&&$e(()=>s[12].call(e)),c(a,"for","boardTheme"),c(a,"class","select-none"),c(t,"class","mb-2"),c(l,"id","notation"),c(l,"type","checkbox"),c(l,"class","svelte-lnr7xr"),c(f,"for","notation"),c(f,"class","select-none"),c(o,"class","mb-2"),c(F,"id","flipped"),c(F,"type","checkbox"),c(F,"class","svelte-lnr7xr"),c(m,"for","flipped"),c(m,"class","select-none"),c(S,"class","mb-2"),c(E,"id","styleEnabled"),c(E,"type","checkbox"),c(E,"class","svelte-lnr7xr"),c(P,"for","styleEnabled"),c(P,"class","select-none"),c(V,"id","resizibleEnabled"),c(V,"type","checkbox"),c(V,"class","svelte-lnr7xr"),c(he,"for","resizibleEnabled"),c(he,"class","select-none"),c(G,"class","mt-2 mb-1")},m(q,w){Z(q,t,w),A(t,e);for(let x=0;x<D.length;x+=1)D[x].m(e,null);Et(e,s[0]),A(t,i),A(t,a),A(a,n),Z(q,r,w),Z(q,o,w),A(o,l),l.checked=s[1],A(o,u),A(o,f),A(f,b),Z(q,p,w),Z(q,S,w),A(S,F),F.checked=s[2],A(S,O),A(S,m),A(m,y),Z(q,d,w),Z(q,h,w),A(h,E),E.checked=s[10],A(h,T),A(h,P),A(P,z),Z(q,W,w),R&&R.m(q,w),Z(q,K,w),Z(q,G,w),A(G,V),V.checked=s[4],A(G,X),A(G,he),A(he,N),Z(q,g,w),I&&I.m(q,w),Z(q,M,w),C||(_=[de(e,"change",s[12]),de(l,"change",s[13]),de(F,"change",s[14]),de(E,"change",s[15]),de(V,"change",s[18])],C=!0)},p(q,w){if(w&0){L=Ks;let x;for(x=0;x<L.length;x+=1){const Q=Xs(q,L,x);D[x]?D[x].p(Q,w):(D[x]=Ys(Q),D[x].c(),D[x].m(e,null))}for(;x<D.length;x+=1)D[x].d(1);D.length=L.length}w&1&&Et(e,q[0]),w&2&&(l.checked=q[1]),w&4&&(F.checked=q[2]),w&1024&&(E.checked=q[10]),q[10]?R?(R.p(q,w),w&1024&&$(R,1)):(R=Zs(q),R.c(),$(R,1),R.m(K.parentNode,K)):R&&(Ne(),ie(R,1,1,()=>{R=null}),De()),w&16&&(V.checked=q[4]),q[4]?I?(I.p(q,w),w&16&&$(I,1)):(I=Js(q),I.c(),$(I,1),I.m(M.parentNode,M)):I&&(Ne(),ie(I,1,1,()=>{I=null}),De())},d(q){q&&v(t),lt(D,q),q&&v(r),q&&v(o),q&&v(p),q&&v(S),q&&v(d),q&&v(h),q&&v(W),R&&R.d(q),q&&v(K),q&&v(G),q&&v(g),I&&I.d(q),q&&v(M),C=!1,Ye(_)}}}function xa(s){let t,e;return t=new ft({props:{name:s[7],expanded:s[8],$$slots:{default:[Ja]},$$scope:{ctx:s}}}),{c(){Ee(t.$$.fragment)},l(i){ke(t.$$.fragment,i)},m(i,a){we(t,i,a),e=!0},p(i,[a]){const n={};a&128&&(n.name=i[7]),a&256&&(n.expanded=i[8]),a&16778879&&(n.$$scope={dirty:a,ctx:i}),t.$set(n)},i(i){e||($(t.$$.fragment,i),e=!0)},o(i){ie(t.$$.fragment,i),e=!1},d(i){Me(t,i)}}}function $a(s,t,e){let{name:i="Board"}=t,{boardTheme:a}=t,{notation:n}=t,{flipped:r}=t,{shadow:o}=t,{borderRadius:l="0px"}=t,{resizible:u=!1}=t,{min:f=0}=t,{max:b=0}=t,{expanded:p=!1}=t,S=!0,F=parseFloat(l.endsWith("px")?l.slice(0,-2):l.slice(0,-3));function O(){a=ts(this),e(0,a)}function m(){n=this.checked,e(1,n)}function y(){r=this.checked,e(2,r)}function d(){S=this.checked,e(10,S)}function h(){o=this.checked,e(3,o)}function E(){F=rt(this.value),e(9,F)}function T(){u=this.checked,e(4,u)}function P(){f=rt(this.value),e(5,f)}function z(){b=rt(this.value),e(6,b)}return s.$$set=W=>{"name"in W&&e(7,i=W.name),"boardTheme"in W&&e(0,a=W.boardTheme),"notation"in W&&e(1,n=W.notation),"flipped"in W&&e(2,r=W.flipped),"shadow"in W&&e(3,o=W.shadow),"borderRadius"in W&&e(11,l=W.borderRadius),"resizible"in W&&e(4,u=W.resizible),"min"in W&&e(5,f=W.min),"max"in W&&e(6,b=W.max),"expanded"in W&&e(8,p=W.expanded)},s.$$.update=()=>{s.$$.dirty&512&&e(11,l=`${F!=null?F:0}rem`)},[a,n,r,o,u,f,b,i,p,F,S,l,O,m,y,d,h,E,T,P,z]}class er extends Oe{constructor(t){super(),Ie(this,t,$a,xa,Fe,{name:7,boardTheme:0,notation:1,flipped:2,shadow:3,borderRadius:11,resizible:4,min:5,max:6,expanded:8})}}function tr(s){let t,e,i,a,n,r,o,l,u,f;return{c(){t=U("div"),e=U("select"),i=U("option"),a=me("Both"),n=U("option"),r=me("White"),o=U("option"),l=me("Black"),this.h()},l(b){t=H(b,"DIV",{});var p=j(t);e=H(p,"SELECT",{class:!0});var S=j(e);i=H(S,"OPTION",{});var F=j(i);a=_e(F,"Both"),F.forEach(v),n=H(S,"OPTION",{});var O=j(n);r=_e(O,"White"),O.forEach(v),o=H(S,"OPTION",{});var m=j(o);l=_e(m,"Black"),m.forEach(v),S.forEach(v),p.forEach(v),this.h()},h(){i.__value=fe.BOTH,i.value=i.__value,n.__value=fe.WHITE,n.value=n.__value,o.__value=fe.BLACK,o.value=o.__value,c(e,"class","svelte-xrxnwg"),s[1]===void 0&&$e(()=>s[4].call(e))},m(b,p){Z(b,t,p),A(t,e),A(e,i),A(i,a),A(e,n),A(n,r),A(e,o),A(o,l),Et(e,s[1]),u||(f=de(e,"change",s[4]),u=!0)},p(b,p){p&2&&Et(e,b[1])},d(b){b&&v(t),u=!1,f()}}}function sr(s){let t,e,i;function a(r){s[5](r)}let n={name:s[2],expanded:s[3],$$slots:{default:[tr]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),t=new ft({props:n}),re.push(()=>ge(t,"enabled",a)),{c(){Ee(t.$$.fragment)},l(r){ke(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,[o]){const l={};o&4&&(l.name=r[2]),o&8&&(l.expanded=r[3]),o&66&&(l.$$scope={dirty:o,ctx:r}),!e&&o&1&&(e=!0,l.enabled=r[0],be(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){Me(t,r)}}}function nr(s,t,e){let{name:i="Movable"}=t,{enabled:a=!1}=t,{color:n}=t,{expanded:r=!1}=t;function o(){n=ts(this),e(1,n)}function l(u){a=u,e(0,a)}return s.$$set=u=>{"name"in u&&e(2,i=u.name),"enabled"in u&&e(0,a=u.enabled),"color"in u&&e(1,n=u.color),"expanded"in u&&e(3,r=u.expanded)},[a,n,i,r,o,l]}class ir extends Oe{constructor(t){super(),Ie(this,t,nr,sr,Fe,{name:2,enabled:0,color:1,expanded:3})}}function xs(s,t,e){const i=s.slice();return i[12]=t[e],i}function $s(s){let t,e,i,a,n,r,o,l,u,f,b,p,S,F,O,m,y=zs,d=[];for(let h=0;h<y.length;h+=1)d[h]=en(xs(s,y,h));return{c(){t=U("div"),e=U("div"),i=U("input"),a=te(),n=U("label"),r=me("duration"),o=te(),l=U("div"),u=U("select");for(let h=0;h<d.length;h+=1)d[h].c();f=te(),b=U("label"),p=me("easing"),this.h()},l(h){t=H(h,"DIV",{class:!0});var E=j(t);e=H(E,"DIV",{class:!0});var T=j(e);i=H(T,"INPUT",{id:!0,type:!0,class:!0}),a=se(T),n=H(T,"LABEL",{for:!0,class:!0});var P=j(n);r=_e(P,"duration"),P.forEach(v),T.forEach(v),o=se(E),l=H(E,"DIV",{class:!0});var z=j(l);u=H(z,"SELECT",{id:!0,class:!0});var W=j(u);for(let G=0;G<d.length;G+=1)d[G].l(W);W.forEach(v),f=se(z),b=H(z,"LABEL",{for:!0,class:!0});var K=j(b);p=_e(K,"easing"),K.forEach(v),z.forEach(v),E.forEach(v),this.h()},h(){c(i,"id","transitionDuration"),c(i,"type","number"),c(i,"class","w-16 svelte-1qpp6cx"),c(n,"for","transitionDuration"),c(n,"class","select-none"),c(e,"class","flex gap-2 mb-2"),c(u,"id","easingFuncs"),c(u,"class","svelte-1qpp6cx"),s[4]===void 0&&$e(()=>s[10].call(u)),c(b,"for","easingFuncs"),c(b,"class","select-none"),c(l,"class","flex gap-2"),c(t,"class","pl-2 pr-4 flex-col")},m(h,E){Z(h,t,E),A(t,e),A(e,i),at(i,s[3]),A(e,a),A(e,n),A(n,r),A(t,o),A(t,l),A(l,u);for(let T=0;T<d.length;T+=1)d[T].m(u,null);Et(u,s[4]),A(l,f),A(l,b),A(b,p),F=!0,O||(m=[de(i,"input",s[9]),de(u,"change",s[10])],O=!0)},p(h,E){if(E&8&&rt(i.value)!==h[3]&&at(i,h[3]),E&0){y=zs;let T;for(T=0;T<y.length;T+=1){const P=xs(h,y,T);d[T]?d[T].p(P,E):(d[T]=en(P),d[T].c(),d[T].m(u,null))}for(;T<d.length;T+=1)d[T].d(1);d.length=y.length}E&16&&Et(u,h[4])},i(h){F||(h&&$e(()=>{S||(S=ot(t,ut,{},!0)),S.run(1)}),F=!0)},o(h){h&&(S||(S=ot(t,ut,{},!1)),S.run(0)),F=!1},d(h){h&&v(t),lt(d,h),h&&S&&S.end(),O=!1,Ye(m)}}}function en(s){let t,e=s[12]+"",i;return{c(){t=U("option"),i=me(e),this.h()},l(a){t=H(a,"OPTION",{});var n=j(t);i=_e(n,e),n.forEach(v),this.h()},h(){t.__value=s[12],t.value=t.__value},m(a,n){Z(a,t,n),A(t,i)},p:Ae,d(a){a&&v(t)}}}function ar(s){let t,e,i,a,n,r,o,l,u,f,b,p,S,F,O,m=s[2]&&$s(s);return{c(){t=U("div"),e=U("input"),i=te(),a=U("label"),n=me("ghost piece"),r=te(),o=U("div"),l=U("input"),u=te(),f=U("label"),b=me("transition"),p=te(),m&&m.c(),S=ye(),this.h()},l(y){t=H(y,"DIV",{class:!0});var d=j(t);e=H(d,"INPUT",{id:!0,type:!0,class:!0}),i=se(d),a=H(d,"LABEL",{for:!0,class:!0});var h=j(a);n=_e(h,"ghost piece"),h.forEach(v),d.forEach(v),r=se(y),o=H(y,"DIV",{class:!0});var E=j(o);l=H(E,"INPUT",{id:!0,type:!0,class:!0}),u=se(E),f=H(E,"LABEL",{for:!0,class:!0});var T=j(f);b=_e(T,"transition"),T.forEach(v),E.forEach(v),p=se(y),m&&m.l(y),S=ye(),this.h()},h(){c(e,"id","ghostPiece"),c(e,"type","checkbox"),c(e,"class","svelte-1qpp6cx"),c(a,"for","ghostPiece"),c(a,"class","select-none"),c(t,"class","mb-2"),c(l,"id","draggableEnabled"),c(l,"type","checkbox"),c(l,"class","svelte-1qpp6cx"),c(f,"for","draggableEnabled"),c(f,"class","select-none"),c(o,"class","mb-2")},m(y,d){Z(y,t,d),A(t,e),e.checked=s[1],A(t,i),A(t,a),A(a,n),Z(y,r,d),Z(y,o,d),A(o,l),l.checked=s[2],A(o,u),A(o,f),A(f,b),Z(y,p,d),m&&m.m(y,d),Z(y,S,d),F||(O=[de(e,"change",s[7]),de(l,"change",s[8])],F=!0)},p(y,d){d&2&&(e.checked=y[1]),d&4&&(l.checked=y[2]),y[2]?m?(m.p(y,d),d&4&&$(m,1)):(m=$s(y),m.c(),$(m,1),m.m(S.parentNode,S)):m&&(Ne(),ie(m,1,1,()=>{m=null}),De())},d(y){y&&v(t),y&&v(r),y&&v(o),y&&v(p),m&&m.d(y),y&&v(S),F=!1,Ye(O)}}}function rr(s){let t,e,i;function a(r){s[11](r)}let n={name:s[5],expanded:s[6],$$slots:{default:[ar]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),t=new ft({props:n}),re.push(()=>ge(t,"enabled",a)),{c(){Ee(t.$$.fragment)},l(r){ke(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,[o]){const l={};o&32&&(l.name=r[5]),o&64&&(l.expanded=r[6]),o&32798&&(l.$$scope={dirty:o,ctx:r}),!e&&o&1&&(e=!0,l.enabled=r[0],be(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){Me(t,r)}}}function lr(s,t,e){let{name:i="Draggable"}=t,{enabled:a=!1}=t,{ghostPiece:n=!1}=t,{transition:r=!1}=t,{duration:o=120}=t,{easing:l="easeInOut"}=t,{expanded:u=!1}=t;function f(){n=this.checked,e(1,n)}function b(){r=this.checked,e(2,r)}function p(){o=rt(this.value),e(3,o)}function S(){l=ts(this),e(4,l)}function F(O){a=O,e(0,a)}return s.$$set=O=>{"name"in O&&e(5,i=O.name),"enabled"in O&&e(0,a=O.enabled),"ghostPiece"in O&&e(1,n=O.ghostPiece),"transition"in O&&e(2,r=O.transition),"duration"in O&&e(3,o=O.duration),"easing"in O&&e(4,l=O.easing),"expanded"in O&&e(6,u=O.expanded)},[a,n,r,o,l,i,u,f,b,p,S,F]}class or extends Oe{constructor(t){super(),Ie(this,t,lr,rr,Fe,{name:5,enabled:0,ghostPiece:1,transition:2,duration:3,easing:4,expanded:6})}}function tn(s,t,e){const i=s.slice();return i[7]=t[e],i[8]=t,i[9]=e,i}function sn(s){let t,e,i,a,n=s[7]+"",r,o,l,u;function f(){s[5].call(e,s[7])}return{c(){t=U("div"),e=U("input"),i=te(),a=U("label"),r=me(n),o=te(),this.h()},l(b){t=H(b,"DIV",{class:!0});var p=j(t);e=H(p,"INPUT",{id:!0,type:!0}),i=se(p),a=H(p,"LABEL",{for:!0,class:!0});var S=j(a);r=_e(S,n),S.forEach(v),o=se(p),p.forEach(v),this.h()},h(){c(e,"id",s[7]+"Enabled"),c(e,"type","checkbox"),c(a,"for",s[7]+"Enabled"),c(a,"class","select-none"),c(t,"class","mb-2")},m(b,p){Z(b,t,p),A(t,e),e.checked=s[1][s[7]],A(t,i),A(t,a),A(a,r),A(t,o),l||(u=de(e,"change",f),l=!0)},p(b,p){s=b,p&18&&(e.checked=s[1][s[7]])},d(b){b&&v(t),l=!1,u()}}}function ur(s){let t,e=s[4],i=[];for(let a=0;a<e.length;a+=1)i[a]=sn(tn(s,e,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=ye()},l(a){for(let n=0;n<i.length;n+=1)i[n].l(a);t=ye()},m(a,n){for(let r=0;r<i.length;r+=1)i[r].m(a,n);Z(a,t,n)},p(a,n){if(n&18){e=a[4];let r;for(r=0;r<e.length;r+=1){const o=tn(a,e,r);i[r]?i[r].p(o,n):(i[r]=sn(o),i[r].c(),i[r].m(t.parentNode,t))}for(;r<i.length;r+=1)i[r].d(1);i.length=e.length}},d(a){lt(i,a),a&&v(t)}}}function fr(s){let t,e,i;function a(r){s[6](r)}let n={name:s[2],expanded:s[3],$$slots:{default:[ur]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),t=new ft({props:n}),re.push(()=>ge(t,"enabled",a)),{c(){Ee(t.$$.fragment)},l(r){ke(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,[o]){const l={};o&4&&(l.name=r[2]),o&8&&(l.expanded=r[3]),o&1026&&(l.$$scope={dirty:o,ctx:r}),!e&&o&1&&(e=!0,l.enabled=r[0],be(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){Me(t,r)}}}function dr(s,t,e){let{name:i="Highlight"}=t,{enabled:a=!1}=t,{settings:n}=t;const r=["select","legal","move","preMove","nextMove","check"];let{expanded:o=!1}=t;function l(f){n[f]=this.checked,e(1,n)}function u(f){a=f,e(0,a)}return s.$$set=f=>{"name"in f&&e(2,i=f.name),"enabled"in f&&e(0,a=f.enabled),"settings"in f&&e(1,n=f.settings),"expanded"in f&&e(3,o=f.expanded)},[a,n,i,o,r,l,u]}class cr extends Oe{constructor(t){super(),Ie(this,t,dr,fr,Fe,{name:2,enabled:0,settings:1,expanded:3})}}function hr(s){let t,e,i,a,n,r,o,l,u,f,b,p,S;return{c(){t=U("div"),e=U("input"),i=te(),a=U("label"),n=me("L shape knight move"),r=te(),o=U("div"),l=U("input"),u=te(),f=U("label"),b=me("only chess move"),this.h()},l(F){t=H(F,"DIV",{class:!0});var O=j(t);e=H(O,"INPUT",{id:!0,type:!0}),i=se(O),a=H(O,"LABEL",{for:!0,class:!0});var m=j(a);n=_e(m,"L shape knight move"),m.forEach(v),O.forEach(v),r=se(F),o=H(F,"DIV",{class:!0});var y=j(o);l=H(y,"INPUT",{id:!0,type:!0}),u=se(y),f=H(y,"LABEL",{for:!0,class:!0});var d=j(f);b=_e(d,"only chess move"),d.forEach(v),y.forEach(v),this.h()},h(){c(e,"id","knightLShapeMoveEnabled"),c(e,"type","checkbox"),c(a,"for","knightLShapeMoveEnabled"),c(a,"class","select-none"),c(t,"class","mb-2"),c(l,"id","onlyChessMoveEnabled"),c(l,"type","checkbox"),c(f,"for","onlyChessMoveEnabled"),c(f,"class","select-none"),c(o,"class","mb-2")},m(F,O){Z(F,t,O),A(t,e),e.checked=s[1],A(t,i),A(t,a),A(a,n),Z(F,r,O),Z(F,o,O),A(o,l),l.checked=s[2],A(o,u),A(o,f),A(f,b),p||(S=[de(e,"change",s[5]),de(l,"change",s[6])],p=!0)},p(F,O){O&2&&(e.checked=F[1]),O&4&&(l.checked=F[2])},d(F){F&&v(t),F&&v(r),F&&v(o),p=!1,Ye(S)}}}function gr(s){let t,e,i;function a(r){s[7](r)}let n={name:s[3],expanded:s[4],$$slots:{default:[hr]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),t=new ft({props:n}),re.push(()=>ge(t,"enabled",a)),{c(){Ee(t.$$.fragment)},l(r){ke(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,[o]){const l={};o&8&&(l.name=r[3]),o&16&&(l.expanded=r[4]),o&262&&(l.$$scope={dirty:o,ctx:r}),!e&&o&1&&(e=!0,l.enabled=r[0],be(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){Me(t,r)}}}function br(s,t,e){let{name:i="DrawTools"}=t,{enabled:a=!1}=t,{knightLShape:n=!1}=t,{onlyChessMove:r=!1}=t,{expanded:o=!1}=t;function l(){n=this.checked,e(1,n)}function u(){r=this.checked,e(2,r)}function f(b){a=b,e(0,a)}return s.$$set=b=>{"name"in b&&e(3,i=b.name),"enabled"in b&&e(0,a=b.enabled),"knightLShape"in b&&e(1,n=b.knightLShape),"onlyChessMove"in b&&e(2,r=b.onlyChessMove),"expanded"in b&&e(4,o=b.expanded)},[a,n,r,i,o,l,u,f]}class pr extends Oe{constructor(t){super(),Ie(this,t,br,gr,Fe,{name:3,enabled:0,knightLShape:1,onlyChessMove:2,expanded:4})}}function nn(s,t,e){const i=s.slice();return i[7]=t[e],i[8]=t,i[9]=e,i}function an(s){let t,e,i,a,n=s[7].toLowerCase()+"",r,o,l,u;function f(){s[5].call(e,s[7])}return{c(){t=U("div"),e=U("input"),i=te(),a=U("label"),r=me(n),o=te(),this.h()},l(b){t=H(b,"DIV",{class:!0});var p=j(t);e=H(p,"INPUT",{id:!0,type:!0}),i=se(p),a=H(p,"LABEL",{for:!0,class:!0});var S=j(a);r=_e(S,n),S.forEach(v),o=se(p),p.forEach(v),this.h()},h(){c(e,"id",s[7]+"Enabled"),c(e,"type","checkbox"),c(a,"for",s[7]+"Enabled"),c(a,"class","select-none"),c(t,"class","mb-2")},m(b,p){Z(b,t,p),A(t,e),e.checked=s[1][s[7]],A(t,i),A(t,a),A(a,r),A(t,o),l||(u=de(e,"change",f),l=!0)},p(b,p){s=b,p&18&&(e.checked=s[1][s[7]])},d(b){b&&v(t),l=!1,u()}}}function mr(s){let t,e=s[4],i=[];for(let a=0;a<e.length;a+=1)i[a]=an(nn(s,e,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=ye()},l(a){for(let n=0;n<i.length;n+=1)i[n].l(a);t=ye()},m(a,n){for(let r=0;r<i.length;r+=1)i[r].m(a,n);Z(a,t,n)},p(a,n){if(n&18){e=a[4];let r;for(r=0;r<e.length;r+=1){const o=nn(a,e,r);i[r]?i[r].p(o,n):(i[r]=an(o),i[r].c(),i[r].m(t.parentNode,t))}for(;r<i.length;r+=1)i[r].d(1);i.length=e.length}},d(a){lt(i,a),a&&v(t)}}}function _r(s){let t,e,i;function a(r){s[6](r)}let n={name:s[2],expanded:s[3],$$slots:{default:[mr]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),t=new ft({props:n}),re.push(()=>ge(t,"enabled",a)),{c(){Ee(t.$$.fragment)},l(r){ke(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,[o]){const l={};o&4&&(l.name=r[2]),o&8&&(l.expanded=r[3]),o&1026&&(l.$$scope={dirty:o,ctx:r}),!e&&o&1&&(e=!0,l.enabled=r[0],be(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){Me(t,r)}}}function vr(s,t,e){let{name:i="Sounds"}=t,{enabled:a=!1}=t,{settings:n}=t;const r=["MOVE","CAPTURE","CASTLE","UNDO"];let{expanded:o=!1}=t;function l(f){n[f]=this.checked,e(1,n)}function u(f){a=f,e(0,a)}return s.$$set=f=>{"name"in f&&e(2,i=f.name),"enabled"in f&&e(0,a=f.enabled),"settings"in f&&e(1,n=f.settings),"expanded"in f&&e(3,o=f.expanded)},[a,n,i,o,r,l,u]}class Er extends Oe{constructor(t){super(),Ie(this,t,vr,_r,Fe,{name:2,enabled:0,settings:1,expanded:3})}}function kr(s){let t,e;return{c(){t=Be("svg"),e=Be("path"),this.h()},l(i){t=Ue(i,"svg",{style:!0,xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var a=j(t);e=Ue(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),j(e).forEach(v),a.forEach(v),this.h()},h(){c(e,"stroke-linecap","round"),c(e,"stroke-linejoin","round"),c(e,"stroke-width","2"),c(e,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),Se(t,"transform","translate(1px, 0px)"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","h-5"),c(t,"fill","none"),c(t,"viewBox","0 0 24 24"),c(t,"aria-hidden","true"),c(t,"stroke","currentColor")},m(i,a){Z(i,t,a),A(t,e)},d(i){i&&v(t)}}}function wr(s){let t,e;return{c(){t=Be("svg"),e=Be("path"),this.h()},l(i){t=Ue(i,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var a=j(t);e=Ue(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),j(e).forEach(v),a.forEach(v),this.h()},h(){c(e,"stroke-linecap","round"),c(e,"stroke-linejoin","round"),c(e,"stroke-width","2"),c(e,"d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","h-5 text-green-500"),c(t,"fill","none"),c(t,"viewBox","0 0 24 24"),c(t,"aria-hidden","true"),c(t,"stroke","currentColor")},m(i,a){Z(i,t,a),A(t,e)},d(i){i&&v(t)}}}function Mr(s){let t,e,i;function a(o,l){return o[1]?wr:kr}let n=a(s),r=n(s);return{c(){t=U("button"),r.c(),this.h()},l(o){t=H(o,"BUTTON",{type:!0,class:!0});var l=j(t);r.l(l),l.forEach(v),this.h()},h(){c(t,"type","button"),c(t,"class","box-border rounded-sm bg-slate-800 bg-opacity-40 text-gray-500 transition hover:text-gray-300 focus:z-10 focus:ring-1 focus:ring-blue-600 p-1")},m(o,l){Z(o,t,l),r.m(t,null),s[4](t),e||(i=de(t,"click",s[2]),e=!0)},p(o,[l]){n!==(n=a(o))&&(r.d(1),r=n(o),r&&(r.c(),r.m(t,null)))},i:Ae,o:Ae,d(o){o&&v(t),r.d(),s[4](null),e=!1,i()}}}function Sr(s,t,e){let{copyText:i}=t,a,n=!1;function r(){navigator.clipboard.writeText(i),e(1,n=!0),setTimeout(()=>{e(1,n=!1)},2e3),a.setAttribute("data-cooltipz-dir","top"),a.setAttribute("aria-label","Copied!"),setTimeout(()=>{a.removeAttribute("aria-label"),a.removeAttribute("data-cooltipz-dir")},2e3)}function o(l){re[l?"unshift":"push"](()=>{a=l,e(0,a)})}return s.$$set=l=>{"copyText"in l&&e(3,i=l.copyText)},[a,n,r,i,o]}class yr extends Oe{constructor(t){super(),Ie(this,t,Sr,Mr,Fe,{copyText:3})}}function Cr(s){let t,e,i,a,n,r,o;return{c(){t=U("div"),e=U("input"),i=te(),a=U("label"),n=me("preMoves"),this.h()},l(l){t=H(l,"DIV",{});var u=j(t);e=H(u,"INPUT",{id:!0,type:!0}),i=se(u),a=H(u,"LABEL",{for:!0,class:!0});var f=j(a);n=_e(f,"preMoves"),f.forEach(v),u.forEach(v),this.h()},h(){c(e,"id","preMovesEnabled"),c(e,"type","checkbox"),c(a,"for","preMovesEnabled"),c(a,"class","select-none")},m(l,u){Z(l,t,u),A(t,e),e.checked=s[1],A(t,i),A(t,a),A(a,n),r||(o=de(e,"change",s[4]),r=!0)},p(l,u){u&2&&(e.checked=l[1])},d(l){l&&v(t),r=!1,o()}}}function Ar(s){let t,e,i;function a(r){s[5](r)}let n={name:s[2],expanded:s[3],$$slots:{default:[Cr]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),t=new ft({props:n}),re.push(()=>ge(t,"enabled",a)),{c(){Ee(t.$$.fragment)},l(r){ke(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,[o]){const l={};o&4&&(l.name=r[2]),o&8&&(l.expanded=r[3]),o&66&&(l.$$scope={dirty:o,ctx:r}),!e&&o&1&&(e=!0,l.enabled=r[0],be(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){Me(t,r)}}}function Tr(s,t,e){let{name:i="Legal"}=t,{enabled:a=!1}=t,{preMovesEnabled:n=!1}=t,{expanded:r=!1}=t;function o(){n=this.checked,e(1,n)}function l(u){a=u,e(0,a)}return s.$$set=u=>{"name"in u&&e(2,i=u.name),"enabled"in u&&e(0,a=u.enabled),"preMovesEnabled"in u&&e(1,n=u.preMovesEnabled),"expanded"in u&&e(3,r=u.expanded)},[a,n,i,r,o,l]}class Pr extends Oe{constructor(t){super(),Ie(this,t,Tr,Ar,Fe,{name:2,enabled:0,preMovesEnabled:1,expanded:3})}}function Lr(s){let t,e,i,a,n,r,o,l,u,f,b,p,S,F,O,m,y,d,h,E,T,P,z,W,K,G,V,X,he,N,g,M,C,_,L,D,R,I,q,w,x,Q,le,ee,ae,oe,ue,Te,ne,Pe,Le,He,Ve,qe,Ke,ht,gt,kt,et,bt,wt,Ze,Mt,pt,St,Ge,yt,Qe,tt,Ct,Pt;function Dt(B){s[6](B)}function Bt(B){s[7](B)}function Ut(B){s[8](B)}function Ht(B){s[9](B)}function Vt(B){s[10](B)}function k(B){s[11](B)}function Y(B){s[12](B)}function ve(B){s[13](B)}let pe={expanded:!0};s[1].board.boardTheme!==void 0&&(pe.boardTheme=s[1].board.boardTheme),s[1].board.notation!==void 0&&(pe.notation=s[1].board.notation),s[1].board.flipped!==void 0&&(pe.flipped=s[1].board.flipped),s[1].board.style.shadow!==void 0&&(pe.shadow=s[1].board.style.shadow),s[1].board.style.borderRadius!==void 0&&(pe.borderRadius=s[1].board.style.borderRadius),s[1].board.resizible.enabled!==void 0&&(pe.resizible=s[1].board.resizible.enabled),s[1].board.resizible.min!==void 0&&(pe.min=s[1].board.resizible.min),s[1].board.resizible.max!==void 0&&(pe.max=s[1].board.resizible.max),r=new er({props:pe}),re.push(()=>ge(r,"boardTheme",Dt)),re.push(()=>ge(r,"notation",Bt)),re.push(()=>ge(r,"flipped",Ut)),re.push(()=>ge(r,"shadow",Ht)),re.push(()=>ge(r,"borderRadius",Vt)),re.push(()=>ge(r,"resizible",k)),re.push(()=>ge(r,"min",Y)),re.push(()=>ge(r,"max",ve));function Re(B){s[14](B)}function We(B){s[15](B)}let Xe={expanded:!0};s[1].movable.enabled!==void 0&&(Xe.enabled=s[1].movable.enabled),s[1].movable.color!==void 0&&(Xe.color=s[1].movable.color),m=new ir({props:Xe}),re.push(()=>ge(m,"enabled",Re)),re.push(()=>ge(m,"color",We));function Mn(B){s[16](B)}function Sn(B){s[17](B)}function yn(B){s[18](B)}function Cn(B){s[19](B)}function An(B){s[20](B)}let mt={};s[1].draggable.enabled!==void 0&&(mt.enabled=s[1].draggable.enabled),s[1].draggable.ghostPiece.enabled!==void 0&&(mt.ghostPiece=s[1].draggable.ghostPiece.enabled),s[1].draggable.transition.enabled!==void 0&&(mt.transition=s[1].draggable.transition.enabled),s[1].draggable.transition.settings.duration!==void 0&&(mt.duration=s[1].draggable.transition.settings.duration),s[1].draggable.transition.settings.easing!==void 0&&(mt.easing=s[1].draggable.transition.settings.easing),E=new or({props:mt}),re.push(()=>ge(E,"enabled",Mn)),re.push(()=>ge(E,"ghostPiece",Sn)),re.push(()=>ge(E,"transition",yn)),re.push(()=>ge(E,"duration",Cn)),re.push(()=>ge(E,"easing",An));function Tn(B){s[21](B)}let ns={name:"Selectable",showExpand:!1};s[1].selectable.enabled!==void 0&&(ns.enabled=s[1].selectable.enabled),V=new ft({props:ns}),re.push(()=>ge(V,"enabled",Tn));function Pn(B){s[22](B)}function Ln(B){s[23](B)}let Wt={expanded:!0};s[1].legal.enabled!==void 0&&(Wt.enabled=s[1].legal.enabled),s[1].legal.preMoves.enabled!==void 0&&(Wt.preMovesEnabled=s[1].legal.preMoves.enabled),N=new Pr({props:Wt}),re.push(()=>ge(N,"enabled",Pn)),re.push(()=>ge(N,"preMovesEnabled",Ln));function On(B){s[24](B)}function In(B){s[25](B)}let Kt={};s[1].highlight.enabled!==void 0&&(Kt.enabled=s[1].highlight.enabled),s[1].highlight.settings!==void 0&&(Kt.settings=s[1].highlight.settings),_=new cr({props:Kt}),re.push(()=>ge(_,"enabled",On)),re.push(()=>ge(_,"settings",In));function Fn(B){s[26](B)}function qn(B){s[27](B)}function Rn(B){s[28](B)}let Lt={};s[1].drawTools.enabled!==void 0&&(Lt.enabled=s[1].drawTools.enabled),s[1].drawTools.settings.knightLShape!==void 0&&(Lt.knightLShape=s[1].drawTools.settings.knightLShape),s[1].drawTools.settings.onlyChessMove!==void 0&&(Lt.onlyChessMove=s[1].drawTools.settings.onlyChessMove),I=new pr({props:Lt}),re.push(()=>ge(I,"enabled",Fn)),re.push(()=>ge(I,"knightLShape",qn)),re.push(()=>ge(I,"onlyChessMove",Rn));function Nn(B){s[29](B)}function Dn(B){s[30](B)}let zt={};s[1].sounds.enabled!==void 0&&(zt.enabled=s[1].sounds.enabled),s[1].sounds.settings!==void 0&&(zt.settings=s[1].sounds.settings),le=new Er({props:zt}),re.push(()=>ge(le,"enabled",Nn)),re.push(()=>ge(le,"settings",Dn));let Bn={config:s[4]};return ne=new Xa({props:Bn}),s[31](ne),Ge=new yr({props:{copyText:s[3]}}),Qe=new si({props:{source:s[3],language:"svelte"}}),{c(){t=U("link"),e=te(),i=U("div"),a=U("div"),n=U("div"),Ee(r.$$.fragment),O=te(),Ee(m.$$.fragment),h=te(),Ee(E.$$.fragment),G=te(),Ee(V.$$.fragment),he=te(),Ee(N.$$.fragment),C=te(),Ee(_.$$.fragment),R=te(),Ee(I.$$.fragment),Q=te(),Ee(le.$$.fragment),oe=te(),ue=U("div"),Te=U("div"),Ee(ne.$$.fragment),Pe=te(),Le=U("div"),He=U("div"),Ve=U("div"),qe=U("button"),Ke=U("span"),ht=me("ts"),kt=te(),et=U("span"),bt=me("/"),wt=te(),Ze=U("span"),Mt=me("js"),St=te(),Ee(Ge.$$.fragment),yt=te(),Ee(Qe.$$.fragment),this.h()},l(B){const ce=Yn('[data-svelte="svelte-tebjht"]',document.head);t=H(ce,"LINK",{rel:!0,href:!0}),ce.forEach(v),e=se(B),i=H(B,"DIV",{class:!0});var ze=j(i);a=H(ze,"DIV",{class:!0});var st=j(a);n=H(st,"DIV",{class:!0});var Ce=j(n);ke(r.$$.fragment,Ce),O=se(Ce),ke(m.$$.fragment,Ce),h=se(Ce),ke(E.$$.fragment,Ce),G=se(Ce),ke(V.$$.fragment,Ce),he=se(Ce),ke(N.$$.fragment,Ce),C=se(Ce),ke(_.$$.fragment,Ce),R=se(Ce),ke(I.$$.fragment,Ce),Q=se(Ce),ke(le.$$.fragment,Ce),Ce.forEach(v),oe=se(st),ue=H(st,"DIV",{class:!0});var dt=j(ue);Te=H(dt,"DIV",{class:!0});var _t=j(Te);ke(ne.$$.fragment,_t),_t.forEach(v),Pe=se(dt),Le=H(dt,"DIV",{class:!0});var vt=j(Le);He=H(vt,"DIV",{class:!0});var Je=j(He);Ve=H(Je,"DIV",{class:!0});var nt=j(Ve);qe=H(nt,"BUTTON",{class:!0});var it=j(qe);Ke=H(it,"SPAN",{class:!0});var At=j(Ke);ht=_e(At,"ts"),At.forEach(v),kt=se(it),et=H(it,"SPAN",{class:!0});var Tt=j(et);bt=_e(Tt,"/"),Tt.forEach(v),wt=se(it),Ze=H(it,"SPAN",{class:!0});var is=j(Ze);Mt=_e(is,"js"),is.forEach(v),it.forEach(v),St=se(nt),ke(Ge.$$.fragment,nt),nt.forEach(v),yt=se(Je),ke(Qe.$$.fragment,Je),Je.forEach(v),vt.forEach(v),dt.forEach(v),st.forEach(v),ze.forEach(v),this.h()},h(){document.title="Chessboard \u2022 PowChess.com",c(t,"rel","stylesheet"),c(t,"href","prism-one-dark.css"),c(n,"class","flex flex-col gap-2 mx-auto w-60 text-gray-300 text-sm"),c(Te,"class","w-full lg:w-[var(--boardSize,50rem)]"),c(Ke,"class",gt=s[2]?"text-yellow-600":""),c(et,"class","text-gray-600"),c(Ze,"class",pt=s[2]?"":"text-yellow-600"),c(qe,"class","text-gray-500 font-mono flex text-[0.8rem] mt-1"),c(Ve,"class","absolute right-2 top-2 flex gap-4"),c(He,"class","shadow-lg rounded "),c(Le,"class","row-start-2 relative"),c(ue,"class","grid grid-rows-[min-content_auto] gap-10"),c(a,"class","lg:col-start-2 gap-10 grid lg:grid-cols-[auto_auto]"),c(i,"class","my-10 grid grid-cols-center")},m(B,ce){A(document.head,t),Z(B,e,ce),Z(B,i,ce),A(i,a),A(a,n),we(r,n,null),A(n,O),we(m,n,null),A(n,h),we(E,n,null),A(n,G),we(V,n,null),A(n,he),we(N,n,null),A(n,C),we(_,n,null),A(n,R),we(I,n,null),A(n,Q),we(le,n,null),A(a,oe),A(a,ue),A(ue,Te),we(ne,Te,null),A(ue,Pe),A(ue,Le),A(Le,He),A(He,Ve),A(Ve,qe),A(qe,Ke),A(Ke,ht),A(qe,kt),A(qe,et),A(et,bt),A(qe,wt),A(qe,Ze),A(Ze,Mt),A(Ve,St),we(Ge,Ve,null),A(He,yt),we(Qe,He,null),tt=!0,Ct||(Pt=de(qe,"click",s[32]),Ct=!0)},p(B,ce){const ze={};!o&&ce[0]&2&&(o=!0,ze.boardTheme=B[1].board.boardTheme,be(()=>o=!1)),!l&&ce[0]&2&&(l=!0,ze.notation=B[1].board.notation,be(()=>l=!1)),!u&&ce[0]&2&&(u=!0,ze.flipped=B[1].board.flipped,be(()=>u=!1)),!f&&ce[0]&2&&(f=!0,ze.shadow=B[1].board.style.shadow,be(()=>f=!1)),!b&&ce[0]&2&&(b=!0,ze.borderRadius=B[1].board.style.borderRadius,be(()=>b=!1)),!p&&ce[0]&2&&(p=!0,ze.resizible=B[1].board.resizible.enabled,be(()=>p=!1)),!S&&ce[0]&2&&(S=!0,ze.min=B[1].board.resizible.min,be(()=>S=!1)),!F&&ce[0]&2&&(F=!0,ze.max=B[1].board.resizible.max,be(()=>F=!1)),r.$set(ze);const st={};!y&&ce[0]&2&&(y=!0,st.enabled=B[1].movable.enabled,be(()=>y=!1)),!d&&ce[0]&2&&(d=!0,st.color=B[1].movable.color,be(()=>d=!1)),m.$set(st);const Ce={};!T&&ce[0]&2&&(T=!0,Ce.enabled=B[1].draggable.enabled,be(()=>T=!1)),!P&&ce[0]&2&&(P=!0,Ce.ghostPiece=B[1].draggable.ghostPiece.enabled,be(()=>P=!1)),!z&&ce[0]&2&&(z=!0,Ce.transition=B[1].draggable.transition.enabled,be(()=>z=!1)),!W&&ce[0]&2&&(W=!0,Ce.duration=B[1].draggable.transition.settings.duration,be(()=>W=!1)),!K&&ce[0]&2&&(K=!0,Ce.easing=B[1].draggable.transition.settings.easing,be(()=>K=!1)),E.$set(Ce);const dt={};!X&&ce[0]&2&&(X=!0,dt.enabled=B[1].selectable.enabled,be(()=>X=!1)),V.$set(dt);const _t={};!g&&ce[0]&2&&(g=!0,_t.enabled=B[1].legal.enabled,be(()=>g=!1)),!M&&ce[0]&2&&(M=!0,_t.preMovesEnabled=B[1].legal.preMoves.enabled,be(()=>M=!1)),N.$set(_t);const vt={};!L&&ce[0]&2&&(L=!0,vt.enabled=B[1].highlight.enabled,be(()=>L=!1)),!D&&ce[0]&2&&(D=!0,vt.settings=B[1].highlight.settings,be(()=>D=!1)),_.$set(vt);const Je={};!q&&ce[0]&2&&(q=!0,Je.enabled=B[1].drawTools.enabled,be(()=>q=!1)),!w&&ce[0]&2&&(w=!0,Je.knightLShape=B[1].drawTools.settings.knightLShape,be(()=>w=!1)),!x&&ce[0]&2&&(x=!0,Je.onlyChessMove=B[1].drawTools.settings.onlyChessMove,be(()=>x=!1)),I.$set(Je);const nt={};!ee&&ce[0]&2&&(ee=!0,nt.enabled=B[1].sounds.enabled,be(()=>ee=!1)),!ae&&ce[0]&2&&(ae=!0,nt.settings=B[1].sounds.settings,be(()=>ae=!1)),le.$set(nt);const it={};ne.$set(it),(!tt||ce[0]&4&&gt!==(gt=B[2]?"text-yellow-600":""))&&c(Ke,"class",gt),(!tt||ce[0]&4&&pt!==(pt=B[2]?"":"text-yellow-600"))&&c(Ze,"class",pt);const At={};ce[0]&8&&(At.copyText=B[3]),Ge.$set(At);const Tt={};ce[0]&8&&(Tt.source=B[3]),Qe.$set(Tt)},i(B){tt||($(r.$$.fragment,B),$(m.$$.fragment,B),$(E.$$.fragment,B),$(V.$$.fragment,B),$(N.$$.fragment,B),$(_.$$.fragment,B),$(I.$$.fragment,B),$(le.$$.fragment,B),$(ne.$$.fragment,B),$(Ge.$$.fragment,B),$(Qe.$$.fragment,B),tt=!0)},o(B){ie(r.$$.fragment,B),ie(m.$$.fragment,B),ie(E.$$.fragment,B),ie(V.$$.fragment,B),ie(N.$$.fragment,B),ie(_.$$.fragment,B),ie(I.$$.fragment,B),ie(le.$$.fragment,B),ie(ne.$$.fragment,B),ie(Ge.$$.fragment,B),ie(Qe.$$.fragment,B),tt=!1},d(B){v(t),B&&v(e),B&&v(i),Me(r),Me(m),Me(E),Me(V),Me(N),Me(_),Me(I),Me(le),s[31](null),Me(ne),Me(Ge),Me(Qe),Ct=!1,Pt()}}}function Or(s,t,e){const i=new pn.Chess,a={movable:fe.BOTH,legal:!0,callbacks:{afterMove:w=>i.move({from:w.substring(0,2),to:w.substring(2,4),...w.length>4&&{promotion:w[4]}}),getLegalMoves:()=>i.moves({verbose:!0}).map(w=>{var x;return w.from+w.to+((x=w.promotion)!=null?x:"")}),getWhiteToMove:()=>i.turn()==="w",getInCheck:()=>i.inCheck(),getLastMove:()=>{var x;const w=i.history({verbose:!0}).pop();return w?w.from+w.to+((x=w.promotion)!=null?x:""):""}},board:{style:{shadow:!0,borderRadius:"0.25rem"},resizible:!0}},n=`{
			afterMove: (move) =>
				chess.move({
					from: move.substring(0, 2),
					to: move.substring(2, 4),
					...(move.length > 4 && { promotion: move[4] })
				}),
			getLegalMoves: () =>
				(<Move[]>chess.moves({ verbose: true })).map((move) => {
					return move.from + move.to + (move.promotion ?? '');
				}),
			getWhiteToMove: () => chess.turn() === 'w',
			getInCheck: () => chess.inCheck(),
			getLastMove: () => {
				const lastMove = chess.history({ verbose: true }).pop() as Move;
				if (!lastMove) return '';
				return lastMove.from + lastMove.to + (lastMove.promotion ?? '');
			}
		}`,r=`{
			afterMove: (move) =>
				chess.move({
					from: move.substring(0, 2),
					to: move.substring(2, 4),
					...(move.length > 4 && { promotion: move[4] })
				}),
			getLegalMoves: () =>
				chess.moves({ verbose: true }).map((move) => {
					return move.from + move.to + (move.promotion ?? '');
				}),
			getWhiteToMove: () => chess.turn() === 'w',
			getInCheck: () => chess.inCheck(),
			getLastMove: () => {
				const lastMove = chess.history({ verbose: true }).pop();
				if (!lastMove) return '';
				return lastMove.from + lastMove.to + (lastMove.promotion ?? '');
			}
		}`;let o,l=new _n(a),u=!1,f=!0,b="";es(()=>{e(5,u=!0),e(1,l=o.getState())});const p=(w,x)=>{const Q=w.getConfig(),le=`
	import type { ChessboardConfig } from '@powchess/chessboard/boardConfig';`;u&&o.setState(w);let ee=JSON.stringify(Q,(Te,ne)=>Te==="callbacks"?"{functions}":ne,4);ee=ee.replace(/"([^"]+)":/g,"$1:").replaceAll(`
`,`
	`).replace('"{functions}"',x?n:r);const ae=`
	import { Color } from '@powchess/chessboard/enums';`;x&&(ee=ee.replaceAll(`movable: ${fe.WHITE}`,"movable: Color.WHITE").replaceAll(`movable: ${fe.BLACK}`,"movable: Color.BLACK").replaceAll(`movable: ${fe.BOTH}`,"movable: Color.BOTH"));function oe(){return ee.includes("movable: Color.WHITE")||ee.includes("movable: Color.BLACK")||ee.includes("movable: Color.BOTH")}let ue=`<script${x?' lang="ts"':""}>
	import Chessboard from '@powchess/chessboard';${x?le:""}${oe()&&x?ae:""}${l.legal.enabled?x?`
	import { Chess, type Move } from 'chess.js';`:`
	import { Chess } from 'chess.js';`:""}${l.legal.enabled?`

	const chess = new Chess();`:""}

	const config${x?": ChessboardConfig":""} = ${ee};
<\/script>

<Chessboard {config} />`;return x||(ue=ue.replaceAll("Color.WHITE",`${fe.WHITE}`).replaceAll("Color.BLACK",`${fe.BLACK}`).replaceAll("Color.BOTH",`${fe.BOTH}`)),ue};function S(w){s.$$.not_equal(l.board.boardTheme,w)&&(l.board.boardTheme=w,e(1,l),e(5,u),e(0,o))}function F(w){s.$$.not_equal(l.board.notation,w)&&(l.board.notation=w,e(1,l),e(5,u),e(0,o))}function O(w){s.$$.not_equal(l.board.flipped,w)&&(l.board.flipped=w,e(1,l),e(5,u),e(0,o))}function m(w){s.$$.not_equal(l.board.style.shadow,w)&&(l.board.style.shadow=w,e(1,l),e(5,u),e(0,o))}function y(w){s.$$.not_equal(l.board.style.borderRadius,w)&&(l.board.style.borderRadius=w,e(1,l),e(5,u),e(0,o))}function d(w){s.$$.not_equal(l.board.resizible.enabled,w)&&(l.board.resizible.enabled=w,e(1,l),e(5,u),e(0,o))}function h(w){s.$$.not_equal(l.board.resizible.min,w)&&(l.board.resizible.min=w,e(1,l),e(5,u),e(0,o))}function E(w){s.$$.not_equal(l.board.resizible.max,w)&&(l.board.resizible.max=w,e(1,l),e(5,u),e(0,o))}function T(w){s.$$.not_equal(l.movable.enabled,w)&&(l.movable.enabled=w,e(1,l),e(5,u),e(0,o))}function P(w){s.$$.not_equal(l.movable.color,w)&&(l.movable.color=w,e(1,l),e(5,u),e(0,o))}function z(w){s.$$.not_equal(l.draggable.enabled,w)&&(l.draggable.enabled=w,e(1,l),e(5,u),e(0,o))}function W(w){s.$$.not_equal(l.draggable.ghostPiece.enabled,w)&&(l.draggable.ghostPiece.enabled=w,e(1,l),e(5,u),e(0,o))}function K(w){s.$$.not_equal(l.draggable.transition.enabled,w)&&(l.draggable.transition.enabled=w,e(1,l),e(5,u),e(0,o))}function G(w){s.$$.not_equal(l.draggable.transition.settings.duration,w)&&(l.draggable.transition.settings.duration=w,e(1,l),e(5,u),e(0,o))}function V(w){s.$$.not_equal(l.draggable.transition.settings.easing,w)&&(l.draggable.transition.settings.easing=w,e(1,l),e(5,u),e(0,o))}function X(w){s.$$.not_equal(l.selectable.enabled,w)&&(l.selectable.enabled=w,e(1,l),e(5,u),e(0,o))}function he(w){s.$$.not_equal(l.legal.enabled,w)&&(l.legal.enabled=w,e(1,l),e(5,u),e(0,o))}function N(w){s.$$.not_equal(l.legal.preMoves.enabled,w)&&(l.legal.preMoves.enabled=w,e(1,l),e(5,u),e(0,o))}function g(w){s.$$.not_equal(l.highlight.enabled,w)&&(l.highlight.enabled=w,e(1,l),e(5,u),e(0,o))}function M(w){s.$$.not_equal(l.highlight.settings,w)&&(l.highlight.settings=w,e(1,l),e(5,u),e(0,o))}function C(w){s.$$.not_equal(l.drawTools.enabled,w)&&(l.drawTools.enabled=w,e(1,l),e(5,u),e(0,o))}function _(w){s.$$.not_equal(l.drawTools.settings.knightLShape,w)&&(l.drawTools.settings.knightLShape=w,e(1,l),e(5,u),e(0,o))}function L(w){s.$$.not_equal(l.drawTools.settings.onlyChessMove,w)&&(l.drawTools.settings.onlyChessMove=w,e(1,l),e(5,u),e(0,o))}function D(w){s.$$.not_equal(l.sounds.enabled,w)&&(l.sounds.enabled=w,e(1,l),e(5,u),e(0,o))}function R(w){s.$$.not_equal(l.sounds.settings,w)&&(l.sounds.settings=w,e(1,l),e(5,u),e(0,o))}function I(w){re[w?"unshift":"push"](()=>{o=w,e(0,o)})}const q=()=>{e(2,f=!f)};return s.$$.update=()=>{s.$$.dirty[0]&35&&l.legal.enabled&&(e(1,l.board.startFen=mn,l),i.load(l.board.startFen),u&&o.setFEN(l.board.startFen,!1)),s.$$.dirty[0]&6&&e(3,b=p(l,f))},[o,l,f,b,a,u,S,F,O,m,y,d,h,E,T,P,z,W,K,G,V,X,he,N,g,M,C,_,L,D,R,I,q]}class qr extends Oe{constructor(t){super(),Ie(this,t,Or,Lr,Fe,{},null,[-1,-1])}}export{qr as default};
