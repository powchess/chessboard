import{S as Me,i as ke,s as Se,B as ln,k as L,a as K,l as T,m as O,h as m,c as G,p as me,n as h,b as V,F as _,C as rn,D as on,E as un,f as j,t as X,H as Dt,I as as,J as Q,K as Hn,e as ve,L as Wn,q as oe,r as ue,u as Vt,A as _e,M as ft,N as dn,O as jn,P as Kn,Q as ls,R as bt,T as Jt,U as $,V as xt,W as Qe,X as $t,G as Gn,Y as et,Z as Fe,_ as Ie,o as es,g as Te,d as Oe,$ as tt,a0 as Xn,a1 as Yn,a2 as ne,v as fe,w as ce,x as he,a3 as ie,y as ge,a4 as fn,a5 as Qn,a6 as rs,a7 as Zn,a8 as cn,z as Jn,a9 as hn,aa as ct,ab as wt,ac as ts,ad as dt,ae as ut,af as xn}from"../../chunks/index-18bffe9d.js";import{w as $n}from"../../chunks/index-c2b86799.js";typeof window<"u"&&(window.Prism&&console.warn("Prism has already been initiated. Please ensure that svelte-prism is imported first."),window.Prism=window.Prism||{},window.Prism.manual=!0);var os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gn={exports:{}};(function(s){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(i){var a=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,l={},r={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function f(c){return c instanceof o?new o(c.type,f(c.content),c.alias):Array.isArray(c)?c.map(f):c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(f){return Object.prototype.toString.call(f).slice(8,-1)},objId:function(f){return f.__id||Object.defineProperty(f,"__id",{value:++n}),f.__id},clone:function f(c,v){v=v||{};var M,k;switch(r.util.type(c)){case"Object":if(k=r.util.objId(c),v[k])return v[k];M={},v[k]=M;for(var q in c)c.hasOwnProperty(q)&&(M[q]=f(c[q],v));return M;case"Array":return k=r.util.objId(c),v[k]?v[k]:(M=[],v[k]=M,c.forEach(function(I,F){M[F]=f(I,v)}),M);default:return c}},getLanguage:function(f){for(;f;){var c=a.exec(f.className);if(c)return c[1].toLowerCase();f=f.parentElement}return"none"},setLanguage:function(f,c){f.className=f.className.replace(RegExp(a,"gi"),""),f.classList.add("language-"+c)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(M){var f=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(M.stack)||[])[1];if(f){var c=document.getElementsByTagName("script");for(var v in c)if(c[v].src==f)return c[v]}return null}},isActive:function(f,c,v){for(var M="no-"+c;f;){var k=f.classList;if(k.contains(c))return!0;if(k.contains(M))return!1;f=f.parentElement}return!!v}},languages:{plain:l,plaintext:l,text:l,txt:l,extend:function(f,c){var v=r.util.clone(r.languages[f]);for(var M in c)v[M]=c[M];return v},insertBefore:function(f,c,v,M){M=M||r.languages;var k=M[f],q={};for(var I in k)if(k.hasOwnProperty(I)){if(I==c)for(var F in v)v.hasOwnProperty(F)&&(q[F]=v[F]);v.hasOwnProperty(I)||(q[I]=k[I])}var B=M[f];return M[f]=q,r.languages.DFS(r.languages,function(R,H){H===B&&R!=f&&(this[R]=q)}),q},DFS:function f(c,v,M,k){k=k||{};var q=r.util.objId;for(var I in c)if(c.hasOwnProperty(I)){v.call(c,I,c[I],M||I);var F=c[I],B=r.util.type(F);B==="Object"&&!k[q(F)]?(k[q(F)]=!0,f(F,v,null,k)):B==="Array"&&!k[q(F)]&&(k[q(F)]=!0,f(F,v,I,k))}}},plugins:{},highlightAll:function(f,c){r.highlightAllUnder(document,f,c)},highlightAllUnder:function(f,c,v){var M={callback:v,container:f,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",M),M.elements=Array.prototype.slice.apply(M.container.querySelectorAll(M.selector)),r.hooks.run("before-all-elements-highlight",M);for(var k=0,q;q=M.elements[k++];)r.highlightElement(q,c===!0,M.callback)},highlightElement:function(f,c,v){var M=r.util.getLanguage(f),k=r.languages[M];r.util.setLanguage(f,M);var q=f.parentElement;q&&q.nodeName.toLowerCase()==="pre"&&r.util.setLanguage(q,M);var I=f.textContent,F={element:f,language:M,grammar:k,code:I};function B(H){F.highlightedCode=H,r.hooks.run("before-insert",F),F.element.innerHTML=F.highlightedCode,r.hooks.run("after-highlight",F),r.hooks.run("complete",F),v&&v.call(F.element)}if(r.hooks.run("before-sanity-check",F),q=F.element.parentElement,q&&q.nodeName.toLowerCase()==="pre"&&!q.hasAttribute("tabindex")&&q.setAttribute("tabindex","0"),!F.code){r.hooks.run("complete",F),v&&v.call(F.element);return}if(r.hooks.run("before-highlight",F),!F.grammar){B(r.util.encode(F.code));return}if(c&&i.Worker){var R=new Worker(r.filename);R.onmessage=function(H){B(H.data)},R.postMessage(JSON.stringify({language:F.language,code:F.code,immediateClose:!0}))}else B(r.highlight(F.code,F.grammar,F.language))},highlight:function(f,c,v){var M={code:f,grammar:c,language:v};if(r.hooks.run("before-tokenize",M),!M.grammar)throw new Error('The language "'+M.language+'" has no grammar.');return M.tokens=r.tokenize(M.code,M.grammar),r.hooks.run("after-tokenize",M),o.stringify(r.util.encode(M.tokens),M.language)},tokenize:function(f,c){var v=c.rest;if(v){for(var M in v)c[M]=v[M];delete c.rest}var k=new g;return b(k,k.head,f),d(f,k,c,k.head,0),C(k)},hooks:{all:{},add:function(f,c){var v=r.hooks.all;v[f]=v[f]||[],v[f].push(c)},run:function(f,c){var v=r.hooks.all[f];if(!(!v||!v.length))for(var M=0,k;k=v[M++];)k(c)}},Token:o};i.Prism=r;function o(f,c,v,M){this.type=f,this.content=c,this.alias=v,this.length=(M||"").length|0}o.stringify=function f(c,v){if(typeof c=="string")return c;if(Array.isArray(c)){var M="";return c.forEach(function(B){M+=f(B,v)}),M}var k={type:c.type,content:f(c.content,v),tag:"span",classes:["token",c.type],attributes:{},language:v},q=c.alias;q&&(Array.isArray(q)?Array.prototype.push.apply(k.classes,q):k.classes.push(q)),r.hooks.run("wrap",k);var I="";for(var F in k.attributes)I+=" "+F+'="'+(k.attributes[F]||"").replace(/"/g,"&quot;")+'"';return"<"+k.tag+' class="'+k.classes.join(" ")+'"'+I+">"+k.content+"</"+k.tag+">"};function u(f,c,v,M){f.lastIndex=c;var k=f.exec(v);if(k&&M&&k[1]){var q=k[1].length;k.index+=q,k[0]=k[0].slice(q)}return k}function d(f,c,v,M,k,q){for(var I in v)if(!(!v.hasOwnProperty(I)||!v[I])){var F=v[I];F=Array.isArray(F)?F:[F];for(var B=0;B<F.length;++B){if(q&&q.cause==I+","+B)return;var R=F[B],H=R.inside,re=!!R.lookbehind,se=!!R.greedy,N=R.alias;if(se&&!R.pattern.global){var Ee=R.pattern.toString().match(/[imsuy]*$/)[0];R.pattern=RegExp(R.pattern.source,Ee+"g")}for(var ye=R.pattern||R,z=M.next,x=k;z!==c.tail&&!(q&&x>=q.reach);x+=z.value.length,z=z.next){var Z=z.value;if(c.length>f.length)return;if(!(Z instanceof o)){var J=1,A;if(se){if(A=u(ye,x,f,re),!A||A.index>=f.length)break;var we=A.index,D=A.index+A[0].length,Y=x;for(Y+=z.value.length;we>=Y;)z=z.next,Y+=z.value.length;if(Y-=z.value.length,x=Y,z.value instanceof o)continue;for(var ee=z;ee!==c.tail&&(Y<D||typeof ee.value=="string");ee=ee.next)J++,Y+=ee.value.length;J--,Z=f.slice(x,Y),A.index-=x}else if(A=u(ye,0,Z,re),!A)continue;var we=A.index,de=A[0],qe=Z.slice(0,we),Le=Z.slice(we+de.length),Ne=x+Z.length;q&&Ne>q.reach&&(q.reach=Ne);var be=z.prev;qe&&(be=b(c,be,qe),x+=qe.length),w(c,be,J);var Pe=new o(I,H?r.tokenize(de,H):de,N,de);if(z=b(c,be,Pe),Le&&b(c,z,Le),J>1){var Re={cause:I+","+B,reach:Ne};d(f,c,v,z.prev,x,Re),q&&Re.reach>q.reach&&(q.reach=Re.reach)}}}}}}function g(){var f={value:null,prev:null,next:null},c={value:null,prev:f,next:null};f.next=c,this.head=f,this.tail=c,this.length=0}function b(f,c,v){var M=c.next,k={value:v,prev:c,next:M};return c.next=k,M.prev=k,f.length++,k}function w(f,c,v){for(var M=c.next,k=0;k<v&&M!==f.tail;k++)M=M.next;c.next=M,M.prev=c,f.length-=k}function C(f){for(var c=[],v=f.head.next;v!==f.tail;)c.push(v.value),v=v.next;return c}if(!i.document)return i.addEventListener&&(r.disableWorkerMessageHandler||i.addEventListener("message",function(f){var c=JSON.parse(f.data),v=c.language,M=c.code,k=c.immediateClose;i.postMessage(r.highlight(M,r.languages[v],v)),k&&i.close()},!1)),r;var y=r.util.currentScript();y&&(r.filename=y.src,y.hasAttribute("data-manual")&&(r.manual=!0));function S(){r.manual||r.highlightAll()}if(!r.manual){var p=document.readyState;p==="loading"||p==="interactive"&&y&&y.defer?document.addEventListener("DOMContentLoaded",S):window.requestAnimationFrame?window.requestAnimationFrame(S):window.setTimeout(S,16)}return r}(e);s.exports&&(s.exports=t),typeof os<"u"&&(os.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(a,n){var l={};l["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};r["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var o={};o[a]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return a}),"i"),lookbehind:!0,greedy:!0,inside:r},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(i,a){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[a,"language-"+a],inside:t.languages[a]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(i){var a=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+a.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+a.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+a.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+a.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:a,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var n=i.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading\u2026",a=function(y,S){return"\u2716 Error "+y+" while fetching file: "+S},n="\u2716 Error: File does not exist or is empty",l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},r="data-src-status",o="loading",u="loaded",d="failed",g="pre[data-src]:not(["+r+'="'+u+'"]):not(['+r+'="'+o+'"])';function b(y,S,p){var f=new XMLHttpRequest;f.open("GET",y,!0),f.onreadystatechange=function(){f.readyState==4&&(f.status<400&&f.responseText?S(f.responseText):f.status>=400?p(a(f.status,f.statusText)):p(n))},f.send(null)}function w(y){var S=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(y||"");if(S){var p=Number(S[1]),f=S[2],c=S[3];return f?c?[p,Number(c)]:[p,void 0]:[p,p]}}t.hooks.add("before-highlightall",function(y){y.selector+=", "+g}),t.hooks.add("before-sanity-check",function(y){var S=y.element;if(S.matches(g)){y.code="",S.setAttribute(r,o);var p=S.appendChild(document.createElement("CODE"));p.textContent=i;var f=S.getAttribute("data-src"),c=y.language;if(c==="none"){var v=(/\.(\w+)$/.exec(f)||[,"none"])[1];c=l[v]||v}t.util.setLanguage(p,c),t.util.setLanguage(S,c);var M=t.plugins.autoloader;M&&M.loadLanguages(c),b(f,function(k){S.setAttribute(r,u);var q=w(S.getAttribute("data-range"));if(q){var I=k.split(/\r\n?|\n/g),F=q[0],B=q[1]==null?I.length:q[1];F<0&&(F+=I.length),F=Math.max(0,Math.min(F-1,I.length)),B<0&&(B+=I.length),B=Math.max(0,Math.min(B,I.length)),k=I.slice(F,B).join(`
`),S.hasAttribute("data-start")||S.setAttribute("data-start",String(F+1))}p.textContent=k,t.highlightElement(p)},function(k){S.setAttribute(r,d),p.textContent=k})}}),t.plugins.fileHighlight={highlight:function(S){for(var p=(S||document).querySelectorAll(g),f=0,c;c=p[f++];)t.highlightElement(c)}};var C=!1;t.fileHighlight=function(){C||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),C=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(gn);const bn=gn.exports,us="(if|else if|await|then|catch|each|html|debug)";Prism.languages.svelte=Prism.languages.extend("markup",{each:{pattern:new RegExp("{[#/]each(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{"language-javascript":[{pattern:/(as[\s\S]*)\([\s\S]*\)(?=\s*\})/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(as[\s]*)[\s\S]*(?=\s*)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(#each[\s]*)[\s\S]*(?=as)/,lookbehind:!0,inside:Prism.languages.javascript}],keyword:/[#/]each|as/,punctuation:/{|}/}},block:{pattern:new RegExp("{[#:/@]/s"+us+"(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{punctuation:/^{|}$/,keyword:[new RegExp("[#:/@]"+us+"( )*"),/as/,/then/],"language-javascript":{pattern:/[\s\S]*/,inside:Prism.languages.javascript}}},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?:"[^"]*"|'[^']*'|{[\s\S]+?}(?=[\s/>])))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,inside:Prism.languages.javascript},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],"language-javascript":{pattern:/{[\s\S]+}/,inside:Prism.languages.javascript}}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,lookbehind:!0,inside:Prism.languages.javascript}});Prism.languages.svelte.tag.inside["attr-value"].inside.entity=Prism.languages.svelte.entity;Prism.hooks.add("wrap",s=>{s.type==="entity"&&(s.attributes.title=s.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.svelte.tag,"addInlined",{value:function(e,t){const i={};i["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;const a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};a["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};const n={};n[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:a},Prism.languages.insertBefore("svelte","cdata",n)}});Prism.languages.svelte.tag.addInlined("style","css");Prism.languages.svelte.tag.addInlined("script","javascript");function ei(s){let e,t;return{c(){e=new Hn(!1),t=ve(),this.h()},l(i){e=Wn(i,!1),t=ve(),this.h()},h(){e.a=t},m(i,a){e.m(s[2],i,a),V(i,t,a)},p(i,a){a&4&&e.p(i[2])},d(i){i&&m(t),i&&e.d()}}}function ti(s){let e;return{c(){e=oe(s[2])},l(t){e=ue(t,s[2])},m(t,i){V(t,e,i)},p(t,i){i&4&&Vt(e,t[2])},d(t){t&&m(e)}}}function si(s){let e,t,i,a,n,l,r;const o=s[6].default,u=ln(o,s,s[5],null);function d(w,C){return w[0]==="none"?ti:ei}let g=d(s),b=g(s);return{c(){e=L("code"),u&&u.c(),t=K(),i=L("pre"),a=L("code"),b.c(),this.h()},l(w){e=T(w,"CODE",{style:!0});var C=O(e);u&&u.l(C),C.forEach(m),t=G(w),i=T(w,"PRE",{class:!0,"command-line":!0,"data-output":!0});var y=O(i);a=T(y,"CODE",{class:!0});var S=O(a);b.l(S),S.forEach(m),y.forEach(m),this.h()},h(){me(e,"display","none"),h(a,"class",n="language-"+s[0]),h(i,"class",l="language-"+s[0]),h(i,"command-line",""),h(i,"data-output","2-17")},m(w,C){V(w,e,C),u&&u.m(e,null),s[7](e),V(w,t,C),V(w,i,C),_(i,a),b.m(a,null),r=!0},p(w,[C]){u&&u.p&&(!r||C&32)&&rn(u,o,w,w[5],r?un(o,w[5],C,null):on(w[5]),null),g===(g=d(w))&&b?b.p(w,C):(b.d(1),b=g(w),b&&(b.c(),b.m(a,null))),(!r||C&1&&n!==(n="language-"+w[0]))&&h(a,"class",n),(!r||C&1&&l!==(l="language-"+w[0]))&&h(i,"class",l)},i(w){r||(j(u,w),r=!0)},o(w){X(u,w),r=!1},d(w){w&&m(e),u&&u.d(w),s[7](null),w&&m(t),w&&m(i),b.d()}}}const ds=bn;bn.highlightElement;const ni={transform:s=>s};function ii(s,e,t){let{$$slots:i={},$$scope:a}=e,{language:n="javascript"}=e,{source:l=""}=e,{transform:r=b=>b}=e,o,u;function d(){const b=ds.languages[n];let w=l||o.textContent;w=ni.transform(w),w=r(w),t(2,u=n==="none"?w:ds.highlight(w,b,n))}function g(b){Q[b?"unshift":"push"](()=>{o=b,t(1,o)})}return s.$$set=b=>{t(9,e=Dt(Dt({},e),as(b))),"language"in b&&t(0,n=b.language),"source"in b&&t(3,l=b.source),"transform"in b&&t(4,r=b.transform),"$$scope"in b&&t(5,a=b.$$scope)},s.$$.update=()=>{e&&(l||o)&&d()},e=as(e),[n,o,u,l,r,a,i,g]}class ai extends Me{constructor(e){super(),ke(this,e,ii,si,Se,{language:0,source:3,transform:4})}}var ae=(s=>(s[s.WHITE=0]="WHITE",s[s.BLACK=1]="BLACK",s[s.BOTH=2]="BOTH",s[s.SPECTATOR=3]="SPECTATOR",s[s.SERVER=4]="SERVER",s))(ae||{}),U=(s=>(s[s.LEGAL=0]="LEGAL",s[s.LEGALHOVER=1]="LEGALHOVER",s[s.CHECK=2]="CHECK",s[s.MOVE=3]="MOVE",s[s.NEXTMOVE=4]="NEXTMOVE",s[s.PREMOVE=5]="PREMOVE",s[s.PREMOVEHOVER=6]="PREMOVEHOVER",s[s.SELECT=7]="SELECT",s))(U||{});class li{constructor(e){this.defaultState={boardTheme:"standard",piecesTheme:"standard",flipped:!1,notation:!0,shadow:!1,startFen:gi,size:0,style:{shadow:!1,borderRadius:"0rem"},resizible:{enabled:!1,min:256,max:1024}},this.setConfigSettings=t=>{t!==void 0&&(t.boardTheme!==void 0&&(this.boardTheme=t.boardTheme),t.piecesTheme!==void 0&&(this.piecesTheme=t.piecesTheme),t.flipped!==void 0&&(this.flipped=t.flipped),t.notation!==void 0&&(this.notation=t.notation),t.startFen!==void 0&&(this.startFen=t.startFen),t.style!==void 0&&(t.style.shadow!==void 0&&(this.style.shadow=t.style.shadow),t.style.borderRadius!==void 0&&(this.style.borderRadius=t.style.borderRadius)))},this.getConfig=()=>{const t={...this.boardTheme!==this.defaultState.boardTheme&&{boardTheme:this.boardTheme},...this.piecesTheme!==this.defaultState.piecesTheme&&{piecesTheme:this.piecesTheme},...this.flipped!==this.defaultState.flipped&&{flipped:this.flipped},...this.notation!==this.defaultState.notation&&{notation:this.notation},...this.startFen!==this.defaultState.startFen&&{startFen:this.startFen},...(this.style.shadow!==this.defaultState.style.shadow||this.style.borderRadius!==this.defaultState.style.borderRadius)&&{style:{...this.style.shadow!==this.defaultState.style.shadow&&{shadow:this.style.shadow},...this.style.borderRadius!==this.defaultState.style.borderRadius&&{borderRadius:this.style.borderRadius}}}};if(Object.keys(t).length!==0)return t},this.boardTheme=this.defaultState.boardTheme,this.piecesTheme=this.defaultState.piecesTheme,this.flipped=this.defaultState.flipped,this.notation=this.defaultState.notation,this.startFen=this.defaultState.startFen,this.size=this.defaultState.size,this.style={...this.defaultState.style},this.resizible={...this.defaultState.resizible},this.setConfigSettings(e)}}class pn{constructor(e){this.defaultState={enabled:!0,color:ae.BOTH},this.setConfigSettings=t=>{switch(t){case!0:this.enabled=!0,this.color=ae.BOTH;break;case!1:this.enabled=!1;break;case ae.WHITE:this.enabled=!0,this.color=ae.WHITE;break;case ae.BLACK:this.enabled=!0,this.color=ae.BLACK;break}},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.color!==this.defaultState.color)return this.color;if(this.enabled&&!this.defaultState.enabled)return this.color;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.color=this.defaultState.color,this.setConfigSettings(e)}}class ri{constructor(e){this.defaultState={enabled:!0,ghostPiece:{enabled:!0,piece:void 0},transition:{enabled:!0,settings:{duration:120,easing:"cubicInOut"}}},this.setConfigSettings=t=>{var i,a,n,l;t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,(t==null?void 0:t.ghostPiece)!==void 0&&(this.ghostPiece.enabled=t.ghostPiece),t.transition!==void 0&&((t==null?void 0:t.transition)===!0?this.transition.enabled=!0:(t==null?void 0:t.transition)===!1?this.transition.enabled=!1:(this.transition.enabled=!0,(i=t==null?void 0:t.transition)!=null&&i.duration&&(this.transition.settings.duration=(a=t==null?void 0:t.transition)==null?void 0:a.duration),(n=t==null?void 0:t.transition)!=null&&n.easing&&(this.transition.settings.easing=(l=t==null?void 0:t.transition)==null?void 0:l.easing)))))},this.getConfig=()=>{const t={},i={};if(this.enabled&&this.defaultState.enabled&&(this.ghostPiece.enabled!==this.defaultState.ghostPiece.enabled&&(t.ghostPiece=this.ghostPiece.enabled),this.transition.enabled&&this.defaultState.transition.enabled&&(this.transition.settings.duration!==this.defaultState.transition.settings.duration&&(i.duration=this.transition.settings.duration),this.transition.settings.easing!==this.defaultState.transition.settings.easing&&(i.easing=this.transition.settings.easing),Object.keys(i).length!==0&&(t.transition=i)),!this.transition.enabled&&this.defaultState.transition.enabled&&(t.transition=!1),Object.keys(t).length!==0))return t;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.ghostPiece={...this.defaultState.ghostPiece},this.transition={enabled:this.defaultState.transition.enabled,settings:{...this.defaultState.transition.settings}},this.setConfigSettings(e)}}class oi{constructor(e){this.defaultState={enabled:!0,selectedPiece:void 0},this.setConfigSettings=t=>{t!==void 0&&(this.enabled=t)},this.getConfig=()=>{if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.selectedPiece=this.defaultState.selectedPiece,this.setConfigSettings(e)}}class ui{constructor(e){this.defaultState={enabled:!1,whiteToMove:!0,moves:[],settings:{allowPromotion:!0,allowEnPassant:!0,allowCastling:!0},preMoves:{enabled:!1,moves:[],curMove:""},lastMove:""},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.settings&&(t.settings.allowCastling!==void 0&&(this.settings.allowCastling=t.settings.allowCastling),t.settings.allowEnPassant!==void 0&&(this.settings.allowEnPassant=t.settings.allowEnPassant),t.settings.allowPromotion!==void 0&&(this.settings.allowPromotion=t.settings.allowPromotion)),t.preMoves!==void 0&&(this.preMoves.enabled=t.preMoves)))},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.preMoves.enabled!==this.defaultState.preMoves.enabled)return{preMoves:this.preMoves.enabled};if(this.enabled!==this.defaultState.enabled)return this.preMoves.enabled!==this.defaultState.preMoves.enabled?{preMoves:this.preMoves.enabled}:this.enabled},this.enabled=this.defaultState.enabled,this.whiteToMove=this.defaultState.whiteToMove,this.moves=JSON.parse(JSON.stringify(this.defaultState.moves)),this.settings={...this.defaultState.settings},this.preMoves={enabled:this.defaultState.preMoves.enabled,moves:[...this.defaultState.preMoves.moves],curMove:this.defaultState.preMoves.curMove},this.lastMove=this.defaultState.lastMove,this.setConfigSettings(e)}}class di{constructor(e){this.defaultState={enabled:!0,settings:{select:!0,legal:!0,move:!0,preMove:!1,nextMove:!1,check:!0}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.check!==void 0&&(this.settings.check=t.check),t.legal!==void 0&&(this.settings.legal=t.legal),t.move!==void 0&&(this.settings.move=t.move),t.nextMove!==void 0&&(this.settings.nextMove=t.nextMove),t.preMove!==void 0&&(this.settings.preMove=t.preMove),t.select!==void 0&&(this.settings.select=t.select)))},this.getConfig=()=>{const t={},i=["select","legal","move","preMove","nextMove","check"];if(this.enabled&&this.defaultState.enabled&&(i.forEach(a=>{this.settings[a]!==this.defaultState.settings[a]&&(t[a]=this.settings[a])}),Object.keys(t).length!==0))return t;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},this.setConfigSettings(e)}}class fi{constructor(e){this.defaultState={enabled:!0,engineArrows:[],settings:{knightLShape:!1,onlyChessMove:!1}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.knightLShape!==void 0&&(this.settings.knightLShape=t.knightLShape),t.onlyChessMove!==void 0&&(this.settings.onlyChessMove=t.onlyChessMove)))},this.getConfig=()=>{const t={};if(this.enabled&&this.defaultState.enabled&&(this.settings.knightLShape!==this.defaultState.settings.knightLShape&&(t.knightLShape=this.settings.knightLShape),this.settings.onlyChessMove!==this.defaultState.settings.onlyChessMove&&(t.onlyChessMove=this.settings.onlyChessMove),Object.keys(t).length!==0))return t;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.engineArrows=JSON.parse(JSON.stringify(this.defaultState.engineArrows)),this.settings={knightLShape:this.defaultState.settings.knightLShape,onlyChessMove:this.defaultState.settings.onlyChessMove},this.setConfigSettings(e)}}class ci{constructor(e){this.defaultState={enabled:!0,settings:{MOVE:!0,CAPTURE:!0,CASTLE:!0,UNDO:!0}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.CAPTURE!==void 0&&(this.settings.CAPTURE=t.CAPTURE),t.CASTLE!==void 0&&(this.settings.CASTLE=t.CASTLE),t.MOVE!==void 0&&(this.settings.MOVE=t.MOVE),t.UNDO!==void 0&&(this.settings.UNDO=t.UNDO)))},this.getConfig=()=>{const t={};if(this.enabled&&this.defaultState.enabled&&(this.settings.MOVE!==this.defaultState.settings.MOVE&&(t.MOVE=this.settings.MOVE),this.settings.CAPTURE!==this.defaultState.settings.CAPTURE&&(t.CAPTURE=this.settings.CAPTURE),this.settings.CASTLE!==this.defaultState.settings.CASTLE&&(t.CASTLE=this.settings.CASTLE),this.settings.UNDO!==this.defaultState.settings.UNDO&&(t.UNDO=this.settings.UNDO),Object.keys(t).length!==0))return t;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.CAPTURE!==void 0&&(this.settings.CAPTURE=e.CAPTURE),e.CASTLE!==void 0&&(this.settings.CASTLE=e.CASTLE),e.MOVE!==void 0&&(this.settings.MOVE=e.MOVE),e.UNDO!==void 0&&(this.settings.UNDO=e.UNDO)))}}class hi{constructor(e){this.defaultState={getLegalMoves:void 0,getPreMoves:void 0,beforeMove:void 0,afterMove:void 0,getLastMove:void 0,getLastMoveSAN:void 0,getKingLocations:void 0,getInCheck:void 0,getWhiteToMove:void 0},this.setConfigSettings=t=>{t!==void 0&&(t.getLegalMoves&&(this.getLegalMoves=t.getLegalMoves),t.getPreMoves&&(this.getPreMoves=t.getPreMoves),t.beforeMove&&(this.beforeMove=t.beforeMove),t.afterMove&&(this.afterMove=t.afterMove),t.getLastMove&&(this.getLastMove=t.getLastMove),t.getLastMoveSAN&&(this.getLastMoveSAN=t.getLastMoveSAN),t.getKingLocations&&(this.getKingLocations=t.getKingLocations),t.getInCheck&&(this.getInCheck=t.getInCheck),t.getWhiteToMove&&(this.getWhiteToMove=t.getWhiteToMove))},this.getConfig=()=>{const t={...this.getLegalMoves&&{getLegalMoves:this.getLegalMoves},...this.getPreMoves&&{getPreMoves:this.getPreMoves},...this.beforeMove&&{beforeMove:this.beforeMove},...this.afterMove&&{afterMove:this.afterMove},...this.getLastMove&&{getLastMove:this.getLastMove},...this.getLastMoveSAN&&{getLastMoveSAN:this.getLastMoveSAN},...this.getKingLocations&&{getKingLocations:this.getKingLocations},...this.getInCheck&&{getInCheck:this.getInCheck},...this.getWhiteToMove&&{getWhiteToMove:this.getWhiteToMove}};return Object.keys(t).length>0?t:void 0},this.getLegalMoves=this.defaultState.getLegalMoves,this.getPreMoves=this.defaultState.getPreMoves,this.beforeMove=this.defaultState.beforeMove,this.afterMove=this.defaultState.afterMove,this.getLastMove=this.defaultState.getLastMove,this.getLastMoveSAN=this.defaultState.getLastMoveSAN,this.getKingLocations=this.defaultState.getKingLocations,this.getInCheck=this.defaultState.getInCheck,this.getWhiteToMove=this.defaultState.getWhiteToMove,this.setConfigSettings(e)}}const gi="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class mn{constructor(e){this.getConfig=()=>({board:this.board.getConfig(),movable:this.movable.getConfig(),draggable:this.draggable.getConfig(),selectable:this.selectable.getConfig(),legal:this.legal.getConfig(),highlight:this.highlight.getConfig(),drawTools:this.drawTools.getConfig(),sounds:this.sounds.getConfig()}),this.pieces=[],this.markedSquares=new Set,this.board=new li(e==null?void 0:e.board),this.movable=new pn(e==null?void 0:e.movable),this.draggable=new ri(e==null?void 0:e.draggable),this.selectable=new oi(e==null?void 0:e.selectable),this.legal=new ui(e==null?void 0:e.legal),this.callbacks=new hi(e==null?void 0:e.callbacks),this.highlight=new di(e==null?void 0:e.highlight),this.drawTools=new fi(e==null?void 0:e.drawTools),this.sounds=new ci(e==null?void 0:e.sounds)}setConfigSettings(e){this.board.setConfigSettings(e.board),this.movable.setConfigSettings(e.movable),this.draggable.setConfigSettings(e.draggable),this.selectable.setConfigSettings(e.selectable),this.legal.setConfigSettings(e.legal),this.callbacks.setConfigSettings(e.callbacks),this.highlight.setConfigSettings(e.highlight),this.drawTools.setConfigSettings(e.drawTools),this.sounds.setConfigSettings(e.sounds)}}const bi=["a","b","c","d","e","f","g","h"],pi=["8","7","6","5","4","3","2","1"];function Kt(s){return{x:bi.indexOf(s[0]),y:pi.indexOf(s[1])}}function Gt(s){return s.charCodeAt(0)-97}function mi(s){return 8-parseInt(s,10)}const vi=s=>{let e="",t=0;for(let i=0;i<s.length;i++){i!==0&&(e+="/");for(let a=0;a<s[i].length;a++){const n=s[i][a];n!=null&&t===0?n[0]==="w"?e+=n[1]:e+=n[1].toLowerCase():n!=null&&t!==0?(e+=t.toString(),t=0,n[0]==="w"?e+=n[1]:e+=n[1].toLowerCase()):t++}t!==0&&(e+=t.toString(),t=0)}return e},_i="8/8/8/8/8/8/8/8 w - - 0 1";class Ei{constructor(e){this.letters={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},this.changeLegalHoverIfNeeded=t=>{t.color!==U.LEGAL&&t.color!==U.PREMOVE||this.state.pieces.forEach(i=>{i.square===t.square&&(t.color=t.color===U.LEGAL?U.LEGALHOVER:U.PREMOVEHOVER)})},this.highlightSquare=(t,i)=>{const a={square:t,color:i};this.state.markedSquares.forEach(n=>{n.square===t&&n.color!==U.MOVE&&n.color!==U.CHECK&&this.state.markedSquares.delete(n)}),this.changeLegalHoverIfNeeded(a),this.state.markedSquares.add(a)},this.legalHover=t=>{this.state.markedSquares.forEach(i=>{if(i.square===t&&i.color===U.LEGAL)i.color=U.LEGALHOVER;else if(i.square!==t&&i.color===U.LEGALHOVER){let a=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(a=!0)}),a||(i.color=U.LEGAL)}})},this.preMoveHover=t=>{this.state.markedSquares.forEach(i=>{if(i.square===t&&i.color===U.PREMOVE)i.color=U.PREMOVEHOVER;else if(i.square!==t&&i.color===U.PREMOVEHOVER){let a=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(a=!0)}),a||(i.color=U.PREMOVE)}})},this.toggleSquareHighlight=(t,i)=>{const a={square:t,color:i};let n=!1;return this.state.markedSquares.forEach(l=>{l.square===t&&(this.state.markedSquares.delete(l),l.color===i&&(n=!0))}),this.changeLegalHoverIfNeeded(a),n?!0:(this.state.markedSquares.add(a),!1)},this.getSelectedSquare=()=>{let t="";return this.state.markedSquares.forEach(i=>{i.color===U.SELECT&&(t=i.square)}),t},this.clearSquare=(t,i)=>{t.length===2&&this.state.markedSquares.forEach(a=>{a.square===t&&(a.color===i||i===void 0)&&this.state.markedSquares.delete(a)})},this.clearAllSquares=t=>{t===void 0?this.state.markedSquares.clear():this.state.markedSquares.forEach(i=>{i.color===t&&this.state.markedSquares.delete(i)})},this.setPiece=(t,i)=>{if(this.notValidThing({square:t,piece:i}))return;const a=this.state.pieces.find(n=>n.square===t);a?a.name=i:this.state.pieces.push({square:t,name:i})},this.removePiece=t=>{this.notValidThing({square:t})||this.state.pieces.forEach((i,a)=>{i.square===t&&this.state.pieces.splice(a,1)})},this.clearAllPieces=()=>{this.state.pieces.length=0},this.getGridCoordsFromSquare=t=>{if(this.notValidThing({square:t}))return{x:0,y:0};const i=t[0],a=t[1],n=this.state.board.flipped?Math.abs(this.letters[i]-7):this.letters[i],l=this.state.board.flipped?Math.abs(parseInt(a,10)-8):parseInt(a,10)-1;return typeof n!="number"||l<0||l>7?{x:0,y:0}:{x:n,y:l}},this.makeMove=t=>{if(this.notValidThing({move:t}))return;let i=!1,a;const n=t.substring(0,2),l=t.substring(2,4),r=t.substring(4);this.state.pieces.forEach(o=>{o.square===l&&(a=o,this.removePiece(o.square))}),this.state.pieces.forEach(o=>{o.square===n&&(o.square=l,i=!0,r&&(o.name=o.name[0]+r.toUpperCase()))}),i?this.state.legal.lastMove=t:a&&this.state.pieces.push(a)},this.getSquareFromIndices=(t,i)=>Object.keys(this.letters)[t]+(i+1).toString(),this.updatePiecesWithFen=t=>{const i=[...Array(8)].map(()=>Array(8).fill(null)),a=["1","2","3","4","5","6","7","8"];let n=0,l=0;for(let u=0;u<(t.includes(" ")?t.indexOf(" "):t.length);u++)if(t[u]==="/")n++,l=0;else if(!a.includes(t[u]))t[u]===t[u].toUpperCase()?i[n][l]=`w${t[u]}`:i[n][l]=`b${t[u].toUpperCase()}`,l++;else for(let d=0;d<parseInt(t[u],10);d++)i[n][l]=null,l++;const r=[],o=[];for(let u=0;u<i.length;++u)for(let d=0;d<i.length;++d){const g=i[u][d],b=this.getPieceFromSquare(this.getSquareFromIndices(d,Math.abs(u-7)));g&&!b&&r.push({square:this.getSquareFromIndices(d,Math.abs(u-7)),name:g}),!g&&b&&o.push(b),g&&b&&g!==b.name&&(r.push({square:this.getSquareFromIndices(d,Math.abs(u-7)),name:g}),o.push(b))}for(let u=0;u<o.length;u++)for(let d=0;d<r.length;d++)!r[d]||!o[u]||r[d].name===o[u].name&&(o[u].square=r[d].square,o.splice(u,1),u--,r.splice(d,1),d--);r.forEach(u=>{this.state.pieces.push(u)}),o.forEach(u=>{this.state.pieces.splice(this.state.pieces.indexOf(u),1)})},this.notValidThing=t=>{const{square:i,piece:a,move:n}=t;return!!(i&&i.length!==2||a&&a.length!==2||n&&n.length!==4&&n.length!==5)},this.setGhostPiece=t=>{this.state.draggable.ghostPiece.piece=t},this.removeGhostPiece=()=>{this.state.draggable.ghostPiece.piece=void 0},this.isCastling=t=>{switch(t){case"e1g1":case"e1c1":case"e8g8":case"e8c8":return!0;default:return!1}},this.getRookMoveIfIsCastling=t=>{switch(t){case"e1g1":return"h1f1";case"e1c1":return"a1d1";case"e8g8":return"h8f8";case"e8c8":return"a8d8";default:return}},this.isEnPassant=t=>{if(t[0]===t[2]||this.getPieceFromSquare(t.substring(2,4)))return!1;const i=this.getPieceFromSquare(t.substring(0,2));return!(i===void 0||i.name!=="wP"&&i.name!=="bP")},this.getCapturedPawnSquareIfIsEnPassant=t=>{if(t[0]===t[2]||this.getPieceFromSquare(t.substring(2,4)))return;const i=this.getPieceFromSquare(t.substring(0,2));if(i===void 0||i.name!=="wP"&&i.name!=="bP")return;const a=this.getPieceFromSquare(`${t[2]}${parseInt(t[3],10)+(i.name==="wP"?-1:1)}`);return a==null?void 0:a.square},this.isCapture=t=>!!this.getPieceFromSquare(t.substring(2,4)),this.isPromotion=t=>{if((t[1]!=="7"||t[3]!=="8")&&(t[1]!=="2"||t[3]!=="1"))return!1;const i=this.getPieceFromSquare(t.substring(0,2));return!(i&&(i.name[1]!=="P"||i.name[0]==="w"&&t[3]==="1"||i.name[0]==="b"&&t[3]==="8"))},this.callbackExists=t=>this.state.callbacks[t]!==void 0,this.flipBoard=t=>{t!==void 0?this.state.board.flipped=t:this.state.board.flipped=!this.state.board.flipped},this.setConfigSettings=t=>{this.state.setConfigSettings(t)},this.state=new mn(e),this.state.board.startFen&&this.updatePiecesWithFen(this.state.board.startFen)}getShortFEN(){if(this.state.pieces.length===0)return _i;const e=[...Array(8)].map(()=>Array(8).fill(null));return this.state.pieces.forEach(t=>{e[mi(t.square[1])][Gt(t.square[0])]=t.name}),vi(e)}getPieceFromSquare(e){let t;return this.state.pieces.forEach(i=>{i.square===e&&(t=i)}),t}}const wi={[U.LEGAL]:"legalSQ cursor-pointer",[U.LEGALHOVER]:"legalSQ_hover cursor-pointer",[U.SELECT]:"selectedSQ",[U.MOVE]:"highlightMove",[U.NEXTMOVE]:"nextMoveSQ",[U.PREMOVE]:"preMoveSQ cursor-pointer",[U.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[U.CHECK]:"checkSQ"},Mi={white:"#f0d9b5",black:"#b58863"},ki="standard.svg",Si={[U.LEGAL]:"legalSQ cursor-pointer",[U.LEGALHOVER]:"legalSQ_hover cursor-pointer",[U.SELECT]:"selectedSQ-darkBlue",[U.MOVE]:"highlightMove-darkBlue",[U.NEXTMOVE]:"nextMoveSQ",[U.PREMOVE]:"preMoveSQ cursor-pointer",[U.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[U.CHECK]:"checkSQ"},yi={white:"#94A3B8",black:"#475569"},Ai="darkBlue.svg",He={squareStyles:{standard:wi,darkBlue:Si},colors:{standard:Mi,darkBlue:yi},imageName:{standard:ki,darkBlue:Ai}};function fs(s,e,t){const i=s.slice();return i[3]=e[t],i[5]=t,i}function cs(s,e,t){const i=s.slice();return i[3]=e[t],i[5]=t,i}function hs(s){let e,t=s[2][s[1]?Math.abs(s[5]-7):s[5]]+"",i,a;return{c(){e=L("span"),i=oe(t),a=K(),this.h()},l(n){e=T(n,"SPAN",{"data-file":!0,style:!0,class:!0});var l=O(e);i=ue(l,t),a=G(l),l.forEach(m),this.h()},h(){h(e,"data-file",s[3]),me(e,"color",s[5]%2===0?He.colors[s[0]].white:He.colors[s[0]].black),h(e,"class","svelte-t3eav4")},m(n,l){V(n,e,l),_(e,i),_(e,a)},p(n,l){l&2&&t!==(t=n[2][n[1]?Math.abs(n[5]-7):n[5]]+"")&&Vt(i,t),l&1&&me(e,"color",n[5]%2===0?He.colors[n[0]].white:He.colors[n[0]].black)},d(n){n&&m(e)}}}function gs(s){let e,t=(s[1]?s[5]+1:Math.abs(s[5]-8))+"",i,a,n;return{c(){e=L("span"),i=oe(t),a=K(),this.h()},l(l){e=T(l,"SPAN",{"data-file":!0,style:!0,class:!0});var r=O(e);i=ue(r,t),a=G(r),r.forEach(m),this.h()},h(){h(e,"data-file",s[3]),h(e,"style",n="color: "+(s[5]%2===0?He.colors[s[0]].white:He.colors[s[0]].black)+";"+(s[1]?" text-align: right;":"")),h(e,"class","svelte-t3eav4")},m(l,r){V(l,e,r),_(e,i),_(e,a)},p(l,r){r&2&&t!==(t=(l[1]?l[5]+1:Math.abs(l[5]-8))+"")&&Vt(i,t),r&3&&n!==(n="color: "+(l[5]%2===0?He.colors[l[0]].white:He.colors[l[0]].black)+";"+(l[1]?" text-align: right;":""))&&h(e,"style",n)},d(l){l&&m(e)}}}function Ci(s){let e,t,i,a=s[2],n=[];for(let o=0;o<a.length;o+=1)n[o]=hs(cs(s,a,o));let l=s[2],r=[];for(let o=0;o<l.length;o+=1)r[o]=gs(fs(s,l,o));return{c(){e=L("div");for(let o=0;o<n.length;o+=1)n[o].c();t=K(),i=L("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=T(o,"DIV",{class:!0});var u=O(e);for(let g=0;g<n.length;g+=1)n[g].l(u);u.forEach(m),t=G(o),i=T(o,"DIV",{class:!0});var d=O(i);for(let g=0;g<r.length;g+=1)r[g].l(d);d.forEach(m),this.h()},h(){h(e,"class","files noselect svelte-t3eav4"),h(i,"class","ranks noselect svelte-t3eav4")},m(o,u){V(o,e,u);for(let d=0;d<n.length;d+=1)n[d].m(e,null);V(o,t,u),V(o,i,u);for(let d=0;d<r.length;d+=1)r[d].m(i,null)},p(o,[u]){if(u&7){a=o[2];let d;for(d=0;d<a.length;d+=1){const g=cs(o,a,d);n[d]?n[d].p(g,u):(n[d]=hs(g),n[d].c(),n[d].m(e,null))}for(;d<n.length;d+=1)n[d].d(1);n.length=a.length}if(u&7){l=o[2];let d;for(d=0;d<l.length;d+=1){const g=fs(o,l,d);r[d]?r[d].p(g,u):(r[d]=gs(g),r[d].c(),r[d].m(i,null))}for(;d<r.length;d+=1)r[d].d(1);r.length=l.length}},i:_e,o:_e,d(o){o&&m(e),ft(n,o),o&&m(t),o&&m(i),ft(r,o)}}}function Pi(s,e,t){let{theme:i}=e,{flipped:a}=e;const n=["a","b","c","d","e","f","g","h"];return s.$$set=l=>{"theme"in l&&t(0,i=l.theme),"flipped"in l&&t(1,a=l.flipped)},[i,a,n]}class Li extends Me{constructor(e){super(),ke(this,e,Pi,Ci,Se,{theme:0,flipped:1})}}function Ti(s){const e=2.5949095;return(s*=2)<1?.5*(s*s*((e+1)*s-e)):.5*((s-=2)*s*((e+1)*s+e)+2)}function Oi(s){return s*s*((1.70158+1)*s-1.70158)}function Fi(s){return--s*s*((1.70158+1)*s+1.70158)+1}function zt(s){const e=.36363636363636365,t=8/11,i=9/10,a=4356/361,n=35442/1805,l=16061/1805,r=s*s;return s<e?7.5625*r:s<t?9.075*r-9.9*s+3.4:s<i?a*r-n*s+l:10.8*s*s-20.52*s+10.72}function Ii(s){return s<.5?.5*(1-zt(1-s*2)):.5*zt(s*2-1)+.5}function qi(s){return 1-zt(1-s)}function Ri(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)}function Ni(s){return 1-Math.sqrt(1-s*s)}function Di(s){return Math.sqrt(1- --s*s)}function zi(s){return s<.5?4*s*s*s:.5*Math.pow(2*s-2,3)+1}function Bi(s){return s*s*s}function ss(s){const e=s-1;return e*e*e+1}function Vi(s){return s<.5?.5*Math.sin(13*Math.PI/2*2*s)*Math.pow(2,10*(2*s-1)):.5*Math.sin(-13*Math.PI/2*(2*s-1+1))*Math.pow(2,-10*(2*s-1))+1}function Ui(s){return Math.sin(13*s*Math.PI/2)*Math.pow(2,10*(s-1))}function Hi(s){return Math.sin(-13*(s+1)*Math.PI/2)*Math.pow(2,-10*s)+1}function Wi(s){return s===0||s===1?s:s<.5?.5*Math.pow(2,20*s-10):-.5*Math.pow(2,10-s*20)+1}function ji(s){return s===0?s:Math.pow(2,10*(s-1))}function Ki(s){return s===1?s:1-Math.pow(2,-10*s)}function Gi(s){return s/=.5,s<1?.5*s*s:(s--,-.5*(s*(s-2)-1))}function Xi(s){return s*s}function Yi(s){return-s*(s-2)}function Qi(s){return s<.5?8*Math.pow(s,4):-8*Math.pow(s-1,4)+1}function Zi(s){return Math.pow(s,4)}function Ji(s){return Math.pow(s-1,3)*(1-s)+1}function xi(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)}function $i(s){return s*s*s*s*s}function ea(s){return--s*s*s*s*s+1}function ta(s){return-.5*(Math.cos(Math.PI*s)-1)}function sa(s){const e=Math.cos(s*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}function na(s){return Math.sin(s*Math.PI/2)}const Bt=Object.freeze(Object.defineProperty({__proto__:null,backIn:Oi,backInOut:Ti,backOut:Fi,bounceIn:qi,bounceInOut:Ii,bounceOut:zt,circIn:Ni,circInOut:Ri,circOut:Di,cubicIn:Bi,cubicInOut:zi,cubicOut:ss,elasticIn:Ui,elasticInOut:Vi,elasticOut:Hi,expoIn:ji,expoInOut:Wi,expoOut:Ki,quadIn:Xi,quadInOut:Gi,quadOut:Yi,quartIn:Zi,quartInOut:Qi,quartOut:Ji,quintIn:$i,quintInOut:xi,quintOut:ea,sineIn:sa,sineInOut:ta,sineOut:na,linear:dn},Symbol.toStringTag,{value:"Module"}));function bs(s){return Object.prototype.toString.call(s)==="[object Date]"}function Xt(s,e){if(s===e||s!==s)return()=>s;const t=typeof s;if(t!==typeof e||Array.isArray(s)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(s)){const i=e.map((a,n)=>Xt(s[n],a));return a=>i.map(n=>n(a))}if(t==="object"){if(!s||!e)throw new Error("Object cannot be null");if(bs(s)&&bs(e)){s=s.getTime(),e=e.getTime();const n=e-s;return l=>new Date(s+l*n)}const i=Object.keys(e),a={};return i.forEach(n=>{a[n]=Xt(s[n],e[n])}),n=>{const l={};return i.forEach(r=>{l[r]=a[r](n)}),l}}if(t==="number"){const i=e-s;return a=>s+a*i}throw new Error(`Cannot interpolate ${t} values`)}function ia(s,e={}){const t=$n(s);let i,a=s;function n(l,r){if(s==null)return t.set(s=l),Promise.resolve();a=l;let o=i,u=!1,{delay:d=0,duration:g=400,easing:b=dn,interpolate:w=Xt}=Dt(Dt({},e),r);if(g===0)return o&&(o.abort(),o=null),t.set(s=a),Promise.resolve();const C=jn()+d;let y;return i=Kn(S=>{if(S<C)return!0;u||(y=w(s,l),typeof g=="function"&&(g=g(s,l)),u=!0),o&&(o.abort(),o=null);const p=S-C;return p>g?(t.set(s=l),!1):(t.set(s=y(b(p/g))),!0)}),i.promise}return{set:n,update:(l,r)=>n(l(a,s),r),subscribe:t.subscribe}}function ps(s,e,t,i){if(e===0&&t===0)return s;const a=i?["a","b","c","d","e","f","g","h"].reverse():["a","b","c","d","e","f","g","h"],n=i?["8","7","6","5","4","3","2","1"].reverse():["8","7","6","5","4","3","2","1"],l=a[a.indexOf(s[0])+e],r=n[n.indexOf(s[1])+t];if(!(!l||!r))return l+r}function ms(s,e,t){const i=e*1.15,a=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","circle");return a.setAttribute("width",(s.offsetWidth*i).toString()),a.setAttribute("height",(s.offsetHeight*i).toString()),a.style.position="absolute",a.style.zIndex="100",a.style.translate=`${t?"":"-"}${25*i/2}% -${25*i/2}%`,a.style.opacity="0.2",n.setAttribute("r",(s.offsetWidth*i/2).toString()),n.setAttribute("cx",(s.offsetWidth*i/2).toString()),n.setAttribute("cy",(s.offsetHeight*i/2).toString()),n.setAttribute("fill","black"),a.appendChild(n),a}function aa(s,e){let t;function i(z,x=1e3){let Z=!1;const J=()=>{t==null?Z=!1:(z(...t),t=null,setTimeout(J,x))};return(...A)=>{if(Z){t=A;return}z(...A),Z=!0,setTimeout(J,x)}}let a,n,l,r,o,u,d,g,b=!1,w;const C=s.parentNode;let y,S=!1,{startSquare:p,boardFlipped:f,onlyShow:c,duration:v,easingFunc:M}=e;const{coords:k}=e;s.style.cursor=c?"default":"pointer";let q=ls(k).x,I=ls(k).y;const F=1.6;let B=ms(s,F,f);s.draggable=!1;function R(z){const x=z.clientX-a,Z=z.clientY-n;if(a=z.clientX,n=z.clientY,o+=x,u+=Z,b||(Math.abs(o)>1||Math.abs(u)>1)&&(k.update(J=>({x:J.x+(a-s.offsetWidth/2-s.getBoundingClientRect().x)/s.clientWidth,y:z.pointerType==="touch"?J.y-(n-s.offsetHeight*1.5-s.getBoundingClientRect().y)/s.clientWidth:J.y-(n-s.offsetHeight/2-s.getBoundingClientRect().y)/s.clientWidth,scale:z.pointerType==="touch"?F:1}),{duration:v,easing:M}),b=!0,s.style.zIndex="30",s.style.cursor="grabbing",s.dispatchEvent(new CustomEvent("startMoving"))),!!b){if(z.pointerType==="touch"){const J=Math.floor((o+l)/s.offsetWidth),A=Math.floor((u+r)/s.offsetHeight),D=ps(p,J,A,f);if(D){if(D!==y){const Y=Kt(D);B.style.left=`${Y.x*12.5}%`,B.style.top=`${Y.y*12.5}%`,C.appendChild(B)}}else y&&(y="")}k.update(J=>({x:J.x+x/s.clientWidth,y:J.y-Z/s.clientWidth,scale:z.pointerType==="touch"?F:1}),{duration:0}),s.dispatchEvent(new CustomEvent("moving",{detail:{x:a,y:n}}))}}const H=i(R,10);function re(){const z=window.scrollX-d,x=window.scrollY-g;d=window.scrollX,g=window.scrollY,k.update(Z=>({x:Z.x+z,y:Z.y+x,scale:1}),{duration:0})}function se(){window.removeEventListener("pointermove",H),window.removeEventListener("pointerup",se),window.removeEventListener("pointercancel",se),document.body.removeEventListener("pointerleave",se),window.removeEventListener("scroll",re),t=null;const z=Math.floor((o+l)/s.offsetWidth),x=Math.floor((u+r)/s.offsetHeight),Z=ps(p,z,x,f);S=!1,s.dispatchEvent(new CustomEvent("dropped",{detail:Z})),k.update(()=>({x:q,y:I,scale:1}),{duration:v,easing:M}).then(()=>{S||s.dispatchEvent(new CustomEvent("animationEnded")),S||(s.style.zIndex="1")}),a=0,n=0,o=0,u=0,s.style.cursor=c?"default":"pointer",b=!1,B.remove()}function N(z){if(z.preventDefault(),z.button!==0||!z.isPrimary)return;q=f?7-Gt(p[0]):Gt(p[0]),I=f?8-parseInt(p[1],10):parseInt(p[1],10)-1,y=p;const x=z.target.getBoundingClientRect();z.pointerType==="touch"?(a=z.clientX,n=z.clientY,l=z.clientX-x.x,r=z.clientY-x.y):(a=z.clientX,n=z.clientY,l=z.offsetX,r=z.offsetY),o=0,u=0,d=window.scrollX,g=window.scrollY,S=!0,s.dispatchEvent(new CustomEvent("clicked")),window.addEventListener("pointermove",H),window.addEventListener("pointerup",se),window.addEventListener("pointercancel",se),document.body.addEventListener("pointerleave",se),window.addEventListener("scroll",re)}function Ee(z){z.preventDefault()}function ye(z){z.preventDefault()}return s.addEventListener("contextmenu",Ee),s.addEventListener("dragstart",ye),c||s.addEventListener("pointerdown",N),{destroy(){s.removeEventListener("pointerdown",N),s.removeEventListener("contextmenu",Ee),s.removeEventListener("dragstart",ye),window.clearTimeout(w)},update(z){p=z.startSquare,v=z.duration,M=z.easingFunc,z.onlyShow!==c&&(c=z.onlyShow,c?(s.removeEventListener("pointerdown",N),s.style.cursor="default"):(s.addEventListener("pointerdown",N),s.style.cursor="pointer")),f!==z.boardFlipped&&(B=ms(s,F,z.boardFlipped)),f=z.boardFlipped}}}const vs=""+new URL("../../assets/wP-f78bae6c.svg",import.meta.url).href,la=""+new URL("../../assets/wR-5eb92d73.svg",import.meta.url).href,ra=""+new URL("../../assets/wN-a4c975a2.svg",import.meta.url).href,oa=""+new URL("../../assets/wB-1ff2f149.svg",import.meta.url).href,ua=""+new URL("../../assets/wQ-8568b485.svg",import.meta.url).href,da=""+new URL("../../assets/wK-4cdf6dc9.svg",import.meta.url).href,fa=""+new URL("../../assets/bP-84e521e8.svg",import.meta.url).href,ca=""+new URL("../../assets/bR-e39efb08.svg",import.meta.url).href,ha=""+new URL("../../assets/bN-d3912d91.svg",import.meta.url).href,ga=""+new URL("../../assets/bB-c430b746.svg",import.meta.url).href,ba=""+new URL("../../assets/bQ-c7b9a43e.svg",import.meta.url).href,pa=""+new URL("../../assets/bK-3500a2e6.svg",import.meta.url).href;function Yt(s){switch(s){case"wP":return vs;case"wR":return la;case"wN":return ra;case"wB":return oa;case"wQ":return ua;case"wK":return da;case"bP":return fa;case"bR":return ca;case"bN":return ha;case"bB":return ga;case"bQ":return ba;case"bK":return pa;default:return vs}}function ma(s){let e,t,i,a,n;return{c(){e=L("img"),this.h()},l(l){e=T(l,"IMG",{style:!0,class:!0,src:!0,alt:!0}),this.h()},h(){me(e,"left",s[8].x*12.5+"%"),me(e,"bottom",s[8].y*12.5+"%"),me(e,"scale",s[8].scale),me(e,"z-Index",s[4]?0:s[7]),me(e,"opacity",s[4]?.3:1),me(e,"cursor","pointer"),h(e,"class","noselect svelte-1g241z"),bt(e.src,t=Yt(s[1]))||h(e,"src",t),h(e,"alt",s[1])},m(l,r){V(l,e,r),a||(n=[Jt(i=aa.call(null,e,{startSquare:s[0],onlyShow:!s[12](s[3]),boardFlipped:s[2],duration:s[6],easingFunc:Bt[s[5]],coords:s[10]})),$(e,"dropped",s[11]),$(e,"clicked",s[18]),$(e,"startMoving",s[19]),$(e,"animationEnded",s[20]),$(e,"moving",s[21])],a=!0)},p(l,[r]){r&256&&me(e,"left",l[8].x*12.5+"%"),r&256&&me(e,"bottom",l[8].y*12.5+"%"),r&256&&me(e,"scale",l[8].scale),r&144&&me(e,"z-Index",l[4]?0:l[7]),r&16&&me(e,"opacity",l[4]?.3:1),r&2&&!bt(e.src,t=Yt(l[1]))&&h(e,"src",t),r&2&&h(e,"alt",l[1]),i&&xt(i.update)&&r&109&&i.update.call(null,{startSquare:l[0],onlyShow:!l[12](l[3]),boardFlipped:l[2],duration:l[6],easingFunc:Bt[l[5]],coords:l[10]})},i:_e,o:_e,d(l){l&&m(e),a=!1,Qe(n)}}}function va(s,e,t){let i,a,{square:n}=e,{name:l}=e,{getGridCoordsFromSquare:r}=e,{flipped:o}=e,{legal:u}=e,{preMoves:d=!1}=e,{whiteToMove:g=!1}=e,{movableState:b}=e,{ghostPiece:w=!1}=e,{easing:C="cubicInOut"}=e,{duration:y=120}=e,{selectedPiece:S=void 0}=e,p=!1;const f=$t();let c=y;const v=ia({x:0,y:0,scale:1},{duration:c,easing:Bt[C]});Gn(s,v,N=>t(8,a=N));let M=!1;const k=N=>N[0]==="w"?ae.WHITE:ae.BLACK,q=N=>{const Ee=r(N);v.update(()=>({x:Ee.x,y:Ee.y,scale:1}),{duration:M?c:0,easing:Bt[C]}),M||(M=!0),c=y},I=N=>{c=0,N.detail||f("deselect"),n===N.detail?(f(p?"deselect":"select"),p=!p):p=!1,f("endDragging",n+N.detail),n!==N.detail&&N.detail&&f("move",n+N.detail)},F=N=>N.enabled?u?!!(d&&k(l)===N.color||N.color===ae.WHITE&&g&&k(l)===ae.WHITE||N.color===ae.BLACK&&!g&&k(l)===ae.BLACK||N.color===ae.BOTH&&(k(l)===ae.WHITE&&g||k(l)===ae.BLACK&&!g)):N.color===k(l)||N.color===ae.BOTH:!1,B=N=>N===void 0||N.name!==l||N.square!==n;function R(N){et.call(this,s,N)}function H(N){et.call(this,s,N)}function re(N){et.call(this,s,N)}const se=N=>{f("moving",N.detail)};return s.$$set=N=>{"square"in N&&t(0,n=N.square),"name"in N&&t(1,l=N.name),"getGridCoordsFromSquare"in N&&t(13,r=N.getGridCoordsFromSquare),"flipped"in N&&t(2,o=N.flipped),"legal"in N&&t(14,u=N.legal),"preMoves"in N&&t(15,d=N.preMoves),"whiteToMove"in N&&t(16,g=N.whiteToMove),"movableState"in N&&t(3,b=N.movableState),"ghostPiece"in N&&t(4,w=N.ghostPiece),"easing"in N&&t(5,C=N.easing),"duration"in N&&t(6,y=N.duration),"selectedPiece"in N&&t(17,S=N.selectedPiece)},s.$$.update=()=>{s.$$.dirty&131072&&B(S)&&(p=!1),s.$$.dirty&5&&q(n),s.$$.dirty&8&&t(7,i=typeof b=="boolean"?b?2:1:b.enabled?2:1)},[n,l,o,b,w,C,y,i,a,f,v,I,F,r,u,d,g,S,R,H,re,se]}class vn extends Me{constructor(e){super(),ke(this,e,va,ma,Se,{square:0,name:1,getGridCoordsFromSquare:13,flipped:2,legal:14,preMoves:15,whiteToMove:16,movableState:3,ghostPiece:4,easing:5,duration:6,selectedPiece:17})}}function _a(s){let e,t;return{c(){e=L("div"),this.h()},l(i){e=T(i,"DIV",{style:!0,class:!0}),O(e).forEach(m),this.h()},h(){me(e,"left",s[2]*12.5+"%"),me(e,"bottom",s[3]*12.5+"%"),h(e,"class",t="noselect "+He.squareStyles[s[1]][s[0]]+" svelte-10vytug")},m(i,a){V(i,e,a)},p(i,[a]){a&4&&me(e,"left",i[2]*12.5+"%"),a&8&&me(e,"bottom",i[3]*12.5+"%"),a&3&&t!==(t="noselect "+He.squareStyles[i[1]][i[0]]+" svelte-10vytug")&&h(e,"class",t)},i:_e,o:_e,d(i){i&&m(e)}}}function Ea(s,e,t){let{square:i}=e,{color:a}=e,{getGridCoordsFromSquare:n}=e,{flipped:l}=e,{theme:r}=e,o,u;const d=()=>{const g=n(i);t(2,o=g.x),t(3,u=g.y)};return s.$$set=g=>{"square"in g&&t(4,i=g.square),"color"in g&&t(0,a=g.color),"getGridCoordsFromSquare"in g&&t(5,n=g.getGridCoordsFromSquare),"flipped"in g&&t(6,l=g.flipped),"theme"in g&&t(1,r=g.theme)},s.$$.update=()=>{s.$$.dirty&64&&d()},[a,r,o,u,i,n,l]}class wa extends Me{constructor(e){super(),ke(this,e,Ea,_a,Se,{square:4,color:0,getGridCoordsFromSquare:5,flipped:6,theme:1})}}const Ma=["a","b","c","d","e","f","g","h"],ka=["8","7","6","5","4","3","2","1"];function Sa(s){s.querySelectorAll("[sf]").forEach(e=>e.remove())}function Qt(s){return`${Ma[s.x]}${ka[s.y]}`}function _n(s,e){return Math.abs((s.x-e.x)*(s.y-e.y))===2}function Zt(s,e){return`${Qt(s)}${Qt(e)}`}function ya(s,e){return!!(_n(s,e)||Math.abs(s.x-e.x)===Math.abs(s.y-e.y)||s.x===e.x!=(s.y===e.y))}function En(s,e,t,i,a,n){let l={x:-1,y:-1},r,o;_n(e,t)&&i?(Math.abs(t.x-e.x)===2?l={x:t.x,y:e.y}:l={x:e.x,y:t.y},l.y-e.y<0?o=Math.PI+Math.atan((l.x-e.x)/(l.y-e.y)):o=Math.atan((l.x-e.x)/Math.abs(l.y-e.y)),r={x:t.x-Math.sign(t.x-l.x)*(l.x!==t.x?.4:0),y:t.y-Math.sign(t.y-l.y)*(l.y!==t.y?.4:0)}):(t.y-e.y<0?o=Math.PI+Math.atan((t.x-e.x)/(t.y-e.y)):o=Math.atan((t.x-e.x)/Math.abs(t.y-e.y)),r={x:t.x-Math.sin(o)*.4,y:t.y-Math.cos(o)*.4});const u={x:e.x+Math.sin(o)*.4,y:e.y+Math.cos(o)*.4};s.setAttribute("points",`${u.x+.5},${u.y+.5} ${l.x!==-1&&l.y!==-1&&i?`${l.x+.5},${l.y+.5} `:""}${r.x+.5},${r.y+.5}`),s.setAttribute("data-sqID",`${Zt(e,t)}`),n!==void 0&&s.setAttribute("opacity",`${n}`),a!==void 0&&(s.setAttribute("marker-start",`url(#start-${a[0]})`),s.setAttribute("marker-end",`url(#end-${a[0]})`),s.setAttribute("stroke",a))}function Nt(s,e,t,i,a,n){if(!(e===void 0||t.x===-1&&t.y===-1)){if(e.tagName==="circle")e.setAttribute("fill","transparent"),i?e.setAttribute("stroke","red"):a?e.setAttribute("stroke","orange"):n?e.setAttribute("stroke","blue"):e.setAttribute("stroke","green"),s.querySelectorAll(`\u0441ircle[cx="${t.x+.5}"][cy="${t.y+.5}"]`).forEach(l=>{e!==void 0&&l!==e&&(l.getAttribute("stroke")===e.getAttribute("stroke")?e.setAttribute("remove",""):e.hasAttribute("remove")&&e.removeAttribute("remove"))});else if(e.tagName==="polyline"){const l=i?"red":a?"orange":n?"blue":"green";e.setAttribute("stroke",`${l}`),e.setAttribute("marker-start",`url(#start-${l[0]})`),e.setAttribute("marker-end",`url(#end-${l[0]})`),s.querySelectorAll(`polyline[data-sqID="${e.getAttribute("data-sqID")}"]`).forEach(r=>{e instanceof SVGPolylineElement&&r!==e&&(r.getAttribute("stroke")===e.getAttribute("stroke")?e.setAttribute("remove",""):e.hasAttribute("remove")&&e.removeAttribute("remove"))})}}}function wn(s,e,t,i,a){const n=document.createElementNS("http://www.w3.org/2000/svg","polyline");return En(n,s,e,t,i,a),n.setAttribute("fill","none"),n.setAttribute("stroke-width","0.25"),n.setAttribute("stroke-linejoin","round"),n.setAttribute("opacity",a!==void 0?`${a}`:"0.4"),n.setAttribute("marker-start",i?`url(#start-${i[0]})`:"url(#start-g)"),n.setAttribute("marker-end",i?`url(#end-${i[0]})`:"url(#end-g)"),n.setAttribute("stroke",i||"green"),n}function Aa(s,e,t){e.forEach(i=>{const a=wn(Kt(i.move.substring(0,2)),Kt(i.move.substring(2,4)),t,i.color,i.opacity);a.setAttribute("sf",""),s.appendChild(a)})}function _s(s){s.querySelectorAll("circle,polyline").forEach(e=>{e.hasAttribute("sf")||e.remove()})}function Ca(s,e){let{svg:t,flipped:i,enabled:a,settings:n}=e,l=!1,r={x:-1,y:-1},o,u;function d(p,f){const c=s.getBoundingClientRect(),v=i?c.width-(p-c.left):p-c.left,M=i?c.height-(f-c.top):f-c.top;return{x:Math.max(0,Math.min(7,Math.floor(v/(s.clientWidth/8)))),y:Math.max(0,Math.min(7,Math.floor(M/(s.clientHeight/8))))}}function g(p){u=document.createElementNS("http://www.w3.org/2000/svg","circle"),u.setAttribute("cx",`${p.x+.5}`),u.setAttribute("cy",`${p.y+.5}`),u.setAttribute("r","0.465"),u.setAttribute("opacity","0.4"),u.setAttribute("fill","none"),u.setAttribute("stroke-width","0.07"),u.setAttribute("stroke","green")}function b(p){if(u===void 0||r.x===-1&&r.y===-1)return;const f=d(p.clientX,p.clientY);n.onlyChessMove&&!ya(r,f)||(o=void 0,u.hasAttribute("remove")&&u.removeAttribute("remove"),r.x===f.x&&r.y===f.y?(Zt(r,f),u instanceof SVGPolylineElement&&(u.remove(),g(f)),Nt(t,u,r,p.shiftKey,p.ctrlKey,p.altKey),t.appendChild(u),t.querySelectorAll(`circle[cx="${r.x+.5}"][cy="${r.y+.5}"]`).forEach(c=>{c!==u&&(o=c,u!==void 0&&c.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))})):(u instanceof SVGCircleElement&&u.remove(),o=void 0,t.querySelectorAll(`polyline[data-sqID="${Zt(r,f)}"]`).forEach(c=>{u===void 0||r.x===-1&&r.y===-1||c===u||(o=c,c.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))}),u instanceof SVGCircleElement?(u=wn(r,f,n.knightLShape),Nt(t,u,r,p.shiftKey,p.ctrlKey,p.altKey),t.appendChild(u)):u instanceof SVGPolylineElement&&En(u,r,f,n.knightLShape)))}function w(p){p.preventDefault()}function C(p){p.preventDefault(),Nt(t,u,r,p.shiftKey,p.ctrlKey,p.altKey)}function y(p){if(p.button===0)l=!1;else if(p.button===2){if(r.x===-1&&r.y===-1)return;t.querySelectorAll("[remove]").forEach(f=>{f.remove()}),o&&o.remove(),o=void 0,(u==null?void 0:u.tagName)==="circle"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawCircle",{detail:{square:Qt(r),color:u.getAttribute("stroke")}})),(u==null?void 0:u.tagName)==="polyline"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawArrow",{detail:{move:u.getAttribute("data-sqID"),color:u.getAttribute("stroke")}})),u=void 0,r={x:-1,y:-1},l=!1,window.removeEventListener("mousemove",b),window.removeEventListener("keydown",C),window.removeEventListener("keyup",C),window.removeEventListener("contextmenu",w)}window.removeEventListener("mouseup",y)}function S(p){if(p.button===0)l=!0,_s(t),window.addEventListener("mouseup",y);else if(p.button===2&&!l){const f=d(p.clientX,p.clientY);r=f,g(f),Nt(t,u,r,p.shiftKey,p.ctrlKey,p.altKey),o=void 0,t.querySelectorAll(`circle[cx="${f.x+.5}"][cy="${f.y+.5}"]`).forEach(c=>{o=c,u!==void 0&&c.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove","")}),u&&t.appendChild(u),window.addEventListener("mousemove",b),window.addEventListener("mouseup",y),window.addEventListener("keydown",C),window.addEventListener("keyup",C),window.addEventListener("contextmenu",w)}}return a&&s.addEventListener("mousedown",S),{update(p){p.svg!==t&&(t=p.svg),p.enabled!==a&&(a=p.enabled,a?s.addEventListener("mousedown",S):(_s(t),s.removeEventListener("mousedown",S))),n=p.settings,i=p.flipped}}}function Es(s,e,t){const i=s.slice();return i[8]=e[t],i}function ws(s){let e,t,i,a;return{c(){e=Fe("marker"),t=Fe("path"),i=Fe("marker"),a=Fe("path"),this.h()},l(n){e=Ie(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var l=O(e);t=Ie(l,"path",{fill:!0,d:!0}),O(t).forEach(m),l.forEach(m),i=Ie(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,orient:!0,fill:!0});var r=O(i);a=Ie(r,"path",{fill:!0,d:!0}),O(a).forEach(m),r.forEach(m),this.h()},h(){h(t,"fill",s[8]),h(t,"d","M 5 0 Q 0 0 0 5 L 0 15 Q 0 20 5 20 Z"),h(e,"id","start-"+s[8][0]),h(e,"viewBox","0 0 5 20"),h(e,"refX","4"),h(e,"refY","10"),h(e,"markerUnits","strokeWidth"),h(e,"markerWidth","0.5"),h(e,"markerHeight","1"),h(e,"orient","auto"),h(a,"fill",s[8]),h(a,"d","M 0 4 L 10 10 L 0 16 Z"),h(i,"id","end-"+s[8][0]),h(i,"viewBox","0 0 10 20"),h(i,"refX","0.2"),h(i,"refY","10"),h(i,"markerUnits","strokeWidth"),h(i,"orient","auto"),h(i,"fill","currentColor")},m(n,l){V(n,e,l),_(e,t),V(n,i,l),_(i,a)},p:_e,d(n){n&&m(e),n&&m(i)}}}function Pa(s){let e,t,i,a=s[2],n=[];for(let l=0;l<a.length;l+=1)n[l]=ws(Es(s,a,l));return{c(){e=Fe("svg"),t=Fe("defs");for(let l=0;l<n.length;l+=1)n[l].c();i=Fe("g"),this.h()},l(l){e=Ie(l,"svg",{xmlns:!0,style:!0,viewBox:!0,class:!0});var r=O(e);t=Ie(r,"defs",{});var o=O(t);for(let u=0;u<n.length;u+=1)n[u].l(o);o.forEach(m),i=Ie(r,"g",{}),O(i).forEach(m),r.forEach(m),this.h()},h(){h(e,"xmlns","http://www.w3.org/2000/svg"),me(e,"transform","rotate("+(s[1]?"180deg":"0deg")+")"),h(e,"viewBox","0 0 8 8"),h(e,"class","svelte-19gv2n4")},m(l,r){V(l,e,r),_(e,t);for(let o=0;o<n.length;o+=1)n[o].m(t,null);_(e,i),s[5](i)},p(l,[r]){if(r&4){a=l[2];let o;for(o=0;o<a.length;o+=1){const u=Es(l,a,o);n[o]?n[o].p(u,r):(n[o]=ws(u),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=a.length}r&2&&me(e,"transform","rotate("+(l[1]?"180deg":"0deg")+")")},i:_e,o:_e,d(l){l&&m(e),ft(n,l),s[5](null)}}}function La(s,e,t){let{flipped:i=!1}=e,{svg:a}=e,{knightLShape:n=!1}=e,{computerArrows:l=[]}=e,r=!1;function o(g){!r||(Sa(a),Aa(a,g,n))}es(()=>{r=!0,o(l)});const u=["green","red","blue","orange"];function d(g){Q[g?"unshift":"push"](()=>{a=g,t(0,a)})}return s.$$set=g=>{"flipped"in g&&t(1,i=g.flipped),"svg"in g&&t(0,a=g.svg),"knightLShape"in g&&t(3,n=g.knightLShape),"computerArrows"in g&&t(4,l=g.computerArrows)},s.$$.update=()=>{s.$$.dirty&16&&o(l)},[a,i,u,n,l,d]}class Ta extends Me{constructor(e){super(),ke(this,e,La,Pa,Se,{flipped:1,svg:0,knightLShape:3,computerArrows:4})}}function Ms(s,{delay:e=0,duration:t=400,easing:i=ss,x:a=0,y:n=0,opacity:l=0}={}){const r=getComputedStyle(s),o=+r.opacity,u=r.transform==="none"?"":r.transform,d=o*(1-l);return{delay:e,duration:t,easing:i,css:(g,b)=>`
			transform: ${u} translate(${(1-g)*a}px, ${(1-g)*n}px);
			opacity: ${o-d*b}`}}function ht(s,{delay:e=0,duration:t=400,easing:i=ss}={}){const a=getComputedStyle(s),n=+a.opacity,l=parseFloat(a.height),r=parseFloat(a.paddingTop),o=parseFloat(a.paddingBottom),u=parseFloat(a.marginTop),d=parseFloat(a.marginBottom),g=parseFloat(a.borderTopWidth),b=parseFloat(a.borderBottomWidth);return{delay:e,duration:t,easing:i,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*n};height: ${w*l}px;padding-top: ${w*r}px;padding-bottom: ${w*o}px;margin-top: ${w*u}px;margin-bottom: ${w*d}px;border-top-width: ${w*g}px;border-bottom-width: ${w*b}px;`}}function Oa(s){let e,t,i,a,n,l;return{c(){e=L("button"),t=L("img"),this.h()},l(r){e=T(r,"BUTTON",{});var o=O(e);t=T(o,"IMG",{src:!0,alt:!0,class:!0}),o.forEach(m),this.h()},h(){bt(t.src,i=s[1])||h(t,"src",i),h(t,"alt",a="Promotion to "+s[0].toUpperCase()),h(t,"class","svelte-17pqsbb")},m(r,o){V(r,e,o),_(e,t),n||(l=$(e,"click",s[2]),n=!0)},p(r,[o]){o&1&&a!==(a="Promotion to "+r[0].toUpperCase())&&h(t,"alt",a)},i:_e,o:_e,d(r){r&&m(e),n=!1,l()}}}function Fa(s,e,t){let{piece:i}=e,{isWhite:a}=e,{showModal:n}=e;const l=$t(),r=(a?"w":"b")+i.toUpperCase(),o=Yt(r),u=()=>{l("newPromotion",i),t(3,n=!1)};return s.$$set=d=>{"piece"in d&&t(0,i=d.piece),"isWhite"in d&&t(4,a=d.isWhite),"showModal"in d&&t(3,n=d.showModal)},[i,o,u,n,a]}class Ia extends Me{constructor(e){super(),ke(this,e,Fa,Oa,Se,{piece:0,isWhite:4,showModal:3})}}function ks(s,e,t){const i=s.slice();return i[6]=e[t],i}function Ss(s){let e,t,i,a,n,l=["q","r","b","n"],r=[];for(let u=0;u<4;u+=1)r[u]=ys(ks(s,l,u));const o=u=>X(r[u],1,1,()=>{r[u]=null});return{c(){e=L("div"),t=L("div");for(let u=0;u<4;u+=1)r[u].c();this.h()},l(u){e=T(u,"DIV",{class:!0});var d=O(e);t=T(d,"DIV",{class:!0});var g=O(t);for(let b=0;b<4;b+=1)r[b].l(g);g.forEach(m),d.forEach(m),this.h()},h(){h(t,"class","modal-content svelte-it5mr1"),h(e,"class","modal svelte-it5mr1")},m(u,d){V(u,e,d),_(e,t);for(let g=0;g<4;g+=1)r[g].m(t,null);n=!0},p(u,d){if(d&3){l=["q","r","b","n"];let g;for(g=0;g<4;g+=1){const b=ks(u,l,g);r[g]?(r[g].p(b,d),j(r[g],1)):(r[g]=ys(b),r[g].c(),j(r[g],1),r[g].m(t,null))}for(Te(),g=4;g<4;g+=1)o(g);Oe()}},i(u){if(!n){for(let d=0;d<4;d+=1)j(r[d]);tt(()=>{a&&a.end(1),i=Xn(t,Ms,{x:100,duration:300}),i.start()}),n=!0}},o(u){r=r.filter(Boolean);for(let d=0;d<4;d+=1)X(r[d]);i&&i.invalidate(),a=Yn(t,Ms,{x:-200,duration:100}),n=!1},d(u){u&&m(e),ft(r,u),u&&a&&a.end()}}}function ys(s){let e,t,i,a;function n(o){s[3](o)}function l(o){s[4](o)}let r={piece:s[6]};return s[1]!==void 0&&(r.isWhite=s[1]),s[0]!==void 0&&(r.showModal=s[0]),e=new Ia({props:r}),Q.push(()=>ne(e,"isWhite",n)),Q.push(()=>ne(e,"showModal",l)),e.$on("newPromotion",s[5]),{c(){fe(e.$$.fragment)},l(o){ce(e.$$.fragment,o)},m(o,u){he(e,o,u),a=!0},p(o,u){const d={};!t&&u&2&&(t=!0,d.isWhite=o[1],ie(()=>t=!1)),!i&&u&1&&(i=!0,d.showModal=o[0],ie(()=>i=!1)),e.$set(d)},i(o){a||(j(e.$$.fragment,o),a=!0)},o(o){X(e.$$.fragment,o),a=!1},d(o){ge(e,o)}}}function qa(s){let e,t,i=s[0]&&Ss(s);return{c(){i&&i.c(),e=ve()},l(a){i&&i.l(a),e=ve()},m(a,n){i&&i.m(a,n),V(a,e,n),t=!0},p(a,[n]){a[0]?i?(i.p(a,n),n&1&&j(i,1)):(i=Ss(a),i.c(),j(i,1),i.m(e.parentNode,e)):i&&(Te(),X(i,1,1,()=>{i=null}),Oe())},i(a){t||(j(i),t=!0)},o(a){X(i),t=!1},d(a){i&&i.d(a),a&&m(e)}}}function Ra(s,e,t){let i=!1,a;function n(u){t(0,i=!0),u?t(1,a=!0):t(1,a=!1)}function l(u){a=u,t(1,a)}function r(u){i=u,t(0,i)}function o(u){et.call(this,s,u)}return[i,a,n,l,r,o]}class Na extends Me{constructor(e){super(),ke(this,e,Ra,qa,Se,{openPromotionModal:2})}get openPromotionModal(){return this.$$.ctx[2]}}const Da=""+new URL("../../assets/move-e4d827fe.wav",import.meta.url).href,za=""+new URL("../../assets/capture-3dff493a.wav",import.meta.url).href,Ba=""+new URL("../../assets/castle-dcf4b2c5.wav",import.meta.url).href,Va=""+new URL("../../assets/undo-b4184324.mp3",import.meta.url).href;function As(s){let e,t,i,a;return{c(){e=L("audio"),t=L("track"),i=L("source"),this.h()},l(n){e=T(n,"AUDIO",{preload:!0});var l=O(e);t=T(l,"TRACK",{kind:!0}),i=T(l,"SOURCE",{src:!0}),l.forEach(m),this.h()},h(){h(t,"kind","captions"),bt(i.src,a=Da)||h(i,"src",a),h(e,"preload","auto")},m(n,l){V(n,e,l),_(e,t),_(e,i),s[3](e)},p:_e,d(n){n&&m(e),s[3](null)}}}function Cs(s){let e,t,i,a;return{c(){e=L("audio"),t=L("track"),i=L("source"),this.h()},l(n){e=T(n,"AUDIO",{preload:!0});var l=O(e);t=T(l,"TRACK",{kind:!0}),i=T(l,"SOURCE",{src:!0}),l.forEach(m),this.h()},h(){h(t,"kind","captions"),bt(i.src,a=za)||h(i,"src",a),h(e,"preload","auto")},m(n,l){V(n,e,l),_(e,t),_(e,i),s[4](e)},p:_e,d(n){n&&m(e),s[4](null)}}}function Ps(s){let e,t,i,a;return{c(){e=L("audio"),t=L("track"),i=L("source"),this.h()},l(n){e=T(n,"AUDIO",{preload:!0});var l=O(e);t=T(l,"TRACK",{kind:!0}),i=T(l,"SOURCE",{src:!0}),l.forEach(m),this.h()},h(){h(t,"kind","captions"),bt(i.src,a=Ba)||h(i,"src",a),h(e,"preload","auto")},m(n,l){V(n,e,l),_(e,t),_(e,i),s[5](e)},p:_e,d(n){n&&m(e),s[5](null)}}}function Ls(s){let e,t,i,a;return{c(){e=L("audio"),t=L("track"),i=L("source"),this.h()},l(n){e=T(n,"AUDIO",{preload:!0});var l=O(e);t=T(l,"TRACK",{kind:!0}),i=T(l,"SOURCE",{src:!0}),l.forEach(m),this.h()},h(){h(t,"kind","captions"),bt(i.src,a=Va)||h(i,"src",a),h(e,"preload","auto")},m(n,l){V(n,e,l),_(e,t),_(e,i),s[6](e)},p:_e,d(n){n&&m(e),s[6](null)}}}function Ua(s){let e,t,i,a,n=s[0].MOVE&&As(s),l=s[0].CAPTURE&&Cs(s),r=s[0].CASTLE&&Ps(s),o=s[0].UNDO&&Ls(s);return{c(){n&&n.c(),e=K(),l&&l.c(),t=K(),r&&r.c(),i=K(),o&&o.c(),a=ve()},l(u){n&&n.l(u),e=G(u),l&&l.l(u),t=G(u),r&&r.l(u),i=G(u),o&&o.l(u),a=ve()},m(u,d){n&&n.m(u,d),V(u,e,d),l&&l.m(u,d),V(u,t,d),r&&r.m(u,d),V(u,i,d),o&&o.m(u,d),V(u,a,d)},p(u,[d]){u[0].MOVE?n?n.p(u,d):(n=As(u),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),u[0].CAPTURE?l?l.p(u,d):(l=Cs(u),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),u[0].CASTLE?r?r.p(u,d):(r=Ps(u),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null),u[0].UNDO?o?o.p(u,d):(o=Ls(u),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},i:_e,o:_e,d(u){n&&n.d(u),u&&m(e),l&&l.d(u),u&&m(t),r&&r.d(u),u&&m(i),o&&o.d(u),u&&m(a)}}}function Ha(s,e,t){let{settings:i}=e;const a={MOVE:void 0,CAPTURE:void 0,CASTLE:void 0,UNDO:void 0},n=()=>{a.CASTLE&&(a.CASTLE.pause(),t(1,a.CASTLE.currentTime=0,a)),a.MOVE&&(a.MOVE.pause(),t(1,a.MOVE.currentTime=0,a)),a.CAPTURE&&(a.CAPTURE.pause(),t(1,a.CAPTURE.currentTime=0,a)),a.UNDO&&(a.UNDO.pause(),t(1,a.UNDO.currentTime=0,a))},l=b=>b===void 0||i[b];function r(b){switch(n(),b){case"MOVE":a.MOVE&&l("MOVE")&&a.MOVE.play();break;case"CAPTURE":a.CAPTURE&&l("CAPTURE")?a.CAPTURE.play():a.MOVE&&l("MOVE")&&a.MOVE.play();break;case"CASTLE":a.CASTLE&&l("CASTLE")?a.CASTLE.play():a.MOVE&&l("MOVE")&&a.MOVE.play();break;case"UNDO":a.UNDO&&l("UNDO")?(t(1,a.UNDO.volume=.3,a),a.UNDO.play()):a.MOVE&&l("MOVE")&&a.MOVE.play();break}}function o(b){Q[b?"unshift":"push"](()=>{a.MOVE=b,t(1,a)})}function u(b){Q[b?"unshift":"push"](()=>{a.CAPTURE=b,t(1,a)})}function d(b){Q[b?"unshift":"push"](()=>{a.CASTLE=b,t(1,a)})}function g(b){Q[b?"unshift":"push"](()=>{a.UNDO=b,t(1,a)})}return s.$$set=b=>{"settings"in b&&t(0,i=b.settings)},[i,a,r,o,u,d,g]}class Wa extends Me{constructor(e){super(),ke(this,e,Ha,Ua,Se,{settings:0,playMoveSound:2})}get playMoveSound(){return this.$$.ctx[2]}}const Ts=""+new URL("../../assets/standard-97995bf9.svg",import.meta.url).href,Os=""+new URL("../../assets/darkBlue-02863507.svg",import.meta.url).href;function ja(s,e){const{minWidth:t,maxWidth:i,curWidth:a}=e;let n=a,l,r,o,u;function d(w){w.stopPropagation(),s.dispatchEvent(new CustomEvent("resizing",{detail:{size:Math.max(Math.max(t,Math.min(i,o+(w.pageX-l))),Math.max(t,Math.min(i,u+(w.pageY-r))))}}))}function g(w){w.stopPropagation(),s.dispatchEvent(new CustomEvent("endResizing",{detail:{size:Math.max(Math.max(t,Math.min(i,o+Math.floor((w.pageX-l)/8)*8)),Math.max(t,Math.min(i,u+Math.floor((w.pageY-r)/8)*8)))}})),window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",g)}function b(w){w.stopPropagation(),w.button===0&&(l=w.pageX,o=n,r=w.pageY,u=n,window.addEventListener("mousemove",d),window.addEventListener("mouseup",g))}return s.addEventListener("mousedown",b),{update(w){n=w.curWidth},destroy(){s.removeEventListener("mousedown",b)}}}function Ka(s){let e,t,i,a,n,l;return{c(){e=L("div"),t=Fe("svg"),i=Fe("path"),this.h()},l(r){e=T(r,"DIV",{style:!0,class:!0});var o=O(e);t=Ie(o,"svg",{xmlns:!0,viewBox:!0,fill:!0});var u=O(t);i=Ie(u,"path",{d:!0}),O(i).forEach(m),u.forEach(m),o.forEach(m),this.h()},h(){h(i,"d","M 5 1 Q 6 0 6 2 L 6 4 Q 6 6 4 6 L 2 6 Q 0 6 1 5 Z"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"viewBox","0 0 16 16"),h(t,"fill","currentColor"),me(e,"color",He.colors[s[0].state.board.boardTheme].black),h(e,"class","svelte-mmuauc")},m(r,o){V(r,e,o),_(e,t),_(t,i),n||(l=[$(e,"pointerdown",fn(s[2])),Jt(a=ja.call(null,e,{minWidth:s[0].state.board.resizible.min,maxWidth:s[0].state.board.resizible.max,curWidth:s[0].state.board.size})),$(e,"resizing",s[3]),$(e,"endResizing",s[4])],n=!0)},p(r,[o]){o&1&&me(e,"color",He.colors[r[0].state.board.boardTheme].black),a&&xt(a.update)&&o&1&&a.update.call(null,{minWidth:r[0].state.board.resizible.min,maxWidth:r[0].state.board.resizible.max,curWidth:r[0].state.board.size})},i:_e,o:_e,d(r){r&&m(e),n=!1,Qe(l)}}}function Ga(s,e,t){let{chessboard:i}=e,{setSize:a}=e;function n(o){et.call(this,s,o)}const l=o=>a(o.detail.size),r=o=>a(o.detail.size);return s.$$set=o=>{"chessboard"in o&&t(0,i=o.chessboard),"setSize"in o&&t(1,a=o.setSize)},[i,a,n,l,r]}class Xa extends Me{constructor(e){super(),ke(this,e,Ga,Ka,Se,{chessboard:0,setSize:1})}}function Fs(s,e,t){const i=s.slice();return i[72]=e[t],i}function Is(s,e,t){const i=s.slice();return i[75]=e[t],i}function qs(s){let e=[],t=new Map,i,a,n=s[5].state.pieces;const l=r=>r[75];for(let r=0;r<n.length;r+=1){let o=Is(s,n,r),u=l(o);t.set(u,e[r]=Rs(u,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=ve()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);i=ve()},m(r,o){for(let u=0;u<e.length;u+=1)e[u].m(r,o);V(r,i,o),a=!0},p(r,o){o[0]&116780&&(n=r[5].state.pieces,Te(),e=cn(e,o,l,1,r,n,t,i.parentNode,hn,Rs,i,Is),Oe())},i(r){if(!a){for(let o=0;o<n.length;o+=1)j(e[o]);a=!0}},o(r){for(let o=0;o<e.length;o+=1)X(e[o]);a=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&m(i)}}}function Rs(s,e){let t,i,a;function n(){return e[50](e[75])}function l(){return e[51](e[75])}function r(){return e[53](e[75])}return i=new vn({props:{square:e[75].square,name:e[75].name,duration:e[5].state.draggable.transition.settings.duration,easing:e[5].state.draggable.transition.settings.easing,legal:e[5].state.legal.enabled,preMoves:e[5].state.legal.preMoves.enabled,selectedPiece:e[5].state.selectable.selectedPiece,whiteToMove:e[5].state.legal.whiteToMove,movableState:e[5].state.movable,getGridCoordsFromSquare:e[5].getGridCoordsFromSquare,flipped:e[5].state.board.flipped}}),i.$on("move",e[14]),i.$on("clicked",n),i.$on("startMoving",l),i.$on("moving",e[15]),i.$on("endDragging",e[52]),i.$on("select",r),i.$on("deselect",e[54]),{key:s,first:null,c(){t=ve(),fe(i.$$.fragment),this.h()},l(o){t=ve(),ce(i.$$.fragment,o),this.h()},h(){this.first=t},m(o,u){V(o,t,u),he(i,o,u),a=!0},p(o,u){e=o;const d={};u[0]&32&&(d.square=e[75].square),u[0]&32&&(d.name=e[75].name),u[0]&32&&(d.duration=e[5].state.draggable.transition.settings.duration),u[0]&32&&(d.easing=e[5].state.draggable.transition.settings.easing),u[0]&32&&(d.legal=e[5].state.legal.enabled),u[0]&32&&(d.preMoves=e[5].state.legal.preMoves.enabled),u[0]&32&&(d.selectedPiece=e[5].state.selectable.selectedPiece),u[0]&32&&(d.whiteToMove=e[5].state.legal.whiteToMove),u[0]&32&&(d.movableState=e[5].state.movable),u[0]&32&&(d.getGridCoordsFromSquare=e[5].getGridCoordsFromSquare),u[0]&32&&(d.flipped=e[5].state.board.flipped),i.$set(d)},i(o){a||(j(i.$$.fragment,o),a=!0)},o(o){X(i.$$.fragment,o),a=!1},d(o){o&&m(t),ge(i,o)}}}function Ns(s){let e,t;return e=new vn({props:{ghostPiece:!0,duration:0,legal:s[5].state.legal.enabled,square:s[5].state.draggable.ghostPiece.piece.square,name:s[5].state.draggable.ghostPiece.piece.name,movableState:new pn(!1),getGridCoordsFromSquare:s[5].getGridCoordsFromSquare,flipped:s[5].state.board.flipped}}),{c(){fe(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,a){he(e,i,a),t=!0},p(i,a){const n={};a[0]&32&&(n.legal=i[5].state.legal.enabled),a[0]&32&&(n.square=i[5].state.draggable.ghostPiece.piece.square),a[0]&32&&(n.name=i[5].state.draggable.ghostPiece.piece.name),a[0]&32&&(n.getGridCoordsFromSquare=i[5].getGridCoordsFromSquare),a[0]&32&&(n.flipped=i[5].state.board.flipped),e.$set(n)},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){X(e.$$.fragment,i),t=!1},d(i){ge(e,i)}}}function Ya(s){let e=[],t=new Map,i,a,n=[...s[5].state.markedSquares];const l=r=>r[72];for(let r=0;r<n.length;r+=1){let o=Fs(s,n,r),u=l(o);t.set(u,e[r]=Ds(u,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=ve()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);i=ve()},m(r,o){for(let u=0;u<e.length;u+=1)e[u].m(r,o);V(r,i,o),a=!0},p(r,o){o[0]&34&&(n=[...r[5].state.markedSquares],Te(),e=cn(e,o,l,1,r,n,t,i.parentNode,hn,Ds,i,Fs),Oe())},i(r){if(!a){for(let o=0;o<n.length;o+=1)j(e[o]);a=!0}},o(r){for(let o=0;o<e.length;o+=1)X(e[o]);a=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&m(i)}}}function Ds(s,e){let t,i,a;return i=new wa({props:{theme:e[5].state.board.boardTheme,square:e[72].square,color:e[72].color,getGridCoordsFromSquare:e[5].getGridCoordsFromSquare,flipped:e[5].state.board.flipped}}),i.$on("dragenter",e[55]),{key:s,first:null,c(){t=ve(),fe(i.$$.fragment),this.h()},l(n){t=ve(),ce(i.$$.fragment,n),this.h()},h(){this.first=t},m(n,l){V(n,t,l),he(i,n,l),a=!0},p(n,l){e=n;const r={};l[0]&32&&(r.theme=e[5].state.board.boardTheme),l[0]&32&&(r.square=e[72].square),l[0]&32&&(r.color=e[72].color),l[0]&32&&(r.getGridCoordsFromSquare=e[5].getGridCoordsFromSquare),l[0]&32&&(r.flipped=e[5].state.board.flipped),i.$set(r)},i(n){a||(j(i.$$.fragment,n),a=!0)},o(n){X(i.$$.fragment,n),a=!1},d(n){n&&m(t),ge(i,n)}}}function zs(s){let e,t;return e=new Li({props:{theme:s[5].state.board.boardTheme,flipped:s[5].state.board.flipped}}),{c(){fe(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,a){he(e,i,a),t=!0},p(i,a){const n={};a[0]&32&&(n.theme=i[5].state.board.boardTheme),a[0]&32&&(n.flipped=i[5].state.board.flipped),e.$set(n)},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){X(e.$$.fragment,i),t=!1},d(i){ge(e,i)}}}function Bs(s){let e,t;return e=new Xa({props:{chessboard:s[5],setSize:s[4]}}),{c(){fe(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,a){he(e,i,a),t=!0},p(i,a){const n={};a[0]&32&&(n.chessboard=i[5]),e.$set(n)},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){X(e.$$.fragment,i),t=!1},d(i){ge(e,i)}}}function Vs(s){let e,t,i;function a(l){s[56](l)}let n={flipped:s[5].state.board.flipped,computerArrows:s[10],knightLShape:s[5].state.drawTools.settings.knightLShape};return s[7]!==void 0&&(n.svg=s[7]),e=new Ta({props:n}),Q.push(()=>ne(e,"svg",a)),{c(){fe(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,r){he(e,l,r),i=!0},p(l,r){const o={};r[0]&32&&(o.flipped=l[5].state.board.flipped),r[0]&1024&&(o.computerArrows=l[10]),r[0]&32&&(o.knightLShape=l[5].state.drawTools.settings.knightLShape),!t&&r[0]&128&&(t=!0,o.svg=l[7],ie(()=>t=!1)),e.$set(o)},i(l){i||(j(e.$$.fragment,l),i=!0)},o(l){X(e.$$.fragment,l),i=!1},d(l){ge(e,l)}}}function Us(s){let e,t,i={};return e=new Na({props:i}),s[57](e),e.$on("newPromotion",s[17]),{c(){fe(e.$$.fragment)},l(a){ce(e.$$.fragment,a)},m(a,n){he(e,a,n),t=!0},p(a,n){const l={};e.$set(l)},i(a){t||(j(e.$$.fragment,a),t=!0)},o(a){X(e.$$.fragment,a),t=!1},d(a){s[57](null),ge(e,a)}}}function Hs(s){let e,t,i={settings:s[5].state.sounds.settings};return e=new Wa({props:i}),s[62](e),{c(){fe(e.$$.fragment)},l(a){ce(e.$$.fragment,a)},m(a,n){he(e,a,n),t=!0},p(a,n){const l={};n[0]&32&&(l.settings=a[5].state.sounds.settings),e.$set(l)},i(a){t||(j(e.$$.fragment,a),t=!0)},o(a){X(e.$$.fragment,a),t=!1},d(a){s[62](null),ge(e,a)}}}function Qa(s){let e,t,i,a,n=s[12](),l,r,o,u,d,g,b,w,C,y,S,p,f,c=s[5].state.board.startFen&&qs(s),v=s[5].state.draggable.ghostPiece.enabled&&s[5].state.draggable.ghostPiece.piece!==void 0&&Ns(s),M=n&&Ya(s),k=s[5].state.board.notation&&zs(s),q=s[5].state.board.resizible.enabled&&Bs(s),I=s[5].state.drawTools.enabled&&Vs(s),F=s[5].state.legal.enabled&&Us(s),B=s[5].state.sounds.enabled&&Hs(s);return{c(){e=L("div"),t=L("div"),c&&c.c(),i=K(),v&&v.c(),a=K(),M&&M.c(),l=K(),k&&k.c(),r=K(),q&&q.c(),o=K(),I&&I.c(),u=K(),F&&F.c(),C=K(),B&&B.c(),y=ve(),this.h()},l(R){e=T(R,"DIV",{class:!0,style:!0});var H=O(e);t=T(H,"DIV",{style:!0,class:!0});var re=O(t);c&&c.l(re),re.forEach(m),i=G(H),v&&v.l(H),a=G(H),M&&M.l(H),l=G(H),k&&k.l(H),r=G(H),q&&q.l(H),o=G(H),I&&I.l(H),u=G(H),F&&F.l(H),H.forEach(m),C=G(R),B&&B.l(R),y=ve(),this.h()},h(){me(t,"width","100%"),me(t,"height","100%"),h(t,"class","noselect"),h(e,"class",d="noselect board "+(s[5].state.board.style.shadow?"shadow":"")+" text-sm "+s[0]+" svelte-1bsiysh"),h(e,"style",g="--boardTheme: url("+(s[5].state.board.boardTheme==="standard"?Ts:Os)+"); "+(s[5].state.board.style.borderRadius!=="0rem"&&s[5].state.board.style.borderRadius!=="0px"?`border-radius: ${s[5].state.board.style.borderRadius};`:"")),tt(()=>s[61].call(e))},m(R,H){V(R,e,H),_(e,t),c&&c.m(t,null),_(e,i),v&&v.m(e,null),_(e,a),M&&M.m(e,null),_(e,l),k&&k.m(e,null),_(e,r),q&&q.m(e,null),_(e,o),I&&I.m(e,null),_(e,u),F&&F.m(e,null),s[60](e),w=Qn(e,s[61].bind(e)),V(R,C,H),B&&B.m(R,H),V(R,y,H),S=!0,p||(f=[$(e,"pointerdown",s[13]),$(e,"contextmenu",rs(s[48])),$(e,"drag",rs(s[49])),Jt(b=Ca.call(null,e,{svg:s[7],flipped:s[5].state.board.flipped,enabled:s[5].state.drawTools.enabled,settings:s[5].state.drawTools.settings})),$(e,"drawCircle",s[58]),$(e,"drawArrow",s[59])],p=!0)},p(R,H){R[5].state.board.startFen?c?(c.p(R,H),H[0]&32&&j(c,1)):(c=qs(R),c.c(),j(c,1),c.m(t,null)):c&&(Te(),X(c,1,1,()=>{c=null}),Oe()),R[5].state.draggable.ghostPiece.enabled&&R[5].state.draggable.ghostPiece.piece!==void 0?v?(v.p(R,H),H[0]&32&&j(v,1)):(v=Ns(R),v.c(),j(v,1),v.m(e,a)):v&&(Te(),X(v,1,1,()=>{v=null}),Oe()),n&&M.p(R,H),R[5].state.board.notation?k?(k.p(R,H),H[0]&32&&j(k,1)):(k=zs(R),k.c(),j(k,1),k.m(e,r)):k&&(Te(),X(k,1,1,()=>{k=null}),Oe()),R[5].state.board.resizible.enabled?q?(q.p(R,H),H[0]&32&&j(q,1)):(q=Bs(R),q.c(),j(q,1),q.m(e,o)):q&&(Te(),X(q,1,1,()=>{q=null}),Oe()),R[5].state.drawTools.enabled?I?(I.p(R,H),H[0]&32&&j(I,1)):(I=Vs(R),I.c(),j(I,1),I.m(e,u)):I&&(Te(),X(I,1,1,()=>{I=null}),Oe()),R[5].state.legal.enabled?F?(F.p(R,H),H[0]&32&&j(F,1)):(F=Us(R),F.c(),j(F,1),F.m(e,null)):F&&(Te(),X(F,1,1,()=>{F=null}),Oe()),(!S||H[0]&33&&d!==(d="noselect board "+(R[5].state.board.style.shadow?"shadow":"")+" text-sm "+R[0]+" svelte-1bsiysh"))&&h(e,"class",d),(!S||H[0]&32&&g!==(g="--boardTheme: url("+(R[5].state.board.boardTheme==="standard"?Ts:Os)+"); "+(R[5].state.board.style.borderRadius!=="0rem"&&R[5].state.board.style.borderRadius!=="0px"?`border-radius: ${R[5].state.board.style.borderRadius};`:"")))&&h(e,"style",g),b&&xt(b.update)&&H[0]&160&&b.update.call(null,{svg:R[7],flipped:R[5].state.board.flipped,enabled:R[5].state.drawTools.enabled,settings:R[5].state.drawTools.settings}),R[5].state.sounds.enabled?B?(B.p(R,H),H[0]&32&&j(B,1)):(B=Hs(R),B.c(),j(B,1),B.m(y.parentNode,y)):B&&(Te(),X(B,1,1,()=>{B=null}),Oe())},i(R){S||(j(c),j(v),j(M),j(k),j(q),j(I),j(F),j(B),S=!0)},o(R){X(c),X(v),X(M),X(k),X(q),X(I),X(F),X(B),S=!1},d(R){R&&m(e),c&&c.d(),v&&v.d(),M&&M.d(),k&&k.d(),q&&q.d(),I&&I.d(),F&&F.d(),s[60](null),w(),R&&m(C),B&&B.d(R),R&&m(y),p=!1,Qe(f)}}}function Za(s,e,t){let{config:i}=e,{className:a=""}=e;const n=new Ei(i),l=$t();let r,o,u,d,g="";Zn(()=>{document.documentElement.hasAttribute("style")&&n.state.board.resizible.enabled&&document.documentElement.removeAttribute("style")});let b=[],w={[ae.WHITE]:"",[ae.BLACK]:""};const C=E=>{n.clearAllSquares(E),E===U.LEGAL&&n.clearAllSquares(U.LEGALHOVER),E===U.PREMOVE&&n.clearAllSquares(U.PREMOVEHOVER),t(5,n)},y=(E,W)=>{n.highlightSquare(E,W),t(5,n)},S=E=>n.state.highlight.enabled&&(E===void 0||n.state.highlight.settings[E]),p=E=>{if(!n.state.selectable.enabled)return;const W=n.getPieceFromSquare(E);W!==void 0&&(C(U.SELECT),t(5,n.state.selectable.selectedPiece=W,n),S("select")&&y(E,U.SELECT))},f=()=>{C(U.SELECT),C(U.LEGAL),C(U.PREMOVE),t(5,n.state.selectable.selectedPiece=void 0,n),t(5,n.state.legal.preMoves.curMove="",n)},c=E=>{C(U.CHECK),E!==void 0&&S("check")&&y(w[E],U.CHECK),t(5,n)},v=E=>{n.flipBoard(E),t(5,n)},M=(E,W)=>{E.forEach(le=>n.highlightSquare(le,W)),t(5,n)},k=(E,W=U.MOVE)=>{E.length<4||M([E.substring(0,2),E.substring(2,4)],W)},q=(E,W=U.MOVE)=>{const le=[];E.forEach(Ae=>{Ae.length<4||(le.push(Ae.substring(0,2)),le.push(Ae.substring(2,4)))}),M(le,W)},I=E=>{y(E.substring(2,4),U.LEGAL)},F=(E,W=U.LEGAL)=>{C(W),E.forEach(le=>{le.length<4||n.highlightSquare(le.substring(2,4),W)}),t(5,n)},B=(E,W=!0)=>{n.makeMove(E),W&&(C(U.MOVE),S("move")&&k(E)),t(5,n)},R=E=>{n.removePiece(E),t(5,n)},H=E=>E[0]==="w"?ae.WHITE:ae.BLACK,re=()=>n.state.movable.enabled&&(n.state.movable.color===ae.BOTH||n.state.legal.whiteToMove&&n.state.movable.color===H("w")||!n.state.legal.whiteToMove&&n.state.movable.color===H("b")),se=()=>{!n.state.legal.enabled||(n.state.callbacks.getWhiteToMove&&t(5,n.state.legal.whiteToMove=n.state.callbacks.getWhiteToMove(),n),n.state.callbacks.getPreMoves&&!re()&&n.state.legal.preMoves.enabled?t(5,n.state.legal.preMoves.moves=n.state.callbacks.getPreMoves(),n):t(5,n.state.legal.preMoves.moves.length=0,n),n.state.callbacks.getLegalMoves&&re()?t(5,n.state.legal.moves=n.state.callbacks.getLegalMoves(),n):t(5,n.state.legal.moves.length=0,n),re()&&n.state.selectable.selectedPiece!==void 0&&n.state.legal.preMoves.enabled&&(C(U.PREMOVE),C(U.LEGAL),S("legal")&&n.state.legal.moves.forEach(E=>{n.state.selectable.selectedPiece&&E.substring(0,2)===n.state.selectable.selectedPiece.square&&y(E.substring(2,4),U.LEGAL)})),n.state.callbacks.getKingLocations&&(w=n.state.callbacks.getKingLocations()),n.state.callbacks.getInCheck&&c(n.state.callbacks.getInCheck()))},N=E=>{n.state.sounds.enabled&&u.playMoveSound(E)},Ee=E=>{n.setGhostPiece(E),t(5,n)},ye=()=>{n.removeGhostPiece(),t(5,n)},z=E=>{if(E.substring(0,2)===E.substring(2,4))return;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(E),f();const W=n.getRookMoveIfIsCastling(E),le=n.getCapturedPawnSquareIfIsEnPassant(E);if(W&&n.state.legal.enabled&&n.state.legal.settings.allowCastling?(B(W,!1),N("CASTLE")):le&&n.state.legal.enabled&&n.state.legal.settings.allowEnPassant?(R(le),N("CAPTURE")):n.isCapture(E)?N("CAPTURE"):N("MOVE"),ye(),B(E),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(E),se(),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.curMove!==""){if(n.state.legal.moves.includes(n.state.legal.preMoves.curMove)||n.state.legal.moves.includes(`${n.state.legal.preMoves.curMove}q`)){const Ae=n.state.legal.preMoves.curMove;t(5,n.state.legal.preMoves.curMove="",n),Jn().then(()=>{z(Ae)})}C(U.NEXTMOVE)}},x=E=>{!n.state.legal.enabled||!n.state.legal.preMoves.enabled||!n.state.movable.enabled||(C(U.PREMOVE),C(U.NEXTMOVE),n.state.highlight.enabled&&n.state.highlight.settings.nextMove&&k(E,U.NEXTMOVE),t(5,n.state.legal.preMoves.curMove=E,n),l("nextMove",{move:E}))},Z=E=>{d.openPromotionModal(!0),g=E,n.makeMove(E),C(U.LEGAL),C(U.SELECT),C(U.MOVE),k(E)},J=(E,W)=>{n.clearSquare(E,W),t(5,n)},A=()=>{n.clearAllPieces(),t(5,n)},D=(E,W)=>{n.setPiece(E,W),t(5,n)},Y=(E,W)=>{var Ae;const le=(Ae=n.getPieceFromSquare(E))==null?void 0:Ae.name;!le||(W!==void 0?n.setPiece(E,`${W===ae.WHITE?"w":"b"}${le[1]}`):n.setPiece(E,`${le[0]==="w"?"b":"w"}${le[1]}`),t(5,n))},ee=(E,W)=>{const le=Math.floor(E/n.state.board.size*8),Ae=Math.floor(W/n.state.board.size*8),Ce=n.state.board.flipped?Math.abs(le-7):le,Be=n.state.board.flipped?Ae:Math.abs(Ae-7);return Object.keys(n.letters)[Ce]+(Be+1).toString()},we=E=>{if(!n.state.movable.enabled)return!1;if(n.state.legal.enabled){if(n.state.legal.preMoves.enabled&&(n.state.movable.color===H(E)&&n.state.legal.whiteToMove===!0&&H(E)===ae.WHITE||n.state.legal.whiteToMove===!1&&H(E)===ae.BLACK)||!n.state.legal.preMoves.enabled&&(n.state.legal.whiteToMove===!0&&H(E)===ae.WHITE||n.state.legal.whiteToMove===!1&&H(E)===ae.BLACK))return!0}else if(n.state.movable.color===ae.BOTH||n.state.movable.color===H(E))return!0;return!1},de=E=>{if(E.button===2){f();return}const W=r.getBoundingClientRect(),le=E.clientX-W.left,Ae=E.clientY-W.top,Ce=ee(le,Ae),Be=n.getPieceFromSquare(Ce);if(l("squareClick",{square:Ce,piece:Be?Be.name:void 0}),!n.state.selectable.enabled){f();return}if(n.state.selectable.selectedPiece!==void 0&&n.state.selectable.selectedPiece.square!==Ce&&!n.state.legal.enabled){z(n.state.selectable.selectedPiece.square+Ce),f();return}if(n.state.selectable.selectedPiece!==void 0&&n.state.selectable.selectedPiece.square!==Ce&&(Be===void 0||Be.name[0]!==n.state.selectable.selectedPiece.name[0])){n.isPromotion(n.state.selectable.selectedPiece.square+Ce)&&n.state.legal.moves.includes(`${n.state.selectable.selectedPiece.square+Ce}q`)?Z(n.state.selectable.selectedPiece.square+Ce):n.state.legal.moves.includes(n.state.selectable.selectedPiece.square+Ce)?z(n.state.selectable.selectedPiece.square+Ce):n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.includes(n.state.selectable.selectedPiece.square+Ce)&&x(n.state.selectable.selectedPiece.square+Ce),f();return}n.state.selectable.selectedPiece!==Be&&Be!==void 0&&n.state.movable.enabled&&(n.state.movable.color===ae.BOTH||n.state.movable.color===H(Be.name))&&(S("legal")&&n.state.legal.enabled&&re()&&(C(U.LEGAL),n.state.legal.moves.forEach(lt=>{lt.substring(0,2)===Ce&&y(lt.substring(2,4),U.LEGAL)})),S("preMove")&&n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.movable.color!==ae.BOTH&&!re()&&(C(U.PREMOVE),n.state.legal.preMoves.moves.forEach(lt=>{lt.substring(0,2)===Ce&&y(lt.substring(2,4),U.PREMOVE)})),(n.state.legal.enabled&&we(Be.name[0])||!n.state.legal.enabled)&&p(Be.square))},qe=E=>{const W=E.detail;n.state.legal.enabled?n.isPromotion(W)&&n.state.legal.moves.includes(`${W}q`)?Z(W):n.state.legal.moves.includes(W)?z(W):n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.includes(W)?x(W):f():z(W),C(U.LEGAL),C(U.PREMOVE),t(5,n)},Le=(E,W="MOVE")=>{if(n.updatePiecesWithFen(E),C(),ye(),se(),n.state.callbacks.getLastMove){const le=n.state.callbacks.getLastMove();W!==!1&&(W!=="MOVE"?N(W):n.isCastling(le)?N("CASTLE"):N(W)),k(le)}else W!==!1&&N(W);t(5,n)},Ne=()=>n.getShortFEN(),be=E=>{!E||n.state.board.size===E||(t(5,n.state.board.size=E,n),n.state.board.resizible.enabled&&document.documentElement.style.setProperty("--boardSize",`${n.state.board.size}px`))},Pe=E=>{var W;return(W=n.getPieceFromSquare(E))==null?void 0:W.name},Re=E=>{t(10,b=E)},De=()=>{t(10,b.length=0,b)},Ve=()=>{se()},We=E=>{E===!1?t(5,n.state.movable.enabled=!1,n):(t(5,n.state.movable.enabled=!0,n),t(5,n.state.movable.color=E===!0?ae.BOTH:E,n))},Mt=E=>{E!==void 0&&(n.setConfigSettings(E),t(5,n))},nt=()=>n.state,je=E=>{t(5,n.state=E,n),C(),se(),n.state.legal.enabled&&n.state.legal.lastMove!==""&&S("move")&&k(n.state.legal.lastMove),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.curMove!==""&&S("nextMove")&&k(n.state.legal.preMoves.curMove,U.NEXTMOVE),n.state.selectable.enabled&&n.state.selectable.selectedPiece!==void 0&&(S("select")&&we(n.state.selectable.selectedPiece.name)&&y(n.state.selectable.selectedPiece.square,U.SELECT),n.state.legal.enabled&&n.state.legal.moves.length>0&&S("legal")&&n.state.legal.moves.forEach(W=>{var le;W.substring(0,2)===((le=n.state.selectable.selectedPiece)==null?void 0:le.square)&&y(W.substring(2,4),U.LEGAL)}),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.length>0&&S("preMove")&&n.state.legal.preMoves.moves.forEach(W=>{var le;W.substring(0,2)===((le=n.state.selectable.selectedPiece)==null?void 0:le.square)&&y(W.substring(2,4),U.PREMOVE)}))},Ke=E=>E.getConfig(),ze=E=>{const W=r.getBoundingClientRect();n.state.legal.enabled&&(re()&&n.legalHover(ee(E.detail.x-W.x,E.detail.y-W.y)),!re()&&n.state.legal.preMoves.enabled&&n.preMoveHover(ee(E.detail.x-W.x,E.detail.y-W.y))),t(5,n)},Ge=E=>{n.state.draggable.ghostPiece&&Ee(E),C(U.SELECT),n.state.selectable.selectedPiece===void 0&&(S("legal")&&n.state.legal.enabled&&n.state.legal.moves.forEach(W=>{W.substring(0,2)===E.square&&y(W.substring(2,4),U.LEGAL)}),S("preMove")&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.forEach(W=>{W.substring(0,2)===E.square&&y(W.substring(2,4),U.PREMOVE)}))},kt=E=>{const W=n.getPieceFromSquare(g.substring(2,4));if(!W)return;const le=W.name[0]+E.detail.toUpperCase(),Ae=g+E.detail;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(Ae),n.setPiece(W.square,le),t(5,n),N("MOVE"),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(Ae),se()};es(()=>{se(),n.state.callbacks.getLastMove&&k(n.state.callbacks.getLastMove()),n.state.board.resizible&&be(n.state.board.size-n.state.board.size%8)});function pt(E){et.call(this,s,E)}function St(E){et.call(this,s,E)}const it=E=>{l("piececlick",{piece:E})},yt=E=>{l("startDragging",{piece:E}),Ge(E)};function At(E){et.call(this,s,E)}const Ze=E=>p(E.square),Ct=()=>f(),mt=E=>{y(E.detail.square,U.LEGALHOVER)};function Pt(E){o=E,t(7,o)}function Xe(E){Q[E?"unshift":"push"](()=>{d=E,t(9,d)})}const Lt=E=>l("drawCircle",{square:E.detail.square,color:E.detail.color}),Ye=E=>l("drawArrow",{move:E.detail.move,color:E.detail.color});function at(E){Q[E?"unshift":"push"](()=>{r=E,t(6,r)})}function Tt(){n.state.board.size=this.clientWidth,t(5,n)}function It(E){Q[E?"unshift":"push"](()=>{u=E,t(8,u)})}return s.$$set=E=>{"config"in E&&t(18,i=E.config),"className"in E&&t(0,a=E.className)},s.$$.update=()=>{s.$$.dirty[0]&32&&be(n.state.board.size-n.state.board.size%8)},[a,y,p,f,be,n,r,o,u,d,b,l,S,de,qe,ze,Ge,kt,i,C,v,M,k,q,I,F,B,R,N,z,x,Z,J,A,D,Y,ee,Le,Ne,Pe,Re,De,Ve,We,Mt,nt,je,Ke,pt,St,it,yt,At,Ze,Ct,mt,Pt,Xe,Lt,Ye,at,Tt,It]}class Ja extends Me{constructor(e){super(),ke(this,e,Za,Qa,Se,{config:18,className:0,clearAllSquares:19,highlightSquare:1,selectPiece:2,deselect:3,flipBoard:20,highlightManySquares:21,highlightMove:22,highlightMoves:23,highlightLegalMove:24,highlightLegalMoves:25,movePiece:26,removePiece:27,playMoveSound:28,makeMove:29,makeNextMove:30,makeMovePromotion:31,removeSquareHighlight:32,removeAllPiece:33,createPiece:34,changeColorOfPiece:35,getSquareFromCoords:36,setFEN:37,getShortFEN:38,setSize:4,getPieceFromSquare:39,setComputerArrows:40,removeComputerArrows:41,updateLegalState:42,setMovableColor:43,setConfigSettings:44,getState:45,setState:46,getConfigFromState:47},null,[-1,-1,-1])}get clearAllSquares(){return this.$$.ctx[19]}get highlightSquare(){return this.$$.ctx[1]}get selectPiece(){return this.$$.ctx[2]}get deselect(){return this.$$.ctx[3]}get flipBoard(){return this.$$.ctx[20]}get highlightManySquares(){return this.$$.ctx[21]}get highlightMove(){return this.$$.ctx[22]}get highlightMoves(){return this.$$.ctx[23]}get highlightLegalMove(){return this.$$.ctx[24]}get highlightLegalMoves(){return this.$$.ctx[25]}get movePiece(){return this.$$.ctx[26]}get removePiece(){return this.$$.ctx[27]}get playMoveSound(){return this.$$.ctx[28]}get makeMove(){return this.$$.ctx[29]}get makeNextMove(){return this.$$.ctx[30]}get makeMovePromotion(){return this.$$.ctx[31]}get removeSquareHighlight(){return this.$$.ctx[32]}get removeAllPiece(){return this.$$.ctx[33]}get createPiece(){return this.$$.ctx[34]}get changeColorOfPiece(){return this.$$.ctx[35]}get getSquareFromCoords(){return this.$$.ctx[36]}get setFEN(){return this.$$.ctx[37]}get getShortFEN(){return this.$$.ctx[38]}get setSize(){return this.$$.ctx[4]}get getPieceFromSquare(){return this.$$.ctx[39]}get setComputerArrows(){return this.$$.ctx[40]}get removeComputerArrows(){return this.$$.ctx[41]}get updateLegalState(){return this.$$.ctx[42]}get setMovableColor(){return this.$$.ctx[43]}get setConfigSettings(){return this.$$.ctx[44]}get getState(){return this.$$.ctx[45]}get setState(){return this.$$.ctx[46]}get getConfigFromState(){return this.$$.ctx[47]}}const Ws=["standard","darkBlue"],js=["backIn","backInOut","backOut","bounceIn","bounceInOut","bounceOut","circIn","circInOut","circOut","cubicIn","cubicInOut","cubicOut","elasticIn","elasticInOut","elasticOut","expoIn","expoInOut","expoOut","linear","quadIn","quadInOut","quadOut","quartIn","quartInOut","quartOut","quintIn","quintInOut","quintOut","sineIn","sineInOut","sineOut"];function Ks(s){let e,t,i;return{c(){e=L("input"),this.h()},l(a){e=T(a,"INPUT",{type:!0,class:!0}),this.h()},h(){h(e,"type","checkbox"),h(e,"class","mr-1")},m(a,n){V(a,e,n),e.checked=s[0],t||(i=[$(e,"click",fn(s[6])),$(e,"change",s[7])],t=!0)},p(a,n){n&1&&(e.checked=a[0])},d(a){a&&m(e),t=!1,Qe(i)}}}function Gs(s){let e,t,i;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(a){e=Ie(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=O(e);t=Ie(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),O(t).forEach(m),n.forEach(m),this.h()},h(){h(t,"fill-rule","evenodd"),h(t,"d","M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"),h(t,"clip-rule","evenodd"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"viewBox","0 0 20 20"),h(e,"fill","currentColor"),h(e,"class",i="w-5 h-5 transition "+(s[1]?"rotate-180":"rotate-0"))},m(a,n){V(a,e,n),_(e,t)},p(a,n){n&2&&i!==(i="w-5 h-5 transition "+(a[1]?"rotate-180":"rotate-0"))&&h(e,"class",i)},d(a){a&&m(e)}}}function Xs(s){let e,t,i;const a=s[5].default,n=ln(a,s,s[4],null);return{c(){e=L("div"),n&&n.c(),this.h()},l(l){e=T(l,"DIV",{class:!0});var r=O(e);n&&n.l(r),r.forEach(m),this.h()},h(){h(e,"class","py-2 px-4")},m(l,r){V(l,e,r),n&&n.m(e,null),i=!0},p(l,r){n&&n.p&&(!i||r&16)&&rn(n,a,l,l[4],i?un(a,l[4],r,null):on(l[4]),null)},i(l){i||(j(n,l),l&&tt(()=>{t||(t=ct(e,ht,{},!0)),t.run(1)}),i=!0)},o(l){X(n,l),l&&(t||(t=ct(e,ht,{},!1)),t.run(0)),i=!1},d(l){l&&m(e),n&&n.d(l),l&&t&&t.end()}}}function xa(s){let e,t,i,a,n,l,r,o,u,d,g,b,w,C,y=s[0]!==void 0&&Ks(s),S=s[3]&&Gs(s),p=s[1]&&Xs(s);return{c(){e=L("div"),t=L("button"),i=L("div"),y&&y.c(),a=K(),n=L("span"),l=oe(s[2]),o=K(),S&&S.c(),g=K(),p&&p.c(),this.h()},l(f){e=T(f,"DIV",{class:!0});var c=O(e);t=T(c,"BUTTON",{class:!0});var v=O(t);i=T(v,"DIV",{class:!0});var M=O(i);y&&y.l(M),a=G(M),n=T(M,"SPAN",{class:!0});var k=O(n);l=ue(k,s[2]),k.forEach(m),M.forEach(m),o=G(v),S&&S.l(v),v.forEach(m),g=G(c),p&&p.l(c),c.forEach(m),this.h()},h(){h(n,"class",r=s[0]===void 0?"ml-[21px]":""),h(i,"class","flex gap-1"),h(t,"class",u="flex justify-between px-4 py-2 "+(s[3]?"transition hover:bg-slate-800/40":"")+" rounded"),t.disabled=d=!s[3],h(e,"class","bg-slate-900/20 rounded shadow-lg flex flex-col")},m(f,c){V(f,e,c),_(e,t),_(t,i),y&&y.m(i,null),_(i,a),_(i,n),_(n,l),_(t,o),S&&S.m(t,null),_(e,g),p&&p.m(e,null),b=!0,w||(C=$(t,"click",s[8]),w=!0)},p(f,[c]){f[0]!==void 0?y?y.p(f,c):(y=Ks(f),y.c(),y.m(i,a)):y&&(y.d(1),y=null),(!b||c&4)&&Vt(l,f[2]),(!b||c&1&&r!==(r=f[0]===void 0?"ml-[21px]":""))&&h(n,"class",r),f[3]?S?S.p(f,c):(S=Gs(f),S.c(),S.m(t,null)):S&&(S.d(1),S=null),(!b||c&8&&u!==(u="flex justify-between px-4 py-2 "+(f[3]?"transition hover:bg-slate-800/40":"")+" rounded"))&&h(t,"class",u),(!b||c&8&&d!==(d=!f[3]))&&(t.disabled=d),f[1]?p?(p.p(f,c),c&2&&j(p,1)):(p=Xs(f),p.c(),j(p,1),p.m(e,null)):p&&(Te(),X(p,1,1,()=>{p=null}),Oe())},i(f){b||(j(p),b=!0)},o(f){X(p),b=!1},d(f){f&&m(e),y&&y.d(),S&&S.d(),p&&p.d(),w=!1,C()}}}function $a(s,e,t){let{$$slots:i={},$$scope:a}=e,{name:n="board"}=e,{enabled:l=void 0}=e,{showExpand:r=!0}=e,{expanded:o=!1}=e;function u(b){et.call(this,s,b)}function d(){l=this.checked,t(0,l)}const g=()=>{t(1,o=!o)};return s.$$set=b=>{"name"in b&&t(2,n=b.name),"enabled"in b&&t(0,l=b.enabled),"showExpand"in b&&t(3,r=b.showExpand),"expanded"in b&&t(1,o=b.expanded),"$$scope"in b&&t(4,a=b.$$scope)},[l,o,n,r,a,i,u,d,g]}class st extends Me{constructor(e){super(),ke(this,e,$a,xa,Se,{name:2,enabled:0,showExpand:3,expanded:1})}}function Ys(s,e,t){const i=s.slice();return i[21]=e[t],i}function Qs(s){let e,t=s[21]+"",i;return{c(){e=L("option"),i=oe(t),this.h()},l(a){e=T(a,"OPTION",{});var n=O(e);i=ue(n,t),n.forEach(m),this.h()},h(){e.__value=s[21],e.value=e.__value},m(a,n){V(a,e,n),_(e,i)},p:_e,d(a){a&&m(e)}}}function Zs(s){let e,t,i,a,n,l,r,o,u,d,g,b,w,C,y,S;return{c(){e=L("div"),t=L("div"),i=L("input"),a=K(),n=L("label"),l=oe("shadow"),r=K(),o=L("div"),u=L("input"),d=K(),g=L("label"),b=oe("border-radius (rem)"),this.h()},l(p){e=T(p,"DIV",{class:!0});var f=O(e);t=T(f,"DIV",{class:!0});var c=O(t);i=T(c,"INPUT",{id:!0,type:!0,class:!0}),a=G(c),n=T(c,"LABEL",{for:!0,class:!0});var v=O(n);l=ue(v,"shadow"),v.forEach(m),c.forEach(m),r=G(f),o=T(f,"DIV",{class:!0});var M=O(o);u=T(M,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0}),d=G(M),g=T(M,"LABEL",{for:!0,class:!0});var k=O(g);b=ue(k,"border-radius (rem)"),k.forEach(m),M.forEach(m),f.forEach(m),this.h()},h(){h(i,"id","shadow"),h(i,"type","checkbox"),h(i,"class","svelte-lnr7xr"),h(n,"for","shadow"),h(n,"class","select-none"),h(t,"class","flex gap-2 mb-2"),h(u,"id","borderRadius"),h(u,"type","number"),h(u,"class","w-16 svelte-lnr7xr"),h(u,"min",0),h(u,"max",1),h(g,"for","borderRadius"),h(g,"class","select-none whitespace-nowrap"),h(o,"class","flex gap-2 mb-2"),h(e,"class","pl-2 pr-4 flex-col")},m(p,f){V(p,e,f),_(e,t),_(t,i),i.checked=s[3],_(t,a),_(t,n),_(n,l),_(e,r),_(e,o),_(o,u),ut(u,s[9]),_(o,d),_(o,g),_(g,b),C=!0,y||(S=[$(i,"change",s[16]),$(u,"input",s[17])],y=!0)},p(p,f){f&8&&(i.checked=p[3]),f&512&&dt(u.value)!==p[9]&&ut(u,p[9])},i(p){C||(p&&tt(()=>{w||(w=ct(e,ht,{},!0)),w.run(1)}),C=!0)},o(p){p&&(w||(w=ct(e,ht,{},!1)),w.run(0)),C=!1},d(p){p&&m(e),p&&w&&w.end(),y=!1,Qe(S)}}}function Js(s){let e,t,i,a,n,l,r,o,u,d,g,b,w,C,y,S;return{c(){e=L("div"),t=L("div"),i=L("input"),a=K(),n=L("label"),l=oe("min"),r=K(),o=L("div"),u=L("input"),d=K(),g=L("label"),b=oe("max"),this.h()},l(p){e=T(p,"DIV",{class:!0});var f=O(e);t=T(f,"DIV",{class:!0});var c=O(t);i=T(c,"INPUT",{id:!0,type:!0,class:!0}),a=G(c),n=T(c,"LABEL",{for:!0,class:!0});var v=O(n);l=ue(v,"min"),v.forEach(m),c.forEach(m),r=G(f),o=T(f,"DIV",{class:!0});var M=O(o);u=T(M,"INPUT",{id:!0,type:!0,class:!0}),d=G(M),g=T(M,"LABEL",{for:!0,class:!0});var k=O(g);b=ue(k,"max"),k.forEach(m),M.forEach(m),f.forEach(m),this.h()},h(){h(i,"id","resizibleMin"),h(i,"type","number"),h(i,"class","w-16 svelte-lnr7xr"),h(n,"for","resizibleMin"),h(n,"class","select-none"),h(t,"class","flex gap-2 mb-2"),h(u,"id","resizibleMax"),h(u,"type","number"),h(u,"class","w-16 svelte-lnr7xr"),h(g,"for","resizibleMax"),h(g,"class","select-none"),h(o,"class","flex gap-2"),h(e,"class","pl-2 pr-4 flex-col")},m(p,f){V(p,e,f),_(e,t),_(t,i),ut(i,s[5]),_(t,a),_(t,n),_(n,l),_(e,r),_(e,o),_(o,u),ut(u,s[6]),_(o,d),_(o,g),_(g,b),C=!0,y||(S=[$(i,"input",s[19]),$(u,"input",s[20])],y=!0)},p(p,f){f&32&&dt(i.value)!==p[5]&&ut(i,p[5]),f&64&&dt(u.value)!==p[6]&&ut(u,p[6])},i(p){C||(p&&tt(()=>{w||(w=ct(e,ht,{},!0)),w.run(1)}),C=!0)},o(p){p&&(w||(w=ct(e,ht,{},!1)),w.run(0)),C=!1},d(p){p&&m(e),p&&w&&w.end(),y=!1,Qe(S)}}}function el(s){let e,t,i,a,n,l,r,o,u,d,g,b,w,C,y,S,p,f,c,v,M,k,q,I,F,B,R,H,re,se,N,Ee,ye,z,x=Ws,Z=[];for(let D=0;D<x.length;D+=1)Z[D]=Qs(Ys(s,x,D));let J=s[10]&&Zs(s),A=s[4]&&Js(s);return{c(){e=L("div"),t=L("select");for(let D=0;D<Z.length;D+=1)Z[D].c();i=K(),a=L("label"),n=oe("board theme"),l=K(),r=L("div"),o=L("input"),u=K(),d=L("label"),g=oe("notation"),b=K(),w=L("div"),C=L("input"),y=K(),S=L("label"),p=oe("flipped"),f=K(),c=L("div"),v=L("input"),M=K(),k=L("label"),q=oe("style"),I=K(),J&&J.c(),F=K(),B=L("div"),R=L("input"),H=K(),re=L("label"),se=oe("resizible"),N=K(),A&&A.c(),Ee=ve(),this.h()},l(D){e=T(D,"DIV",{class:!0});var Y=O(e);t=T(Y,"SELECT",{class:!0});var ee=O(t);for(let Ve=0;Ve<Z.length;Ve+=1)Z[Ve].l(ee);ee.forEach(m),i=G(Y),a=T(Y,"LABEL",{for:!0,class:!0});var we=O(a);n=ue(we,"board theme"),we.forEach(m),Y.forEach(m),l=G(D),r=T(D,"DIV",{class:!0});var de=O(r);o=T(de,"INPUT",{id:!0,type:!0,class:!0}),u=G(de),d=T(de,"LABEL",{for:!0,class:!0});var qe=O(d);g=ue(qe,"notation"),qe.forEach(m),de.forEach(m),b=G(D),w=T(D,"DIV",{class:!0});var Le=O(w);C=T(Le,"INPUT",{id:!0,type:!0,class:!0}),y=G(Le),S=T(Le,"LABEL",{for:!0,class:!0});var Ne=O(S);p=ue(Ne,"flipped"),Ne.forEach(m),Le.forEach(m),f=G(D),c=T(D,"DIV",{});var be=O(c);v=T(be,"INPUT",{id:!0,type:!0,class:!0}),M=G(be),k=T(be,"LABEL",{for:!0,class:!0});var Pe=O(k);q=ue(Pe,"style"),Pe.forEach(m),be.forEach(m),I=G(D),J&&J.l(D),F=G(D),B=T(D,"DIV",{class:!0});var Re=O(B);R=T(Re,"INPUT",{id:!0,type:!0,class:!0}),H=G(Re),re=T(Re,"LABEL",{for:!0,class:!0});var De=O(re);se=ue(De,"resizible"),De.forEach(m),Re.forEach(m),N=G(D),A&&A.l(D),Ee=ve(),this.h()},h(){h(t,"class","svelte-lnr7xr"),s[0]===void 0&&tt(()=>s[12].call(t)),h(a,"for","boardTheme"),h(a,"class","select-none"),h(e,"class","mb-2"),h(o,"id","notation"),h(o,"type","checkbox"),h(o,"class","svelte-lnr7xr"),h(d,"for","notation"),h(d,"class","select-none"),h(r,"class","mb-2"),h(C,"id","flipped"),h(C,"type","checkbox"),h(C,"class","svelte-lnr7xr"),h(S,"for","flipped"),h(S,"class","select-none"),h(w,"class","mb-2"),h(v,"id","styleEnabled"),h(v,"type","checkbox"),h(v,"class","svelte-lnr7xr"),h(k,"for","styleEnabled"),h(k,"class","select-none"),h(R,"id","resizibleEnabled"),h(R,"type","checkbox"),h(R,"class","svelte-lnr7xr"),h(re,"for","resizibleEnabled"),h(re,"class","select-none"),h(B,"class","mt-2 mb-1")},m(D,Y){V(D,e,Y),_(e,t);for(let ee=0;ee<Z.length;ee+=1)Z[ee].m(t,null);wt(t,s[0]),_(e,i),_(e,a),_(a,n),V(D,l,Y),V(D,r,Y),_(r,o),o.checked=s[1],_(r,u),_(r,d),_(d,g),V(D,b,Y),V(D,w,Y),_(w,C),C.checked=s[2],_(w,y),_(w,S),_(S,p),V(D,f,Y),V(D,c,Y),_(c,v),v.checked=s[10],_(c,M),_(c,k),_(k,q),V(D,I,Y),J&&J.m(D,Y),V(D,F,Y),V(D,B,Y),_(B,R),R.checked=s[4],_(B,H),_(B,re),_(re,se),V(D,N,Y),A&&A.m(D,Y),V(D,Ee,Y),ye||(z=[$(t,"change",s[12]),$(o,"change",s[13]),$(C,"change",s[14]),$(v,"change",s[15]),$(R,"change",s[18])],ye=!0)},p(D,Y){if(Y&0){x=Ws;let ee;for(ee=0;ee<x.length;ee+=1){const we=Ys(D,x,ee);Z[ee]?Z[ee].p(we,Y):(Z[ee]=Qs(we),Z[ee].c(),Z[ee].m(t,null))}for(;ee<Z.length;ee+=1)Z[ee].d(1);Z.length=x.length}Y&1&&wt(t,D[0]),Y&2&&(o.checked=D[1]),Y&4&&(C.checked=D[2]),Y&1024&&(v.checked=D[10]),D[10]?J?(J.p(D,Y),Y&1024&&j(J,1)):(J=Zs(D),J.c(),j(J,1),J.m(F.parentNode,F)):J&&(Te(),X(J,1,1,()=>{J=null}),Oe()),Y&16&&(R.checked=D[4]),D[4]?A?(A.p(D,Y),Y&16&&j(A,1)):(A=Js(D),A.c(),j(A,1),A.m(Ee.parentNode,Ee)):A&&(Te(),X(A,1,1,()=>{A=null}),Oe())},d(D){D&&m(e),ft(Z,D),D&&m(l),D&&m(r),D&&m(b),D&&m(w),D&&m(f),D&&m(c),D&&m(I),J&&J.d(D),D&&m(F),D&&m(B),D&&m(N),A&&A.d(D),D&&m(Ee),ye=!1,Qe(z)}}}function tl(s){let e,t;return e=new st({props:{name:s[7],expanded:s[8],$$slots:{default:[el]},$$scope:{ctx:s}}}),{c(){fe(e.$$.fragment)},l(i){ce(e.$$.fragment,i)},m(i,a){he(e,i,a),t=!0},p(i,[a]){const n={};a&128&&(n.name=i[7]),a&256&&(n.expanded=i[8]),a&16778879&&(n.$$scope={dirty:a,ctx:i}),e.$set(n)},i(i){t||(j(e.$$.fragment,i),t=!0)},o(i){X(e.$$.fragment,i),t=!1},d(i){ge(e,i)}}}function sl(s,e,t){let{name:i="Board"}=e,{boardTheme:a}=e,{notation:n}=e,{flipped:l}=e,{shadow:r}=e,{borderRadius:o="0px"}=e,{resizible:u=!1}=e,{min:d=0}=e,{max:g=0}=e,{expanded:b=!1}=e,w=!0,C=parseFloat(o.endsWith("px")?o.slice(0,-2):o.slice(0,-3));function y(){a=ts(this),t(0,a)}function S(){n=this.checked,t(1,n)}function p(){l=this.checked,t(2,l)}function f(){w=this.checked,t(10,w)}function c(){r=this.checked,t(3,r)}function v(){C=dt(this.value),t(9,C)}function M(){u=this.checked,t(4,u)}function k(){d=dt(this.value),t(5,d)}function q(){g=dt(this.value),t(6,g)}return s.$$set=I=>{"name"in I&&t(7,i=I.name),"boardTheme"in I&&t(0,a=I.boardTheme),"notation"in I&&t(1,n=I.notation),"flipped"in I&&t(2,l=I.flipped),"shadow"in I&&t(3,r=I.shadow),"borderRadius"in I&&t(11,o=I.borderRadius),"resizible"in I&&t(4,u=I.resizible),"min"in I&&t(5,d=I.min),"max"in I&&t(6,g=I.max),"expanded"in I&&t(8,b=I.expanded)},s.$$.update=()=>{s.$$.dirty&512&&t(11,o=`${C!=null?C:0}rem`)},[a,n,l,r,u,d,g,i,b,C,w,o,y,S,p,f,c,v,M,k,q]}class nl extends Me{constructor(e){super(),ke(this,e,sl,tl,Se,{name:7,boardTheme:0,notation:1,flipped:2,shadow:3,borderRadius:11,resizible:4,min:5,max:6,expanded:8})}}function il(s){let e,t,i,a,n,l,r,o,u,d;return{c(){e=L("div"),t=L("select"),i=L("option"),a=oe("Both"),n=L("option"),l=oe("White"),r=L("option"),o=oe("Black"),this.h()},l(g){e=T(g,"DIV",{});var b=O(e);t=T(b,"SELECT",{class:!0});var w=O(t);i=T(w,"OPTION",{});var C=O(i);a=ue(C,"Both"),C.forEach(m),n=T(w,"OPTION",{});var y=O(n);l=ue(y,"White"),y.forEach(m),r=T(w,"OPTION",{});var S=O(r);o=ue(S,"Black"),S.forEach(m),w.forEach(m),b.forEach(m),this.h()},h(){i.__value=ae.BOTH,i.value=i.__value,n.__value=ae.WHITE,n.value=n.__value,r.__value=ae.BLACK,r.value=r.__value,h(t,"class","svelte-xrxnwg"),s[1]===void 0&&tt(()=>s[4].call(t))},m(g,b){V(g,e,b),_(e,t),_(t,i),_(i,a),_(t,n),_(n,l),_(t,r),_(r,o),wt(t,s[1]),u||(d=$(t,"change",s[4]),u=!0)},p(g,b){b&2&&wt(t,g[1])},d(g){g&&m(e),u=!1,d()}}}function al(s){let e,t,i;function a(l){s[5](l)}let n={name:s[2],expanded:s[3],$$slots:{default:[il]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new st({props:n}),Q.push(()=>ne(e,"enabled",a)),{c(){fe(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,r){he(e,l,r),i=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&8&&(o.expanded=l[3]),r&66&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ie(()=>t=!1)),e.$set(o)},i(l){i||(j(e.$$.fragment,l),i=!0)},o(l){X(e.$$.fragment,l),i=!1},d(l){ge(e,l)}}}function ll(s,e,t){let{name:i="Movable"}=e,{enabled:a=!1}=e,{color:n}=e,{expanded:l=!1}=e;function r(){n=ts(this),t(1,n)}function o(u){a=u,t(0,a)}return s.$$set=u=>{"name"in u&&t(2,i=u.name),"enabled"in u&&t(0,a=u.enabled),"color"in u&&t(1,n=u.color),"expanded"in u&&t(3,l=u.expanded)},[a,n,i,l,r,o]}class rl extends Me{constructor(e){super(),ke(this,e,ll,al,Se,{name:2,enabled:0,color:1,expanded:3})}}function xs(s,e,t){const i=s.slice();return i[12]=e[t],i}function $s(s){let e,t,i,a,n,l,r,o,u,d,g,b,w,C,y,S,p=js,f=[];for(let c=0;c<p.length;c+=1)f[c]=en(xs(s,p,c));return{c(){e=L("div"),t=L("div"),i=L("input"),a=K(),n=L("label"),l=oe("duration"),r=K(),o=L("div"),u=L("select");for(let c=0;c<f.length;c+=1)f[c].c();d=K(),g=L("label"),b=oe("easing"),this.h()},l(c){e=T(c,"DIV",{class:!0});var v=O(e);t=T(v,"DIV",{class:!0});var M=O(t);i=T(M,"INPUT",{id:!0,type:!0,class:!0}),a=G(M),n=T(M,"LABEL",{for:!0,class:!0});var k=O(n);l=ue(k,"duration"),k.forEach(m),M.forEach(m),r=G(v),o=T(v,"DIV",{class:!0});var q=O(o);u=T(q,"SELECT",{id:!0,class:!0});var I=O(u);for(let B=0;B<f.length;B+=1)f[B].l(I);I.forEach(m),d=G(q),g=T(q,"LABEL",{for:!0,class:!0});var F=O(g);b=ue(F,"easing"),F.forEach(m),q.forEach(m),v.forEach(m),this.h()},h(){h(i,"id","transitionDuration"),h(i,"type","number"),h(i,"class","w-16 svelte-1qpp6cx"),h(n,"for","transitionDuration"),h(n,"class","select-none"),h(t,"class","flex gap-2 mb-2"),h(u,"id","easingFuncs"),h(u,"class","svelte-1qpp6cx"),s[4]===void 0&&tt(()=>s[10].call(u)),h(g,"for","easingFuncs"),h(g,"class","select-none"),h(o,"class","flex gap-2"),h(e,"class","pl-2 pr-4 flex-col")},m(c,v){V(c,e,v),_(e,t),_(t,i),ut(i,s[3]),_(t,a),_(t,n),_(n,l),_(e,r),_(e,o),_(o,u);for(let M=0;M<f.length;M+=1)f[M].m(u,null);wt(u,s[4]),_(o,d),_(o,g),_(g,b),C=!0,y||(S=[$(i,"input",s[9]),$(u,"change",s[10])],y=!0)},p(c,v){if(v&8&&dt(i.value)!==c[3]&&ut(i,c[3]),v&0){p=js;let M;for(M=0;M<p.length;M+=1){const k=xs(c,p,M);f[M]?f[M].p(k,v):(f[M]=en(k),f[M].c(),f[M].m(u,null))}for(;M<f.length;M+=1)f[M].d(1);f.length=p.length}v&16&&wt(u,c[4])},i(c){C||(c&&tt(()=>{w||(w=ct(e,ht,{},!0)),w.run(1)}),C=!0)},o(c){c&&(w||(w=ct(e,ht,{},!1)),w.run(0)),C=!1},d(c){c&&m(e),ft(f,c),c&&w&&w.end(),y=!1,Qe(S)}}}function en(s){let e,t=s[12]+"",i;return{c(){e=L("option"),i=oe(t),this.h()},l(a){e=T(a,"OPTION",{});var n=O(e);i=ue(n,t),n.forEach(m),this.h()},h(){e.__value=s[12],e.value=e.__value},m(a,n){V(a,e,n),_(e,i)},p:_e,d(a){a&&m(e)}}}function ol(s){let e,t,i,a,n,l,r,o,u,d,g,b,w,C,y,S=s[2]&&$s(s);return{c(){e=L("div"),t=L("input"),i=K(),a=L("label"),n=oe("ghost piece"),l=K(),r=L("div"),o=L("input"),u=K(),d=L("label"),g=oe("transition"),b=K(),S&&S.c(),w=ve(),this.h()},l(p){e=T(p,"DIV",{class:!0});var f=O(e);t=T(f,"INPUT",{id:!0,type:!0,class:!0}),i=G(f),a=T(f,"LABEL",{for:!0,class:!0});var c=O(a);n=ue(c,"ghost piece"),c.forEach(m),f.forEach(m),l=G(p),r=T(p,"DIV",{class:!0});var v=O(r);o=T(v,"INPUT",{id:!0,type:!0,class:!0}),u=G(v),d=T(v,"LABEL",{for:!0,class:!0});var M=O(d);g=ue(M,"transition"),M.forEach(m),v.forEach(m),b=G(p),S&&S.l(p),w=ve(),this.h()},h(){h(t,"id","ghostPiece"),h(t,"type","checkbox"),h(t,"class","svelte-1qpp6cx"),h(a,"for","ghostPiece"),h(a,"class","select-none"),h(e,"class","mb-2"),h(o,"id","draggableEnabled"),h(o,"type","checkbox"),h(o,"class","svelte-1qpp6cx"),h(d,"for","draggableEnabled"),h(d,"class","select-none"),h(r,"class","mb-2")},m(p,f){V(p,e,f),_(e,t),t.checked=s[1],_(e,i),_(e,a),_(a,n),V(p,l,f),V(p,r,f),_(r,o),o.checked=s[2],_(r,u),_(r,d),_(d,g),V(p,b,f),S&&S.m(p,f),V(p,w,f),C||(y=[$(t,"change",s[7]),$(o,"change",s[8])],C=!0)},p(p,f){f&2&&(t.checked=p[1]),f&4&&(o.checked=p[2]),p[2]?S?(S.p(p,f),f&4&&j(S,1)):(S=$s(p),S.c(),j(S,1),S.m(w.parentNode,w)):S&&(Te(),X(S,1,1,()=>{S=null}),Oe())},d(p){p&&m(e),p&&m(l),p&&m(r),p&&m(b),S&&S.d(p),p&&m(w),C=!1,Qe(y)}}}function ul(s){let e,t,i;function a(l){s[11](l)}let n={name:s[5],expanded:s[6],$$slots:{default:[ol]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new st({props:n}),Q.push(()=>ne(e,"enabled",a)),{c(){fe(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,r){he(e,l,r),i=!0},p(l,[r]){const o={};r&32&&(o.name=l[5]),r&64&&(o.expanded=l[6]),r&32798&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ie(()=>t=!1)),e.$set(o)},i(l){i||(j(e.$$.fragment,l),i=!0)},o(l){X(e.$$.fragment,l),i=!1},d(l){ge(e,l)}}}function dl(s,e,t){let{name:i="Draggable"}=e,{enabled:a=!1}=e,{ghostPiece:n=!1}=e,{transition:l=!1}=e,{duration:r=120}=e,{easing:o="easeInOut"}=e,{expanded:u=!1}=e;function d(){n=this.checked,t(1,n)}function g(){l=this.checked,t(2,l)}function b(){r=dt(this.value),t(3,r)}function w(){o=ts(this),t(4,o)}function C(y){a=y,t(0,a)}return s.$$set=y=>{"name"in y&&t(5,i=y.name),"enabled"in y&&t(0,a=y.enabled),"ghostPiece"in y&&t(1,n=y.ghostPiece),"transition"in y&&t(2,l=y.transition),"duration"in y&&t(3,r=y.duration),"easing"in y&&t(4,o=y.easing),"expanded"in y&&t(6,u=y.expanded)},[a,n,l,r,o,i,u,d,g,b,w,C]}class fl extends Me{constructor(e){super(),ke(this,e,dl,ul,Se,{name:5,enabled:0,ghostPiece:1,transition:2,duration:3,easing:4,expanded:6})}}function tn(s,e,t){const i=s.slice();return i[7]=e[t],i[8]=e,i[9]=t,i}function sn(s){let e,t,i,a,n=s[7]+"",l,r,o,u;function d(){s[5].call(t,s[7])}return{c(){e=L("div"),t=L("input"),i=K(),a=L("label"),l=oe(n),r=K(),this.h()},l(g){e=T(g,"DIV",{class:!0});var b=O(e);t=T(b,"INPUT",{id:!0,type:!0}),i=G(b),a=T(b,"LABEL",{for:!0,class:!0});var w=O(a);l=ue(w,n),w.forEach(m),r=G(b),b.forEach(m),this.h()},h(){h(t,"id",s[7]+"Enabled"),h(t,"type","checkbox"),h(a,"for",s[7]+"Enabled"),h(a,"class","select-none"),h(e,"class","mb-2")},m(g,b){V(g,e,b),_(e,t),t.checked=s[1][s[7]],_(e,i),_(e,a),_(a,l),_(e,r),o||(u=$(t,"change",d),o=!0)},p(g,b){s=g,b&18&&(t.checked=s[1][s[7]])},d(g){g&&m(e),o=!1,u()}}}function cl(s){let e,t=s[4],i=[];for(let a=0;a<t.length;a+=1)i[a]=sn(tn(s,t,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=ve()},l(a){for(let n=0;n<i.length;n+=1)i[n].l(a);e=ve()},m(a,n){for(let l=0;l<i.length;l+=1)i[l].m(a,n);V(a,e,n)},p(a,n){if(n&18){t=a[4];let l;for(l=0;l<t.length;l+=1){const r=tn(a,t,l);i[l]?i[l].p(r,n):(i[l]=sn(r),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(a){ft(i,a),a&&m(e)}}}function hl(s){let e,t,i;function a(l){s[6](l)}let n={name:s[2],expanded:s[3],$$slots:{default:[cl]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new st({props:n}),Q.push(()=>ne(e,"enabled",a)),{c(){fe(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,r){he(e,l,r),i=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&8&&(o.expanded=l[3]),r&1026&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ie(()=>t=!1)),e.$set(o)},i(l){i||(j(e.$$.fragment,l),i=!0)},o(l){X(e.$$.fragment,l),i=!1},d(l){ge(e,l)}}}function gl(s,e,t){let{name:i="Highlight"}=e,{enabled:a=!1}=e,{settings:n}=e;const l=["select","legal","move","preMove","nextMove","check"];let{expanded:r=!1}=e;function o(d){n[d]=this.checked,t(1,n)}function u(d){a=d,t(0,a)}return s.$$set=d=>{"name"in d&&t(2,i=d.name),"enabled"in d&&t(0,a=d.enabled),"settings"in d&&t(1,n=d.settings),"expanded"in d&&t(3,r=d.expanded)},[a,n,i,r,l,o,u]}class bl extends Me{constructor(e){super(),ke(this,e,gl,hl,Se,{name:2,enabled:0,settings:1,expanded:3})}}function pl(s){let e,t,i,a,n,l,r,o,u,d,g,b,w;return{c(){e=L("div"),t=L("input"),i=K(),a=L("label"),n=oe("L shape knight move"),l=K(),r=L("div"),o=L("input"),u=K(),d=L("label"),g=oe("only chess move"),this.h()},l(C){e=T(C,"DIV",{class:!0});var y=O(e);t=T(y,"INPUT",{id:!0,type:!0}),i=G(y),a=T(y,"LABEL",{for:!0,class:!0});var S=O(a);n=ue(S,"L shape knight move"),S.forEach(m),y.forEach(m),l=G(C),r=T(C,"DIV",{class:!0});var p=O(r);o=T(p,"INPUT",{id:!0,type:!0}),u=G(p),d=T(p,"LABEL",{for:!0,class:!0});var f=O(d);g=ue(f,"only chess move"),f.forEach(m),p.forEach(m),this.h()},h(){h(t,"id","knightLShapeMoveEnabled"),h(t,"type","checkbox"),h(a,"for","knightLShapeMoveEnabled"),h(a,"class","select-none"),h(e,"class","mb-2"),h(o,"id","onlyChessMoveEnabled"),h(o,"type","checkbox"),h(d,"for","onlyChessMoveEnabled"),h(d,"class","select-none"),h(r,"class","mb-2")},m(C,y){V(C,e,y),_(e,t),t.checked=s[1],_(e,i),_(e,a),_(a,n),V(C,l,y),V(C,r,y),_(r,o),o.checked=s[2],_(r,u),_(r,d),_(d,g),b||(w=[$(t,"change",s[5]),$(o,"change",s[6])],b=!0)},p(C,y){y&2&&(t.checked=C[1]),y&4&&(o.checked=C[2])},d(C){C&&m(e),C&&m(l),C&&m(r),b=!1,Qe(w)}}}function ml(s){let e,t,i;function a(l){s[7](l)}let n={name:s[3],expanded:s[4],$$slots:{default:[pl]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new st({props:n}),Q.push(()=>ne(e,"enabled",a)),{c(){fe(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,r){he(e,l,r),i=!0},p(l,[r]){const o={};r&8&&(o.name=l[3]),r&16&&(o.expanded=l[4]),r&262&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ie(()=>t=!1)),e.$set(o)},i(l){i||(j(e.$$.fragment,l),i=!0)},o(l){X(e.$$.fragment,l),i=!1},d(l){ge(e,l)}}}function vl(s,e,t){let{name:i="DrawTools"}=e,{enabled:a=!1}=e,{knightLShape:n=!1}=e,{onlyChessMove:l=!1}=e,{expanded:r=!1}=e;function o(){n=this.checked,t(1,n)}function u(){l=this.checked,t(2,l)}function d(g){a=g,t(0,a)}return s.$$set=g=>{"name"in g&&t(3,i=g.name),"enabled"in g&&t(0,a=g.enabled),"knightLShape"in g&&t(1,n=g.knightLShape),"onlyChessMove"in g&&t(2,l=g.onlyChessMove),"expanded"in g&&t(4,r=g.expanded)},[a,n,l,i,r,o,u,d]}class _l extends Me{constructor(e){super(),ke(this,e,vl,ml,Se,{name:3,enabled:0,knightLShape:1,onlyChessMove:2,expanded:4})}}function nn(s,e,t){const i=s.slice();return i[7]=e[t],i[8]=e,i[9]=t,i}function an(s){let e,t,i,a,n=s[7].toLowerCase()+"",l,r,o,u;function d(){s[5].call(t,s[7])}return{c(){e=L("div"),t=L("input"),i=K(),a=L("label"),l=oe(n),r=K(),this.h()},l(g){e=T(g,"DIV",{class:!0});var b=O(e);t=T(b,"INPUT",{id:!0,type:!0}),i=G(b),a=T(b,"LABEL",{for:!0,class:!0});var w=O(a);l=ue(w,n),w.forEach(m),r=G(b),b.forEach(m),this.h()},h(){h(t,"id",s[7]+"Enabled"),h(t,"type","checkbox"),h(a,"for",s[7]+"Enabled"),h(a,"class","select-none"),h(e,"class","mb-2")},m(g,b){V(g,e,b),_(e,t),t.checked=s[1][s[7]],_(e,i),_(e,a),_(a,l),_(e,r),o||(u=$(t,"change",d),o=!0)},p(g,b){s=g,b&18&&(t.checked=s[1][s[7]])},d(g){g&&m(e),o=!1,u()}}}function El(s){let e,t=s[4],i=[];for(let a=0;a<t.length;a+=1)i[a]=an(nn(s,t,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=ve()},l(a){for(let n=0;n<i.length;n+=1)i[n].l(a);e=ve()},m(a,n){for(let l=0;l<i.length;l+=1)i[l].m(a,n);V(a,e,n)},p(a,n){if(n&18){t=a[4];let l;for(l=0;l<t.length;l+=1){const r=nn(a,t,l);i[l]?i[l].p(r,n):(i[l]=an(r),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(a){ft(i,a),a&&m(e)}}}function wl(s){let e,t,i;function a(l){s[6](l)}let n={name:s[2],expanded:s[3],$$slots:{default:[El]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new st({props:n}),Q.push(()=>ne(e,"enabled",a)),{c(){fe(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,r){he(e,l,r),i=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&8&&(o.expanded=l[3]),r&1026&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ie(()=>t=!1)),e.$set(o)},i(l){i||(j(e.$$.fragment,l),i=!0)},o(l){X(e.$$.fragment,l),i=!1},d(l){ge(e,l)}}}function Ml(s,e,t){let{name:i="Sounds"}=e,{enabled:a=!1}=e,{settings:n}=e;const l=["MOVE","CAPTURE","CASTLE","UNDO"];let{expanded:r=!1}=e;function o(d){n[d]=this.checked,t(1,n)}function u(d){a=d,t(0,a)}return s.$$set=d=>{"name"in d&&t(2,i=d.name),"enabled"in d&&t(0,a=d.enabled),"settings"in d&&t(1,n=d.settings),"expanded"in d&&t(3,r=d.expanded)},[a,n,i,r,l,o,u]}class kl extends Me{constructor(e){super(),ke(this,e,Ml,wl,Se,{name:2,enabled:0,settings:1,expanded:3})}}function Sl(s){let e,t;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(i){e=Ie(i,"svg",{style:!0,xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var a=O(e);t=Ie(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),O(t).forEach(m),a.forEach(m),this.h()},h(){h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"stroke-width","2"),h(t,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),me(e,"transform","translate(1px, 0px)"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","h-5"),h(e,"fill","none"),h(e,"viewBox","0 0 24 24"),h(e,"aria-hidden","true"),h(e,"stroke","currentColor")},m(i,a){V(i,e,a),_(e,t)},d(i){i&&m(e)}}}function yl(s){let e,t;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(i){e=Ie(i,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var a=O(e);t=Ie(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),O(t).forEach(m),a.forEach(m),this.h()},h(){h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"stroke-width","2"),h(t,"d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","h-5 text-green-500"),h(e,"fill","none"),h(e,"viewBox","0 0 24 24"),h(e,"aria-hidden","true"),h(e,"stroke","currentColor")},m(i,a){V(i,e,a),_(e,t)},d(i){i&&m(e)}}}function Al(s){let e,t,i;function a(r,o){return r[1]?yl:Sl}let n=a(s),l=n(s);return{c(){e=L("button"),l.c(),this.h()},l(r){e=T(r,"BUTTON",{type:!0,class:!0});var o=O(e);l.l(o),o.forEach(m),this.h()},h(){h(e,"type","button"),h(e,"class","box-border rounded-sm bg-slate-800 bg-opacity-40 text-gray-500 transition hover:text-gray-300 focus:z-10 focus:ring-1 focus:ring-blue-600 p-1")},m(r,o){V(r,e,o),l.m(e,null),s[4](e),t||(i=$(e,"click",s[2]),t=!0)},p(r,[o]){n!==(n=a(r))&&(l.d(1),l=n(r),l&&(l.c(),l.m(e,null)))},i:_e,o:_e,d(r){r&&m(e),l.d(),s[4](null),t=!1,i()}}}function Cl(s,e,t){let{copyText:i}=e,a,n=!1;function l(){navigator.clipboard.writeText(i),t(1,n=!0),setTimeout(()=>{t(1,n=!1)},2e3),a.setAttribute("data-cooltipz-dir","top"),a.setAttribute("aria-label","Copied!"),setTimeout(()=>{a.removeAttribute("aria-label"),a.removeAttribute("data-cooltipz-dir")},2e3)}function r(o){Q[o?"unshift":"push"](()=>{a=o,t(0,a)})}return s.$$set=o=>{"copyText"in o&&t(3,i=o.copyText)},[a,n,l,i,r]}class Pl extends Me{constructor(e){super(),ke(this,e,Cl,Al,Se,{copyText:3})}}function Ll(s){let e,t,i,a,n,l,r;return{c(){e=L("div"),t=L("input"),i=K(),a=L("label"),n=oe("preMoves"),this.h()},l(o){e=T(o,"DIV",{});var u=O(e);t=T(u,"INPUT",{id:!0,type:!0}),i=G(u),a=T(u,"LABEL",{for:!0,class:!0});var d=O(a);n=ue(d,"preMoves"),d.forEach(m),u.forEach(m),this.h()},h(){h(t,"id","preMovesEnabled"),h(t,"type","checkbox"),h(a,"for","preMovesEnabled"),h(a,"class","select-none")},m(o,u){V(o,e,u),_(e,t),t.checked=s[1],_(e,i),_(e,a),_(a,n),l||(r=$(t,"change",s[4]),l=!0)},p(o,u){u&2&&(t.checked=o[1])},d(o){o&&m(e),l=!1,r()}}}function Tl(s){let e,t,i;function a(l){s[5](l)}let n={name:s[2],expanded:s[3],$$slots:{default:[Ll]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new st({props:n}),Q.push(()=>ne(e,"enabled",a)),{c(){fe(e.$$.fragment)},l(l){ce(e.$$.fragment,l)},m(l,r){he(e,l,r),i=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&8&&(o.expanded=l[3]),r&66&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ie(()=>t=!1)),e.$set(o)},i(l){i||(j(e.$$.fragment,l),i=!0)},o(l){X(e.$$.fragment,l),i=!1},d(l){ge(e,l)}}}function Ol(s,e,t){let{name:i="Legal"}=e,{enabled:a=!1}=e,{preMovesEnabled:n=!1}=e,{expanded:l=!1}=e;function r(){n=this.checked,t(1,n)}function o(u){a=u,t(0,a)}return s.$$set=u=>{"name"in u&&t(2,i=u.name),"enabled"in u&&t(0,a=u.enabled),"preMovesEnabled"in u&&t(1,n=u.preMovesEnabled),"expanded"in u&&t(3,l=u.expanded)},[a,n,i,l,r,o]}class Fl extends Me{constructor(e){super(),ke(this,e,Ol,Tl,Se,{name:2,enabled:0,preMovesEnabled:1,expanded:3})}}function Il(s){let e,t,i,a,n,l,r,o,u,d,g,b,w,C,y,S,p,f,c,v,M,k,q,I,F,B,R,H,re,se,N,Ee,ye,z,x,Z,J,A,D,Y,ee,we,de,qe,Le,Ne,be,Pe,Re,De,Ve,We,Mt,nt,je,Ke,ze,Ge,kt,pt,St,it,yt,At,Ze,Ct,mt,Pt,Xe,Lt,Ye,at,Tt,It;function E(P){s[5](P)}function W(P){s[6](P)}function le(P){s[7](P)}function Ae(P){s[8](P)}function Ce(P){s[9](P)}function Be(P){s[10](P)}function lt(P){s[11](P)}function Mn(P){s[12](P)}let Je={expanded:!0};s[0].board.boardTheme!==void 0&&(Je.boardTheme=s[0].board.boardTheme),s[0].board.notation!==void 0&&(Je.notation=s[0].board.notation),s[0].board.flipped!==void 0&&(Je.flipped=s[0].board.flipped),s[0].board.style.shadow!==void 0&&(Je.shadow=s[0].board.style.shadow),s[0].board.style.borderRadius!==void 0&&(Je.borderRadius=s[0].board.style.borderRadius),s[0].board.resizible.enabled!==void 0&&(Je.resizible=s[0].board.resizible.enabled),s[0].board.resizible.min!==void 0&&(Je.min=s[0].board.resizible.min),s[0].board.resizible.max!==void 0&&(Je.max=s[0].board.resizible.max),l=new nl({props:Je}),Q.push(()=>ne(l,"boardTheme",E)),Q.push(()=>ne(l,"notation",W)),Q.push(()=>ne(l,"flipped",le)),Q.push(()=>ne(l,"shadow",Ae)),Q.push(()=>ne(l,"borderRadius",Ce)),Q.push(()=>ne(l,"resizible",Be)),Q.push(()=>ne(l,"min",lt)),Q.push(()=>ne(l,"max",Mn));function kn(P){s[13](P)}function Sn(P){s[14](P)}let Ut={expanded:!0};s[0].movable.enabled!==void 0&&(Ut.enabled=s[0].movable.enabled),s[0].movable.color!==void 0&&(Ut.color=s[0].movable.color),S=new rl({props:Ut}),Q.push(()=>ne(S,"enabled",kn)),Q.push(()=>ne(S,"color",Sn));function yn(P){s[15](P)}function An(P){s[16](P)}function Cn(P){s[17](P)}function Pn(P){s[18](P)}function Ln(P){s[19](P)}let vt={};s[0].draggable.enabled!==void 0&&(vt.enabled=s[0].draggable.enabled),s[0].draggable.ghostPiece.enabled!==void 0&&(vt.ghostPiece=s[0].draggable.ghostPiece.enabled),s[0].draggable.transition.enabled!==void 0&&(vt.transition=s[0].draggable.transition.enabled),s[0].draggable.transition.settings.duration!==void 0&&(vt.duration=s[0].draggable.transition.settings.duration),s[0].draggable.transition.settings.easing!==void 0&&(vt.easing=s[0].draggable.transition.settings.easing),v=new fl({props:vt}),Q.push(()=>ne(v,"enabled",yn)),Q.push(()=>ne(v,"ghostPiece",An)),Q.push(()=>ne(v,"transition",Cn)),Q.push(()=>ne(v,"duration",Pn)),Q.push(()=>ne(v,"easing",Ln));function Tn(P){s[20](P)}let ns={name:"Selectable",showExpand:!1};s[0].selectable.enabled!==void 0&&(ns.enabled=s[0].selectable.enabled),R=new st({props:ns}),Q.push(()=>ne(R,"enabled",Tn));function On(P){s[21](P)}function Fn(P){s[22](P)}let Ht={};s[0].legal.enabled!==void 0&&(Ht.enabled=s[0].legal.enabled),s[0].legal.preMoves.enabled!==void 0&&(Ht.preMovesEnabled=s[0].legal.preMoves.enabled),se=new Fl({props:Ht}),Q.push(()=>ne(se,"enabled",On)),Q.push(()=>ne(se,"preMovesEnabled",Fn));function In(P){s[23](P)}function qn(P){s[24](P)}let Wt={};s[0].highlight.enabled!==void 0&&(Wt.enabled=s[0].highlight.enabled),s[0].highlight.settings!==void 0&&(Wt.settings=s[0].highlight.settings),z=new bl({props:Wt}),Q.push(()=>ne(z,"enabled",In)),Q.push(()=>ne(z,"settings",qn));function Rn(P){s[25](P)}function Nn(P){s[26](P)}function Dn(P){s[27](P)}let qt={};s[0].drawTools.enabled!==void 0&&(qt.enabled=s[0].drawTools.enabled),s[0].drawTools.settings.knightLShape!==void 0&&(qt.knightLShape=s[0].drawTools.settings.knightLShape),s[0].drawTools.settings.onlyChessMove!==void 0&&(qt.onlyChessMove=s[0].drawTools.settings.onlyChessMove),A=new _l({props:qt}),Q.push(()=>ne(A,"enabled",Rn)),Q.push(()=>ne(A,"knightLShape",Nn)),Q.push(()=>ne(A,"onlyChessMove",Dn));function zn(P){s[28](P)}function Bn(P){s[29](P)}let jt={};s[0].sounds.enabled!==void 0&&(jt.enabled=s[0].sounds.enabled),s[0].sounds.settings!==void 0&&(jt.settings=s[0].sounds.settings),de=new kl({props:jt}),Q.push(()=>ne(de,"enabled",zn)),Q.push(()=>ne(de,"settings",Bn));function Vn(P){s[30](P)}let is={name:"Resizible",showExpand:!1};s[0].board.resizible.enabled!==void 0&&(is.enabled=s[0].board.resizible.enabled),be=new st({props:is}),Q.push(()=>ne(be,"enabled",Vn));let Un={config:s[4]};return We=new Ja({props:Un}),s[31](We),Xe=new Pl({props:{copyText:s[3]}}),Ye=new ai({props:{source:s[3],language:"svelte"}}),{c(){e=L("link"),t=K(),i=L("div"),a=L("div"),n=L("div"),fe(l.$$.fragment),y=K(),fe(S.$$.fragment),c=K(),fe(v.$$.fragment),B=K(),fe(R.$$.fragment),re=K(),fe(se.$$.fragment),ye=K(),fe(z.$$.fragment),J=K(),fe(A.$$.fragment),we=K(),fe(de.$$.fragment),Ne=K(),fe(be.$$.fragment),Re=K(),De=L("div"),Ve=L("div"),fe(We.$$.fragment),Mt=K(),nt=L("div"),je=L("div"),Ke=L("div"),ze=L("button"),Ge=L("span"),kt=oe("ts"),St=K(),it=L("span"),yt=oe("/"),At=K(),Ze=L("span"),Ct=oe("js"),Pt=K(),fe(Xe.$$.fragment),Lt=K(),fe(Ye.$$.fragment),this.h()},l(P){const te=xn('[data-svelte="svelte-tebjht"]',document.head);e=T(te,"LINK",{rel:!0,href:!0}),te.forEach(m),t=G(P),i=T(P,"DIV",{class:!0});var Ue=O(i);a=T(Ue,"DIV",{class:!0});var rt=O(a);n=T(rt,"DIV",{class:!0});var pe=O(n);ce(l.$$.fragment,pe),y=G(pe),ce(S.$$.fragment,pe),c=G(pe),ce(v.$$.fragment,pe),B=G(pe),ce(R.$$.fragment,pe),re=G(pe),ce(se.$$.fragment,pe),ye=G(pe),ce(z.$$.fragment,pe),J=G(pe),ce(A.$$.fragment,pe),we=G(pe),ce(de.$$.fragment,pe),Ne=G(pe),ce(be.$$.fragment,pe),pe.forEach(m),Re=G(rt),De=T(rt,"DIV",{class:!0});var gt=O(De);Ve=T(gt,"DIV",{class:!0});var _t=O(Ve);ce(We.$$.fragment,_t),_t.forEach(m),Mt=G(gt),nt=T(gt,"DIV",{class:!0});var Et=O(nt);je=T(Et,"DIV",{class:!0});var xe=O(je);Ke=T(xe,"DIV",{class:!0});var ot=O(Ke);ze=T(ot,"BUTTON",{class:!0});var $e=O(ze);Ge=T($e,"SPAN",{class:!0});var Rt=O(Ge);kt=ue(Rt,"ts"),Rt.forEach(m),St=G($e),it=T($e,"SPAN",{class:!0});var Ot=O(it);yt=ue(Ot,"/"),Ot.forEach(m),At=G($e),Ze=T($e,"SPAN",{class:!0});var Ft=O(Ze);Ct=ue(Ft,"js"),Ft.forEach(m),$e.forEach(m),Pt=G(ot),ce(Xe.$$.fragment,ot),ot.forEach(m),Lt=G(xe),ce(Ye.$$.fragment,xe),xe.forEach(m),Et.forEach(m),gt.forEach(m),rt.forEach(m),Ue.forEach(m),this.h()},h(){document.title="Chessboard \u2022 PowChess.com",h(e,"rel","stylesheet"),h(e,"href","prism-one-dark.css"),h(n,"class","flex flex-col gap-2 mx-auto w-60 text-gray-300 text-sm"),h(Ve,"class","w-full lg:w-[var(--boardSize,40rem)]"),h(Ge,"class",pt=s[1]?"text-yellow-600":""),h(it,"class","text-gray-600"),h(Ze,"class",mt=s[1]?"":"text-yellow-600"),h(ze,"class","text-gray-500 font-mono flex text-[0.8rem] mt-1"),h(Ke,"class","absolute right-2 top-2 flex gap-4"),h(je,"class","shadow-lg rounded "),h(nt,"class","row-start-2 relative"),h(De,"class","grid grid-rows-[min-content_auto] gap-10"),h(a,"class","lg:col-start-2 gap-10 grid lg:grid-cols-[auto_auto]"),h(i,"class","my-10 grid grid-cols-center")},m(P,te){_(document.head,e),V(P,t,te),V(P,i,te),_(i,a),_(a,n),he(l,n,null),_(n,y),he(S,n,null),_(n,c),he(v,n,null),_(n,B),he(R,n,null),_(n,re),he(se,n,null),_(n,ye),he(z,n,null),_(n,J),he(A,n,null),_(n,we),he(de,n,null),_(n,Ne),he(be,n,null),_(a,Re),_(a,De),_(De,Ve),he(We,Ve,null),_(De,Mt),_(De,nt),_(nt,je),_(je,Ke),_(Ke,ze),_(ze,Ge),_(Ge,kt),_(ze,St),_(ze,it),_(it,yt),_(ze,At),_(ze,Ze),_(Ze,Ct),_(Ke,Pt),he(Xe,Ke,null),_(je,Lt),he(Ye,je,null),at=!0,Tt||(It=$(ze,"click",s[32]),Tt=!0)},p(P,te){const Ue={};!r&&te[0]&1&&(r=!0,Ue.boardTheme=P[0].board.boardTheme,ie(()=>r=!1)),!o&&te[0]&1&&(o=!0,Ue.notation=P[0].board.notation,ie(()=>o=!1)),!u&&te[0]&1&&(u=!0,Ue.flipped=P[0].board.flipped,ie(()=>u=!1)),!d&&te[0]&1&&(d=!0,Ue.shadow=P[0].board.style.shadow,ie(()=>d=!1)),!g&&te[0]&1&&(g=!0,Ue.borderRadius=P[0].board.style.borderRadius,ie(()=>g=!1)),!b&&te[0]&1&&(b=!0,Ue.resizible=P[0].board.resizible.enabled,ie(()=>b=!1)),!w&&te[0]&1&&(w=!0,Ue.min=P[0].board.resizible.min,ie(()=>w=!1)),!C&&te[0]&1&&(C=!0,Ue.max=P[0].board.resizible.max,ie(()=>C=!1)),l.$set(Ue);const rt={};!p&&te[0]&1&&(p=!0,rt.enabled=P[0].movable.enabled,ie(()=>p=!1)),!f&&te[0]&1&&(f=!0,rt.color=P[0].movable.color,ie(()=>f=!1)),S.$set(rt);const pe={};!M&&te[0]&1&&(M=!0,pe.enabled=P[0].draggable.enabled,ie(()=>M=!1)),!k&&te[0]&1&&(k=!0,pe.ghostPiece=P[0].draggable.ghostPiece.enabled,ie(()=>k=!1)),!q&&te[0]&1&&(q=!0,pe.transition=P[0].draggable.transition.enabled,ie(()=>q=!1)),!I&&te[0]&1&&(I=!0,pe.duration=P[0].draggable.transition.settings.duration,ie(()=>I=!1)),!F&&te[0]&1&&(F=!0,pe.easing=P[0].draggable.transition.settings.easing,ie(()=>F=!1)),v.$set(pe);const gt={};!H&&te[0]&1&&(H=!0,gt.enabled=P[0].selectable.enabled,ie(()=>H=!1)),R.$set(gt);const _t={};!N&&te[0]&1&&(N=!0,_t.enabled=P[0].legal.enabled,ie(()=>N=!1)),!Ee&&te[0]&1&&(Ee=!0,_t.preMovesEnabled=P[0].legal.preMoves.enabled,ie(()=>Ee=!1)),se.$set(_t);const Et={};!x&&te[0]&1&&(x=!0,Et.enabled=P[0].highlight.enabled,ie(()=>x=!1)),!Z&&te[0]&1&&(Z=!0,Et.settings=P[0].highlight.settings,ie(()=>Z=!1)),z.$set(Et);const xe={};!D&&te[0]&1&&(D=!0,xe.enabled=P[0].drawTools.enabled,ie(()=>D=!1)),!Y&&te[0]&1&&(Y=!0,xe.knightLShape=P[0].drawTools.settings.knightLShape,ie(()=>Y=!1)),!ee&&te[0]&1&&(ee=!0,xe.onlyChessMove=P[0].drawTools.settings.onlyChessMove,ie(()=>ee=!1)),A.$set(xe);const ot={};!qe&&te[0]&1&&(qe=!0,ot.enabled=P[0].sounds.enabled,ie(()=>qe=!1)),!Le&&te[0]&1&&(Le=!0,ot.settings=P[0].sounds.settings,ie(()=>Le=!1)),de.$set(ot);const $e={};!Pe&&te[0]&1&&(Pe=!0,$e.enabled=P[0].board.resizible.enabled,ie(()=>Pe=!1)),be.$set($e);const Rt={};We.$set(Rt),(!at||te[0]&2&&pt!==(pt=P[1]?"text-yellow-600":""))&&h(Ge,"class",pt),(!at||te[0]&2&&mt!==(mt=P[1]?"":"text-yellow-600"))&&h(Ze,"class",mt);const Ot={};te[0]&8&&(Ot.copyText=P[3]),Xe.$set(Ot);const Ft={};te[0]&8&&(Ft.source=P[3]),Ye.$set(Ft)},i(P){at||(j(l.$$.fragment,P),j(S.$$.fragment,P),j(v.$$.fragment,P),j(R.$$.fragment,P),j(se.$$.fragment,P),j(z.$$.fragment,P),j(A.$$.fragment,P),j(de.$$.fragment,P),j(be.$$.fragment,P),j(We.$$.fragment,P),j(Xe.$$.fragment,P),j(Ye.$$.fragment,P),at=!0)},o(P){X(l.$$.fragment,P),X(S.$$.fragment,P),X(v.$$.fragment,P),X(R.$$.fragment,P),X(se.$$.fragment,P),X(z.$$.fragment,P),X(A.$$.fragment,P),X(de.$$.fragment,P),X(be.$$.fragment,P),X(We.$$.fragment,P),X(Xe.$$.fragment,P),X(Ye.$$.fragment,P),at=!1},d(P){m(e),P&&m(t),P&&m(i),ge(l),ge(S),ge(v),ge(R),ge(se),ge(z),ge(A),ge(de),ge(be),s[31](null),ge(We),ge(Xe),ge(Ye),Tt=!1,It()}}}function ql(s,e,t){const i={movable:ae.WHITE,board:{style:{shadow:!0,borderRadius:"0.25rem"},resizible:!0}};let a,n=new mn(i),l=!1,r=!0,o="";es(()=>{l=!0,t(0,n=a.getState())});const u=(A,D)=>{const Y=A.getConfig(),ee=`
	import type { ChessboardConfig } from '@powchess/chessboard/boardConfig';`;l&&a.setState(A);let we=[],de=JSON.stringify(Y,(be,Pe)=>typeof Pe=="function"?(we.push(Pe.toString()),`{function_${we.length-1}}`):Pe,4).replace(/"([^"]+)":/g,"$1:").replaceAll(`
`,`
	`).replace(/"\{function_(\d+)\}"/g,(be,Pe)=>we[Pe]);const qe=`
	import { Color } from '@powchess/chessboard/enums';`;D&&(de=de.replaceAll("movable: 0","movable: Color.WHITE").replaceAll("movable: 1","movable: Color.BLACK").replaceAll("movable: 2","movable: Color.BOTH"));function Le(){return de.includes("movable: Color.WHITE")||de.includes("movable: Color.BLACK")||de.includes("movable: Color.BOTH")}return`<script${D?' lang="ts"':""}>
	import Chessboard from '@powchess/chessboard';${D?ee:""}${Le()&&D?qe:""}

	const config${D?": ChessboardConfig":""} = ${de};
<\/script>

<Chessboard {config} />`};function d(A){s.$$.not_equal(n.board.boardTheme,A)&&(n.board.boardTheme=A,t(0,n))}function g(A){s.$$.not_equal(n.board.notation,A)&&(n.board.notation=A,t(0,n))}function b(A){s.$$.not_equal(n.board.flipped,A)&&(n.board.flipped=A,t(0,n))}function w(A){s.$$.not_equal(n.board.style.shadow,A)&&(n.board.style.shadow=A,t(0,n))}function C(A){s.$$.not_equal(n.board.style.borderRadius,A)&&(n.board.style.borderRadius=A,t(0,n))}function y(A){s.$$.not_equal(n.board.resizible.enabled,A)&&(n.board.resizible.enabled=A,t(0,n))}function S(A){s.$$.not_equal(n.board.resizible.min,A)&&(n.board.resizible.min=A,t(0,n))}function p(A){s.$$.not_equal(n.board.resizible.max,A)&&(n.board.resizible.max=A,t(0,n))}function f(A){s.$$.not_equal(n.movable.enabled,A)&&(n.movable.enabled=A,t(0,n))}function c(A){s.$$.not_equal(n.movable.color,A)&&(n.movable.color=A,t(0,n))}function v(A){s.$$.not_equal(n.draggable.enabled,A)&&(n.draggable.enabled=A,t(0,n))}function M(A){s.$$.not_equal(n.draggable.ghostPiece.enabled,A)&&(n.draggable.ghostPiece.enabled=A,t(0,n))}function k(A){s.$$.not_equal(n.draggable.transition.enabled,A)&&(n.draggable.transition.enabled=A,t(0,n))}function q(A){s.$$.not_equal(n.draggable.transition.settings.duration,A)&&(n.draggable.transition.settings.duration=A,t(0,n))}function I(A){s.$$.not_equal(n.draggable.transition.settings.easing,A)&&(n.draggable.transition.settings.easing=A,t(0,n))}function F(A){s.$$.not_equal(n.selectable.enabled,A)&&(n.selectable.enabled=A,t(0,n))}function B(A){s.$$.not_equal(n.legal.enabled,A)&&(n.legal.enabled=A,t(0,n))}function R(A){s.$$.not_equal(n.legal.preMoves.enabled,A)&&(n.legal.preMoves.enabled=A,t(0,n))}function H(A){s.$$.not_equal(n.highlight.enabled,A)&&(n.highlight.enabled=A,t(0,n))}function re(A){s.$$.not_equal(n.highlight.settings,A)&&(n.highlight.settings=A,t(0,n))}function se(A){s.$$.not_equal(n.drawTools.enabled,A)&&(n.drawTools.enabled=A,t(0,n))}function N(A){s.$$.not_equal(n.drawTools.settings.knightLShape,A)&&(n.drawTools.settings.knightLShape=A,t(0,n))}function Ee(A){s.$$.not_equal(n.drawTools.settings.onlyChessMove,A)&&(n.drawTools.settings.onlyChessMove=A,t(0,n))}function ye(A){s.$$.not_equal(n.sounds.enabled,A)&&(n.sounds.enabled=A,t(0,n))}function z(A){s.$$.not_equal(n.sounds.settings,A)&&(n.sounds.settings=A,t(0,n))}function x(A){s.$$.not_equal(n.board.resizible.enabled,A)&&(n.board.resizible.enabled=A,t(0,n))}function Z(A){Q[A?"unshift":"push"](()=>{a=A,t(2,a)})}const J=()=>{t(1,r=!r)};return s.$$.update=()=>{s.$$.dirty[0]&3&&t(3,o=u(n,r))},[n,r,a,o,i,d,g,b,w,C,y,S,p,f,c,v,M,k,q,I,F,B,R,H,re,se,N,Ee,ye,z,x,Z,J]}class Dl extends Me{constructor(e){super(),ke(this,e,ql,Il,Se,{},null,[-1,-1])}}export{Dl as default};
