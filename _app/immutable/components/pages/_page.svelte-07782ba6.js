import{S as ke,i as Se,s as ye,B as ln,k as L,a as W,l as T,m as O,h as m,c as j,p as ce,n as h,b as B,F as _,C as rn,D as on,E as un,f as H,t as G,H as Dt,I as as,J as Q,K as Hn,e as _e,L as Wn,q as ue,r as de,u as Vt,A as we,M as ft,N as dn,O as jn,P as Kn,Q as ls,R as bt,T as Jt,U as J,V as xt,W as Qe,X as $t,G as Gn,Y as et,Z as Fe,_ as Ie,o as es,g as Te,d as Oe,$ as tt,a0 as Xn,a1 as Yn,a2 as se,v as he,w as ge,x as be,a3 as ne,y as pe,a4 as fn,a5 as Qn,a6 as rs,a7 as Zn,a8 as cn,z as Jn,a9 as hn,aa as ct,ab as wt,ac as ts,ad as dt,ae as ut,af as xn}from"../../chunks/index-18bffe9d.js";import{w as $n}from"../../chunks/index-c2b86799.js";typeof window<"u"&&(window.Prism&&console.warn("Prism has already been initiated. Please ensure that svelte-prism is imported first."),window.Prism=window.Prism||{},window.Prism.manual=!0);var os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gn={exports:{}};(function(s){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(i){var a=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,l={},r={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function d(c){return c instanceof o?new o(c.type,d(c.content),c.alias):Array.isArray(c)?c.map(d):c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(d){return Object.prototype.toString.call(d).slice(8,-1)},objId:function(d){return d.__id||Object.defineProperty(d,"__id",{value:++n}),d.__id},clone:function d(c,E){E=E||{};var v,k;switch(r.util.type(c)){case"Object":if(k=r.util.objId(c),E[k])return E[k];v={},E[k]=v;for(var R in c)c.hasOwnProperty(R)&&(v[R]=d(c[R],E));return v;case"Array":return k=r.util.objId(c),E[k]?E[k]:(v=[],E[k]=v,c.forEach(function(F,I){v[I]=d(F,E)}),v);default:return c}},getLanguage:function(d){for(;d;){var c=a.exec(d.className);if(c)return c[1].toLowerCase();d=d.parentElement}return"none"},setLanguage:function(d,c){d.className=d.className.replace(RegExp(a,"gi"),""),d.classList.add("language-"+c)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(v){var d=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(v.stack)||[])[1];if(d){var c=document.getElementsByTagName("script");for(var E in c)if(c[E].src==d)return c[E]}return null}},isActive:function(d,c,E){for(var v="no-"+c;d;){var k=d.classList;if(k.contains(c))return!0;if(k.contains(v))return!1;d=d.parentElement}return!!E}},languages:{plain:l,plaintext:l,text:l,txt:l,extend:function(d,c){var E=r.util.clone(r.languages[d]);for(var v in c)E[v]=c[v];return E},insertBefore:function(d,c,E,v){v=v||r.languages;var k=v[d],R={};for(var F in k)if(k.hasOwnProperty(F)){if(F==c)for(var I in E)E.hasOwnProperty(I)&&(R[I]=E[I]);E.hasOwnProperty(F)||(R[F]=k[F])}var q=v[d];return v[d]=R,r.languages.DFS(r.languages,function(N,$){$===q&&N!=d&&(this[N]=R)}),R},DFS:function d(c,E,v,k){k=k||{};var R=r.util.objId;for(var F in c)if(c.hasOwnProperty(F)){E.call(c,F,c[F],v||F);var I=c[F],q=r.util.type(I);q==="Object"&&!k[R(I)]?(k[R(I)]=!0,d(I,E,null,k)):q==="Array"&&!k[R(I)]&&(k[R(I)]=!0,d(I,E,F,k))}}},plugins:{},highlightAll:function(d,c){r.highlightAllUnder(document,d,c)},highlightAllUnder:function(d,c,E){var v={callback:E,container:d,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",v),v.elements=Array.prototype.slice.apply(v.container.querySelectorAll(v.selector)),r.hooks.run("before-all-elements-highlight",v);for(var k=0,R;R=v.elements[k++];)r.highlightElement(R,c===!0,v.callback)},highlightElement:function(d,c,E){var v=r.util.getLanguage(d),k=r.languages[v];r.util.setLanguage(d,v);var R=d.parentElement;R&&R.nodeName.toLowerCase()==="pre"&&r.util.setLanguage(R,v);var F=d.textContent,I={element:d,language:v,grammar:k,code:F};function q($){I.highlightedCode=$,r.hooks.run("before-insert",I),I.element.innerHTML=I.highlightedCode,r.hooks.run("after-highlight",I),r.hooks.run("complete",I),E&&E.call(I.element)}if(r.hooks.run("before-sanity-check",I),R=I.element.parentElement,R&&R.nodeName.toLowerCase()==="pre"&&!R.hasAttribute("tabindex")&&R.setAttribute("tabindex","0"),!I.code){r.hooks.run("complete",I),E&&E.call(I.element);return}if(r.hooks.run("before-highlight",I),!I.grammar){q(r.util.encode(I.code));return}if(c&&i.Worker){var N=new Worker(r.filename);N.onmessage=function($){q($.data)},N.postMessage(JSON.stringify({language:I.language,code:I.code,immediateClose:!0}))}else q(r.highlight(I.code,I.grammar,I.language))},highlight:function(d,c,E){var v={code:d,grammar:c,language:E};if(r.hooks.run("before-tokenize",v),!v.grammar)throw new Error('The language "'+v.language+'" has no grammar.');return v.tokens=r.tokenize(v.code,v.grammar),r.hooks.run("after-tokenize",v),o.stringify(r.util.encode(v.tokens),v.language)},tokenize:function(d,c){var E=c.rest;if(E){for(var v in E)c[v]=E[v];delete c.rest}var k=new g;return b(k,k.head,d),f(d,k,c,k.head,0),C(k)},hooks:{all:{},add:function(d,c){var E=r.hooks.all;E[d]=E[d]||[],E[d].push(c)},run:function(d,c){var E=r.hooks.all[d];if(!(!E||!E.length))for(var v=0,k;k=E[v++];)k(c)}},Token:o};i.Prism=r;function o(d,c,E,v){this.type=d,this.content=c,this.alias=E,this.length=(v||"").length|0}o.stringify=function d(c,E){if(typeof c=="string")return c;if(Array.isArray(c)){var v="";return c.forEach(function(q){v+=d(q,E)}),v}var k={type:c.type,content:d(c.content,E),tag:"span",classes:["token",c.type],attributes:{},language:E},R=c.alias;R&&(Array.isArray(R)?Array.prototype.push.apply(k.classes,R):k.classes.push(R)),r.hooks.run("wrap",k);var F="";for(var I in k.attributes)F+=" "+I+'="'+(k.attributes[I]||"").replace(/"/g,"&quot;")+'"';return"<"+k.tag+' class="'+k.classes.join(" ")+'"'+F+">"+k.content+"</"+k.tag+">"};function u(d,c,E,v){d.lastIndex=c;var k=d.exec(E);if(k&&v&&k[1]){var R=k[1].length;k.index+=R,k[0]=k[0].slice(R)}return k}function f(d,c,E,v,k,R){for(var F in E)if(!(!E.hasOwnProperty(F)||!E[F])){var I=E[F];I=Array.isArray(I)?I:[I];for(var q=0;q<I.length;++q){if(R&&R.cause==F+","+q)return;var N=I[q],$=N.inside,le=!!N.lookbehind,re=!!N.greedy,z=N.alias;if(re&&!N.pattern.global){var me=N.pattern.toString().match(/[imsuy]*$/)[0];N.pattern=RegExp(N.pattern.source,me+"g")}for(var K=N.pattern||N,X=v.next,x=k;X!==c.tail&&!(R&&x>=R.reach);x+=X.value.length,X=X.next){var Z=X.value;if(c.length>d.length)return;if(!(Z instanceof o)){var ee=1,A;if(re){if(A=u(K,x,d,le),!A||A.index>=d.length)break;var Me=A.index,D=A.index+A[0].length,Y=x;for(Y+=X.value.length;Me>=Y;)X=X.next,Y+=X.value.length;if(Y-=X.value.length,x=Y,X.value instanceof o)continue;for(var oe=X;oe!==c.tail&&(Y<D||typeof oe.value=="string");oe=oe.next)ee++,Y+=oe.value.length;ee--,Z=d.slice(x,Y),A.index-=x}else if(A=u(K,0,Z,le),!A)continue;var Me=A.index,fe=A[0],qe=Z.slice(0,Me),Pe=Z.slice(Me+fe.length),Ne=x+Z.length;R&&Ne>R.reach&&(R.reach=Ne);var Ee=X.prev;qe&&(Ee=b(c,Ee,qe),x+=qe.length),w(c,Ee,ee);var Le=new o(F,$?r.tokenize(fe,$):fe,z,fe);if(X=b(c,Ee,Le),Pe&&b(c,X,Pe),ee>1){var Re={cause:F+","+q,reach:Ne};f(d,c,E,X.prev,x,Re),R&&Re.reach>R.reach&&(R.reach=Re.reach)}}}}}}function g(){var d={value:null,prev:null,next:null},c={value:null,prev:d,next:null};d.next=c,this.head=d,this.tail=c,this.length=0}function b(d,c,E){var v=c.next,k={value:E,prev:c,next:v};return c.next=k,v.prev=k,d.length++,k}function w(d,c,E){for(var v=c.next,k=0;k<E&&v!==d.tail;k++)v=v.next;c.next=v,v.prev=c,d.length-=k}function C(d){for(var c=[],E=d.head.next;E!==d.tail;)c.push(E.value),E=E.next;return c}if(!i.document)return i.addEventListener&&(r.disableWorkerMessageHandler||i.addEventListener("message",function(d){var c=JSON.parse(d.data),E=c.language,v=c.code,k=c.immediateClose;i.postMessage(r.highlight(v,r.languages[E],E)),k&&i.close()},!1)),r;var y=r.util.currentScript();y&&(r.filename=y.src,y.hasAttribute("data-manual")&&(r.manual=!0));function S(){r.manual||r.highlightAll()}if(!r.manual){var p=document.readyState;p==="loading"||p==="interactive"&&y&&y.defer?document.addEventListener("DOMContentLoaded",S):window.requestAnimationFrame?window.requestAnimationFrame(S):window.setTimeout(S,16)}return r}(e);s.exports&&(s.exports=t),typeof os<"u"&&(os.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(a,n){var l={};l["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};r["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var o={};o[a]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return a}),"i"),lookbehind:!0,greedy:!0,inside:r},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(i,a){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[a,"language-"+a],inside:t.languages[a]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(i){var a=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+a.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+a.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+a.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+a.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:a,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var n=i.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading\u2026",a=function(y,S){return"\u2716 Error "+y+" while fetching file: "+S},n="\u2716 Error: File does not exist or is empty",l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},r="data-src-status",o="loading",u="loaded",f="failed",g="pre[data-src]:not(["+r+'="'+u+'"]):not(['+r+'="'+o+'"])';function b(y,S,p){var d=new XMLHttpRequest;d.open("GET",y,!0),d.onreadystatechange=function(){d.readyState==4&&(d.status<400&&d.responseText?S(d.responseText):d.status>=400?p(a(d.status,d.statusText)):p(n))},d.send(null)}function w(y){var S=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(y||"");if(S){var p=Number(S[1]),d=S[2],c=S[3];return d?c?[p,Number(c)]:[p,void 0]:[p,p]}}t.hooks.add("before-highlightall",function(y){y.selector+=", "+g}),t.hooks.add("before-sanity-check",function(y){var S=y.element;if(S.matches(g)){y.code="",S.setAttribute(r,o);var p=S.appendChild(document.createElement("CODE"));p.textContent=i;var d=S.getAttribute("data-src"),c=y.language;if(c==="none"){var E=(/\.(\w+)$/.exec(d)||[,"none"])[1];c=l[E]||E}t.util.setLanguage(p,c),t.util.setLanguage(S,c);var v=t.plugins.autoloader;v&&v.loadLanguages(c),b(d,function(k){S.setAttribute(r,u);var R=w(S.getAttribute("data-range"));if(R){var F=k.split(/\r\n?|\n/g),I=R[0],q=R[1]==null?F.length:R[1];I<0&&(I+=F.length),I=Math.max(0,Math.min(I-1,F.length)),q<0&&(q+=F.length),q=Math.max(0,Math.min(q,F.length)),k=F.slice(I,q).join(`
`),S.hasAttribute("data-start")||S.setAttribute("data-start",String(I+1))}p.textContent=k,t.highlightElement(p)},function(k){S.setAttribute(r,f),p.textContent=k})}}),t.plugins.fileHighlight={highlight:function(S){for(var p=(S||document).querySelectorAll(g),d=0,c;c=p[d++];)t.highlightElement(c)}};var C=!1;t.fileHighlight=function(){C||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),C=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(gn);const bn=gn.exports,us="(if|else if|await|then|catch|each|html|debug)";Prism.languages.svelte=Prism.languages.extend("markup",{each:{pattern:new RegExp("{[#/]each(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{"language-javascript":[{pattern:/(as[\s\S]*)\([\s\S]*\)(?=\s*\})/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(as[\s]*)[\s\S]*(?=\s*)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(#each[\s]*)[\s\S]*(?=as)/,lookbehind:!0,inside:Prism.languages.javascript}],keyword:/[#/]each|as/,punctuation:/{|}/}},block:{pattern:new RegExp("{[#:/@]/s"+us+"(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{punctuation:/^{|}$/,keyword:[new RegExp("[#:/@]"+us+"( )*"),/as/,/then/],"language-javascript":{pattern:/[\s\S]*/,inside:Prism.languages.javascript}}},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?:"[^"]*"|'[^']*'|{[\s\S]+?}(?=[\s/>])))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,inside:Prism.languages.javascript},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],"language-javascript":{pattern:/{[\s\S]+}/,inside:Prism.languages.javascript}}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,lookbehind:!0,inside:Prism.languages.javascript}});Prism.languages.svelte.tag.inside["attr-value"].inside.entity=Prism.languages.svelte.entity;Prism.hooks.add("wrap",s=>{s.type==="entity"&&(s.attributes.title=s.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.svelte.tag,"addInlined",{value:function(e,t){const i={};i["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;const a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};a["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};const n={};n[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:a},Prism.languages.insertBefore("svelte","cdata",n)}});Prism.languages.svelte.tag.addInlined("style","css");Prism.languages.svelte.tag.addInlined("script","javascript");function ei(s){let e,t;return{c(){e=new Hn(!1),t=_e(),this.h()},l(i){e=Wn(i,!1),t=_e(),this.h()},h(){e.a=t},m(i,a){e.m(s[2],i,a),B(i,t,a)},p(i,a){a&4&&e.p(i[2])},d(i){i&&m(t),i&&e.d()}}}function ti(s){let e;return{c(){e=ue(s[2])},l(t){e=de(t,s[2])},m(t,i){B(t,e,i)},p(t,i){i&4&&Vt(e,t[2])},d(t){t&&m(e)}}}function si(s){let e,t,i,a,n,l,r;const o=s[6].default,u=ln(o,s,s[5],null);function f(w,C){return w[0]==="none"?ti:ei}let g=f(s),b=g(s);return{c(){e=L("code"),u&&u.c(),t=W(),i=L("pre"),a=L("code"),b.c(),this.h()},l(w){e=T(w,"CODE",{style:!0});var C=O(e);u&&u.l(C),C.forEach(m),t=j(w),i=T(w,"PRE",{class:!0,"command-line":!0,"data-output":!0});var y=O(i);a=T(y,"CODE",{class:!0});var S=O(a);b.l(S),S.forEach(m),y.forEach(m),this.h()},h(){ce(e,"display","none"),h(a,"class",n="language-"+s[0]),h(i,"class",l="language-"+s[0]),h(i,"command-line",""),h(i,"data-output","2-17")},m(w,C){B(w,e,C),u&&u.m(e,null),s[7](e),B(w,t,C),B(w,i,C),_(i,a),b.m(a,null),r=!0},p(w,[C]){u&&u.p&&(!r||C&32)&&rn(u,o,w,w[5],r?un(o,w[5],C,null):on(w[5]),null),g===(g=f(w))&&b?b.p(w,C):(b.d(1),b=g(w),b&&(b.c(),b.m(a,null))),(!r||C&1&&n!==(n="language-"+w[0]))&&h(a,"class",n),(!r||C&1&&l!==(l="language-"+w[0]))&&h(i,"class",l)},i(w){r||(H(u,w),r=!0)},o(w){G(u,w),r=!1},d(w){w&&m(e),u&&u.d(w),s[7](null),w&&m(t),w&&m(i),b.d()}}}const ds=bn;bn.highlightElement;const ni={transform:s=>s};function ii(s,e,t){let{$$slots:i={},$$scope:a}=e,{language:n="javascript"}=e,{source:l=""}=e,{transform:r=b=>b}=e,o,u;function f(){const b=ds.languages[n];let w=l||o.textContent;w=ni.transform(w),w=r(w),t(2,u=n==="none"?w:ds.highlight(w,b,n))}function g(b){Q[b?"unshift":"push"](()=>{o=b,t(1,o)})}return s.$$set=b=>{t(9,e=Dt(Dt({},e),as(b))),"language"in b&&t(0,n=b.language),"source"in b&&t(3,l=b.source),"transform"in b&&t(4,r=b.transform),"$$scope"in b&&t(5,a=b.$$scope)},s.$$.update=()=>{e&&(l||o)&&f()},e=as(e),[n,o,u,l,r,a,i,g]}class ai extends ke{constructor(e){super(),Se(this,e,ii,si,ye,{language:0,source:3,transform:4})}}var ie=(s=>(s[s.WHITE=0]="WHITE",s[s.BLACK=1]="BLACK",s[s.BOTH=2]="BOTH",s[s.SPECTATOR=3]="SPECTATOR",s[s.SERVER=4]="SERVER",s))(ie||{}),V=(s=>(s[s.LEGAL=0]="LEGAL",s[s.LEGALHOVER=1]="LEGALHOVER",s[s.CHECK=2]="CHECK",s[s.MOVE=3]="MOVE",s[s.NEXTMOVE=4]="NEXTMOVE",s[s.PREMOVE=5]="PREMOVE",s[s.PREMOVEHOVER=6]="PREMOVEHOVER",s[s.SELECT=7]="SELECT",s))(V||{});class li{constructor(e){this.defaultState={boardTheme:"standard",piecesTheme:"standard",flipped:!1,notation:!0,shadow:!1,startFen:gi,size:0,style:{shadow:!1,borderRadius:"0rem"},resizible:{enabled:!1,min:256,max:1024}},this.setConfigSettings=t=>{t!==void 0&&(t.boardTheme!==void 0&&(this.boardTheme=t.boardTheme),t.piecesTheme!==void 0&&(this.piecesTheme=t.piecesTheme),t.flipped!==void 0&&(this.flipped=t.flipped),t.notation!==void 0&&(this.notation=t.notation),t.startFen!==void 0&&(this.startFen=t.startFen),t.style!==void 0&&(t.style.shadow!==void 0&&(this.style.shadow=t.style.shadow),t.style.borderRadius!==void 0&&(this.style.borderRadius=t.style.borderRadius)))},this.getConfig=()=>{const t={...this.boardTheme!==this.defaultState.boardTheme&&{boardTheme:this.boardTheme},...this.piecesTheme!==this.defaultState.piecesTheme&&{piecesTheme:this.piecesTheme},...this.flipped!==this.defaultState.flipped&&{flipped:this.flipped},...this.notation!==this.defaultState.notation&&{notation:this.notation},...this.startFen!==this.defaultState.startFen&&{startFen:this.startFen},...(this.style.shadow!==this.defaultState.style.shadow||this.style.borderRadius!==this.defaultState.style.borderRadius)&&{style:{...this.style.shadow!==this.defaultState.style.shadow&&{shadow:this.style.shadow},...this.style.borderRadius!==this.defaultState.style.borderRadius&&{borderRadius:this.style.borderRadius}}}};if(Object.keys(t).length!==0)return t},this.boardTheme=this.defaultState.boardTheme,this.piecesTheme=this.defaultState.piecesTheme,this.flipped=this.defaultState.flipped,this.notation=this.defaultState.notation,this.startFen=this.defaultState.startFen,this.size=this.defaultState.size,this.style={...this.defaultState.style},this.resizible={...this.defaultState.resizible},this.setConfigSettings(e)}}class pn{constructor(e){this.defaultState={enabled:!0,color:ie.BOTH},this.setConfigSettings=t=>{switch(t){case!0:this.enabled=!0,this.color=ie.BOTH;break;case!1:this.enabled=!1;break;case ie.WHITE:this.enabled=!0,this.color=ie.WHITE;break;case ie.BLACK:this.enabled=!0,this.color=ie.BLACK;break}},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.color!==this.defaultState.color)return this.color;if(this.enabled&&!this.defaultState.enabled)return this.color;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.color=this.defaultState.color,this.setConfigSettings(e)}}class ri{constructor(e){this.defaultState={enabled:!0,ghostPiece:{enabled:!0,piece:void 0},transition:{enabled:!0,settings:{duration:120,easing:"cubicInOut"}}},this.setConfigSettings=t=>{var i,a,n,l;t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,(t==null?void 0:t.ghostPiece)!==void 0&&(this.ghostPiece.enabled=t.ghostPiece),t.transition!==void 0&&((t==null?void 0:t.transition)===!0?this.transition.enabled=!0:(t==null?void 0:t.transition)===!1?this.transition.enabled=!1:(this.transition.enabled=!0,(i=t==null?void 0:t.transition)!=null&&i.duration&&(this.transition.settings.duration=(a=t==null?void 0:t.transition)==null?void 0:a.duration),(n=t==null?void 0:t.transition)!=null&&n.easing&&(this.transition.settings.easing=(l=t==null?void 0:t.transition)==null?void 0:l.easing)))))},this.getConfig=()=>{const t={},i={};if(this.enabled&&this.defaultState.enabled&&(this.ghostPiece.enabled!==this.defaultState.ghostPiece.enabled&&(t.ghostPiece=this.ghostPiece.enabled),this.transition.enabled&&this.defaultState.transition.enabled&&(this.transition.settings.duration!==this.defaultState.transition.settings.duration&&(i.duration=this.transition.settings.duration),this.transition.settings.easing!==this.defaultState.transition.settings.easing&&(i.easing=this.transition.settings.easing),Object.keys(i).length!==0&&(t.transition=i)),!this.transition.enabled&&this.defaultState.transition.enabled&&(t.transition=!1),Object.keys(t).length!==0))return t;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.ghostPiece={...this.defaultState.ghostPiece},this.transition={enabled:this.defaultState.transition.enabled,settings:{...this.defaultState.transition.settings}},this.setConfigSettings(e)}}class oi{constructor(e){this.defaultState={enabled:!0,selectedPiece:void 0},this.setConfigSettings=t=>{t!==void 0&&(this.enabled=t)},this.getConfig=()=>{if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.selectedPiece=this.defaultState.selectedPiece,this.setConfigSettings(e)}}class ui{constructor(e){this.defaultState={enabled:!1,whiteToMove:!0,moves:[],settings:{allowPromotion:!0,allowEnPassant:!0,allowCastling:!0},preMoves:{enabled:!1,moves:[],curMove:""},lastMove:""},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.settings&&(t.settings.allowCastling!==void 0&&(this.settings.allowCastling=t.settings.allowCastling),t.settings.allowEnPassant!==void 0&&(this.settings.allowEnPassant=t.settings.allowEnPassant),t.settings.allowPromotion!==void 0&&(this.settings.allowPromotion=t.settings.allowPromotion)),t.preMoves!==void 0&&(this.preMoves.enabled=t.preMoves)))},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.preMoves.enabled!==this.defaultState.preMoves.enabled)return{preMoves:this.preMoves.enabled};if(this.enabled!==this.defaultState.enabled)return this.preMoves.enabled!==this.defaultState.preMoves.enabled?{preMoves:this.preMoves.enabled}:this.enabled},this.enabled=this.defaultState.enabled,this.whiteToMove=this.defaultState.whiteToMove,this.moves=JSON.parse(JSON.stringify(this.defaultState.moves)),this.settings={...this.defaultState.settings},this.preMoves={enabled:this.defaultState.preMoves.enabled,moves:[...this.defaultState.preMoves.moves],curMove:this.defaultState.preMoves.curMove},this.lastMove=this.defaultState.lastMove,this.setConfigSettings(e)}}class di{constructor(e){this.defaultState={enabled:!0,settings:{select:!0,legal:!0,move:!0,preMove:!1,nextMove:!1,check:!0}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.check!==void 0&&(this.settings.check=t.check),t.legal!==void 0&&(this.settings.legal=t.legal),t.move!==void 0&&(this.settings.move=t.move),t.nextMove!==void 0&&(this.settings.nextMove=t.nextMove),t.preMove!==void 0&&(this.settings.preMove=t.preMove),t.select!==void 0&&(this.settings.select=t.select)))},this.getConfig=()=>{const t={},i=["select","legal","move","preMove","nextMove","check"];if(this.enabled&&this.defaultState.enabled&&(i.forEach(a=>{this.settings[a]!==this.defaultState.settings[a]&&(t[a]=this.settings[a])}),Object.keys(t).length!==0))return t;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},this.setConfigSettings(e)}}class fi{constructor(e){this.defaultState={enabled:!0,engineArrows:[],settings:{knightLShape:!1,onlyChessMove:!1}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.knightLShape!==void 0&&(this.settings.knightLShape=t.knightLShape),t.onlyChessMove!==void 0&&(this.settings.onlyChessMove=t.onlyChessMove)))},this.getConfig=()=>{const t={};if(this.enabled&&this.defaultState.enabled&&(this.settings.knightLShape!==this.defaultState.settings.knightLShape&&(t.knightLShape=this.settings.knightLShape),this.settings.onlyChessMove!==this.defaultState.settings.onlyChessMove&&(t.onlyChessMove=this.settings.onlyChessMove),Object.keys(t).length!==0))return t;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.engineArrows=JSON.parse(JSON.stringify(this.defaultState.engineArrows)),this.settings={knightLShape:this.defaultState.settings.knightLShape,onlyChessMove:this.defaultState.settings.onlyChessMove},this.setConfigSettings(e)}}class ci{constructor(e){this.defaultState={enabled:!0,settings:{MOVE:!0,CAPTURE:!0,CASTLE:!0,UNDO:!0}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.CAPTURE!==void 0&&(this.settings.CAPTURE=t.CAPTURE),t.CASTLE!==void 0&&(this.settings.CASTLE=t.CASTLE),t.MOVE!==void 0&&(this.settings.MOVE=t.MOVE),t.UNDO!==void 0&&(this.settings.UNDO=t.UNDO)))},this.getConfig=()=>{const t={};if(this.enabled&&this.defaultState.enabled&&(this.settings.MOVE!==this.defaultState.settings.MOVE&&(t.MOVE=this.settings.MOVE),this.settings.CAPTURE!==this.defaultState.settings.CAPTURE&&(t.CAPTURE=this.settings.CAPTURE),this.settings.CASTLE!==this.defaultState.settings.CASTLE&&(t.CASTLE=this.settings.CASTLE),this.settings.UNDO!==this.defaultState.settings.UNDO&&(t.UNDO=this.settings.UNDO),Object.keys(t).length!==0))return t;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.CAPTURE!==void 0&&(this.settings.CAPTURE=e.CAPTURE),e.CASTLE!==void 0&&(this.settings.CASTLE=e.CASTLE),e.MOVE!==void 0&&(this.settings.MOVE=e.MOVE),e.UNDO!==void 0&&(this.settings.UNDO=e.UNDO)))}}class hi{constructor(e){this.defaultState={getLegalMoves:void 0,getPreMoves:void 0,beforeMove:void 0,afterMove:void 0,getLastMove:void 0,getLastMoveSAN:void 0,getKingLocations:void 0,getInCheck:void 0,getWhiteToMove:void 0},this.setConfigSettings=t=>{t!==void 0&&(t.getLegalMoves&&(this.getLegalMoves=t.getLegalMoves),t.getPreMoves&&(this.getPreMoves=t.getPreMoves),t.beforeMove&&(this.beforeMove=t.beforeMove),t.afterMove&&(this.afterMove=t.afterMove),t.getLastMove&&(this.getLastMove=t.getLastMove),t.getLastMoveSAN&&(this.getLastMoveSAN=t.getLastMoveSAN),t.getKingLocations&&(this.getKingLocations=t.getKingLocations),t.getInCheck&&(this.getInCheck=t.getInCheck),t.getWhiteToMove&&(this.getWhiteToMove=t.getWhiteToMove))},this.getConfig=()=>{const t={...this.getLegalMoves&&{getLegalMoves:this.getLegalMoves},...this.getPreMoves&&{getPreMoves:this.getPreMoves},...this.beforeMove&&{beforeMove:this.beforeMove},...this.afterMove&&{afterMove:this.afterMove},...this.getLastMove&&{getLastMove:this.getLastMove},...this.getLastMoveSAN&&{getLastMoveSAN:this.getLastMoveSAN},...this.getKingLocations&&{getKingLocations:this.getKingLocations},...this.getInCheck&&{getInCheck:this.getInCheck},...this.getWhiteToMove&&{getWhiteToMove:this.getWhiteToMove}};return Object.keys(t).length>0?t:void 0},this.getLegalMoves=this.defaultState.getLegalMoves,this.getPreMoves=this.defaultState.getPreMoves,this.beforeMove=this.defaultState.beforeMove,this.afterMove=this.defaultState.afterMove,this.getLastMove=this.defaultState.getLastMove,this.getLastMoveSAN=this.defaultState.getLastMoveSAN,this.getKingLocations=this.defaultState.getKingLocations,this.getInCheck=this.defaultState.getInCheck,this.getWhiteToMove=this.defaultState.getWhiteToMove,this.setConfigSettings(e)}}const gi="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class mn{constructor(e){this.getConfig=()=>({board:this.board.getConfig(),movable:this.movable.getConfig(),draggable:this.draggable.getConfig(),selectable:this.selectable.getConfig(),legal:this.legal.getConfig(),highlight:this.highlight.getConfig(),drawTools:this.drawTools.getConfig(),sounds:this.sounds.getConfig()}),this.pieces=[],this.markedSquares=new Set,this.board=new li(e==null?void 0:e.board),this.movable=new pn(e==null?void 0:e.movable),this.draggable=new ri(e==null?void 0:e.draggable),this.selectable=new oi(e==null?void 0:e.selectable),this.legal=new ui(e==null?void 0:e.legal),this.callbacks=new hi(e==null?void 0:e.callbacks),this.highlight=new di(e==null?void 0:e.highlight),this.drawTools=new fi(e==null?void 0:e.drawTools),this.sounds=new ci(e==null?void 0:e.sounds)}setConfigSettings(e){this.board.setConfigSettings(e.board),this.movable.setConfigSettings(e.movable),this.draggable.setConfigSettings(e.draggable),this.selectable.setConfigSettings(e.selectable),this.legal.setConfigSettings(e.legal),this.callbacks.setConfigSettings(e.callbacks),this.highlight.setConfigSettings(e.highlight),this.drawTools.setConfigSettings(e.drawTools),this.sounds.setConfigSettings(e.sounds)}}const bi=["a","b","c","d","e","f","g","h"],pi=["8","7","6","5","4","3","2","1"];function Kt(s){return{x:bi.indexOf(s[0]),y:pi.indexOf(s[1])}}function Gt(s){return s.charCodeAt(0)-97}function mi(s){return 8-parseInt(s,10)}const vi=s=>{let e="",t=0;for(let i=0;i<s.length;i++){i!==0&&(e+="/");for(let a=0;a<s[i].length;a++){const n=s[i][a];n!=null&&t===0?n[0]==="w"?e+=n[1]:e+=n[1].toLowerCase():n!=null&&t!==0?(e+=t.toString(),t=0,n[0]==="w"?e+=n[1]:e+=n[1].toLowerCase()):t++}t!==0&&(e+=t.toString(),t=0)}return e},_i="8/8/8/8/8/8/8/8 w - - 0 1";class Ei{constructor(e){this.letters={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},this.changeLegalHoverIfNeeded=t=>{t.color!==V.LEGAL&&t.color!==V.PREMOVE||this.state.pieces.forEach(i=>{i.square===t.square&&(t.color=t.color===V.LEGAL?V.LEGALHOVER:V.PREMOVEHOVER)})},this.highlightSquare=(t,i)=>{const a={square:t,color:i};this.state.markedSquares.forEach(n=>{n.square===t&&n.color!==V.MOVE&&n.color!==V.CHECK&&this.state.markedSquares.delete(n)}),this.changeLegalHoverIfNeeded(a),this.state.markedSquares.add(a)},this.legalHover=t=>{this.state.markedSquares.forEach(i=>{if(i.square===t&&i.color===V.LEGAL)i.color=V.LEGALHOVER;else if(i.square!==t&&i.color===V.LEGALHOVER){let a=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(a=!0)}),a||(i.color=V.LEGAL)}})},this.preMoveHover=t=>{this.state.markedSquares.forEach(i=>{if(i.square===t&&i.color===V.PREMOVE)i.color=V.PREMOVEHOVER;else if(i.square!==t&&i.color===V.PREMOVEHOVER){let a=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(a=!0)}),a||(i.color=V.PREMOVE)}})},this.toggleSquareHighlight=(t,i)=>{const a={square:t,color:i};let n=!1;return this.state.markedSquares.forEach(l=>{l.square===t&&(this.state.markedSquares.delete(l),l.color===i&&(n=!0))}),this.changeLegalHoverIfNeeded(a),n?!0:(this.state.markedSquares.add(a),!1)},this.getSelectedSquare=()=>{let t="";return this.state.markedSquares.forEach(i=>{i.color===V.SELECT&&(t=i.square)}),t},this.clearSquare=(t,i)=>{t.length===2&&this.state.markedSquares.forEach(a=>{a.square===t&&(a.color===i||i===void 0)&&this.state.markedSquares.delete(a)})},this.clearAllSquares=t=>{t===void 0?this.state.markedSquares.clear():this.state.markedSquares.forEach(i=>{i.color===t&&this.state.markedSquares.delete(i)})},this.setPiece=(t,i)=>{if(this.notValidThing({square:t,piece:i}))return;const a=this.state.pieces.find(n=>n.square===t);a?a.name=i:this.state.pieces.push({square:t,name:i})},this.removePiece=t=>{this.notValidThing({square:t})||this.state.pieces.forEach((i,a)=>{i.square===t&&this.state.pieces.splice(a,1)})},this.clearAllPieces=()=>{this.state.pieces.length=0},this.getGridCoordsFromSquare=t=>{if(this.notValidThing({square:t}))return{x:0,y:0};const i=t[0],a=t[1],n=this.state.board.flipped?Math.abs(this.letters[i]-7):this.letters[i],l=this.state.board.flipped?Math.abs(parseInt(a,10)-8):parseInt(a,10)-1;return typeof n!="number"||l<0||l>7?{x:0,y:0}:{x:n,y:l}},this.makeMove=t=>{if(this.notValidThing({move:t}))return;let i=!1,a;const n=t.substring(0,2),l=t.substring(2,4),r=t.substring(4);this.state.pieces.forEach(o=>{o.square===l&&(a=o,this.removePiece(o.square))}),this.state.pieces.forEach(o=>{o.square===n&&(o.square=l,i=!0,r&&(o.name=o.name[0]+r.toUpperCase()))}),i?this.state.legal.lastMove=t:a&&this.state.pieces.push(a)},this.getSquareFromIndices=(t,i)=>Object.keys(this.letters)[t]+(i+1).toString(),this.updatePiecesWithFen=t=>{const i=[...Array(8)].map(()=>Array(8).fill(null)),a=["1","2","3","4","5","6","7","8"];let n=0,l=0;for(let u=0;u<(t.includes(" ")?t.indexOf(" "):t.length);u++)if(t[u]==="/")n++,l=0;else if(!a.includes(t[u]))t[u]===t[u].toUpperCase()?i[n][l]=`w${t[u]}`:i[n][l]=`b${t[u].toUpperCase()}`,l++;else for(let f=0;f<parseInt(t[u],10);f++)i[n][l]=null,l++;const r=[],o=[];for(let u=0;u<i.length;++u)for(let f=0;f<i.length;++f){const g=i[u][f],b=this.getPieceFromSquare(this.getSquareFromIndices(f,Math.abs(u-7)));g&&!b&&r.push({square:this.getSquareFromIndices(f,Math.abs(u-7)),name:g}),!g&&b&&o.push(b),g&&b&&g!==b.name&&(r.push({square:this.getSquareFromIndices(f,Math.abs(u-7)),name:g}),o.push(b))}for(let u=0;u<o.length;u++)for(let f=0;f<r.length;f++)!r[f]||!o[u]||r[f].name===o[u].name&&(o[u].square=r[f].square,o.splice(u,1),u--,r.splice(f,1),f--);r.forEach(u=>{this.state.pieces.push(u)}),o.forEach(u=>{this.state.pieces.splice(this.state.pieces.indexOf(u),1)})},this.notValidThing=t=>{const{square:i,piece:a,move:n}=t;return!!(i&&i.length!==2||a&&a.length!==2||n&&n.length!==4&&n.length!==5)},this.setGhostPiece=t=>{this.state.draggable.ghostPiece.piece=t},this.removeGhostPiece=()=>{this.state.draggable.ghostPiece.piece=void 0},this.isCastling=t=>{switch(t){case"e1g1":case"e1c1":case"e8g8":case"e8c8":return!0;default:return!1}},this.getRookMoveIfIsCastling=t=>{switch(t){case"e1g1":return"h1f1";case"e1c1":return"a1d1";case"e8g8":return"h8f8";case"e8c8":return"a8d8";default:return}},this.isEnPassant=t=>{if(t[0]===t[2]||this.getPieceFromSquare(t.substring(2,4)))return!1;const i=this.getPieceFromSquare(t.substring(0,2));return!(i===void 0||i.name!=="wP"&&i.name!=="bP")},this.getCapturedPawnSquareIfIsEnPassant=t=>{if(t[0]===t[2]||this.getPieceFromSquare(t.substring(2,4)))return;const i=this.getPieceFromSquare(t.substring(0,2));if(i===void 0||i.name!=="wP"&&i.name!=="bP")return;const a=this.getPieceFromSquare(`${t[2]}${parseInt(t[3],10)+(i.name==="wP"?-1:1)}`);return a==null?void 0:a.square},this.isCapture=t=>!!this.getPieceFromSquare(t.substring(2,4)),this.isPromotion=t=>{if((t[1]!=="7"||t[3]!=="8")&&(t[1]!=="2"||t[3]!=="1"))return!1;const i=this.getPieceFromSquare(t.substring(0,2));return!(i&&(i.name[1]!=="P"||i.name[0]==="w"&&t[3]==="1"||i.name[0]==="b"&&t[3]==="8"))},this.callbackExists=t=>this.state.callbacks[t]!==void 0,this.flipBoard=t=>{t!==void 0?this.state.board.flipped=t:this.state.board.flipped=!this.state.board.flipped},this.setConfigSettings=t=>{this.state.setConfigSettings(t)},this.state=new mn(e),this.state.board.startFen&&this.updatePiecesWithFen(this.state.board.startFen)}getShortFEN(){if(this.state.pieces.length===0)return _i;const e=[...Array(8)].map(()=>Array(8).fill(null));return this.state.pieces.forEach(t=>{e[mi(t.square[1])][Gt(t.square[0])]=t.name}),vi(e)}getPieceFromSquare(e){let t;return this.state.pieces.forEach(i=>{i.square===e&&(t=i)}),t}}const wi={[V.LEGAL]:"legalSQ cursor-pointer",[V.LEGALHOVER]:"legalSQ_hover cursor-pointer",[V.SELECT]:"selectedSQ",[V.MOVE]:"highlightMove",[V.NEXTMOVE]:"nextMoveSQ",[V.PREMOVE]:"preMoveSQ cursor-pointer",[V.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[V.CHECK]:"checkSQ"},Mi={white:"#f0d9b5",black:"#b58863"},ki="standard.svg",Si={[V.LEGAL]:"legalSQ cursor-pointer",[V.LEGALHOVER]:"legalSQ_hover cursor-pointer",[V.SELECT]:"selectedSQ-darkBlue",[V.MOVE]:"highlightMove-darkBlue",[V.NEXTMOVE]:"nextMoveSQ",[V.PREMOVE]:"preMoveSQ cursor-pointer",[V.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[V.CHECK]:"checkSQ"},yi={white:"#94A3B8",black:"#475569"},Ai="darkBlue.svg",He={squareStyles:{standard:wi,darkBlue:Si},colors:{standard:Mi,darkBlue:yi},imageName:{standard:ki,darkBlue:Ai}};function fs(s,e,t){const i=s.slice();return i[3]=e[t],i[5]=t,i}function cs(s,e,t){const i=s.slice();return i[3]=e[t],i[5]=t,i}function hs(s){let e,t=s[2][s[1]?Math.abs(s[5]-7):s[5]]+"",i,a;return{c(){e=L("span"),i=ue(t),a=W(),this.h()},l(n){e=T(n,"SPAN",{"data-file":!0,style:!0,class:!0});var l=O(e);i=de(l,t),a=j(l),l.forEach(m),this.h()},h(){h(e,"data-file",s[3]),ce(e,"color",s[5]%2===0?He.colors[s[0]].white:He.colors[s[0]].black),h(e,"class","svelte-t3eav4")},m(n,l){B(n,e,l),_(e,i),_(e,a)},p(n,l){l&2&&t!==(t=n[2][n[1]?Math.abs(n[5]-7):n[5]]+"")&&Vt(i,t),l&1&&ce(e,"color",n[5]%2===0?He.colors[n[0]].white:He.colors[n[0]].black)},d(n){n&&m(e)}}}function gs(s){let e,t=(s[1]?s[5]+1:Math.abs(s[5]-8))+"",i,a,n;return{c(){e=L("span"),i=ue(t),a=W(),this.h()},l(l){e=T(l,"SPAN",{"data-file":!0,style:!0,class:!0});var r=O(e);i=de(r,t),a=j(r),r.forEach(m),this.h()},h(){h(e,"data-file",s[3]),h(e,"style",n="color: "+(s[5]%2===0?He.colors[s[0]].white:He.colors[s[0]].black)+";"+(s[1]?" text-align: right;":"")),h(e,"class","svelte-t3eav4")},m(l,r){B(l,e,r),_(e,i),_(e,a)},p(l,r){r&2&&t!==(t=(l[1]?l[5]+1:Math.abs(l[5]-8))+"")&&Vt(i,t),r&3&&n!==(n="color: "+(l[5]%2===0?He.colors[l[0]].white:He.colors[l[0]].black)+";"+(l[1]?" text-align: right;":""))&&h(e,"style",n)},d(l){l&&m(e)}}}function Ci(s){let e,t,i,a=s[2],n=[];for(let o=0;o<a.length;o+=1)n[o]=hs(cs(s,a,o));let l=s[2],r=[];for(let o=0;o<l.length;o+=1)r[o]=gs(fs(s,l,o));return{c(){e=L("div");for(let o=0;o<n.length;o+=1)n[o].c();t=W(),i=L("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=T(o,"DIV",{class:!0});var u=O(e);for(let g=0;g<n.length;g+=1)n[g].l(u);u.forEach(m),t=j(o),i=T(o,"DIV",{class:!0});var f=O(i);for(let g=0;g<r.length;g+=1)r[g].l(f);f.forEach(m),this.h()},h(){h(e,"class","files noselect svelte-t3eav4"),h(i,"class","ranks noselect svelte-t3eav4")},m(o,u){B(o,e,u);for(let f=0;f<n.length;f+=1)n[f].m(e,null);B(o,t,u),B(o,i,u);for(let f=0;f<r.length;f+=1)r[f].m(i,null)},p(o,[u]){if(u&7){a=o[2];let f;for(f=0;f<a.length;f+=1){const g=cs(o,a,f);n[f]?n[f].p(g,u):(n[f]=hs(g),n[f].c(),n[f].m(e,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=a.length}if(u&7){l=o[2];let f;for(f=0;f<l.length;f+=1){const g=fs(o,l,f);r[f]?r[f].p(g,u):(r[f]=gs(g),r[f].c(),r[f].m(i,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}},i:we,o:we,d(o){o&&m(e),ft(n,o),o&&m(t),o&&m(i),ft(r,o)}}}function Pi(s,e,t){let{theme:i}=e,{flipped:a}=e;const n=["a","b","c","d","e","f","g","h"];return s.$$set=l=>{"theme"in l&&t(0,i=l.theme),"flipped"in l&&t(1,a=l.flipped)},[i,a,n]}class Li extends ke{constructor(e){super(),Se(this,e,Pi,Ci,ye,{theme:0,flipped:1})}}function Ti(s){const e=2.5949095;return(s*=2)<1?.5*(s*s*((e+1)*s-e)):.5*((s-=2)*s*((e+1)*s+e)+2)}function Oi(s){return s*s*((1.70158+1)*s-1.70158)}function Fi(s){return--s*s*((1.70158+1)*s+1.70158)+1}function zt(s){const e=.36363636363636365,t=8/11,i=9/10,a=4356/361,n=35442/1805,l=16061/1805,r=s*s;return s<e?7.5625*r:s<t?9.075*r-9.9*s+3.4:s<i?a*r-n*s+l:10.8*s*s-20.52*s+10.72}function Ii(s){return s<.5?.5*(1-zt(1-s*2)):.5*zt(s*2-1)+.5}function qi(s){return 1-zt(1-s)}function Ri(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)}function Ni(s){return 1-Math.sqrt(1-s*s)}function Di(s){return Math.sqrt(1- --s*s)}function zi(s){return s<.5?4*s*s*s:.5*Math.pow(2*s-2,3)+1}function Bi(s){return s*s*s}function ss(s){const e=s-1;return e*e*e+1}function Vi(s){return s<.5?.5*Math.sin(13*Math.PI/2*2*s)*Math.pow(2,10*(2*s-1)):.5*Math.sin(-13*Math.PI/2*(2*s-1+1))*Math.pow(2,-10*(2*s-1))+1}function Ui(s){return Math.sin(13*s*Math.PI/2)*Math.pow(2,10*(s-1))}function Hi(s){return Math.sin(-13*(s+1)*Math.PI/2)*Math.pow(2,-10*s)+1}function Wi(s){return s===0||s===1?s:s<.5?.5*Math.pow(2,20*s-10):-.5*Math.pow(2,10-s*20)+1}function ji(s){return s===0?s:Math.pow(2,10*(s-1))}function Ki(s){return s===1?s:1-Math.pow(2,-10*s)}function Gi(s){return s/=.5,s<1?.5*s*s:(s--,-.5*(s*(s-2)-1))}function Xi(s){return s*s}function Yi(s){return-s*(s-2)}function Qi(s){return s<.5?8*Math.pow(s,4):-8*Math.pow(s-1,4)+1}function Zi(s){return Math.pow(s,4)}function Ji(s){return Math.pow(s-1,3)*(1-s)+1}function xi(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)}function $i(s){return s*s*s*s*s}function ea(s){return--s*s*s*s*s+1}function ta(s){return-.5*(Math.cos(Math.PI*s)-1)}function sa(s){const e=Math.cos(s*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}function na(s){return Math.sin(s*Math.PI/2)}const Bt=Object.freeze(Object.defineProperty({__proto__:null,backIn:Oi,backInOut:Ti,backOut:Fi,bounceIn:qi,bounceInOut:Ii,bounceOut:zt,circIn:Ni,circInOut:Ri,circOut:Di,cubicIn:Bi,cubicInOut:zi,cubicOut:ss,elasticIn:Ui,elasticInOut:Vi,elasticOut:Hi,expoIn:ji,expoInOut:Wi,expoOut:Ki,quadIn:Xi,quadInOut:Gi,quadOut:Yi,quartIn:Zi,quartInOut:Qi,quartOut:Ji,quintIn:$i,quintInOut:xi,quintOut:ea,sineIn:sa,sineInOut:ta,sineOut:na,linear:dn},Symbol.toStringTag,{value:"Module"}));function bs(s){return Object.prototype.toString.call(s)==="[object Date]"}function Xt(s,e){if(s===e||s!==s)return()=>s;const t=typeof s;if(t!==typeof e||Array.isArray(s)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(s)){const i=e.map((a,n)=>Xt(s[n],a));return a=>i.map(n=>n(a))}if(t==="object"){if(!s||!e)throw new Error("Object cannot be null");if(bs(s)&&bs(e)){s=s.getTime(),e=e.getTime();const n=e-s;return l=>new Date(s+l*n)}const i=Object.keys(e),a={};return i.forEach(n=>{a[n]=Xt(s[n],e[n])}),n=>{const l={};return i.forEach(r=>{l[r]=a[r](n)}),l}}if(t==="number"){const i=e-s;return a=>s+a*i}throw new Error(`Cannot interpolate ${t} values`)}function ia(s,e={}){const t=$n(s);let i,a=s;function n(l,r){if(s==null)return t.set(s=l),Promise.resolve();a=l;let o=i,u=!1,{delay:f=0,duration:g=400,easing:b=dn,interpolate:w=Xt}=Dt(Dt({},e),r);if(g===0)return o&&(o.abort(),o=null),t.set(s=a),Promise.resolve();const C=jn()+f;let y;return i=Kn(S=>{if(S<C)return!0;u||(y=w(s,l),typeof g=="function"&&(g=g(s,l)),u=!0),o&&(o.abort(),o=null);const p=S-C;return p>g?(t.set(s=l),!1):(t.set(s=y(b(p/g))),!0)}),i.promise}return{set:n,update:(l,r)=>n(l(a,s),r),subscribe:t.subscribe}}function ps(s,e,t,i){if(e===0&&t===0)return s;const a=i?["a","b","c","d","e","f","g","h"].reverse():["a","b","c","d","e","f","g","h"],n=i?["8","7","6","5","4","3","2","1"].reverse():["8","7","6","5","4","3","2","1"],l=a[a.indexOf(s[0])+e],r=n[n.indexOf(s[1])+t];if(!(!l||!r))return l+r}function ms(s,e,t){const i=e*1.15,a=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","circle");return a.setAttribute("width",(s.offsetWidth*i).toString()),a.setAttribute("height",(s.offsetHeight*i).toString()),a.style.position="absolute",a.style.zIndex="100",a.style.translate=`${t?"":"-"}${25*i/2}% -${25*i/2}%`,a.style.opacity="0.2",n.setAttribute("r",(s.offsetWidth*i/2).toString()),n.setAttribute("cx",(s.offsetWidth*i/2).toString()),n.setAttribute("cy",(s.offsetHeight*i/2).toString()),n.setAttribute("fill","black"),a.appendChild(n),a}function aa(s,e){let t;function i(K,X=1e3){let x=!1;const Z=()=>{t==null?x=!1:(K(...t),t=null,setTimeout(Z,X))};return(...ee)=>{if(x){t=ee;return}K(...ee),x=!0,setTimeout(Z,X)}}let a,n,l,r,o,u,f,g,b=!1,w;const C=s.parentNode;let y,{startSquare:S,boardFlipped:p,onlyShow:d,duration:c,easingFunc:E}=e;const{coords:v}=e;s.style.cursor=d?"default":"pointer";let k=ls(v).x,R=ls(v).y;const F=1.6;let I=ms(s,F,p);s.draggable=!1;function q(K){const X=K.clientX-a,x=K.clientY-n;if(a=K.clientX,n=K.clientY,o+=X,u+=x,b||(Math.abs(o)>1||Math.abs(u)>1)&&(v.update(Z=>({x:Z.x+(a-s.offsetWidth/2-s.getBoundingClientRect().x)/s.clientWidth,y:K.pointerType==="touch"?Z.y-(n-s.offsetHeight*1.5-s.getBoundingClientRect().y)/s.clientWidth:Z.y-(n-s.offsetHeight/2-s.getBoundingClientRect().y)/s.clientWidth,scale:K.pointerType==="touch"?F:1}),{duration:c,easing:E}),b=!0,s.style.zIndex="30",s.style.cursor="grabbing",s.dispatchEvent(new CustomEvent("startMoving"))),!!b){if(K.pointerType==="touch"){const Z=Math.floor((o+l)/s.offsetWidth),ee=Math.floor((u+r)/s.offsetHeight),A=ps(S,Z,ee,p);if(A){if(A!==y){const D=Kt(A);I.style.left=`${D.x*12.5}%`,I.style.top=`${D.y*12.5}%`,C.appendChild(I)}}else y&&(y="")}v.update(Z=>({x:Z.x+X/s.clientWidth,y:Z.y-x/s.clientWidth,scale:K.pointerType==="touch"?F:1}),{duration:0}),s.dispatchEvent(new CustomEvent("moving",{detail:{x:a,y:n}}))}}const N=i(q,10);function $(){const K=window.scrollX-f,X=window.scrollY-g;f=window.scrollX,g=window.scrollY,v.update(x=>({x:x.x+K,y:x.y+X,scale:1}),{duration:0})}function le(){window.removeEventListener("pointermove",N),window.removeEventListener("pointerup",le),window.removeEventListener("pointercancel",le),document.body.removeEventListener("pointerleave",le),window.removeEventListener("scroll",$),t=null;const K=Math.floor((o+l)/s.offsetWidth),X=Math.floor((u+r)/s.offsetHeight),x=ps(S,K,X,p);s.dispatchEvent(new CustomEvent("dropped",{detail:x})),v.update(()=>({x:k,y:R,scale:1}),{duration:c,easing:E}).then(()=>{s.dispatchEvent(new CustomEvent("animationEnded"))}),a=0,n=0,o=0,u=0,s.style.cursor=d?"default":"pointer",b=!1,setTimeout(()=>{s.style.zIndex="1"},c),I.remove()}function re(K){if(K.preventDefault(),K.button!==0||!K.isPrimary)return;k=p?7-Gt(S[0]):Gt(S[0]),R=p?8-parseInt(S[1],10):parseInt(S[1],10)-1,y=S;const X=K.target.getBoundingClientRect();K.pointerType==="touch"?(a=K.clientX,n=K.clientY,l=K.clientX-X.x,r=K.clientY-X.y):(a=K.clientX,n=K.clientY,l=K.offsetX,r=K.offsetY),o=0,u=0,f=window.scrollX,g=window.scrollY,s.dispatchEvent(new CustomEvent("clicked")),window.addEventListener("pointermove",N),window.addEventListener("pointerup",le),window.addEventListener("pointercancel",le),document.body.addEventListener("pointerleave",le),window.addEventListener("scroll",$)}function z(K){K.preventDefault()}function me(K){K.preventDefault()}return s.addEventListener("contextmenu",z),s.addEventListener("dragstart",me),d||s.addEventListener("pointerdown",re),{destroy(){s.removeEventListener("pointerdown",re),s.removeEventListener("contextmenu",z),s.removeEventListener("dragstart",me),window.clearTimeout(w)},update(K){S=K.startSquare,c=K.duration,E=K.easingFunc,K.onlyShow!==d&&(d=K.onlyShow,d?(s.removeEventListener("pointerdown",re),s.style.cursor="default"):(s.addEventListener("pointerdown",re),s.style.cursor="pointer")),p!==K.boardFlipped&&(I=ms(s,F,K.boardFlipped)),p=K.boardFlipped}}}const vs=""+new URL("../../assets/wP-f78bae6c.svg",import.meta.url).href,la=""+new URL("../../assets/wR-5eb92d73.svg",import.meta.url).href,ra=""+new URL("../../assets/wN-a4c975a2.svg",import.meta.url).href,oa=""+new URL("../../assets/wB-1ff2f149.svg",import.meta.url).href,ua=""+new URL("../../assets/wQ-8568b485.svg",import.meta.url).href,da=""+new URL("../../assets/wK-4cdf6dc9.svg",import.meta.url).href,fa=""+new URL("../../assets/bP-84e521e8.svg",import.meta.url).href,ca=""+new URL("../../assets/bR-e39efb08.svg",import.meta.url).href,ha=""+new URL("../../assets/bN-d3912d91.svg",import.meta.url).href,ga=""+new URL("../../assets/bB-c430b746.svg",import.meta.url).href,ba=""+new URL("../../assets/bQ-c7b9a43e.svg",import.meta.url).href,pa=""+new URL("../../assets/bK-3500a2e6.svg",import.meta.url).href;function Yt(s){switch(s){case"wP":return vs;case"wR":return la;case"wN":return ra;case"wB":return oa;case"wQ":return ua;case"wK":return da;case"bP":return fa;case"bR":return ca;case"bN":return ha;case"bB":return ga;case"bQ":return ba;case"bK":return pa;default:return vs}}function ma(s){let e,t,i,a,n;return{c(){e=L("img"),this.h()},l(l){e=T(l,"IMG",{style:!0,class:!0,src:!0,alt:!0}),this.h()},h(){ce(e,"left",s[8].x*12.5+"%"),ce(e,"bottom",s[8].y*12.5+"%"),ce(e,"scale",s[8].scale),ce(e,"z-Index",s[7]),ce(e,"opacity",s[4]?.3:1),ce(e,"cursor","pointer"),h(e,"class","noselect svelte-1g241z"),bt(e.src,t=Yt(s[1]))||h(e,"src",t),h(e,"alt",s[1])},m(l,r){B(l,e,r),a||(n=[Jt(i=aa.call(null,e,{startSquare:s[0],onlyShow:!s[12](s[3]),boardFlipped:s[2],duration:s[6],easingFunc:Bt[s[5]],coords:s[10]})),J(e,"dropped",s[11]),J(e,"clicked",s[18]),J(e,"startMoving",s[19]),J(e,"animationEnded",s[20]),J(e,"moving",s[21])],a=!0)},p(l,[r]){r&256&&ce(e,"left",l[8].x*12.5+"%"),r&256&&ce(e,"bottom",l[8].y*12.5+"%"),r&256&&ce(e,"scale",l[8].scale),r&128&&ce(e,"z-Index",l[7]),r&16&&ce(e,"opacity",l[4]?.3:1),r&2&&!bt(e.src,t=Yt(l[1]))&&h(e,"src",t),r&2&&h(e,"alt",l[1]),i&&xt(i.update)&&r&109&&i.update.call(null,{startSquare:l[0],onlyShow:!l[12](l[3]),boardFlipped:l[2],duration:l[6],easingFunc:Bt[l[5]],coords:l[10]})},i:we,o:we,d(l){l&&m(e),a=!1,Qe(n)}}}function va(s,e,t){let i,a,{square:n}=e,{name:l}=e,{getGridCoordsFromSquare:r}=e,{flipped:o}=e,{legal:u}=e,{preMoves:f=!1}=e,{whiteToMove:g=!1}=e,{movableState:b}=e,{ghostPiece:w=!1}=e,{easing:C="cubicInOut"}=e,{duration:y=120}=e,{selectedPiece:S=void 0}=e,p=!1;const d=$t();let c=y;const E=ia({x:0,y:0,scale:1},{duration:c,easing:Bt[C]});Gn(s,E,z=>t(8,a=z));let v=!1;const k=z=>z[0]==="w"?ie.WHITE:ie.BLACK,R=z=>{const me=r(z);E.update(()=>({x:me.x,y:me.y,scale:1}),{duration:v?c:0,easing:Bt[C]}),v||(v=!0),c=y},F=z=>{c=0,z.detail||d("deselect"),n===z.detail?(d(p?"deselect":"select"),p=!p):p=!1,d("endDragging",n+z.detail),n!==z.detail&&z.detail&&d("move",n+z.detail)},I=z=>z.enabled?u?!!(f&&k(l)===z.color||z.color===ie.WHITE&&g&&k(l)===ie.WHITE||z.color===ie.BLACK&&!g&&k(l)===ie.BLACK||z.color===ie.BOTH&&(k(l)===ie.WHITE&&g||k(l)===ie.BLACK&&!g)):z.color===k(l)||z.color===ie.BOTH:!1,q=z=>z===void 0||z.name!==l||z.square!==n;function N(z){et.call(this,s,z)}function $(z){et.call(this,s,z)}function le(z){et.call(this,s,z)}const re=z=>{d("moving",z.detail)};return s.$$set=z=>{"square"in z&&t(0,n=z.square),"name"in z&&t(1,l=z.name),"getGridCoordsFromSquare"in z&&t(13,r=z.getGridCoordsFromSquare),"flipped"in z&&t(2,o=z.flipped),"legal"in z&&t(14,u=z.legal),"preMoves"in z&&t(15,f=z.preMoves),"whiteToMove"in z&&t(16,g=z.whiteToMove),"movableState"in z&&t(3,b=z.movableState),"ghostPiece"in z&&t(4,w=z.ghostPiece),"easing"in z&&t(5,C=z.easing),"duration"in z&&t(6,y=z.duration),"selectedPiece"in z&&t(17,S=z.selectedPiece)},s.$$.update=()=>{s.$$.dirty&131072&&q(S)&&(p=!1),s.$$.dirty&5&&R(n),s.$$.dirty&8&&t(7,i=typeof b=="boolean"?b?2:1:b.enabled?2:1)},[n,l,o,b,w,C,y,i,a,d,E,F,I,r,u,f,g,S,N,$,le,re]}class vn extends ke{constructor(e){super(),Se(this,e,va,ma,ye,{square:0,name:1,getGridCoordsFromSquare:13,flipped:2,legal:14,preMoves:15,whiteToMove:16,movableState:3,ghostPiece:4,easing:5,duration:6,selectedPiece:17})}}function _a(s){let e,t;return{c(){e=L("div"),this.h()},l(i){e=T(i,"DIV",{style:!0,class:!0}),O(e).forEach(m),this.h()},h(){ce(e,"left",s[2]*12.5+"%"),ce(e,"bottom",s[3]*12.5+"%"),h(e,"class",t="noselect "+He.squareStyles[s[1]][s[0]]+" svelte-10vytug")},m(i,a){B(i,e,a)},p(i,[a]){a&4&&ce(e,"left",i[2]*12.5+"%"),a&8&&ce(e,"bottom",i[3]*12.5+"%"),a&3&&t!==(t="noselect "+He.squareStyles[i[1]][i[0]]+" svelte-10vytug")&&h(e,"class",t)},i:we,o:we,d(i){i&&m(e)}}}function Ea(s,e,t){let{square:i}=e,{color:a}=e,{getGridCoordsFromSquare:n}=e,{flipped:l}=e,{theme:r}=e,o,u;const f=()=>{const g=n(i);t(2,o=g.x),t(3,u=g.y)};return s.$$set=g=>{"square"in g&&t(4,i=g.square),"color"in g&&t(0,a=g.color),"getGridCoordsFromSquare"in g&&t(5,n=g.getGridCoordsFromSquare),"flipped"in g&&t(6,l=g.flipped),"theme"in g&&t(1,r=g.theme)},s.$$.update=()=>{s.$$.dirty&64&&f()},[a,r,o,u,i,n,l]}class wa extends ke{constructor(e){super(),Se(this,e,Ea,_a,ye,{square:4,color:0,getGridCoordsFromSquare:5,flipped:6,theme:1})}}const Ma=["a","b","c","d","e","f","g","h"],ka=["8","7","6","5","4","3","2","1"];function Sa(s){s.querySelectorAll("[sf]").forEach(e=>e.remove())}function Qt(s){return`${Ma[s.x]}${ka[s.y]}`}function _n(s,e){return Math.abs((s.x-e.x)*(s.y-e.y))===2}function Zt(s,e){return`${Qt(s)}${Qt(e)}`}function ya(s,e){return!!(_n(s,e)||Math.abs(s.x-e.x)===Math.abs(s.y-e.y)||s.x===e.x!=(s.y===e.y))}function En(s,e,t,i,a,n){let l={x:-1,y:-1},r,o;_n(e,t)&&i?(Math.abs(t.x-e.x)===2?l={x:t.x,y:e.y}:l={x:e.x,y:t.y},l.y-e.y<0?o=Math.PI+Math.atan((l.x-e.x)/(l.y-e.y)):o=Math.atan((l.x-e.x)/Math.abs(l.y-e.y)),r={x:t.x-Math.sign(t.x-l.x)*(l.x!==t.x?.4:0),y:t.y-Math.sign(t.y-l.y)*(l.y!==t.y?.4:0)}):(t.y-e.y<0?o=Math.PI+Math.atan((t.x-e.x)/(t.y-e.y)):o=Math.atan((t.x-e.x)/Math.abs(t.y-e.y)),r={x:t.x-Math.sin(o)*.4,y:t.y-Math.cos(o)*.4});const u={x:e.x+Math.sin(o)*.4,y:e.y+Math.cos(o)*.4};s.setAttribute("points",`${u.x+.5},${u.y+.5} ${l.x!==-1&&l.y!==-1&&i?`${l.x+.5},${l.y+.5} `:""}${r.x+.5},${r.y+.5}`),s.setAttribute("data-sqID",`${Zt(e,t)}`),n!==void 0&&s.setAttribute("opacity",`${n}`),a!==void 0&&(s.setAttribute("marker-start",`url(#start-${a[0]})`),s.setAttribute("marker-end",`url(#end-${a[0]})`),s.setAttribute("stroke",a))}function Nt(s,e,t,i,a,n){if(!(e===void 0||t.x===-1&&t.y===-1)){if(e.tagName==="circle")e.setAttribute("fill","transparent"),i?e.setAttribute("stroke","red"):a?e.setAttribute("stroke","orange"):n?e.setAttribute("stroke","blue"):e.setAttribute("stroke","green"),s.querySelectorAll(`\u0441ircle[cx="${t.x+.5}"][cy="${t.y+.5}"]`).forEach(l=>{e!==void 0&&l!==e&&(l.getAttribute("stroke")===e.getAttribute("stroke")?e.setAttribute("remove",""):e.hasAttribute("remove")&&e.removeAttribute("remove"))});else if(e.tagName==="polyline"){const l=i?"red":a?"orange":n?"blue":"green";e.setAttribute("stroke",`${l}`),e.setAttribute("marker-start",`url(#start-${l[0]})`),e.setAttribute("marker-end",`url(#end-${l[0]})`),s.querySelectorAll(`polyline[data-sqID="${e.getAttribute("data-sqID")}"]`).forEach(r=>{e instanceof SVGPolylineElement&&r!==e&&(r.getAttribute("stroke")===e.getAttribute("stroke")?e.setAttribute("remove",""):e.hasAttribute("remove")&&e.removeAttribute("remove"))})}}}function wn(s,e,t,i,a){const n=document.createElementNS("http://www.w3.org/2000/svg","polyline");return En(n,s,e,t,i,a),n.setAttribute("fill","none"),n.setAttribute("stroke-width","0.25"),n.setAttribute("stroke-linejoin","round"),n.setAttribute("opacity",a!==void 0?`${a}`:"0.4"),n.setAttribute("marker-start",i?`url(#start-${i[0]})`:"url(#start-g)"),n.setAttribute("marker-end",i?`url(#end-${i[0]})`:"url(#end-g)"),n.setAttribute("stroke",i||"green"),n}function Aa(s,e,t){e.forEach(i=>{const a=wn(Kt(i.move.substring(0,2)),Kt(i.move.substring(2,4)),t,i.color,i.opacity);a.setAttribute("sf",""),s.appendChild(a)})}function _s(s){s.querySelectorAll("circle,polyline").forEach(e=>{e.hasAttribute("sf")||e.remove()})}function Ca(s,e){let{svg:t,flipped:i,enabled:a,settings:n}=e,l=!1,r={x:-1,y:-1},o,u;function f(p,d){const c=s.getBoundingClientRect(),E=i?c.width-(p-c.left):p-c.left,v=i?c.height-(d-c.top):d-c.top;return{x:Math.max(0,Math.min(7,Math.floor(E/(s.clientWidth/8)))),y:Math.max(0,Math.min(7,Math.floor(v/(s.clientHeight/8))))}}function g(p){u=document.createElementNS("http://www.w3.org/2000/svg","circle"),u.setAttribute("cx",`${p.x+.5}`),u.setAttribute("cy",`${p.y+.5}`),u.setAttribute("r","0.465"),u.setAttribute("opacity","0.4"),u.setAttribute("fill","none"),u.setAttribute("stroke-width","0.07"),u.setAttribute("stroke","green")}function b(p){if(u===void 0||r.x===-1&&r.y===-1)return;const d=f(p.clientX,p.clientY);n.onlyChessMove&&!ya(r,d)||(o=void 0,u.hasAttribute("remove")&&u.removeAttribute("remove"),r.x===d.x&&r.y===d.y?(Zt(r,d),u instanceof SVGPolylineElement&&(u.remove(),g(d)),Nt(t,u,r,p.shiftKey,p.ctrlKey,p.altKey),t.appendChild(u),t.querySelectorAll(`circle[cx="${r.x+.5}"][cy="${r.y+.5}"]`).forEach(c=>{c!==u&&(o=c,u!==void 0&&c.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))})):(u instanceof SVGCircleElement&&u.remove(),o=void 0,t.querySelectorAll(`polyline[data-sqID="${Zt(r,d)}"]`).forEach(c=>{u===void 0||r.x===-1&&r.y===-1||c===u||(o=c,c.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))}),u instanceof SVGCircleElement?(u=wn(r,d,n.knightLShape),Nt(t,u,r,p.shiftKey,p.ctrlKey,p.altKey),t.appendChild(u)):u instanceof SVGPolylineElement&&En(u,r,d,n.knightLShape)))}function w(p){p.preventDefault()}function C(p){p.preventDefault(),Nt(t,u,r,p.shiftKey,p.ctrlKey,p.altKey)}function y(p){if(p.button===0)l=!1;else if(p.button===2){if(r.x===-1&&r.y===-1)return;t.querySelectorAll("[remove]").forEach(d=>{d.remove()}),o&&o.remove(),o=void 0,(u==null?void 0:u.tagName)==="circle"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawCircle",{detail:{square:Qt(r),color:u.getAttribute("stroke")}})),(u==null?void 0:u.tagName)==="polyline"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawArrow",{detail:{move:u.getAttribute("data-sqID"),color:u.getAttribute("stroke")}})),u=void 0,r={x:-1,y:-1},l=!1,window.removeEventListener("mousemove",b),window.removeEventListener("keydown",C),window.removeEventListener("keyup",C),window.removeEventListener("contextmenu",w)}window.removeEventListener("mouseup",y)}function S(p){if(p.button===0)l=!0,_s(t),window.addEventListener("mouseup",y);else if(p.button===2&&!l){const d=f(p.clientX,p.clientY);r=d,g(d),Nt(t,u,r,p.shiftKey,p.ctrlKey,p.altKey),o=void 0,t.querySelectorAll(`circle[cx="${d.x+.5}"][cy="${d.y+.5}"]`).forEach(c=>{o=c,u!==void 0&&c.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove","")}),u&&t.appendChild(u),window.addEventListener("mousemove",b),window.addEventListener("mouseup",y),window.addEventListener("keydown",C),window.addEventListener("keyup",C),window.addEventListener("contextmenu",w)}}return a&&s.addEventListener("mousedown",S),{update(p){p.svg!==t&&(t=p.svg),p.enabled!==a&&(a=p.enabled,a?s.addEventListener("mousedown",S):(_s(t),s.removeEventListener("mousedown",S))),n=p.settings,i=p.flipped}}}function Es(s,e,t){const i=s.slice();return i[8]=e[t],i}function ws(s){let e,t,i,a;return{c(){e=Fe("marker"),t=Fe("path"),i=Fe("marker"),a=Fe("path"),this.h()},l(n){e=Ie(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var l=O(e);t=Ie(l,"path",{fill:!0,d:!0}),O(t).forEach(m),l.forEach(m),i=Ie(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,orient:!0,fill:!0});var r=O(i);a=Ie(r,"path",{fill:!0,d:!0}),O(a).forEach(m),r.forEach(m),this.h()},h(){h(t,"fill",s[8]),h(t,"d","M 5 0 Q 0 0 0 5 L 0 15 Q 0 20 5 20 Z"),h(e,"id","start-"+s[8][0]),h(e,"viewBox","0 0 5 20"),h(e,"refX","4"),h(e,"refY","10"),h(e,"markerUnits","strokeWidth"),h(e,"markerWidth","0.5"),h(e,"markerHeight","1"),h(e,"orient","auto"),h(a,"fill",s[8]),h(a,"d","M 0 4 L 10 10 L 0 16 Z"),h(i,"id","end-"+s[8][0]),h(i,"viewBox","0 0 10 20"),h(i,"refX","0.2"),h(i,"refY","10"),h(i,"markerUnits","strokeWidth"),h(i,"orient","auto"),h(i,"fill","currentColor")},m(n,l){B(n,e,l),_(e,t),B(n,i,l),_(i,a)},p:we,d(n){n&&m(e),n&&m(i)}}}function Pa(s){let e,t,i,a=s[2],n=[];for(let l=0;l<a.length;l+=1)n[l]=ws(Es(s,a,l));return{c(){e=Fe("svg"),t=Fe("defs");for(let l=0;l<n.length;l+=1)n[l].c();i=Fe("g"),this.h()},l(l){e=Ie(l,"svg",{xmlns:!0,style:!0,viewBox:!0,class:!0});var r=O(e);t=Ie(r,"defs",{});var o=O(t);for(let u=0;u<n.length;u+=1)n[u].l(o);o.forEach(m),i=Ie(r,"g",{}),O(i).forEach(m),r.forEach(m),this.h()},h(){h(e,"xmlns","http://www.w3.org/2000/svg"),ce(e,"transform","rotate("+(s[1]?"180deg":"0deg")+")"),h(e,"viewBox","0 0 8 8"),h(e,"class","svelte-19gv2n4")},m(l,r){B(l,e,r),_(e,t);for(let o=0;o<n.length;o+=1)n[o].m(t,null);_(e,i),s[5](i)},p(l,[r]){if(r&4){a=l[2];let o;for(o=0;o<a.length;o+=1){const u=Es(l,a,o);n[o]?n[o].p(u,r):(n[o]=ws(u),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=a.length}r&2&&ce(e,"transform","rotate("+(l[1]?"180deg":"0deg")+")")},i:we,o:we,d(l){l&&m(e),ft(n,l),s[5](null)}}}function La(s,e,t){let{flipped:i=!1}=e,{svg:a}=e,{knightLShape:n=!1}=e,{computerArrows:l=[]}=e,r=!1;function o(g){!r||(Sa(a),Aa(a,g,n))}es(()=>{r=!0,o(l)});const u=["green","red","blue","orange"];function f(g){Q[g?"unshift":"push"](()=>{a=g,t(0,a)})}return s.$$set=g=>{"flipped"in g&&t(1,i=g.flipped),"svg"in g&&t(0,a=g.svg),"knightLShape"in g&&t(3,n=g.knightLShape),"computerArrows"in g&&t(4,l=g.computerArrows)},s.$$.update=()=>{s.$$.dirty&16&&o(l)},[a,i,u,n,l,f]}class Ta extends ke{constructor(e){super(),Se(this,e,La,Pa,ye,{flipped:1,svg:0,knightLShape:3,computerArrows:4})}}function Ms(s,{delay:e=0,duration:t=400,easing:i=ss,x:a=0,y:n=0,opacity:l=0}={}){const r=getComputedStyle(s),o=+r.opacity,u=r.transform==="none"?"":r.transform,f=o*(1-l);return{delay:e,duration:t,easing:i,css:(g,b)=>`
			transform: ${u} translate(${(1-g)*a}px, ${(1-g)*n}px);
			opacity: ${o-f*b}`}}function ht(s,{delay:e=0,duration:t=400,easing:i=ss}={}){const a=getComputedStyle(s),n=+a.opacity,l=parseFloat(a.height),r=parseFloat(a.paddingTop),o=parseFloat(a.paddingBottom),u=parseFloat(a.marginTop),f=parseFloat(a.marginBottom),g=parseFloat(a.borderTopWidth),b=parseFloat(a.borderBottomWidth);return{delay:e,duration:t,easing:i,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*n};height: ${w*l}px;padding-top: ${w*r}px;padding-bottom: ${w*o}px;margin-top: ${w*u}px;margin-bottom: ${w*f}px;border-top-width: ${w*g}px;border-bottom-width: ${w*b}px;`}}function Oa(s){let e,t,i,a,n,l;return{c(){e=L("button"),t=L("img"),this.h()},l(r){e=T(r,"BUTTON",{});var o=O(e);t=T(o,"IMG",{src:!0,alt:!0,class:!0}),o.forEach(m),this.h()},h(){bt(t.src,i=s[1])||h(t,"src",i),h(t,"alt",a="Promotion to "+s[0].toUpperCase()),h(t,"class","svelte-17pqsbb")},m(r,o){B(r,e,o),_(e,t),n||(l=J(e,"click",s[2]),n=!0)},p(r,[o]){o&1&&a!==(a="Promotion to "+r[0].toUpperCase())&&h(t,"alt",a)},i:we,o:we,d(r){r&&m(e),n=!1,l()}}}function Fa(s,e,t){let{piece:i}=e,{isWhite:a}=e,{showModal:n}=e;const l=$t(),r=(a?"w":"b")+i.toUpperCase(),o=Yt(r),u=()=>{l("newPromotion",i),t(3,n=!1)};return s.$$set=f=>{"piece"in f&&t(0,i=f.piece),"isWhite"in f&&t(4,a=f.isWhite),"showModal"in f&&t(3,n=f.showModal)},[i,o,u,n,a]}class Ia extends ke{constructor(e){super(),Se(this,e,Fa,Oa,ye,{piece:0,isWhite:4,showModal:3})}}function ks(s,e,t){const i=s.slice();return i[6]=e[t],i}function Ss(s){let e,t,i,a,n,l=["q","r","b","n"],r=[];for(let u=0;u<4;u+=1)r[u]=ys(ks(s,l,u));const o=u=>G(r[u],1,1,()=>{r[u]=null});return{c(){e=L("div"),t=L("div");for(let u=0;u<4;u+=1)r[u].c();this.h()},l(u){e=T(u,"DIV",{class:!0});var f=O(e);t=T(f,"DIV",{class:!0});var g=O(t);for(let b=0;b<4;b+=1)r[b].l(g);g.forEach(m),f.forEach(m),this.h()},h(){h(t,"class","modal-content svelte-it5mr1"),h(e,"class","modal svelte-it5mr1")},m(u,f){B(u,e,f),_(e,t);for(let g=0;g<4;g+=1)r[g].m(t,null);n=!0},p(u,f){if(f&3){l=["q","r","b","n"];let g;for(g=0;g<4;g+=1){const b=ks(u,l,g);r[g]?(r[g].p(b,f),H(r[g],1)):(r[g]=ys(b),r[g].c(),H(r[g],1),r[g].m(t,null))}for(Te(),g=4;g<4;g+=1)o(g);Oe()}},i(u){if(!n){for(let f=0;f<4;f+=1)H(r[f]);tt(()=>{a&&a.end(1),i=Xn(t,Ms,{x:100,duration:300}),i.start()}),n=!0}},o(u){r=r.filter(Boolean);for(let f=0;f<4;f+=1)G(r[f]);i&&i.invalidate(),a=Yn(t,Ms,{x:-200,duration:100}),n=!1},d(u){u&&m(e),ft(r,u),u&&a&&a.end()}}}function ys(s){let e,t,i,a;function n(o){s[3](o)}function l(o){s[4](o)}let r={piece:s[6]};return s[1]!==void 0&&(r.isWhite=s[1]),s[0]!==void 0&&(r.showModal=s[0]),e=new Ia({props:r}),Q.push(()=>se(e,"isWhite",n)),Q.push(()=>se(e,"showModal",l)),e.$on("newPromotion",s[5]),{c(){he(e.$$.fragment)},l(o){ge(e.$$.fragment,o)},m(o,u){be(e,o,u),a=!0},p(o,u){const f={};!t&&u&2&&(t=!0,f.isWhite=o[1],ne(()=>t=!1)),!i&&u&1&&(i=!0,f.showModal=o[0],ne(()=>i=!1)),e.$set(f)},i(o){a||(H(e.$$.fragment,o),a=!0)},o(o){G(e.$$.fragment,o),a=!1},d(o){pe(e,o)}}}function qa(s){let e,t,i=s[0]&&Ss(s);return{c(){i&&i.c(),e=_e()},l(a){i&&i.l(a),e=_e()},m(a,n){i&&i.m(a,n),B(a,e,n),t=!0},p(a,[n]){a[0]?i?(i.p(a,n),n&1&&H(i,1)):(i=Ss(a),i.c(),H(i,1),i.m(e.parentNode,e)):i&&(Te(),G(i,1,1,()=>{i=null}),Oe())},i(a){t||(H(i),t=!0)},o(a){G(i),t=!1},d(a){i&&i.d(a),a&&m(e)}}}function Ra(s,e,t){let i=!1,a;function n(u){t(0,i=!0),u?t(1,a=!0):t(1,a=!1)}function l(u){a=u,t(1,a)}function r(u){i=u,t(0,i)}function o(u){et.call(this,s,u)}return[i,a,n,l,r,o]}class Na extends ke{constructor(e){super(),Se(this,e,Ra,qa,ye,{openPromotionModal:2})}get openPromotionModal(){return this.$$.ctx[2]}}const Da=""+new URL("../../assets/move-e4d827fe.wav",import.meta.url).href,za=""+new URL("../../assets/capture-3dff493a.wav",import.meta.url).href,Ba=""+new URL("../../assets/castle-dcf4b2c5.wav",import.meta.url).href,Va=""+new URL("../../assets/undo-b4184324.mp3",import.meta.url).href;function As(s){let e,t,i,a;return{c(){e=L("audio"),t=L("track"),i=L("source"),this.h()},l(n){e=T(n,"AUDIO",{preload:!0});var l=O(e);t=T(l,"TRACK",{kind:!0}),i=T(l,"SOURCE",{src:!0}),l.forEach(m),this.h()},h(){h(t,"kind","captions"),bt(i.src,a=Da)||h(i,"src",a),h(e,"preload","auto")},m(n,l){B(n,e,l),_(e,t),_(e,i),s[3](e)},p:we,d(n){n&&m(e),s[3](null)}}}function Cs(s){let e,t,i,a;return{c(){e=L("audio"),t=L("track"),i=L("source"),this.h()},l(n){e=T(n,"AUDIO",{preload:!0});var l=O(e);t=T(l,"TRACK",{kind:!0}),i=T(l,"SOURCE",{src:!0}),l.forEach(m),this.h()},h(){h(t,"kind","captions"),bt(i.src,a=za)||h(i,"src",a),h(e,"preload","auto")},m(n,l){B(n,e,l),_(e,t),_(e,i),s[4](e)},p:we,d(n){n&&m(e),s[4](null)}}}function Ps(s){let e,t,i,a;return{c(){e=L("audio"),t=L("track"),i=L("source"),this.h()},l(n){e=T(n,"AUDIO",{preload:!0});var l=O(e);t=T(l,"TRACK",{kind:!0}),i=T(l,"SOURCE",{src:!0}),l.forEach(m),this.h()},h(){h(t,"kind","captions"),bt(i.src,a=Ba)||h(i,"src",a),h(e,"preload","auto")},m(n,l){B(n,e,l),_(e,t),_(e,i),s[5](e)},p:we,d(n){n&&m(e),s[5](null)}}}function Ls(s){let e,t,i,a;return{c(){e=L("audio"),t=L("track"),i=L("source"),this.h()},l(n){e=T(n,"AUDIO",{preload:!0});var l=O(e);t=T(l,"TRACK",{kind:!0}),i=T(l,"SOURCE",{src:!0}),l.forEach(m),this.h()},h(){h(t,"kind","captions"),bt(i.src,a=Va)||h(i,"src",a),h(e,"preload","auto")},m(n,l){B(n,e,l),_(e,t),_(e,i),s[6](e)},p:we,d(n){n&&m(e),s[6](null)}}}function Ua(s){let e,t,i,a,n=s[0].MOVE&&As(s),l=s[0].CAPTURE&&Cs(s),r=s[0].CASTLE&&Ps(s),o=s[0].UNDO&&Ls(s);return{c(){n&&n.c(),e=W(),l&&l.c(),t=W(),r&&r.c(),i=W(),o&&o.c(),a=_e()},l(u){n&&n.l(u),e=j(u),l&&l.l(u),t=j(u),r&&r.l(u),i=j(u),o&&o.l(u),a=_e()},m(u,f){n&&n.m(u,f),B(u,e,f),l&&l.m(u,f),B(u,t,f),r&&r.m(u,f),B(u,i,f),o&&o.m(u,f),B(u,a,f)},p(u,[f]){u[0].MOVE?n?n.p(u,f):(n=As(u),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),u[0].CAPTURE?l?l.p(u,f):(l=Cs(u),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),u[0].CASTLE?r?r.p(u,f):(r=Ps(u),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null),u[0].UNDO?o?o.p(u,f):(o=Ls(u),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},i:we,o:we,d(u){n&&n.d(u),u&&m(e),l&&l.d(u),u&&m(t),r&&r.d(u),u&&m(i),o&&o.d(u),u&&m(a)}}}function Ha(s,e,t){let{settings:i}=e;const a={MOVE:void 0,CAPTURE:void 0,CASTLE:void 0,UNDO:void 0},n=()=>{a.CASTLE&&(a.CASTLE.pause(),t(1,a.CASTLE.currentTime=0,a)),a.MOVE&&(a.MOVE.pause(),t(1,a.MOVE.currentTime=0,a)),a.CAPTURE&&(a.CAPTURE.pause(),t(1,a.CAPTURE.currentTime=0,a)),a.UNDO&&(a.UNDO.pause(),t(1,a.UNDO.currentTime=0,a))},l=b=>b===void 0||i[b];function r(b){switch(n(),b){case"MOVE":a.MOVE&&l("MOVE")&&a.MOVE.play();break;case"CAPTURE":a.CAPTURE&&l("CAPTURE")?a.CAPTURE.play():a.MOVE&&l("MOVE")&&a.MOVE.play();break;case"CASTLE":a.CASTLE&&l("CASTLE")?a.CASTLE.play():a.MOVE&&l("MOVE")&&a.MOVE.play();break;case"UNDO":a.UNDO&&l("UNDO")?(t(1,a.UNDO.volume=.3,a),a.UNDO.play()):a.MOVE&&l("MOVE")&&a.MOVE.play();break}}function o(b){Q[b?"unshift":"push"](()=>{a.MOVE=b,t(1,a)})}function u(b){Q[b?"unshift":"push"](()=>{a.CAPTURE=b,t(1,a)})}function f(b){Q[b?"unshift":"push"](()=>{a.CASTLE=b,t(1,a)})}function g(b){Q[b?"unshift":"push"](()=>{a.UNDO=b,t(1,a)})}return s.$$set=b=>{"settings"in b&&t(0,i=b.settings)},[i,a,r,o,u,f,g]}class Wa extends ke{constructor(e){super(),Se(this,e,Ha,Ua,ye,{settings:0,playMoveSound:2})}get playMoveSound(){return this.$$.ctx[2]}}const Ts=""+new URL("../../assets/standard-97995bf9.svg",import.meta.url).href,Os=""+new URL("../../assets/darkBlue-02863507.svg",import.meta.url).href;function ja(s,e){const{minWidth:t,maxWidth:i,curWidth:a}=e;let n=a,l,r,o,u;function f(w){w.stopPropagation(),s.dispatchEvent(new CustomEvent("resizing",{detail:{size:Math.max(Math.max(t,Math.min(i,o+(w.pageX-l))),Math.max(t,Math.min(i,u+(w.pageY-r))))}}))}function g(w){w.stopPropagation(),s.dispatchEvent(new CustomEvent("endResizing",{detail:{size:Math.max(Math.max(t,Math.min(i,o+Math.floor((w.pageX-l)/8)*8)),Math.max(t,Math.min(i,u+Math.floor((w.pageY-r)/8)*8)))}})),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",g)}function b(w){w.stopPropagation(),w.button===0&&(l=w.pageX,o=n,r=w.pageY,u=n,window.addEventListener("mousemove",f),window.addEventListener("mouseup",g))}return s.addEventListener("mousedown",b),{update(w){n=w.curWidth},destroy(){s.removeEventListener("mousedown",b)}}}function Ka(s){let e,t,i,a,n,l;return{c(){e=L("div"),t=Fe("svg"),i=Fe("path"),this.h()},l(r){e=T(r,"DIV",{style:!0,class:!0});var o=O(e);t=Ie(o,"svg",{xmlns:!0,viewBox:!0,fill:!0});var u=O(t);i=Ie(u,"path",{d:!0}),O(i).forEach(m),u.forEach(m),o.forEach(m),this.h()},h(){h(i,"d","M 5 1 Q 6 0 6 2 L 6 4 Q 6 6 4 6 L 2 6 Q 0 6 1 5 Z"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"viewBox","0 0 16 16"),h(t,"fill","currentColor"),ce(e,"color",He.colors[s[0].state.board.boardTheme].black),h(e,"class","svelte-mmuauc")},m(r,o){B(r,e,o),_(e,t),_(t,i),n||(l=[J(e,"pointerdown",fn(s[2])),Jt(a=ja.call(null,e,{minWidth:s[0].state.board.resizible.min,maxWidth:s[0].state.board.resizible.max,curWidth:s[0].state.board.size})),J(e,"resizing",s[3]),J(e,"endResizing",s[4])],n=!0)},p(r,[o]){o&1&&ce(e,"color",He.colors[r[0].state.board.boardTheme].black),a&&xt(a.update)&&o&1&&a.update.call(null,{minWidth:r[0].state.board.resizible.min,maxWidth:r[0].state.board.resizible.max,curWidth:r[0].state.board.size})},i:we,o:we,d(r){r&&m(e),n=!1,Qe(l)}}}function Ga(s,e,t){let{chessboard:i}=e,{setSize:a}=e;function n(o){et.call(this,s,o)}const l=o=>a(o.detail.size),r=o=>a(o.detail.size);return s.$$set=o=>{"chessboard"in o&&t(0,i=o.chessboard),"setSize"in o&&t(1,a=o.setSize)},[i,a,n,l,r]}class Xa extends ke{constructor(e){super(),Se(this,e,Ga,Ka,ye,{chessboard:0,setSize:1})}}function Fs(s,e,t){const i=s.slice();return i[72]=e[t],i}function Is(s,e,t){const i=s.slice();return i[75]=e[t],i}function qs(s){let e=[],t=new Map,i,a,n=s[5].state.pieces;const l=r=>r[75];for(let r=0;r<n.length;r+=1){let o=Is(s,n,r),u=l(o);t.set(u,e[r]=Rs(u,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=_e()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);i=_e()},m(r,o){for(let u=0;u<e.length;u+=1)e[u].m(r,o);B(r,i,o),a=!0},p(r,o){o[0]&247852&&(n=r[5].state.pieces,Te(),e=cn(e,o,l,1,r,n,t,i.parentNode,hn,Rs,i,Is),Oe())},i(r){if(!a){for(let o=0;o<n.length;o+=1)H(e[o]);a=!0}},o(r){for(let o=0;o<e.length;o+=1)G(e[o]);a=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&m(i)}}}function Rs(s,e){let t,i,a;function n(){return e[51](e[75])}function l(){return e[52](e[75])}function r(){return e[54](e[75])}return i=new vn({props:{square:e[75].square,name:e[75].name,duration:e[5].state.draggable.transition.settings.duration,easing:e[5].state.draggable.transition.settings.easing,legal:e[5].state.legal.enabled,preMoves:e[5].state.legal.preMoves.enabled,selectedPiece:e[5].state.selectable.selectedPiece,whiteToMove:e[5].state.legal.whiteToMove,movableState:e[5].state.movable,getGridCoordsFromSquare:e[5].getGridCoordsFromSquare,flipped:e[5].state.board.flipped}}),i.$on("move",e[14]),i.$on("clicked",n),i.$on("startMoving",l),i.$on("moving",e[15]),i.$on("endDragging",e[53]),i.$on("select",r),i.$on("deselect",e[55]),i.$on("animationEnded",e[16]),{key:s,first:null,c(){t=_e(),he(i.$$.fragment),this.h()},l(o){t=_e(),ge(i.$$.fragment,o),this.h()},h(){this.first=t},m(o,u){B(o,t,u),be(i,o,u),a=!0},p(o,u){e=o;const f={};u[0]&32&&(f.square=e[75].square),u[0]&32&&(f.name=e[75].name),u[0]&32&&(f.duration=e[5].state.draggable.transition.settings.duration),u[0]&32&&(f.easing=e[5].state.draggable.transition.settings.easing),u[0]&32&&(f.legal=e[5].state.legal.enabled),u[0]&32&&(f.preMoves=e[5].state.legal.preMoves.enabled),u[0]&32&&(f.selectedPiece=e[5].state.selectable.selectedPiece),u[0]&32&&(f.whiteToMove=e[5].state.legal.whiteToMove),u[0]&32&&(f.movableState=e[5].state.movable),u[0]&32&&(f.getGridCoordsFromSquare=e[5].getGridCoordsFromSquare),u[0]&32&&(f.flipped=e[5].state.board.flipped),i.$set(f)},i(o){a||(H(i.$$.fragment,o),a=!0)},o(o){G(i.$$.fragment,o),a=!1},d(o){o&&m(t),pe(i,o)}}}function Ns(s){let e,t;return e=new vn({props:{ghostPiece:!0,duration:0,legal:s[5].state.legal.enabled,square:s[5].state.draggable.ghostPiece.piece.square,name:s[5].state.draggable.ghostPiece.piece.name,movableState:new pn(!1),getGridCoordsFromSquare:s[5].getGridCoordsFromSquare,flipped:s[5].state.board.flipped}}),{c(){he(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,a){be(e,i,a),t=!0},p(i,a){const n={};a[0]&32&&(n.legal=i[5].state.legal.enabled),a[0]&32&&(n.square=i[5].state.draggable.ghostPiece.piece.square),a[0]&32&&(n.name=i[5].state.draggable.ghostPiece.piece.name),a[0]&32&&(n.getGridCoordsFromSquare=i[5].getGridCoordsFromSquare),a[0]&32&&(n.flipped=i[5].state.board.flipped),e.$set(n)},i(i){t||(H(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function Ya(s){let e=[],t=new Map,i,a,n=[...s[5].state.markedSquares];const l=r=>r[72];for(let r=0;r<n.length;r+=1){let o=Fs(s,n,r),u=l(o);t.set(u,e[r]=Ds(u,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=_e()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);i=_e()},m(r,o){for(let u=0;u<e.length;u+=1)e[u].m(r,o);B(r,i,o),a=!0},p(r,o){o[0]&34&&(n=[...r[5].state.markedSquares],Te(),e=cn(e,o,l,1,r,n,t,i.parentNode,hn,Ds,i,Fs),Oe())},i(r){if(!a){for(let o=0;o<n.length;o+=1)H(e[o]);a=!0}},o(r){for(let o=0;o<e.length;o+=1)G(e[o]);a=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&m(i)}}}function Ds(s,e){let t,i,a;return i=new wa({props:{theme:e[5].state.board.boardTheme,square:e[72].square,color:e[72].color,getGridCoordsFromSquare:e[5].getGridCoordsFromSquare,flipped:e[5].state.board.flipped}}),i.$on("dragenter",e[56]),{key:s,first:null,c(){t=_e(),he(i.$$.fragment),this.h()},l(n){t=_e(),ge(i.$$.fragment,n),this.h()},h(){this.first=t},m(n,l){B(n,t,l),be(i,n,l),a=!0},p(n,l){e=n;const r={};l[0]&32&&(r.theme=e[5].state.board.boardTheme),l[0]&32&&(r.square=e[72].square),l[0]&32&&(r.color=e[72].color),l[0]&32&&(r.getGridCoordsFromSquare=e[5].getGridCoordsFromSquare),l[0]&32&&(r.flipped=e[5].state.board.flipped),i.$set(r)},i(n){a||(H(i.$$.fragment,n),a=!0)},o(n){G(i.$$.fragment,n),a=!1},d(n){n&&m(t),pe(i,n)}}}function zs(s){let e,t;return e=new Li({props:{theme:s[5].state.board.boardTheme,flipped:s[5].state.board.flipped}}),{c(){he(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,a){be(e,i,a),t=!0},p(i,a){const n={};a[0]&32&&(n.theme=i[5].state.board.boardTheme),a[0]&32&&(n.flipped=i[5].state.board.flipped),e.$set(n)},i(i){t||(H(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function Bs(s){let e,t;return e=new Xa({props:{chessboard:s[5],setSize:s[4]}}),{c(){he(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,a){be(e,i,a),t=!0},p(i,a){const n={};a[0]&32&&(n.chessboard=i[5]),e.$set(n)},i(i){t||(H(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function Vs(s){let e,t,i;function a(l){s[57](l)}let n={flipped:s[5].state.board.flipped,computerArrows:s[10],knightLShape:s[5].state.drawTools.settings.knightLShape};return s[7]!==void 0&&(n.svg=s[7]),e=new Ta({props:n}),Q.push(()=>se(e,"svg",a)),{c(){he(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,r){be(e,l,r),i=!0},p(l,r){const o={};r[0]&32&&(o.flipped=l[5].state.board.flipped),r[0]&1024&&(o.computerArrows=l[10]),r[0]&32&&(o.knightLShape=l[5].state.drawTools.settings.knightLShape),!t&&r[0]&128&&(t=!0,o.svg=l[7],ne(()=>t=!1)),e.$set(o)},i(l){i||(H(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){pe(e,l)}}}function Us(s){let e,t,i={};return e=new Na({props:i}),s[58](e),e.$on("newPromotion",s[18]),{c(){he(e.$$.fragment)},l(a){ge(e.$$.fragment,a)},m(a,n){be(e,a,n),t=!0},p(a,n){const l={};e.$set(l)},i(a){t||(H(e.$$.fragment,a),t=!0)},o(a){G(e.$$.fragment,a),t=!1},d(a){s[58](null),pe(e,a)}}}function Hs(s){let e,t,i={settings:s[5].state.sounds.settings};return e=new Wa({props:i}),s[63](e),{c(){he(e.$$.fragment)},l(a){ge(e.$$.fragment,a)},m(a,n){be(e,a,n),t=!0},p(a,n){const l={};n[0]&32&&(l.settings=a[5].state.sounds.settings),e.$set(l)},i(a){t||(H(e.$$.fragment,a),t=!0)},o(a){G(e.$$.fragment,a),t=!1},d(a){s[63](null),pe(e,a)}}}function Qa(s){let e,t,i,a,n=s[12](),l,r,o,u,f,g,b,w,C,y,S,p,d=s[5].state.board.startFen&&qs(s),c=s[5].state.draggable.ghostPiece.enabled&&s[5].state.draggable.ghostPiece.piece!==void 0&&Ns(s),E=n&&Ya(s),v=s[5].state.board.notation&&zs(s),k=s[5].state.board.resizible.enabled&&Bs(s),R=s[5].state.drawTools.enabled&&Vs(s),F=s[5].state.legal.enabled&&Us(s),I=s[5].state.sounds.enabled&&Hs(s);return{c(){e=L("div"),t=L("div"),d&&d.c(),i=W(),c&&c.c(),a=W(),E&&E.c(),l=W(),v&&v.c(),r=W(),k&&k.c(),o=W(),R&&R.c(),u=W(),F&&F.c(),w=W(),I&&I.c(),C=_e(),this.h()},l(q){e=T(q,"DIV",{class:!0,style:!0});var N=O(e);t=T(N,"DIV",{style:!0,class:!0});var $=O(t);d&&d.l($),$.forEach(m),i=j(N),c&&c.l(N),a=j(N),E&&E.l(N),l=j(N),v&&v.l(N),r=j(N),k&&k.l(N),o=j(N),R&&R.l(N),u=j(N),F&&F.l(N),N.forEach(m),w=j(q),I&&I.l(q),C=_e(),this.h()},h(){ce(t,"width","100%"),ce(t,"height","100%"),h(t,"class","noselect"),h(e,"class",f="noselect board "+(s[5].state.board.style.shadow?"shadow":"")+" text-sm "+s[0]+" svelte-1bsiysh"),ce(e,"--boardTheme","url("+(s[5].state.board.boardTheme==="standard"?Ts:Os)+")"),ce(e,"border-radius",s[5].state.board.style.borderRadius),tt(()=>s[62].call(e))},m(q,N){B(q,e,N),_(e,t),d&&d.m(t,null),_(e,i),c&&c.m(e,null),_(e,a),E&&E.m(e,null),_(e,l),v&&v.m(e,null),_(e,r),k&&k.m(e,null),_(e,o),R&&R.m(e,null),_(e,u),F&&F.m(e,null),s[61](e),b=Qn(e,s[62].bind(e)),B(q,w,N),I&&I.m(q,N),B(q,C,N),y=!0,S||(p=[J(e,"pointerdown",s[13]),J(e,"contextmenu",rs(s[49])),J(e,"drag",rs(s[50])),Jt(g=Ca.call(null,e,{svg:s[7],flipped:s[5].state.board.flipped,enabled:s[5].state.drawTools.enabled,settings:s[5].state.drawTools.settings})),J(e,"drawCircle",s[59]),J(e,"drawArrow",s[60])],S=!0)},p(q,N){q[5].state.board.startFen?d?(d.p(q,N),N[0]&32&&H(d,1)):(d=qs(q),d.c(),H(d,1),d.m(t,null)):d&&(Te(),G(d,1,1,()=>{d=null}),Oe()),q[5].state.draggable.ghostPiece.enabled&&q[5].state.draggable.ghostPiece.piece!==void 0?c?(c.p(q,N),N[0]&32&&H(c,1)):(c=Ns(q),c.c(),H(c,1),c.m(e,a)):c&&(Te(),G(c,1,1,()=>{c=null}),Oe()),n&&E.p(q,N),q[5].state.board.notation?v?(v.p(q,N),N[0]&32&&H(v,1)):(v=zs(q),v.c(),H(v,1),v.m(e,r)):v&&(Te(),G(v,1,1,()=>{v=null}),Oe()),q[5].state.board.resizible.enabled?k?(k.p(q,N),N[0]&32&&H(k,1)):(k=Bs(q),k.c(),H(k,1),k.m(e,o)):k&&(Te(),G(k,1,1,()=>{k=null}),Oe()),q[5].state.drawTools.enabled?R?(R.p(q,N),N[0]&32&&H(R,1)):(R=Vs(q),R.c(),H(R,1),R.m(e,u)):R&&(Te(),G(R,1,1,()=>{R=null}),Oe()),q[5].state.legal.enabled?F?(F.p(q,N),N[0]&32&&H(F,1)):(F=Us(q),F.c(),H(F,1),F.m(e,null)):F&&(Te(),G(F,1,1,()=>{F=null}),Oe()),(!y||N[0]&33&&f!==(f="noselect board "+(q[5].state.board.style.shadow?"shadow":"")+" text-sm "+q[0]+" svelte-1bsiysh"))&&h(e,"class",f),(!y||N[0]&32)&&ce(e,"--boardTheme","url("+(q[5].state.board.boardTheme==="standard"?Ts:Os)+")"),(!y||N[0]&32)&&ce(e,"border-radius",q[5].state.board.style.borderRadius),g&&xt(g.update)&&N[0]&160&&g.update.call(null,{svg:q[7],flipped:q[5].state.board.flipped,enabled:q[5].state.drawTools.enabled,settings:q[5].state.drawTools.settings}),q[5].state.sounds.enabled?I?(I.p(q,N),N[0]&32&&H(I,1)):(I=Hs(q),I.c(),H(I,1),I.m(C.parentNode,C)):I&&(Te(),G(I,1,1,()=>{I=null}),Oe())},i(q){y||(H(d),H(c),H(E),H(v),H(k),H(R),H(F),H(I),y=!0)},o(q){G(d),G(c),G(E),G(v),G(k),G(R),G(F),G(I),y=!1},d(q){q&&m(e),d&&d.d(),c&&c.d(),E&&E.d(),v&&v.d(),k&&k.d(),R&&R.d(),F&&F.d(),s[61](null),b(),q&&m(w),I&&I.d(q),q&&m(C),S=!1,Qe(p)}}}function Za(s,e,t){let{config:i}=e,{className:a=""}=e;const n=new Ei(i),l=$t();let r,o,u,f,g="";Zn(()=>{document.documentElement.hasAttribute("style")&&n.state.board.resizible.enabled&&document.documentElement.removeAttribute("style")});let b=[],w={[ie.WHITE]:"",[ie.BLACK]:""};const C=M=>{n.clearAllSquares(M),M===V.LEGAL&&n.clearAllSquares(V.LEGALHOVER),M===V.PREMOVE&&n.clearAllSquares(V.PREMOVEHOVER),t(5,n)},y=(M,U)=>{n.highlightSquare(M,U),t(5,n)},S=M=>n.state.highlight.enabled&&(M===void 0||n.state.highlight.settings[M]),p=M=>{if(!n.state.selectable.enabled)return;const U=n.getPieceFromSquare(M);U!==void 0&&(C(V.SELECT),t(5,n.state.selectable.selectedPiece=U,n),S("select")&&y(M,V.SELECT))},d=()=>{C(V.SELECT),C(V.LEGAL),C(V.PREMOVE),t(5,n.state.selectable.selectedPiece=void 0,n),t(5,n.state.legal.preMoves.curMove="",n)},c=M=>{C(V.CHECK),M!==void 0&&S("check")&&y(w[M],V.CHECK),t(5,n)},E=M=>{n.flipBoard(M),t(5,n)},v=(M,U)=>{M.forEach(ae=>n.highlightSquare(ae,U)),t(5,n)},k=(M,U=V.MOVE)=>{M.length<4||v([M.substring(0,2),M.substring(2,4)],U)},R=(M,U=V.MOVE)=>{const ae=[];M.forEach(Ae=>{Ae.length<4||(ae.push(Ae.substring(0,2)),ae.push(Ae.substring(2,4)))}),v(ae,U)},F=M=>{y(M.substring(2,4),V.LEGAL)},I=(M,U=V.LEGAL)=>{C(U),M.forEach(ae=>{ae.length<4||n.highlightSquare(ae.substring(2,4),U)}),t(5,n)},q=(M,U=!0)=>{n.makeMove(M),U&&(C(V.MOVE),S("move")&&k(M)),t(5,n)},N=M=>{n.removePiece(M),t(5,n)},$=M=>M[0]==="w"?ie.WHITE:ie.BLACK,le=()=>n.state.movable.enabled&&(n.state.movable.color===ie.BOTH||n.state.legal.whiteToMove&&n.state.movable.color===$("w")||!n.state.legal.whiteToMove&&n.state.movable.color===$("b")),re=()=>{!n.state.legal.enabled||(n.state.callbacks.getWhiteToMove&&t(5,n.state.legal.whiteToMove=n.state.callbacks.getWhiteToMove(),n),n.state.callbacks.getPreMoves&&!le()&&n.state.legal.preMoves.enabled?t(5,n.state.legal.preMoves.moves=n.state.callbacks.getPreMoves(),n):t(5,n.state.legal.preMoves.moves.length=0,n),n.state.callbacks.getLegalMoves&&le()?t(5,n.state.legal.moves=n.state.callbacks.getLegalMoves(),n):t(5,n.state.legal.moves.length=0,n),le()&&n.state.selectable.selectedPiece!==void 0&&n.state.legal.preMoves.enabled&&(C(V.PREMOVE),C(V.LEGAL),S("legal")&&n.state.legal.moves.forEach(M=>{n.state.selectable.selectedPiece&&M.substring(0,2)===n.state.selectable.selectedPiece.square&&y(M.substring(2,4),V.LEGAL)})),n.state.callbacks.getKingLocations&&(w=n.state.callbacks.getKingLocations()),n.state.callbacks.getInCheck&&c(n.state.callbacks.getInCheck()))},z=M=>{n.state.sounds.enabled&&u.playMoveSound(M)},me=M=>{if(M.substring(0,2)===M.substring(2,4))return;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(M),d();const U=n.getRookMoveIfIsCastling(M),ae=n.getCapturedPawnSquareIfIsEnPassant(M);if(U&&n.state.legal.enabled&&n.state.legal.settings.allowCastling?(q(U,!1),z("CASTLE")):ae&&n.state.legal.enabled&&n.state.legal.settings.allowEnPassant?(N(ae),z("CAPTURE")):n.isCapture(M)?z("CAPTURE"):z("MOVE"),n.removeGhostPiece(),t(5,n),q(M),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(M),re(),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.curMove!==""){if(n.state.legal.moves.includes(n.state.legal.preMoves.curMove)||n.state.legal.moves.includes(`${n.state.legal.preMoves.curMove}q`)){const Ae=n.state.legal.preMoves.curMove;t(5,n.state.legal.preMoves.curMove="",n),Jn().then(()=>{me(Ae)})}C(V.NEXTMOVE)}},K=M=>{!n.state.legal.enabled||!n.state.legal.preMoves.enabled||!n.state.movable.enabled||(C(V.PREMOVE),C(V.NEXTMOVE),n.state.highlight.enabled&&n.state.highlight.settings.nextMove&&k(M,V.NEXTMOVE),t(5,n.state.legal.preMoves.curMove=M,n),l("nextMove",{move:M}))},X=M=>{f.openPromotionModal(!0),g=M,n.makeMove(M),C(V.LEGAL),C(V.SELECT),C(V.MOVE),k(M)},x=(M,U)=>{n.clearSquare(M,U),t(5,n)},Z=()=>{n.clearAllPieces(),t(5,n)},ee=(M,U)=>{n.setPiece(M,U),t(5,n)},A=(M,U)=>{var Ae;const ae=(Ae=n.getPieceFromSquare(M))==null?void 0:Ae.name;!ae||(U!==void 0?n.setPiece(M,`${U===ie.WHITE?"w":"b"}${ae[1]}`):n.setPiece(M,`${ae[0]==="w"?"b":"w"}${ae[1]}`),t(5,n))},D=(M,U)=>{const ae=Math.floor(M/n.state.board.size*8),Ae=Math.floor(U/n.state.board.size*8),Ce=n.state.board.flipped?Math.abs(ae-7):ae,Be=n.state.board.flipped?Ae:Math.abs(Ae-7);return Object.keys(n.letters)[Ce]+(Be+1).toString()},Y=M=>{if(!n.state.movable.enabled)return!1;if(n.state.legal.enabled){if(n.state.legal.preMoves.enabled&&(n.state.movable.color===$(M)&&n.state.legal.whiteToMove===!0&&$(M)===ie.WHITE||n.state.legal.whiteToMove===!1&&$(M)===ie.BLACK)||!n.state.legal.preMoves.enabled&&(n.state.legal.whiteToMove===!0&&$(M)===ie.WHITE||n.state.legal.whiteToMove===!1&&$(M)===ie.BLACK))return!0}else if(n.state.movable.color===ie.BOTH||n.state.movable.color===$(M))return!0;return!1},oe=M=>{if(M.button===2){d();return}const U=r.getBoundingClientRect(),ae=M.clientX-U.left,Ae=M.clientY-U.top,Ce=D(ae,Ae),Be=n.getPieceFromSquare(Ce);if(l("squareClick",{square:Ce,piece:Be?Be.name:void 0}),!n.state.selectable.enabled){d();return}if(n.state.selectable.selectedPiece!==void 0&&n.state.selectable.selectedPiece.square!==Ce&&!n.state.legal.enabled){me(n.state.selectable.selectedPiece.square+Ce),d();return}if(n.state.selectable.selectedPiece!==void 0&&n.state.selectable.selectedPiece.square!==Ce&&(Be===void 0||Be.name[0]!==n.state.selectable.selectedPiece.name[0])){n.isPromotion(n.state.selectable.selectedPiece.square+Ce)&&n.state.legal.moves.includes(`${n.state.selectable.selectedPiece.square+Ce}q`)?X(n.state.selectable.selectedPiece.square+Ce):n.state.legal.moves.includes(n.state.selectable.selectedPiece.square+Ce)?me(n.state.selectable.selectedPiece.square+Ce):n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.includes(n.state.selectable.selectedPiece.square+Ce)&&K(n.state.selectable.selectedPiece.square+Ce),d();return}n.state.selectable.selectedPiece!==Be&&Be!==void 0&&n.state.movable.enabled&&(n.state.movable.color===ie.BOTH||n.state.movable.color===$(Be.name))&&(S("legal")&&n.state.legal.enabled&&le()&&(C(V.LEGAL),n.state.legal.moves.forEach(lt=>{lt.substring(0,2)===Ce&&y(lt.substring(2,4),V.LEGAL)})),S("preMove")&&n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.movable.color!==ie.BOTH&&!le()&&(C(V.PREMOVE),n.state.legal.preMoves.moves.forEach(lt=>{lt.substring(0,2)===Ce&&y(lt.substring(2,4),V.PREMOVE)})),(n.state.legal.enabled&&Y(Be.name[0])||!n.state.legal.enabled)&&p(Be.square))},Me=M=>{const U=M.detail;n.state.legal.enabled?n.isPromotion(U)&&n.state.legal.moves.includes(`${U}q`)?X(U):n.state.legal.moves.includes(U)?me(U):n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.includes(U)?K(U):d():me(U),C(V.LEGAL),C(V.PREMOVE),t(5,n)},fe=(M,U="MOVE")=>{if(n.updatePiecesWithFen(M),C(),n.removeGhostPiece(),re(),n.state.callbacks.getLastMove){const ae=n.state.callbacks.getLastMove();U!==!1&&(U!=="MOVE"?z(U):n.isCastling(ae)?z("CASTLE"):z(U)),k(ae)}else U!==!1&&z(U);t(5,n),t(5,n)},qe=()=>n.getShortFEN(),Pe=M=>{!M||n.state.board.size===M||(t(5,n.state.board.size=M,n),n.state.board.resizible.enabled&&document.documentElement.style.setProperty("--boardSize",`${n.state.board.size}px`))},Ne=M=>{var U;return(U=n.getPieceFromSquare(M))==null?void 0:U.name},Ee=M=>{t(10,b=M)},Le=()=>{t(10,b.length=0,b)},Re=()=>{re()},De=M=>{M===!1?t(5,n.state.movable.enabled=!1,n):(t(5,n.state.movable.enabled=!0,n),t(5,n.state.movable.color=M===!0?ie.BOTH:M,n))},Ve=M=>{M!==void 0&&(n.setConfigSettings(M),t(5,n))},We=()=>n.state,Mt=M=>{t(5,n.state=M,n),C(),re(),n.state.legal.enabled&&n.state.legal.lastMove!==""&&S("move")&&k(n.state.legal.lastMove),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.curMove!==""&&S("nextMove")&&k(n.state.legal.preMoves.curMove,V.NEXTMOVE),n.state.selectable.enabled&&n.state.selectable.selectedPiece!==void 0&&(S("select")&&Y(n.state.selectable.selectedPiece.name)&&y(n.state.selectable.selectedPiece.square,V.SELECT),n.state.legal.enabled&&n.state.legal.moves.length>0&&S("legal")&&n.state.legal.moves.forEach(U=>{var ae;U.substring(0,2)===((ae=n.state.selectable.selectedPiece)==null?void 0:ae.square)&&y(U.substring(2,4),V.LEGAL)}),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.length>0&&S("preMove")&&n.state.legal.preMoves.moves.forEach(U=>{var ae;U.substring(0,2)===((ae=n.state.selectable.selectedPiece)==null?void 0:ae.square)&&y(U.substring(2,4),V.PREMOVE)}))},nt=M=>M.getConfig(),je=M=>{const U=r.getBoundingClientRect();n.state.legal.enabled&&(le()&&n.legalHover(D(M.detail.x-U.x,M.detail.y-U.y)),!le()&&n.state.legal.preMoves.enabled&&n.preMoveHover(D(M.detail.x-U.x,M.detail.y-U.y))),t(5,n)},Ke=M=>{n.setGhostPiece(M),t(5,n)},ze=()=>{n.removeGhostPiece(),t(5,n)},Ge=M=>{n.state.draggable.ghostPiece&&Ke(M),C(V.SELECT),n.state.selectable.selectedPiece===void 0&&(S("legal")&&n.state.legal.enabled&&n.state.legal.moves.forEach(U=>{U.substring(0,2)===M.square&&y(U.substring(2,4),V.LEGAL)}),S("preMove")&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.forEach(U=>{U.substring(0,2)===M.square&&y(U.substring(2,4),V.PREMOVE)}))},kt=M=>{const U=n.getPieceFromSquare(g.substring(2,4));if(!U)return;const ae=U.name[0]+M.detail.toUpperCase(),Ae=g+M.detail;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(Ae),n.setPiece(U.square,ae),t(5,n),z("MOVE"),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(Ae),re()};es(()=>{re(),n.state.callbacks.getLastMove&&k(n.state.callbacks.getLastMove()),n.state.board.resizible&&Pe(n.state.board.size-n.state.board.size%8)});function pt(M){et.call(this,s,M)}function St(M){et.call(this,s,M)}const it=M=>{l("piececlick",{piece:M})},yt=M=>{l("startDragging",{piece:M}),Ge(M)};function At(M){et.call(this,s,M)}const Ze=M=>p(M.square),Ct=()=>d(),mt=M=>{y(M.detail.square,V.LEGALHOVER)};function Pt(M){o=M,t(7,o)}function Xe(M){Q[M?"unshift":"push"](()=>{f=M,t(9,f)})}const Lt=M=>l("drawCircle",{square:M.detail.square,color:M.detail.color}),Ye=M=>l("drawArrow",{move:M.detail.move,color:M.detail.color});function at(M){Q[M?"unshift":"push"](()=>{r=M,t(6,r)})}function Tt(){n.state.board.size=this.clientWidth,t(5,n)}function It(M){Q[M?"unshift":"push"](()=>{u=M,t(8,u)})}return s.$$set=M=>{"config"in M&&t(19,i=M.config),"className"in M&&t(0,a=M.className)},s.$$.update=()=>{s.$$.dirty[0]&32&&Pe(n.state.board.size-n.state.board.size%8)},[a,y,p,d,Pe,n,r,o,u,f,b,l,S,oe,Me,je,ze,Ge,kt,i,C,E,v,k,R,F,I,q,N,z,me,K,X,x,Z,ee,A,D,fe,qe,Ne,Ee,Le,Re,De,Ve,We,Mt,nt,pt,St,it,yt,At,Ze,Ct,mt,Pt,Xe,Lt,Ye,at,Tt,It]}class Ja extends ke{constructor(e){super(),Se(this,e,Za,Qa,ye,{config:19,className:0,clearAllSquares:20,highlightSquare:1,selectPiece:2,deselect:3,flipBoard:21,highlightManySquares:22,highlightMove:23,highlightMoves:24,highlightLegalMove:25,highlightLegalMoves:26,movePiece:27,removePiece:28,playMoveSound:29,makeMove:30,makeNextMove:31,makeMovePromotion:32,removeSquareHighlight:33,removeAllPiece:34,createPiece:35,changeColorOfPiece:36,getSquareFromCoords:37,setFEN:38,getShortFEN:39,setSize:4,getPieceFromSquare:40,setComputerArrows:41,removeComputerArrows:42,updateLegalState:43,setMovableColor:44,setConfigSettings:45,getState:46,setState:47,getConfigFromState:48},null,[-1,-1,-1])}get clearAllSquares(){return this.$$.ctx[20]}get highlightSquare(){return this.$$.ctx[1]}get selectPiece(){return this.$$.ctx[2]}get deselect(){return this.$$.ctx[3]}get flipBoard(){return this.$$.ctx[21]}get highlightManySquares(){return this.$$.ctx[22]}get highlightMove(){return this.$$.ctx[23]}get highlightMoves(){return this.$$.ctx[24]}get highlightLegalMove(){return this.$$.ctx[25]}get highlightLegalMoves(){return this.$$.ctx[26]}get movePiece(){return this.$$.ctx[27]}get removePiece(){return this.$$.ctx[28]}get playMoveSound(){return this.$$.ctx[29]}get makeMove(){return this.$$.ctx[30]}get makeNextMove(){return this.$$.ctx[31]}get makeMovePromotion(){return this.$$.ctx[32]}get removeSquareHighlight(){return this.$$.ctx[33]}get removeAllPiece(){return this.$$.ctx[34]}get createPiece(){return this.$$.ctx[35]}get changeColorOfPiece(){return this.$$.ctx[36]}get getSquareFromCoords(){return this.$$.ctx[37]}get setFEN(){return this.$$.ctx[38]}get getShortFEN(){return this.$$.ctx[39]}get setSize(){return this.$$.ctx[4]}get getPieceFromSquare(){return this.$$.ctx[40]}get setComputerArrows(){return this.$$.ctx[41]}get removeComputerArrows(){return this.$$.ctx[42]}get updateLegalState(){return this.$$.ctx[43]}get setMovableColor(){return this.$$.ctx[44]}get setConfigSettings(){return this.$$.ctx[45]}get getState(){return this.$$.ctx[46]}get setState(){return this.$$.ctx[47]}get getConfigFromState(){return this.$$.ctx[48]}}const Ws=["standard","darkBlue"],js=["backIn","backInOut","backOut","bounceIn","bounceInOut","bounceOut","circIn","circInOut","circOut","cubicIn","cubicInOut","cubicOut","elasticIn","elasticInOut","elasticOut","expoIn","expoInOut","expoOut","linear","quadIn","quadInOut","quadOut","quartIn","quartInOut","quartOut","quintIn","quintInOut","quintOut","sineIn","sineInOut","sineOut"];function Ks(s){let e,t,i;return{c(){e=L("input"),this.h()},l(a){e=T(a,"INPUT",{type:!0,class:!0}),this.h()},h(){h(e,"type","checkbox"),h(e,"class","mr-1")},m(a,n){B(a,e,n),e.checked=s[0],t||(i=[J(e,"click",fn(s[6])),J(e,"change",s[7])],t=!0)},p(a,n){n&1&&(e.checked=a[0])},d(a){a&&m(e),t=!1,Qe(i)}}}function Gs(s){let e,t,i;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(a){e=Ie(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=O(e);t=Ie(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),O(t).forEach(m),n.forEach(m),this.h()},h(){h(t,"fill-rule","evenodd"),h(t,"d","M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"),h(t,"clip-rule","evenodd"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"viewBox","0 0 20 20"),h(e,"fill","currentColor"),h(e,"class",i="w-5 h-5 transition "+(s[1]?"rotate-180":"rotate-0"))},m(a,n){B(a,e,n),_(e,t)},p(a,n){n&2&&i!==(i="w-5 h-5 transition "+(a[1]?"rotate-180":"rotate-0"))&&h(e,"class",i)},d(a){a&&m(e)}}}function Xs(s){let e,t,i;const a=s[5].default,n=ln(a,s,s[4],null);return{c(){e=L("div"),n&&n.c(),this.h()},l(l){e=T(l,"DIV",{class:!0});var r=O(e);n&&n.l(r),r.forEach(m),this.h()},h(){h(e,"class","py-2 px-4")},m(l,r){B(l,e,r),n&&n.m(e,null),i=!0},p(l,r){n&&n.p&&(!i||r&16)&&rn(n,a,l,l[4],i?un(a,l[4],r,null):on(l[4]),null)},i(l){i||(H(n,l),l&&tt(()=>{t||(t=ct(e,ht,{},!0)),t.run(1)}),i=!0)},o(l){G(n,l),l&&(t||(t=ct(e,ht,{},!1)),t.run(0)),i=!1},d(l){l&&m(e),n&&n.d(l),l&&t&&t.end()}}}function xa(s){let e,t,i,a,n,l,r,o,u,f,g,b,w,C,y=s[0]!==void 0&&Ks(s),S=s[3]&&Gs(s),p=s[1]&&Xs(s);return{c(){e=L("div"),t=L("button"),i=L("div"),y&&y.c(),a=W(),n=L("span"),l=ue(s[2]),o=W(),S&&S.c(),g=W(),p&&p.c(),this.h()},l(d){e=T(d,"DIV",{class:!0});var c=O(e);t=T(c,"BUTTON",{class:!0});var E=O(t);i=T(E,"DIV",{class:!0});var v=O(i);y&&y.l(v),a=j(v),n=T(v,"SPAN",{class:!0});var k=O(n);l=de(k,s[2]),k.forEach(m),v.forEach(m),o=j(E),S&&S.l(E),E.forEach(m),g=j(c),p&&p.l(c),c.forEach(m),this.h()},h(){h(n,"class",r=s[0]===void 0?"ml-[21px]":""),h(i,"class","flex gap-1"),h(t,"class",u="flex justify-between px-4 py-2 "+(s[3]?"transition hover:bg-slate-800/40":"")+" rounded"),t.disabled=f=!s[3],h(e,"class","bg-slate-900/20 rounded shadow-lg flex flex-col")},m(d,c){B(d,e,c),_(e,t),_(t,i),y&&y.m(i,null),_(i,a),_(i,n),_(n,l),_(t,o),S&&S.m(t,null),_(e,g),p&&p.m(e,null),b=!0,w||(C=J(t,"click",s[8]),w=!0)},p(d,[c]){d[0]!==void 0?y?y.p(d,c):(y=Ks(d),y.c(),y.m(i,a)):y&&(y.d(1),y=null),(!b||c&4)&&Vt(l,d[2]),(!b||c&1&&r!==(r=d[0]===void 0?"ml-[21px]":""))&&h(n,"class",r),d[3]?S?S.p(d,c):(S=Gs(d),S.c(),S.m(t,null)):S&&(S.d(1),S=null),(!b||c&8&&u!==(u="flex justify-between px-4 py-2 "+(d[3]?"transition hover:bg-slate-800/40":"")+" rounded"))&&h(t,"class",u),(!b||c&8&&f!==(f=!d[3]))&&(t.disabled=f),d[1]?p?(p.p(d,c),c&2&&H(p,1)):(p=Xs(d),p.c(),H(p,1),p.m(e,null)):p&&(Te(),G(p,1,1,()=>{p=null}),Oe())},i(d){b||(H(p),b=!0)},o(d){G(p),b=!1},d(d){d&&m(e),y&&y.d(),S&&S.d(),p&&p.d(),w=!1,C()}}}function $a(s,e,t){let{$$slots:i={},$$scope:a}=e,{name:n="board"}=e,{enabled:l=void 0}=e,{showExpand:r=!0}=e,{expanded:o=!1}=e;function u(b){et.call(this,s,b)}function f(){l=this.checked,t(0,l)}const g=()=>{t(1,o=!o)};return s.$$set=b=>{"name"in b&&t(2,n=b.name),"enabled"in b&&t(0,l=b.enabled),"showExpand"in b&&t(3,r=b.showExpand),"expanded"in b&&t(1,o=b.expanded),"$$scope"in b&&t(4,a=b.$$scope)},[l,o,n,r,a,i,u,f,g]}class st extends ke{constructor(e){super(),Se(this,e,$a,xa,ye,{name:2,enabled:0,showExpand:3,expanded:1})}}function Ys(s,e,t){const i=s.slice();return i[21]=e[t],i}function Qs(s){let e,t=s[21]+"",i;return{c(){e=L("option"),i=ue(t),this.h()},l(a){e=T(a,"OPTION",{});var n=O(e);i=de(n,t),n.forEach(m),this.h()},h(){e.__value=s[21],e.value=e.__value},m(a,n){B(a,e,n),_(e,i)},p:we,d(a){a&&m(e)}}}function Zs(s){let e,t,i,a,n,l,r,o,u,f,g,b,w,C,y,S;return{c(){e=L("div"),t=L("div"),i=L("input"),a=W(),n=L("label"),l=ue("shadow"),r=W(),o=L("div"),u=L("input"),f=W(),g=L("label"),b=ue("border-radius (rem)"),this.h()},l(p){e=T(p,"DIV",{class:!0});var d=O(e);t=T(d,"DIV",{class:!0});var c=O(t);i=T(c,"INPUT",{id:!0,type:!0,class:!0}),a=j(c),n=T(c,"LABEL",{for:!0,class:!0});var E=O(n);l=de(E,"shadow"),E.forEach(m),c.forEach(m),r=j(d),o=T(d,"DIV",{class:!0});var v=O(o);u=T(v,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0}),f=j(v),g=T(v,"LABEL",{for:!0,class:!0});var k=O(g);b=de(k,"border-radius (rem)"),k.forEach(m),v.forEach(m),d.forEach(m),this.h()},h(){h(i,"id","shadow"),h(i,"type","checkbox"),h(i,"class","svelte-lnr7xr"),h(n,"for","shadow"),h(n,"class","select-none"),h(t,"class","flex gap-2 mb-2"),h(u,"id","borderRadius"),h(u,"type","number"),h(u,"class","w-16 svelte-lnr7xr"),h(u,"min",0),h(u,"max",1),h(g,"for","borderRadius"),h(g,"class","select-none whitespace-nowrap"),h(o,"class","flex gap-2 mb-2"),h(e,"class","pl-2 pr-4 flex-col")},m(p,d){B(p,e,d),_(e,t),_(t,i),i.checked=s[3],_(t,a),_(t,n),_(n,l),_(e,r),_(e,o),_(o,u),ut(u,s[9]),_(o,f),_(o,g),_(g,b),C=!0,y||(S=[J(i,"change",s[16]),J(u,"input",s[17])],y=!0)},p(p,d){d&8&&(i.checked=p[3]),d&512&&dt(u.value)!==p[9]&&ut(u,p[9])},i(p){C||(p&&tt(()=>{w||(w=ct(e,ht,{},!0)),w.run(1)}),C=!0)},o(p){p&&(w||(w=ct(e,ht,{},!1)),w.run(0)),C=!1},d(p){p&&m(e),p&&w&&w.end(),y=!1,Qe(S)}}}function Js(s){let e,t,i,a,n,l,r,o,u,f,g,b,w,C,y,S;return{c(){e=L("div"),t=L("div"),i=L("input"),a=W(),n=L("label"),l=ue("min"),r=W(),o=L("div"),u=L("input"),f=W(),g=L("label"),b=ue("max"),this.h()},l(p){e=T(p,"DIV",{class:!0});var d=O(e);t=T(d,"DIV",{class:!0});var c=O(t);i=T(c,"INPUT",{id:!0,type:!0,class:!0}),a=j(c),n=T(c,"LABEL",{for:!0,class:!0});var E=O(n);l=de(E,"min"),E.forEach(m),c.forEach(m),r=j(d),o=T(d,"DIV",{class:!0});var v=O(o);u=T(v,"INPUT",{id:!0,type:!0,class:!0}),f=j(v),g=T(v,"LABEL",{for:!0,class:!0});var k=O(g);b=de(k,"max"),k.forEach(m),v.forEach(m),d.forEach(m),this.h()},h(){h(i,"id","resizibleMin"),h(i,"type","number"),h(i,"class","w-16 svelte-lnr7xr"),h(n,"for","resizibleMin"),h(n,"class","select-none"),h(t,"class","flex gap-2 mb-2"),h(u,"id","resizibleMax"),h(u,"type","number"),h(u,"class","w-16 svelte-lnr7xr"),h(g,"for","resizibleMax"),h(g,"class","select-none"),h(o,"class","flex gap-2"),h(e,"class","pl-2 pr-4 flex-col")},m(p,d){B(p,e,d),_(e,t),_(t,i),ut(i,s[5]),_(t,a),_(t,n),_(n,l),_(e,r),_(e,o),_(o,u),ut(u,s[6]),_(o,f),_(o,g),_(g,b),C=!0,y||(S=[J(i,"input",s[19]),J(u,"input",s[20])],y=!0)},p(p,d){d&32&&dt(i.value)!==p[5]&&ut(i,p[5]),d&64&&dt(u.value)!==p[6]&&ut(u,p[6])},i(p){C||(p&&tt(()=>{w||(w=ct(e,ht,{},!0)),w.run(1)}),C=!0)},o(p){p&&(w||(w=ct(e,ht,{},!1)),w.run(0)),C=!1},d(p){p&&m(e),p&&w&&w.end(),y=!1,Qe(S)}}}function el(s){let e,t,i,a,n,l,r,o,u,f,g,b,w,C,y,S,p,d,c,E,v,k,R,F,I,q,N,$,le,re,z,me,K,X,x=Ws,Z=[];for(let D=0;D<x.length;D+=1)Z[D]=Qs(Ys(s,x,D));let ee=s[10]&&Zs(s),A=s[4]&&Js(s);return{c(){e=L("div"),t=L("select");for(let D=0;D<Z.length;D+=1)Z[D].c();i=W(),a=L("label"),n=ue("board theme"),l=W(),r=L("div"),o=L("input"),u=W(),f=L("label"),g=ue("notation"),b=W(),w=L("div"),C=L("input"),y=W(),S=L("label"),p=ue("flipped"),d=W(),c=L("div"),E=L("input"),v=W(),k=L("label"),R=ue("style"),F=W(),ee&&ee.c(),I=W(),q=L("div"),N=L("input"),$=W(),le=L("label"),re=ue("resizible"),z=W(),A&&A.c(),me=_e(),this.h()},l(D){e=T(D,"DIV",{class:!0});var Y=O(e);t=T(Y,"SELECT",{class:!0});var oe=O(t);for(let Ve=0;Ve<Z.length;Ve+=1)Z[Ve].l(oe);oe.forEach(m),i=j(Y),a=T(Y,"LABEL",{for:!0,class:!0});var Me=O(a);n=de(Me,"board theme"),Me.forEach(m),Y.forEach(m),l=j(D),r=T(D,"DIV",{class:!0});var fe=O(r);o=T(fe,"INPUT",{id:!0,type:!0,class:!0}),u=j(fe),f=T(fe,"LABEL",{for:!0,class:!0});var qe=O(f);g=de(qe,"notation"),qe.forEach(m),fe.forEach(m),b=j(D),w=T(D,"DIV",{class:!0});var Pe=O(w);C=T(Pe,"INPUT",{id:!0,type:!0,class:!0}),y=j(Pe),S=T(Pe,"LABEL",{for:!0,class:!0});var Ne=O(S);p=de(Ne,"flipped"),Ne.forEach(m),Pe.forEach(m),d=j(D),c=T(D,"DIV",{});var Ee=O(c);E=T(Ee,"INPUT",{id:!0,type:!0,class:!0}),v=j(Ee),k=T(Ee,"LABEL",{for:!0,class:!0});var Le=O(k);R=de(Le,"style"),Le.forEach(m),Ee.forEach(m),F=j(D),ee&&ee.l(D),I=j(D),q=T(D,"DIV",{class:!0});var Re=O(q);N=T(Re,"INPUT",{id:!0,type:!0,class:!0}),$=j(Re),le=T(Re,"LABEL",{for:!0,class:!0});var De=O(le);re=de(De,"resizible"),De.forEach(m),Re.forEach(m),z=j(D),A&&A.l(D),me=_e(),this.h()},h(){h(t,"class","svelte-lnr7xr"),s[0]===void 0&&tt(()=>s[12].call(t)),h(a,"for","boardTheme"),h(a,"class","select-none"),h(e,"class","mb-2"),h(o,"id","notation"),h(o,"type","checkbox"),h(o,"class","svelte-lnr7xr"),h(f,"for","notation"),h(f,"class","select-none"),h(r,"class","mb-2"),h(C,"id","flipped"),h(C,"type","checkbox"),h(C,"class","svelte-lnr7xr"),h(S,"for","flipped"),h(S,"class","select-none"),h(w,"class","mb-2"),h(E,"id","styleEnabled"),h(E,"type","checkbox"),h(E,"class","svelte-lnr7xr"),h(k,"for","styleEnabled"),h(k,"class","select-none"),h(N,"id","resizibleEnabled"),h(N,"type","checkbox"),h(N,"class","svelte-lnr7xr"),h(le,"for","resizibleEnabled"),h(le,"class","select-none"),h(q,"class","mt-2 mb-1")},m(D,Y){B(D,e,Y),_(e,t);for(let oe=0;oe<Z.length;oe+=1)Z[oe].m(t,null);wt(t,s[0]),_(e,i),_(e,a),_(a,n),B(D,l,Y),B(D,r,Y),_(r,o),o.checked=s[1],_(r,u),_(r,f),_(f,g),B(D,b,Y),B(D,w,Y),_(w,C),C.checked=s[2],_(w,y),_(w,S),_(S,p),B(D,d,Y),B(D,c,Y),_(c,E),E.checked=s[10],_(c,v),_(c,k),_(k,R),B(D,F,Y),ee&&ee.m(D,Y),B(D,I,Y),B(D,q,Y),_(q,N),N.checked=s[4],_(q,$),_(q,le),_(le,re),B(D,z,Y),A&&A.m(D,Y),B(D,me,Y),K||(X=[J(t,"change",s[12]),J(o,"change",s[13]),J(C,"change",s[14]),J(E,"change",s[15]),J(N,"change",s[18])],K=!0)},p(D,Y){if(Y&0){x=Ws;let oe;for(oe=0;oe<x.length;oe+=1){const Me=Ys(D,x,oe);Z[oe]?Z[oe].p(Me,Y):(Z[oe]=Qs(Me),Z[oe].c(),Z[oe].m(t,null))}for(;oe<Z.length;oe+=1)Z[oe].d(1);Z.length=x.length}Y&1&&wt(t,D[0]),Y&2&&(o.checked=D[1]),Y&4&&(C.checked=D[2]),Y&1024&&(E.checked=D[10]),D[10]?ee?(ee.p(D,Y),Y&1024&&H(ee,1)):(ee=Zs(D),ee.c(),H(ee,1),ee.m(I.parentNode,I)):ee&&(Te(),G(ee,1,1,()=>{ee=null}),Oe()),Y&16&&(N.checked=D[4]),D[4]?A?(A.p(D,Y),Y&16&&H(A,1)):(A=Js(D),A.c(),H(A,1),A.m(me.parentNode,me)):A&&(Te(),G(A,1,1,()=>{A=null}),Oe())},d(D){D&&m(e),ft(Z,D),D&&m(l),D&&m(r),D&&m(b),D&&m(w),D&&m(d),D&&m(c),D&&m(F),ee&&ee.d(D),D&&m(I),D&&m(q),D&&m(z),A&&A.d(D),D&&m(me),K=!1,Qe(X)}}}function tl(s){let e,t;return e=new st({props:{name:s[7],expanded:s[8],$$slots:{default:[el]},$$scope:{ctx:s}}}),{c(){he(e.$$.fragment)},l(i){ge(e.$$.fragment,i)},m(i,a){be(e,i,a),t=!0},p(i,[a]){const n={};a&128&&(n.name=i[7]),a&256&&(n.expanded=i[8]),a&16778879&&(n.$$scope={dirty:a,ctx:i}),e.$set(n)},i(i){t||(H(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){pe(e,i)}}}function sl(s,e,t){let{name:i="Board"}=e,{boardTheme:a}=e,{notation:n}=e,{flipped:l}=e,{shadow:r}=e,{borderRadius:o="0px"}=e,{resizible:u=!1}=e,{min:f=0}=e,{max:g=0}=e,{expanded:b=!1}=e,w=!0,C=parseFloat(o.endsWith("px")?o.slice(0,-2):o.slice(0,-3));function y(){a=ts(this),t(0,a)}function S(){n=this.checked,t(1,n)}function p(){l=this.checked,t(2,l)}function d(){w=this.checked,t(10,w)}function c(){r=this.checked,t(3,r)}function E(){C=dt(this.value),t(9,C)}function v(){u=this.checked,t(4,u)}function k(){f=dt(this.value),t(5,f)}function R(){g=dt(this.value),t(6,g)}return s.$$set=F=>{"name"in F&&t(7,i=F.name),"boardTheme"in F&&t(0,a=F.boardTheme),"notation"in F&&t(1,n=F.notation),"flipped"in F&&t(2,l=F.flipped),"shadow"in F&&t(3,r=F.shadow),"borderRadius"in F&&t(11,o=F.borderRadius),"resizible"in F&&t(4,u=F.resizible),"min"in F&&t(5,f=F.min),"max"in F&&t(6,g=F.max),"expanded"in F&&t(8,b=F.expanded)},s.$$.update=()=>{s.$$.dirty&512&&t(11,o=`${C!=null?C:0}rem`)},[a,n,l,r,u,f,g,i,b,C,w,o,y,S,p,d,c,E,v,k,R]}class nl extends ke{constructor(e){super(),Se(this,e,sl,tl,ye,{name:7,boardTheme:0,notation:1,flipped:2,shadow:3,borderRadius:11,resizible:4,min:5,max:6,expanded:8})}}function il(s){let e,t,i,a,n,l,r,o,u,f;return{c(){e=L("div"),t=L("select"),i=L("option"),a=ue("Both"),n=L("option"),l=ue("White"),r=L("option"),o=ue("Black"),this.h()},l(g){e=T(g,"DIV",{});var b=O(e);t=T(b,"SELECT",{class:!0});var w=O(t);i=T(w,"OPTION",{});var C=O(i);a=de(C,"Both"),C.forEach(m),n=T(w,"OPTION",{});var y=O(n);l=de(y,"White"),y.forEach(m),r=T(w,"OPTION",{});var S=O(r);o=de(S,"Black"),S.forEach(m),w.forEach(m),b.forEach(m),this.h()},h(){i.__value=ie.BOTH,i.value=i.__value,n.__value=ie.WHITE,n.value=n.__value,r.__value=ie.BLACK,r.value=r.__value,h(t,"class","svelte-xrxnwg"),s[1]===void 0&&tt(()=>s[4].call(t))},m(g,b){B(g,e,b),_(e,t),_(t,i),_(i,a),_(t,n),_(n,l),_(t,r),_(r,o),wt(t,s[1]),u||(f=J(t,"change",s[4]),u=!0)},p(g,b){b&2&&wt(t,g[1])},d(g){g&&m(e),u=!1,f()}}}function al(s){let e,t,i;function a(l){s[5](l)}let n={name:s[2],expanded:s[3],$$slots:{default:[il]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new st({props:n}),Q.push(()=>se(e,"enabled",a)),{c(){he(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,r){be(e,l,r),i=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&8&&(o.expanded=l[3]),r&66&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ne(()=>t=!1)),e.$set(o)},i(l){i||(H(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){pe(e,l)}}}function ll(s,e,t){let{name:i="Movable"}=e,{enabled:a=!1}=e,{color:n}=e,{expanded:l=!1}=e;function r(){n=ts(this),t(1,n)}function o(u){a=u,t(0,a)}return s.$$set=u=>{"name"in u&&t(2,i=u.name),"enabled"in u&&t(0,a=u.enabled),"color"in u&&t(1,n=u.color),"expanded"in u&&t(3,l=u.expanded)},[a,n,i,l,r,o]}class rl extends ke{constructor(e){super(),Se(this,e,ll,al,ye,{name:2,enabled:0,color:1,expanded:3})}}function xs(s,e,t){const i=s.slice();return i[12]=e[t],i}function $s(s){let e,t,i,a,n,l,r,o,u,f,g,b,w,C,y,S,p=js,d=[];for(let c=0;c<p.length;c+=1)d[c]=en(xs(s,p,c));return{c(){e=L("div"),t=L("div"),i=L("input"),a=W(),n=L("label"),l=ue("duration"),r=W(),o=L("div"),u=L("select");for(let c=0;c<d.length;c+=1)d[c].c();f=W(),g=L("label"),b=ue("easing"),this.h()},l(c){e=T(c,"DIV",{class:!0});var E=O(e);t=T(E,"DIV",{class:!0});var v=O(t);i=T(v,"INPUT",{id:!0,type:!0,class:!0}),a=j(v),n=T(v,"LABEL",{for:!0,class:!0});var k=O(n);l=de(k,"duration"),k.forEach(m),v.forEach(m),r=j(E),o=T(E,"DIV",{class:!0});var R=O(o);u=T(R,"SELECT",{id:!0,class:!0});var F=O(u);for(let q=0;q<d.length;q+=1)d[q].l(F);F.forEach(m),f=j(R),g=T(R,"LABEL",{for:!0,class:!0});var I=O(g);b=de(I,"easing"),I.forEach(m),R.forEach(m),E.forEach(m),this.h()},h(){h(i,"id","transitionDuration"),h(i,"type","number"),h(i,"class","w-16 svelte-1qpp6cx"),h(n,"for","transitionDuration"),h(n,"class","select-none"),h(t,"class","flex gap-2 mb-2"),h(u,"id","easingFuncs"),h(u,"class","svelte-1qpp6cx"),s[4]===void 0&&tt(()=>s[10].call(u)),h(g,"for","easingFuncs"),h(g,"class","select-none"),h(o,"class","flex gap-2"),h(e,"class","pl-2 pr-4 flex-col")},m(c,E){B(c,e,E),_(e,t),_(t,i),ut(i,s[3]),_(t,a),_(t,n),_(n,l),_(e,r),_(e,o),_(o,u);for(let v=0;v<d.length;v+=1)d[v].m(u,null);wt(u,s[4]),_(o,f),_(o,g),_(g,b),C=!0,y||(S=[J(i,"input",s[9]),J(u,"change",s[10])],y=!0)},p(c,E){if(E&8&&dt(i.value)!==c[3]&&ut(i,c[3]),E&0){p=js;let v;for(v=0;v<p.length;v+=1){const k=xs(c,p,v);d[v]?d[v].p(k,E):(d[v]=en(k),d[v].c(),d[v].m(u,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=p.length}E&16&&wt(u,c[4])},i(c){C||(c&&tt(()=>{w||(w=ct(e,ht,{},!0)),w.run(1)}),C=!0)},o(c){c&&(w||(w=ct(e,ht,{},!1)),w.run(0)),C=!1},d(c){c&&m(e),ft(d,c),c&&w&&w.end(),y=!1,Qe(S)}}}function en(s){let e,t=s[12]+"",i;return{c(){e=L("option"),i=ue(t),this.h()},l(a){e=T(a,"OPTION",{});var n=O(e);i=de(n,t),n.forEach(m),this.h()},h(){e.__value=s[12],e.value=e.__value},m(a,n){B(a,e,n),_(e,i)},p:we,d(a){a&&m(e)}}}function ol(s){let e,t,i,a,n,l,r,o,u,f,g,b,w,C,y,S=s[2]&&$s(s);return{c(){e=L("div"),t=L("input"),i=W(),a=L("label"),n=ue("ghost piece"),l=W(),r=L("div"),o=L("input"),u=W(),f=L("label"),g=ue("transition"),b=W(),S&&S.c(),w=_e(),this.h()},l(p){e=T(p,"DIV",{class:!0});var d=O(e);t=T(d,"INPUT",{id:!0,type:!0,class:!0}),i=j(d),a=T(d,"LABEL",{for:!0,class:!0});var c=O(a);n=de(c,"ghost piece"),c.forEach(m),d.forEach(m),l=j(p),r=T(p,"DIV",{class:!0});var E=O(r);o=T(E,"INPUT",{id:!0,type:!0,class:!0}),u=j(E),f=T(E,"LABEL",{for:!0,class:!0});var v=O(f);g=de(v,"transition"),v.forEach(m),E.forEach(m),b=j(p),S&&S.l(p),w=_e(),this.h()},h(){h(t,"id","ghostPiece"),h(t,"type","checkbox"),h(t,"class","svelte-1qpp6cx"),h(a,"for","ghostPiece"),h(a,"class","select-none"),h(e,"class","mb-2"),h(o,"id","draggableEnabled"),h(o,"type","checkbox"),h(o,"class","svelte-1qpp6cx"),h(f,"for","draggableEnabled"),h(f,"class","select-none"),h(r,"class","mb-2")},m(p,d){B(p,e,d),_(e,t),t.checked=s[1],_(e,i),_(e,a),_(a,n),B(p,l,d),B(p,r,d),_(r,o),o.checked=s[2],_(r,u),_(r,f),_(f,g),B(p,b,d),S&&S.m(p,d),B(p,w,d),C||(y=[J(t,"change",s[7]),J(o,"change",s[8])],C=!0)},p(p,d){d&2&&(t.checked=p[1]),d&4&&(o.checked=p[2]),p[2]?S?(S.p(p,d),d&4&&H(S,1)):(S=$s(p),S.c(),H(S,1),S.m(w.parentNode,w)):S&&(Te(),G(S,1,1,()=>{S=null}),Oe())},d(p){p&&m(e),p&&m(l),p&&m(r),p&&m(b),S&&S.d(p),p&&m(w),C=!1,Qe(y)}}}function ul(s){let e,t,i;function a(l){s[11](l)}let n={name:s[5],expanded:s[6],$$slots:{default:[ol]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new st({props:n}),Q.push(()=>se(e,"enabled",a)),{c(){he(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,r){be(e,l,r),i=!0},p(l,[r]){const o={};r&32&&(o.name=l[5]),r&64&&(o.expanded=l[6]),r&32798&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ne(()=>t=!1)),e.$set(o)},i(l){i||(H(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){pe(e,l)}}}function dl(s,e,t){let{name:i="Draggable"}=e,{enabled:a=!1}=e,{ghostPiece:n=!1}=e,{transition:l=!1}=e,{duration:r=120}=e,{easing:o="easeInOut"}=e,{expanded:u=!1}=e;function f(){n=this.checked,t(1,n)}function g(){l=this.checked,t(2,l)}function b(){r=dt(this.value),t(3,r)}function w(){o=ts(this),t(4,o)}function C(y){a=y,t(0,a)}return s.$$set=y=>{"name"in y&&t(5,i=y.name),"enabled"in y&&t(0,a=y.enabled),"ghostPiece"in y&&t(1,n=y.ghostPiece),"transition"in y&&t(2,l=y.transition),"duration"in y&&t(3,r=y.duration),"easing"in y&&t(4,o=y.easing),"expanded"in y&&t(6,u=y.expanded)},[a,n,l,r,o,i,u,f,g,b,w,C]}class fl extends ke{constructor(e){super(),Se(this,e,dl,ul,ye,{name:5,enabled:0,ghostPiece:1,transition:2,duration:3,easing:4,expanded:6})}}function tn(s,e,t){const i=s.slice();return i[7]=e[t],i[8]=e,i[9]=t,i}function sn(s){let e,t,i,a,n=s[7]+"",l,r,o,u;function f(){s[5].call(t,s[7])}return{c(){e=L("div"),t=L("input"),i=W(),a=L("label"),l=ue(n),r=W(),this.h()},l(g){e=T(g,"DIV",{class:!0});var b=O(e);t=T(b,"INPUT",{id:!0,type:!0}),i=j(b),a=T(b,"LABEL",{for:!0,class:!0});var w=O(a);l=de(w,n),w.forEach(m),r=j(b),b.forEach(m),this.h()},h(){h(t,"id",s[7]+"Enabled"),h(t,"type","checkbox"),h(a,"for",s[7]+"Enabled"),h(a,"class","select-none"),h(e,"class","mb-2")},m(g,b){B(g,e,b),_(e,t),t.checked=s[1][s[7]],_(e,i),_(e,a),_(a,l),_(e,r),o||(u=J(t,"change",f),o=!0)},p(g,b){s=g,b&18&&(t.checked=s[1][s[7]])},d(g){g&&m(e),o=!1,u()}}}function cl(s){let e,t=s[4],i=[];for(let a=0;a<t.length;a+=1)i[a]=sn(tn(s,t,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=_e()},l(a){for(let n=0;n<i.length;n+=1)i[n].l(a);e=_e()},m(a,n){for(let l=0;l<i.length;l+=1)i[l].m(a,n);B(a,e,n)},p(a,n){if(n&18){t=a[4];let l;for(l=0;l<t.length;l+=1){const r=tn(a,t,l);i[l]?i[l].p(r,n):(i[l]=sn(r),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(a){ft(i,a),a&&m(e)}}}function hl(s){let e,t,i;function a(l){s[6](l)}let n={name:s[2],expanded:s[3],$$slots:{default:[cl]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new st({props:n}),Q.push(()=>se(e,"enabled",a)),{c(){he(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,r){be(e,l,r),i=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&8&&(o.expanded=l[3]),r&1026&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ne(()=>t=!1)),e.$set(o)},i(l){i||(H(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){pe(e,l)}}}function gl(s,e,t){let{name:i="Highlight"}=e,{enabled:a=!1}=e,{settings:n}=e;const l=["select","legal","move","preMove","nextMove","check"];let{expanded:r=!1}=e;function o(f){n[f]=this.checked,t(1,n)}function u(f){a=f,t(0,a)}return s.$$set=f=>{"name"in f&&t(2,i=f.name),"enabled"in f&&t(0,a=f.enabled),"settings"in f&&t(1,n=f.settings),"expanded"in f&&t(3,r=f.expanded)},[a,n,i,r,l,o,u]}class bl extends ke{constructor(e){super(),Se(this,e,gl,hl,ye,{name:2,enabled:0,settings:1,expanded:3})}}function pl(s){let e,t,i,a,n,l,r,o,u,f,g,b,w;return{c(){e=L("div"),t=L("input"),i=W(),a=L("label"),n=ue("L shape knight move"),l=W(),r=L("div"),o=L("input"),u=W(),f=L("label"),g=ue("only chess move"),this.h()},l(C){e=T(C,"DIV",{class:!0});var y=O(e);t=T(y,"INPUT",{id:!0,type:!0}),i=j(y),a=T(y,"LABEL",{for:!0,class:!0});var S=O(a);n=de(S,"L shape knight move"),S.forEach(m),y.forEach(m),l=j(C),r=T(C,"DIV",{class:!0});var p=O(r);o=T(p,"INPUT",{id:!0,type:!0}),u=j(p),f=T(p,"LABEL",{for:!0,class:!0});var d=O(f);g=de(d,"only chess move"),d.forEach(m),p.forEach(m),this.h()},h(){h(t,"id","knightLShapeMoveEnabled"),h(t,"type","checkbox"),h(a,"for","knightLShapeMoveEnabled"),h(a,"class","select-none"),h(e,"class","mb-2"),h(o,"id","onlyChessMoveEnabled"),h(o,"type","checkbox"),h(f,"for","onlyChessMoveEnabled"),h(f,"class","select-none"),h(r,"class","mb-2")},m(C,y){B(C,e,y),_(e,t),t.checked=s[1],_(e,i),_(e,a),_(a,n),B(C,l,y),B(C,r,y),_(r,o),o.checked=s[2],_(r,u),_(r,f),_(f,g),b||(w=[J(t,"change",s[5]),J(o,"change",s[6])],b=!0)},p(C,y){y&2&&(t.checked=C[1]),y&4&&(o.checked=C[2])},d(C){C&&m(e),C&&m(l),C&&m(r),b=!1,Qe(w)}}}function ml(s){let e,t,i;function a(l){s[7](l)}let n={name:s[3],expanded:s[4],$$slots:{default:[pl]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new st({props:n}),Q.push(()=>se(e,"enabled",a)),{c(){he(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,r){be(e,l,r),i=!0},p(l,[r]){const o={};r&8&&(o.name=l[3]),r&16&&(o.expanded=l[4]),r&262&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ne(()=>t=!1)),e.$set(o)},i(l){i||(H(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){pe(e,l)}}}function vl(s,e,t){let{name:i="DrawTools"}=e,{enabled:a=!1}=e,{knightLShape:n=!1}=e,{onlyChessMove:l=!1}=e,{expanded:r=!1}=e;function o(){n=this.checked,t(1,n)}function u(){l=this.checked,t(2,l)}function f(g){a=g,t(0,a)}return s.$$set=g=>{"name"in g&&t(3,i=g.name),"enabled"in g&&t(0,a=g.enabled),"knightLShape"in g&&t(1,n=g.knightLShape),"onlyChessMove"in g&&t(2,l=g.onlyChessMove),"expanded"in g&&t(4,r=g.expanded)},[a,n,l,i,r,o,u,f]}class _l extends ke{constructor(e){super(),Se(this,e,vl,ml,ye,{name:3,enabled:0,knightLShape:1,onlyChessMove:2,expanded:4})}}function nn(s,e,t){const i=s.slice();return i[7]=e[t],i[8]=e,i[9]=t,i}function an(s){let e,t,i,a,n=s[7].toLowerCase()+"",l,r,o,u;function f(){s[5].call(t,s[7])}return{c(){e=L("div"),t=L("input"),i=W(),a=L("label"),l=ue(n),r=W(),this.h()},l(g){e=T(g,"DIV",{class:!0});var b=O(e);t=T(b,"INPUT",{id:!0,type:!0}),i=j(b),a=T(b,"LABEL",{for:!0,class:!0});var w=O(a);l=de(w,n),w.forEach(m),r=j(b),b.forEach(m),this.h()},h(){h(t,"id",s[7]+"Enabled"),h(t,"type","checkbox"),h(a,"for",s[7]+"Enabled"),h(a,"class","select-none"),h(e,"class","mb-2")},m(g,b){B(g,e,b),_(e,t),t.checked=s[1][s[7]],_(e,i),_(e,a),_(a,l),_(e,r),o||(u=J(t,"change",f),o=!0)},p(g,b){s=g,b&18&&(t.checked=s[1][s[7]])},d(g){g&&m(e),o=!1,u()}}}function El(s){let e,t=s[4],i=[];for(let a=0;a<t.length;a+=1)i[a]=an(nn(s,t,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=_e()},l(a){for(let n=0;n<i.length;n+=1)i[n].l(a);e=_e()},m(a,n){for(let l=0;l<i.length;l+=1)i[l].m(a,n);B(a,e,n)},p(a,n){if(n&18){t=a[4];let l;for(l=0;l<t.length;l+=1){const r=nn(a,t,l);i[l]?i[l].p(r,n):(i[l]=an(r),i[l].c(),i[l].m(e.parentNode,e))}for(;l<i.length;l+=1)i[l].d(1);i.length=t.length}},d(a){ft(i,a),a&&m(e)}}}function wl(s){let e,t,i;function a(l){s[6](l)}let n={name:s[2],expanded:s[3],$$slots:{default:[El]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new st({props:n}),Q.push(()=>se(e,"enabled",a)),{c(){he(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,r){be(e,l,r),i=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&8&&(o.expanded=l[3]),r&1026&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ne(()=>t=!1)),e.$set(o)},i(l){i||(H(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){pe(e,l)}}}function Ml(s,e,t){let{name:i="Sounds"}=e,{enabled:a=!1}=e,{settings:n}=e;const l=["MOVE","CAPTURE","CASTLE","UNDO"];let{expanded:r=!1}=e;function o(f){n[f]=this.checked,t(1,n)}function u(f){a=f,t(0,a)}return s.$$set=f=>{"name"in f&&t(2,i=f.name),"enabled"in f&&t(0,a=f.enabled),"settings"in f&&t(1,n=f.settings),"expanded"in f&&t(3,r=f.expanded)},[a,n,i,r,l,o,u]}class kl extends ke{constructor(e){super(),Se(this,e,Ml,wl,ye,{name:2,enabled:0,settings:1,expanded:3})}}function Sl(s){let e,t;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(i){e=Ie(i,"svg",{style:!0,xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var a=O(e);t=Ie(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),O(t).forEach(m),a.forEach(m),this.h()},h(){h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"stroke-width","2"),h(t,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),ce(e,"transform","translate(1px, 0px)"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","h-5"),h(e,"fill","none"),h(e,"viewBox","0 0 24 24"),h(e,"aria-hidden","true"),h(e,"stroke","currentColor")},m(i,a){B(i,e,a),_(e,t)},d(i){i&&m(e)}}}function yl(s){let e,t;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(i){e=Ie(i,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var a=O(e);t=Ie(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),O(t).forEach(m),a.forEach(m),this.h()},h(){h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),h(t,"stroke-width","2"),h(t,"d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","h-5 text-green-500"),h(e,"fill","none"),h(e,"viewBox","0 0 24 24"),h(e,"aria-hidden","true"),h(e,"stroke","currentColor")},m(i,a){B(i,e,a),_(e,t)},d(i){i&&m(e)}}}function Al(s){let e,t,i;function a(r,o){return r[1]?yl:Sl}let n=a(s),l=n(s);return{c(){e=L("button"),l.c(),this.h()},l(r){e=T(r,"BUTTON",{type:!0,class:!0});var o=O(e);l.l(o),o.forEach(m),this.h()},h(){h(e,"type","button"),h(e,"class","box-border rounded-sm bg-slate-800 bg-opacity-40 text-gray-500 transition hover:text-gray-300 focus:z-10 focus:ring-1 focus:ring-blue-600 p-1")},m(r,o){B(r,e,o),l.m(e,null),s[4](e),t||(i=J(e,"click",s[2]),t=!0)},p(r,[o]){n!==(n=a(r))&&(l.d(1),l=n(r),l&&(l.c(),l.m(e,null)))},i:we,o:we,d(r){r&&m(e),l.d(),s[4](null),t=!1,i()}}}function Cl(s,e,t){let{copyText:i}=e,a,n=!1;function l(){navigator.clipboard.writeText(i),t(1,n=!0),setTimeout(()=>{t(1,n=!1)},2e3),a.setAttribute("data-cooltipz-dir","top"),a.setAttribute("aria-label","Copied!"),setTimeout(()=>{a.removeAttribute("aria-label"),a.removeAttribute("data-cooltipz-dir")},2e3)}function r(o){Q[o?"unshift":"push"](()=>{a=o,t(0,a)})}return s.$$set=o=>{"copyText"in o&&t(3,i=o.copyText)},[a,n,l,i,r]}class Pl extends ke{constructor(e){super(),Se(this,e,Cl,Al,ye,{copyText:3})}}function Ll(s){let e,t,i,a,n,l,r;return{c(){e=L("div"),t=L("input"),i=W(),a=L("label"),n=ue("preMoves"),this.h()},l(o){e=T(o,"DIV",{});var u=O(e);t=T(u,"INPUT",{id:!0,type:!0}),i=j(u),a=T(u,"LABEL",{for:!0,class:!0});var f=O(a);n=de(f,"preMoves"),f.forEach(m),u.forEach(m),this.h()},h(){h(t,"id","preMovesEnabled"),h(t,"type","checkbox"),h(a,"for","preMovesEnabled"),h(a,"class","select-none")},m(o,u){B(o,e,u),_(e,t),t.checked=s[1],_(e,i),_(e,a),_(a,n),l||(r=J(t,"change",s[4]),l=!0)},p(o,u){u&2&&(t.checked=o[1])},d(o){o&&m(e),l=!1,r()}}}function Tl(s){let e,t,i;function a(l){s[5](l)}let n={name:s[2],expanded:s[3],$$slots:{default:[Ll]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new st({props:n}),Q.push(()=>se(e,"enabled",a)),{c(){he(e.$$.fragment)},l(l){ge(e.$$.fragment,l)},m(l,r){be(e,l,r),i=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&8&&(o.expanded=l[3]),r&66&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ne(()=>t=!1)),e.$set(o)},i(l){i||(H(e.$$.fragment,l),i=!0)},o(l){G(e.$$.fragment,l),i=!1},d(l){pe(e,l)}}}function Ol(s,e,t){let{name:i="Legal"}=e,{enabled:a=!1}=e,{preMovesEnabled:n=!1}=e,{expanded:l=!1}=e;function r(){n=this.checked,t(1,n)}function o(u){a=u,t(0,a)}return s.$$set=u=>{"name"in u&&t(2,i=u.name),"enabled"in u&&t(0,a=u.enabled),"preMovesEnabled"in u&&t(1,n=u.preMovesEnabled),"expanded"in u&&t(3,l=u.expanded)},[a,n,i,l,r,o]}class Fl extends ke{constructor(e){super(),Se(this,e,Ol,Tl,ye,{name:2,enabled:0,preMovesEnabled:1,expanded:3})}}function Il(s){let e,t,i,a,n,l,r,o,u,f,g,b,w,C,y,S,p,d,c,E,v,k,R,F,I,q,N,$,le,re,z,me,K,X,x,Z,ee,A,D,Y,oe,Me,fe,qe,Pe,Ne,Ee,Le,Re,De,Ve,We,Mt,nt,je,Ke,ze,Ge,kt,pt,St,it,yt,At,Ze,Ct,mt,Pt,Xe,Lt,Ye,at,Tt,It;function M(P){s[5](P)}function U(P){s[6](P)}function ae(P){s[7](P)}function Ae(P){s[8](P)}function Ce(P){s[9](P)}function Be(P){s[10](P)}function lt(P){s[11](P)}function Mn(P){s[12](P)}let Je={expanded:!0};s[0].board.boardTheme!==void 0&&(Je.boardTheme=s[0].board.boardTheme),s[0].board.notation!==void 0&&(Je.notation=s[0].board.notation),s[0].board.flipped!==void 0&&(Je.flipped=s[0].board.flipped),s[0].board.style.shadow!==void 0&&(Je.shadow=s[0].board.style.shadow),s[0].board.style.borderRadius!==void 0&&(Je.borderRadius=s[0].board.style.borderRadius),s[0].board.resizible.enabled!==void 0&&(Je.resizible=s[0].board.resizible.enabled),s[0].board.resizible.min!==void 0&&(Je.min=s[0].board.resizible.min),s[0].board.resizible.max!==void 0&&(Je.max=s[0].board.resizible.max),l=new nl({props:Je}),Q.push(()=>se(l,"boardTheme",M)),Q.push(()=>se(l,"notation",U)),Q.push(()=>se(l,"flipped",ae)),Q.push(()=>se(l,"shadow",Ae)),Q.push(()=>se(l,"borderRadius",Ce)),Q.push(()=>se(l,"resizible",Be)),Q.push(()=>se(l,"min",lt)),Q.push(()=>se(l,"max",Mn));function kn(P){s[13](P)}function Sn(P){s[14](P)}let Ut={expanded:!0};s[0].movable.enabled!==void 0&&(Ut.enabled=s[0].movable.enabled),s[0].movable.color!==void 0&&(Ut.color=s[0].movable.color),S=new rl({props:Ut}),Q.push(()=>se(S,"enabled",kn)),Q.push(()=>se(S,"color",Sn));function yn(P){s[15](P)}function An(P){s[16](P)}function Cn(P){s[17](P)}function Pn(P){s[18](P)}function Ln(P){s[19](P)}let vt={};s[0].draggable.enabled!==void 0&&(vt.enabled=s[0].draggable.enabled),s[0].draggable.ghostPiece.enabled!==void 0&&(vt.ghostPiece=s[0].draggable.ghostPiece.enabled),s[0].draggable.transition.enabled!==void 0&&(vt.transition=s[0].draggable.transition.enabled),s[0].draggable.transition.settings.duration!==void 0&&(vt.duration=s[0].draggable.transition.settings.duration),s[0].draggable.transition.settings.easing!==void 0&&(vt.easing=s[0].draggable.transition.settings.easing),E=new fl({props:vt}),Q.push(()=>se(E,"enabled",yn)),Q.push(()=>se(E,"ghostPiece",An)),Q.push(()=>se(E,"transition",Cn)),Q.push(()=>se(E,"duration",Pn)),Q.push(()=>se(E,"easing",Ln));function Tn(P){s[20](P)}let ns={name:"Selectable",showExpand:!1};s[0].selectable.enabled!==void 0&&(ns.enabled=s[0].selectable.enabled),N=new st({props:ns}),Q.push(()=>se(N,"enabled",Tn));function On(P){s[21](P)}function Fn(P){s[22](P)}let Ht={};s[0].legal.enabled!==void 0&&(Ht.enabled=s[0].legal.enabled),s[0].legal.preMoves.enabled!==void 0&&(Ht.preMovesEnabled=s[0].legal.preMoves.enabled),re=new Fl({props:Ht}),Q.push(()=>se(re,"enabled",On)),Q.push(()=>se(re,"preMovesEnabled",Fn));function In(P){s[23](P)}function qn(P){s[24](P)}let Wt={};s[0].highlight.enabled!==void 0&&(Wt.enabled=s[0].highlight.enabled),s[0].highlight.settings!==void 0&&(Wt.settings=s[0].highlight.settings),X=new bl({props:Wt}),Q.push(()=>se(X,"enabled",In)),Q.push(()=>se(X,"settings",qn));function Rn(P){s[25](P)}function Nn(P){s[26](P)}function Dn(P){s[27](P)}let qt={};s[0].drawTools.enabled!==void 0&&(qt.enabled=s[0].drawTools.enabled),s[0].drawTools.settings.knightLShape!==void 0&&(qt.knightLShape=s[0].drawTools.settings.knightLShape),s[0].drawTools.settings.onlyChessMove!==void 0&&(qt.onlyChessMove=s[0].drawTools.settings.onlyChessMove),A=new _l({props:qt}),Q.push(()=>se(A,"enabled",Rn)),Q.push(()=>se(A,"knightLShape",Nn)),Q.push(()=>se(A,"onlyChessMove",Dn));function zn(P){s[28](P)}function Bn(P){s[29](P)}let jt={};s[0].sounds.enabled!==void 0&&(jt.enabled=s[0].sounds.enabled),s[0].sounds.settings!==void 0&&(jt.settings=s[0].sounds.settings),fe=new kl({props:jt}),Q.push(()=>se(fe,"enabled",zn)),Q.push(()=>se(fe,"settings",Bn));function Vn(P){s[30](P)}let is={name:"Resizible",showExpand:!1};s[0].board.resizible.enabled!==void 0&&(is.enabled=s[0].board.resizible.enabled),Ee=new st({props:is}),Q.push(()=>se(Ee,"enabled",Vn));let Un={config:s[4]};return We=new Ja({props:Un}),s[31](We),Xe=new Pl({props:{copyText:s[3]}}),Ye=new ai({props:{source:s[3],language:"svelte"}}),{c(){e=L("link"),t=W(),i=L("div"),a=L("div"),n=L("div"),he(l.$$.fragment),y=W(),he(S.$$.fragment),c=W(),he(E.$$.fragment),q=W(),he(N.$$.fragment),le=W(),he(re.$$.fragment),K=W(),he(X.$$.fragment),ee=W(),he(A.$$.fragment),Me=W(),he(fe.$$.fragment),Ne=W(),he(Ee.$$.fragment),Re=W(),De=L("div"),Ve=L("div"),he(We.$$.fragment),Mt=W(),nt=L("div"),je=L("div"),Ke=L("div"),ze=L("button"),Ge=L("span"),kt=ue("ts"),St=W(),it=L("span"),yt=ue("/"),At=W(),Ze=L("span"),Ct=ue("js"),Pt=W(),he(Xe.$$.fragment),Lt=W(),he(Ye.$$.fragment),this.h()},l(P){const te=xn('[data-svelte="svelte-tebjht"]',document.head);e=T(te,"LINK",{rel:!0,href:!0}),te.forEach(m),t=j(P),i=T(P,"DIV",{class:!0});var Ue=O(i);a=T(Ue,"DIV",{class:!0});var rt=O(a);n=T(rt,"DIV",{class:!0});var ve=O(n);ge(l.$$.fragment,ve),y=j(ve),ge(S.$$.fragment,ve),c=j(ve),ge(E.$$.fragment,ve),q=j(ve),ge(N.$$.fragment,ve),le=j(ve),ge(re.$$.fragment,ve),K=j(ve),ge(X.$$.fragment,ve),ee=j(ve),ge(A.$$.fragment,ve),Me=j(ve),ge(fe.$$.fragment,ve),Ne=j(ve),ge(Ee.$$.fragment,ve),ve.forEach(m),Re=j(rt),De=T(rt,"DIV",{class:!0});var gt=O(De);Ve=T(gt,"DIV",{class:!0});var _t=O(Ve);ge(We.$$.fragment,_t),_t.forEach(m),Mt=j(gt),nt=T(gt,"DIV",{class:!0});var Et=O(nt);je=T(Et,"DIV",{class:!0});var xe=O(je);Ke=T(xe,"DIV",{class:!0});var ot=O(Ke);ze=T(ot,"BUTTON",{class:!0});var $e=O(ze);Ge=T($e,"SPAN",{class:!0});var Rt=O(Ge);kt=de(Rt,"ts"),Rt.forEach(m),St=j($e),it=T($e,"SPAN",{class:!0});var Ot=O(it);yt=de(Ot,"/"),Ot.forEach(m),At=j($e),Ze=T($e,"SPAN",{class:!0});var Ft=O(Ze);Ct=de(Ft,"js"),Ft.forEach(m),$e.forEach(m),Pt=j(ot),ge(Xe.$$.fragment,ot),ot.forEach(m),Lt=j(xe),ge(Ye.$$.fragment,xe),xe.forEach(m),Et.forEach(m),gt.forEach(m),rt.forEach(m),Ue.forEach(m),this.h()},h(){document.title="Chessboard \u2022 PowChess.com",h(e,"rel","stylesheet"),h(e,"href","prism-one-dark.css"),h(n,"class","flex flex-col gap-2 mx-auto w-60 text-gray-300 text-sm"),h(Ve,"class","w-full lg:w-[var(--boardSize,40rem)]"),h(Ge,"class",pt=s[1]?"text-yellow-600":""),h(it,"class","text-gray-600"),h(Ze,"class",mt=s[1]?"":"text-yellow-600"),h(ze,"class","text-gray-500 font-mono flex text-[0.8rem] mt-1"),h(Ke,"class","absolute right-2 top-2 flex gap-4"),h(je,"class","shadow-lg rounded "),h(nt,"class","row-start-2 relative"),h(De,"class","grid grid-rows-[min-content_auto] gap-10"),h(a,"class","lg:col-start-2 gap-10 grid lg:grid-cols-[auto_auto]"),h(i,"class","my-10 grid grid-cols-center")},m(P,te){_(document.head,e),B(P,t,te),B(P,i,te),_(i,a),_(a,n),be(l,n,null),_(n,y),be(S,n,null),_(n,c),be(E,n,null),_(n,q),be(N,n,null),_(n,le),be(re,n,null),_(n,K),be(X,n,null),_(n,ee),be(A,n,null),_(n,Me),be(fe,n,null),_(n,Ne),be(Ee,n,null),_(a,Re),_(a,De),_(De,Ve),be(We,Ve,null),_(De,Mt),_(De,nt),_(nt,je),_(je,Ke),_(Ke,ze),_(ze,Ge),_(Ge,kt),_(ze,St),_(ze,it),_(it,yt),_(ze,At),_(ze,Ze),_(Ze,Ct),_(Ke,Pt),be(Xe,Ke,null),_(je,Lt),be(Ye,je,null),at=!0,Tt||(It=J(ze,"click",s[32]),Tt=!0)},p(P,te){const Ue={};!r&&te[0]&1&&(r=!0,Ue.boardTheme=P[0].board.boardTheme,ne(()=>r=!1)),!o&&te[0]&1&&(o=!0,Ue.notation=P[0].board.notation,ne(()=>o=!1)),!u&&te[0]&1&&(u=!0,Ue.flipped=P[0].board.flipped,ne(()=>u=!1)),!f&&te[0]&1&&(f=!0,Ue.shadow=P[0].board.style.shadow,ne(()=>f=!1)),!g&&te[0]&1&&(g=!0,Ue.borderRadius=P[0].board.style.borderRadius,ne(()=>g=!1)),!b&&te[0]&1&&(b=!0,Ue.resizible=P[0].board.resizible.enabled,ne(()=>b=!1)),!w&&te[0]&1&&(w=!0,Ue.min=P[0].board.resizible.min,ne(()=>w=!1)),!C&&te[0]&1&&(C=!0,Ue.max=P[0].board.resizible.max,ne(()=>C=!1)),l.$set(Ue);const rt={};!p&&te[0]&1&&(p=!0,rt.enabled=P[0].movable.enabled,ne(()=>p=!1)),!d&&te[0]&1&&(d=!0,rt.color=P[0].movable.color,ne(()=>d=!1)),S.$set(rt);const ve={};!v&&te[0]&1&&(v=!0,ve.enabled=P[0].draggable.enabled,ne(()=>v=!1)),!k&&te[0]&1&&(k=!0,ve.ghostPiece=P[0].draggable.ghostPiece.enabled,ne(()=>k=!1)),!R&&te[0]&1&&(R=!0,ve.transition=P[0].draggable.transition.enabled,ne(()=>R=!1)),!F&&te[0]&1&&(F=!0,ve.duration=P[0].draggable.transition.settings.duration,ne(()=>F=!1)),!I&&te[0]&1&&(I=!0,ve.easing=P[0].draggable.transition.settings.easing,ne(()=>I=!1)),E.$set(ve);const gt={};!$&&te[0]&1&&($=!0,gt.enabled=P[0].selectable.enabled,ne(()=>$=!1)),N.$set(gt);const _t={};!z&&te[0]&1&&(z=!0,_t.enabled=P[0].legal.enabled,ne(()=>z=!1)),!me&&te[0]&1&&(me=!0,_t.preMovesEnabled=P[0].legal.preMoves.enabled,ne(()=>me=!1)),re.$set(_t);const Et={};!x&&te[0]&1&&(x=!0,Et.enabled=P[0].highlight.enabled,ne(()=>x=!1)),!Z&&te[0]&1&&(Z=!0,Et.settings=P[0].highlight.settings,ne(()=>Z=!1)),X.$set(Et);const xe={};!D&&te[0]&1&&(D=!0,xe.enabled=P[0].drawTools.enabled,ne(()=>D=!1)),!Y&&te[0]&1&&(Y=!0,xe.knightLShape=P[0].drawTools.settings.knightLShape,ne(()=>Y=!1)),!oe&&te[0]&1&&(oe=!0,xe.onlyChessMove=P[0].drawTools.settings.onlyChessMove,ne(()=>oe=!1)),A.$set(xe);const ot={};!qe&&te[0]&1&&(qe=!0,ot.enabled=P[0].sounds.enabled,ne(()=>qe=!1)),!Pe&&te[0]&1&&(Pe=!0,ot.settings=P[0].sounds.settings,ne(()=>Pe=!1)),fe.$set(ot);const $e={};!Le&&te[0]&1&&(Le=!0,$e.enabled=P[0].board.resizible.enabled,ne(()=>Le=!1)),Ee.$set($e);const Rt={};We.$set(Rt),(!at||te[0]&2&&pt!==(pt=P[1]?"text-yellow-600":""))&&h(Ge,"class",pt),(!at||te[0]&2&&mt!==(mt=P[1]?"":"text-yellow-600"))&&h(Ze,"class",mt);const Ot={};te[0]&8&&(Ot.copyText=P[3]),Xe.$set(Ot);const Ft={};te[0]&8&&(Ft.source=P[3]),Ye.$set(Ft)},i(P){at||(H(l.$$.fragment,P),H(S.$$.fragment,P),H(E.$$.fragment,P),H(N.$$.fragment,P),H(re.$$.fragment,P),H(X.$$.fragment,P),H(A.$$.fragment,P),H(fe.$$.fragment,P),H(Ee.$$.fragment,P),H(We.$$.fragment,P),H(Xe.$$.fragment,P),H(Ye.$$.fragment,P),at=!0)},o(P){G(l.$$.fragment,P),G(S.$$.fragment,P),G(E.$$.fragment,P),G(N.$$.fragment,P),G(re.$$.fragment,P),G(X.$$.fragment,P),G(A.$$.fragment,P),G(fe.$$.fragment,P),G(Ee.$$.fragment,P),G(We.$$.fragment,P),G(Xe.$$.fragment,P),G(Ye.$$.fragment,P),at=!1},d(P){m(e),P&&m(t),P&&m(i),pe(l),pe(S),pe(E),pe(N),pe(re),pe(X),pe(A),pe(fe),pe(Ee),s[31](null),pe(We),pe(Xe),pe(Ye),Tt=!1,It()}}}function ql(s,e,t){const i={movable:ie.WHITE,board:{style:{shadow:!0,borderRadius:"0.25rem"},resizible:!0}};let a,n=new mn(i),l=!1,r=!0,o="";es(()=>{l=!0,t(0,n=a.getState())});const u=(A,D)=>{const Y=A.getConfig(),oe=`
	import type { ChessboardConfig } from '@powchess/chessboard/boardConfig';`;l&&a.setState(A);let Me=[],fe=JSON.stringify(Y,(Ee,Le)=>typeof Le=="function"?(Me.push(Le.toString()),`{function_${Me.length-1}}`):Le,4).replace(/"([^"]+)":/g,"$1:").replaceAll(`
`,`
	`).replace(/"\{function_(\d+)\}"/g,(Ee,Le)=>Me[Le]);const qe=`
	import { Color } from '@powchess/chessboard/enums';`;D&&(fe=fe.replaceAll("movable: 0","movable: Color.WHITE").replaceAll("movable: 1","movable: Color.BLACK").replaceAll("movable: 2","movable: Color.BOTH"));function Pe(){return fe.includes("movable: Color.WHITE")||fe.includes("movable: Color.BLACK")||fe.includes("movable: Color.BOTH")}return`<script${D?' lang="ts"':""}>
	import Chessboard from '@powchess/chessboard';${D?oe:""}${Pe()&&D?qe:""}

	const config${D?": ChessboardConfig":""} = ${fe};
<\/script>

<Chessboard {config} />`};function f(A){s.$$.not_equal(n.board.boardTheme,A)&&(n.board.boardTheme=A,t(0,n))}function g(A){s.$$.not_equal(n.board.notation,A)&&(n.board.notation=A,t(0,n))}function b(A){s.$$.not_equal(n.board.flipped,A)&&(n.board.flipped=A,t(0,n))}function w(A){s.$$.not_equal(n.board.style.shadow,A)&&(n.board.style.shadow=A,t(0,n))}function C(A){s.$$.not_equal(n.board.style.borderRadius,A)&&(n.board.style.borderRadius=A,t(0,n))}function y(A){s.$$.not_equal(n.board.resizible.enabled,A)&&(n.board.resizible.enabled=A,t(0,n))}function S(A){s.$$.not_equal(n.board.resizible.min,A)&&(n.board.resizible.min=A,t(0,n))}function p(A){s.$$.not_equal(n.board.resizible.max,A)&&(n.board.resizible.max=A,t(0,n))}function d(A){s.$$.not_equal(n.movable.enabled,A)&&(n.movable.enabled=A,t(0,n))}function c(A){s.$$.not_equal(n.movable.color,A)&&(n.movable.color=A,t(0,n))}function E(A){s.$$.not_equal(n.draggable.enabled,A)&&(n.draggable.enabled=A,t(0,n))}function v(A){s.$$.not_equal(n.draggable.ghostPiece.enabled,A)&&(n.draggable.ghostPiece.enabled=A,t(0,n))}function k(A){s.$$.not_equal(n.draggable.transition.enabled,A)&&(n.draggable.transition.enabled=A,t(0,n))}function R(A){s.$$.not_equal(n.draggable.transition.settings.duration,A)&&(n.draggable.transition.settings.duration=A,t(0,n))}function F(A){s.$$.not_equal(n.draggable.transition.settings.easing,A)&&(n.draggable.transition.settings.easing=A,t(0,n))}function I(A){s.$$.not_equal(n.selectable.enabled,A)&&(n.selectable.enabled=A,t(0,n))}function q(A){s.$$.not_equal(n.legal.enabled,A)&&(n.legal.enabled=A,t(0,n))}function N(A){s.$$.not_equal(n.legal.preMoves.enabled,A)&&(n.legal.preMoves.enabled=A,t(0,n))}function $(A){s.$$.not_equal(n.highlight.enabled,A)&&(n.highlight.enabled=A,t(0,n))}function le(A){s.$$.not_equal(n.highlight.settings,A)&&(n.highlight.settings=A,t(0,n))}function re(A){s.$$.not_equal(n.drawTools.enabled,A)&&(n.drawTools.enabled=A,t(0,n))}function z(A){s.$$.not_equal(n.drawTools.settings.knightLShape,A)&&(n.drawTools.settings.knightLShape=A,t(0,n))}function me(A){s.$$.not_equal(n.drawTools.settings.onlyChessMove,A)&&(n.drawTools.settings.onlyChessMove=A,t(0,n))}function K(A){s.$$.not_equal(n.sounds.enabled,A)&&(n.sounds.enabled=A,t(0,n))}function X(A){s.$$.not_equal(n.sounds.settings,A)&&(n.sounds.settings=A,t(0,n))}function x(A){s.$$.not_equal(n.board.resizible.enabled,A)&&(n.board.resizible.enabled=A,t(0,n))}function Z(A){Q[A?"unshift":"push"](()=>{a=A,t(2,a)})}const ee=()=>{t(1,r=!r)};return s.$$.update=()=>{s.$$.dirty[0]&3&&t(3,o=u(n,r))},[n,r,a,o,i,f,g,b,w,C,y,S,p,d,c,E,v,k,R,F,I,q,N,$,le,re,z,me,K,X,x,Z,ee]}class Dl extends ke{constructor(e){super(),Se(this,e,ql,Il,ye,{},null,[-1,-1])}}export{Dl as default};
