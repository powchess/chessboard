import{S as ze,i as He,s as Ke,B as Ui,k,a as V,l as M,m as C,h as p,c as N,p as ie,n as d,b as z,F as h,C as Bi,D as zi,E as Hi,f as W,t as Q,H as ds,I as ka,J as Pe,K as Ki,e as le,L as Wi,q as G,r as X,u as Js,A as ue,M as ct,N as Ma,O as Ai,P as ji,Q as Gi,R as Sa,T as St,U as $s,V as Y,W as ea,X as At,Y as ta,G as Xi,Z as Mt,_ as it,$ as nt,o as sa,g as Re,d as De,a0 as Kt,a1 as Yi,a2 as Qi,a3 as Ws,v as Ve,w as Ne,x as Ue,a4 as js,y as Be,a5 as xi,a6 as Zi,a7 as Aa,a8 as Ji,a9 as yi,z as $i,aa as Pi,ab as en,ac as It,ad as ya,ae as Ci,af as Ks}from"../../chunks/index-e66a4755.js";import{w as tn}from"../../chunks/index-d15955ac.js";typeof window<"u"&&(window.Prism&&console.warn("Prism has already been initiated. Please ensure that svelte-prism is imported first."),window.Prism=window.Prism||{},window.Prism.manual=!0);var Pa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Li={exports:{}};(function(a){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var e=function(i){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},l={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function c(f){return f instanceof o?new o(f.type,c(f.content),f.alias):Array.isArray(f)?f.map(c):f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(c){return Object.prototype.toString.call(c).slice(8,-1)},objId:function(c){return c.__id||Object.defineProperty(c,"__id",{value:++n}),c.__id},clone:function c(f,P){P=P||{};var w,y;switch(l.util.type(f)){case"Object":if(y=l.util.objId(f),P[y])return P[y];w={},P[y]=w;for(var I in f)f.hasOwnProperty(I)&&(w[I]=c(f[I],P));return w;case"Array":return y=l.util.objId(f),P[y]?P[y]:(w=[],P[y]=w,f.forEach(function(R,T){w[T]=c(R,P)}),w);default:return f}},getLanguage:function(c){for(;c;){var f=s.exec(c.className);if(f)return f[1].toLowerCase();c=c.parentElement}return"none"},setLanguage:function(c,f){c.className=c.className.replace(RegExp(s,"gi"),""),c.classList.add("language-"+f)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(w){var c=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(w.stack)||[])[1];if(c){var f=document.getElementsByTagName("script");for(var P in f)if(f[P].src==c)return f[P]}return null}},isActive:function(c,f,P){for(var w="no-"+f;c;){var y=c.classList;if(y.contains(f))return!0;if(y.contains(w))return!1;c=c.parentElement}return!!P}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(c,f){var P=l.util.clone(l.languages[c]);for(var w in f)P[w]=f[w];return P},insertBefore:function(c,f,P,w){w=w||l.languages;var y=w[c],I={};for(var R in y)if(y.hasOwnProperty(R)){if(R==f)for(var T in P)P.hasOwnProperty(T)&&(I[T]=P[T]);P.hasOwnProperty(R)||(I[R]=y[R])}var F=w[c];return w[c]=I,l.languages.DFS(l.languages,function(S,j){j===F&&S!=c&&(this[S]=I)}),I},DFS:function c(f,P,w,y){y=y||{};var I=l.util.objId;for(var R in f)if(f.hasOwnProperty(R)){P.call(f,R,f[R],w||R);var T=f[R],F=l.util.type(T);F==="Object"&&!y[I(T)]?(y[I(T)]=!0,c(T,P,null,y)):F==="Array"&&!y[I(T)]&&(y[I(T)]=!0,c(T,P,R,y))}}},plugins:{},highlightAll:function(c,f){l.highlightAllUnder(document,c,f)},highlightAllUnder:function(c,f,P){var w={callback:P,container:c,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",w),w.elements=Array.prototype.slice.apply(w.container.querySelectorAll(w.selector)),l.hooks.run("before-all-elements-highlight",w);for(var y=0,I;I=w.elements[y++];)l.highlightElement(I,f===!0,w.callback)},highlightElement:function(c,f,P){var w=l.util.getLanguage(c),y=l.languages[w];l.util.setLanguage(c,w);var I=c.parentElement;I&&I.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(I,w);var R=c.textContent,T={element:c,language:w,grammar:y,code:R};function F(j){T.highlightedCode=j,l.hooks.run("before-insert",T),T.element.innerHTML=T.highlightedCode,l.hooks.run("after-highlight",T),l.hooks.run("complete",T),P&&P.call(T.element)}if(l.hooks.run("before-sanity-check",T),I=T.element.parentElement,I&&I.nodeName.toLowerCase()==="pre"&&!I.hasAttribute("tabindex")&&I.setAttribute("tabindex","0"),!T.code){l.hooks.run("complete",T),P&&P.call(T.element);return}if(l.hooks.run("before-highlight",T),!T.grammar){F(l.util.encode(T.code));return}if(f&&i.Worker){var S=new Worker(l.filename);S.onmessage=function(j){F(j.data)},S.postMessage(JSON.stringify({language:T.language,code:T.code,immediateClose:!0}))}else F(l.highlight(T.code,T.grammar,T.language))},highlight:function(c,f,P){var w={code:c,grammar:f,language:P};if(l.hooks.run("before-tokenize",w),!w.grammar)throw new Error('The language "'+w.language+'" has no grammar.');return w.tokens=l.tokenize(w.code,w.grammar),l.hooks.run("after-tokenize",w),o.stringify(l.util.encode(w.tokens),w.language)},tokenize:function(c,f){var P=f.rest;if(P){for(var w in P)f[w]=P[w];delete f.rest}var y=new b;return m(y,y.head,c),g(c,y,f,y.head,0),O(y)},hooks:{all:{},add:function(c,f){var P=l.hooks.all;P[c]=P[c]||[],P[c].push(f)},run:function(c,f){var P=l.hooks.all[c];if(!(!P||!P.length))for(var w=0,y;y=P[w++];)y(f)}},Token:o};i.Prism=l;function o(c,f,P,w){this.type=c,this.content=f,this.alias=P,this.length=(w||"").length|0}o.stringify=function c(f,P){if(typeof f=="string")return f;if(Array.isArray(f)){var w="";return f.forEach(function(F){w+=c(F,P)}),w}var y={type:f.type,content:c(f.content,P),tag:"span",classes:["token",f.type],attributes:{},language:P},I=f.alias;I&&(Array.isArray(I)?Array.prototype.push.apply(y.classes,I):y.classes.push(I)),l.hooks.run("wrap",y);var R="";for(var T in y.attributes)R+=" "+T+'="'+(y.attributes[T]||"").replace(/"/g,"&quot;")+'"';return"<"+y.tag+' class="'+y.classes.join(" ")+'"'+R+">"+y.content+"</"+y.tag+">"};function u(c,f,P,w){c.lastIndex=f;var y=c.exec(P);if(y&&w&&y[1]){var I=y[1].length;y.index+=I,y[0]=y[0].slice(I)}return y}function g(c,f,P,w,y,I){for(var R in P)if(!(!P.hasOwnProperty(R)||!P[R])){var T=P[R];T=Array.isArray(T)?T:[T];for(var F=0;F<T.length;++F){if(I&&I.cause==R+","+F)return;var S=T[F],j=S.inside,ae=!!S.lookbehind,se=!!S.greedy,Ee=S.alias;if(se&&!S.pattern.global){var Ce=S.pattern.toString().match(/[imsuy]*$/)[0];S.pattern=RegExp(S.pattern.source,Ce+"g")}for(var D=S.pattern||S,H=w.next,K=y;H!==f.tail&&!(I&&K>=I.reach);K+=H.value.length,H=H.next){var x=H.value;if(f.length>c.length)return;if(!(x instanceof o)){var ne=1,re;if(se){if(re=u(D,K,c,ae),!re||re.index>=c.length)break;var Le=re.index,we=re.index+re[0].length,ke=K;for(ke+=H.value.length;Le>=ke;)H=H.next,ke+=H.value.length;if(ke-=H.value.length,K=ke,H.value instanceof o)continue;for(var Oe=H;Oe!==f.tail&&(ke<we||typeof Oe.value=="string");Oe=Oe.next)ne++,ke+=Oe.value.length;ne--,x=c.slice(K,ke),re.index-=K}else if(re=u(D,0,x,ae),!re)continue;var Le=re.index,Me=re[0],We=x.slice(0,Le),Se=x.slice(Le+Me.length),Ae=K+x.length;I&&Ae>I.reach&&(I.reach=Ae);var de=H.prev;We&&(de=m(f,de,We),K+=We.length),_(f,de,ne);var dt=new o(R,j?l.tokenize(Me,j):Me,Ee,Me);if(H=m(f,de,dt),Se&&m(f,H,Se),ne>1){var ye={cause:R+","+F,reach:Ae};g(c,f,P,H.prev,K,ye),I&&ye.reach>I.reach&&(I.reach=ye.reach)}}}}}}function b(){var c={value:null,prev:null,next:null},f={value:null,prev:c,next:null};c.next=f,this.head=c,this.tail=f,this.length=0}function m(c,f,P){var w=f.next,y={value:P,prev:f,next:w};return f.next=y,w.prev=y,c.length++,y}function _(c,f,P){for(var w=f.next,y=0;y<P&&w!==c.tail;y++)w=w.next;f.next=w,w.prev=f,c.length-=y}function O(c){for(var f=[],P=c.head.next;P!==c.tail;)f.push(P.value),P=P.next;return f}if(!i.document)return i.addEventListener&&(l.disableWorkerMessageHandler||i.addEventListener("message",function(c){var f=JSON.parse(c.data),P=f.language,w=f.code,y=f.immediateClose;i.postMessage(l.highlight(w,l.languages[P],P)),y&&i.close()},!1)),l;var L=l.util.currentScript();L&&(l.filename=L.src,L.hasAttribute("data-manual")&&(l.manual=!0));function A(){l.manual||l.highlightAll()}if(!l.manual){var E=document.readyState;E==="loading"||E==="interactive"&&L&&L.defer?document.addEventListener("DOMContentLoaded",A):window.requestAnimationFrame?window.requestAnimationFrame(A):window.setTimeout(A,16)}return l}(t);a.exports&&(a.exports=e),typeof Pa<"u"&&(Pa.Prism=e),e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(s,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};l["language-"+n]={pattern:/[\s\S]+/,inside:e.languages[n]};var o={};o[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:l},e.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(i,s){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:e.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml,function(i){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var n=i.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(e),e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript,function(){if(typeof e>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading\u2026",s=function(L,A){return"\u2716 Error "+L+" while fetching file: "+A},n="\u2716 Error: File does not exist or is empty",r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",o="loading",u="loaded",g="failed",b="pre[data-src]:not(["+l+'="'+u+'"]):not(['+l+'="'+o+'"])';function m(L,A,E){var c=new XMLHttpRequest;c.open("GET",L,!0),c.onreadystatechange=function(){c.readyState==4&&(c.status<400&&c.responseText?A(c.responseText):c.status>=400?E(s(c.status,c.statusText)):E(n))},c.send(null)}function _(L){var A=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(L||"");if(A){var E=Number(A[1]),c=A[2],f=A[3];return c?f?[E,Number(f)]:[E,void 0]:[E,E]}}e.hooks.add("before-highlightall",function(L){L.selector+=", "+b}),e.hooks.add("before-sanity-check",function(L){var A=L.element;if(A.matches(b)){L.code="",A.setAttribute(l,o);var E=A.appendChild(document.createElement("CODE"));E.textContent=i;var c=A.getAttribute("data-src"),f=L.language;if(f==="none"){var P=(/\.(\w+)$/.exec(c)||[,"none"])[1];f=r[P]||P}e.util.setLanguage(E,f),e.util.setLanguage(A,f);var w=e.plugins.autoloader;w&&w.loadLanguages(f),m(c,function(y){A.setAttribute(l,u);var I=_(A.getAttribute("data-range"));if(I){var R=y.split(/\r\n?|\n/g),T=I[0],F=I[1]==null?R.length:I[1];T<0&&(T+=R.length),T=Math.max(0,Math.min(T-1,R.length)),F<0&&(F+=R.length),F=Math.max(0,Math.min(F,R.length)),y=R.slice(T,F).join(`
`),A.hasAttribute("data-start")||A.setAttribute("data-start",String(T+1))}E.textContent=y,e.highlightElement(E)},function(y){A.setAttribute(l,g),E.textContent=y})}}),e.plugins.fileHighlight={highlight:function(A){for(var E=(A||document).querySelectorAll(b),c=0,f;f=E[c++];)e.highlightElement(f)}};var O=!1;e.fileHighlight=function(){O||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),O=!0),e.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Li);const Ti=Li.exports,Ca="(if|else if|await|then|catch|each|html|debug)";Prism.languages.svelte=Prism.languages.extend("markup",{each:{pattern:new RegExp("{[#/]each(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{"language-javascript":[{pattern:/(as[\s\S]*)\([\s\S]*\)(?=\s*\})/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(as[\s]*)[\s\S]*(?=\s*)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(#each[\s]*)[\s\S]*(?=as)/,lookbehind:!0,inside:Prism.languages.javascript}],keyword:/[#/]each|as/,punctuation:/{|}/}},block:{pattern:new RegExp("{[#:/@]/s"+Ca+"(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{punctuation:/^{|}$/,keyword:[new RegExp("[#:/@]"+Ca+"( )*"),/as/,/then/],"language-javascript":{pattern:/[\s\S]*/,inside:Prism.languages.javascript}}},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?:"[^"]*"|'[^']*'|{[\s\S]+?}(?=[\s/>])))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,inside:Prism.languages.javascript},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],"language-javascript":{pattern:/{[\s\S]+}/,inside:Prism.languages.javascript}}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,lookbehind:!0,inside:Prism.languages.javascript}});Prism.languages.svelte.tag.inside["attr-value"].inside.entity=Prism.languages.svelte.entity;Prism.hooks.add("wrap",a=>{a.type==="entity"&&(a.attributes.title=a.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.svelte.tag,"addInlined",{value:function(t,e){const i={};i["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[e]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;const s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};s["language-"+e]={pattern:/[\s\S]+/,inside:Prism.languages[e]};const n={};n[t]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:s},Prism.languages.insertBefore("svelte","cdata",n)}});Prism.languages.svelte.tag.addInlined("style","css");Prism.languages.svelte.tag.addInlined("script","javascript");function sn(a){let t,e;return{c(){t=new Ki(!1),e=le(),this.h()},l(i){t=Wi(i,!1),e=le(),this.h()},h(){t.a=e},m(i,s){t.m(a[2],i,s),z(i,e,s)},p(i,s){s&4&&t.p(i[2])},d(i){i&&p(e),i&&t.d()}}}function an(a){let t;return{c(){t=G(a[2])},l(e){t=X(e,a[2])},m(e,i){z(e,t,i)},p(e,i){i&4&&Js(t,e[2])},d(e){e&&p(t)}}}function nn(a){let t,e,i,s,n,r,l;const o=a[6].default,u=Ui(o,a,a[5],null);function g(_,O){return _[0]==="none"?an:sn}let b=g(a),m=b(a);return{c(){t=k("code"),u&&u.c(),e=V(),i=k("pre"),s=k("code"),m.c(),this.h()},l(_){t=M(_,"CODE",{style:!0});var O=C(t);u&&u.l(O),O.forEach(p),e=N(_),i=M(_,"PRE",{class:!0,"command-line":!0,"data-output":!0});var L=C(i);s=M(L,"CODE",{class:!0});var A=C(s);m.l(A),A.forEach(p),L.forEach(p),this.h()},h(){ie(t,"display","none"),d(s,"class",n="language-"+a[0]),d(i,"class",r="language-"+a[0]),d(i,"command-line",""),d(i,"data-output","2-17")},m(_,O){z(_,t,O),u&&u.m(t,null),a[7](t),z(_,e,O),z(_,i,O),h(i,s),m.m(s,null),l=!0},p(_,[O]){u&&u.p&&(!l||O&32)&&Bi(u,o,_,_[5],l?Hi(o,_[5],O,null):zi(_[5]),null),b===(b=g(_))&&m?m.p(_,O):(m.d(1),m=b(_),m&&(m.c(),m.m(s,null))),(!l||O&1&&n!==(n="language-"+_[0]))&&d(s,"class",n),(!l||O&1&&r!==(r="language-"+_[0]))&&d(i,"class",r)},i(_){l||(W(u,_),l=!0)},o(_){Q(u,_),l=!1},d(_){_&&p(t),u&&u.d(_),a[7](null),_&&p(e),_&&p(i),m.d()}}}const La=Ti;Ti.highlightElement;const ln={transform:a=>a};function rn(a,t,e){let{$$slots:i={},$$scope:s}=t,{language:n="javascript"}=t,{source:r=""}=t,{transform:l=m=>m}=t,o,u;function g(){const m=La.languages[n];let _=r||o.textContent;_=ln.transform(_),_=l(_),e(2,u=n==="none"?_:La.highlight(_,m,n))}function b(m){Pe[m?"unshift":"push"](()=>{o=m,e(1,o)})}return a.$$set=m=>{e(9,t=ds(ds({},t),ka(m))),"language"in m&&e(0,n=m.language),"source"in m&&e(3,r=m.source),"transform"in m&&e(4,l=m.transform),"$$scope"in m&&e(5,s=m.$$scope)},a.$$.update=()=>{t&&(r||o)&&g()},t=ka(t),[n,o,u,r,l,s,i,b]}class on extends ze{constructor(t){super(),He(this,t,rn,nn,Ke,{language:0,source:3,transform:4})}}var $=(a=>(a[a.WHITE=0]="WHITE",a[a.BLACK=1]="BLACK",a[a.BOTH=2]="BOTH",a[a.SPECTATOR=3]="SPECTATOR",a[a.SERVER=4]="SERVER",a))($||{}),q=(a=>(a[a.LEGAL=0]="LEGAL",a[a.LEGALHOVER=1]="LEGALHOVER",a[a.CHECK=2]="CHECK",a[a.MOVE=3]="MOVE",a[a.NEXTMOVE=4]="NEXTMOVE",a[a.PREMOVE=5]="PREMOVE",a[a.PREMOVEHOVER=6]="PREMOVEHOVER",a[a.SELECT=7]="SELECT",a))(q||{});class un{constructor(t){this.defaultState={boardTheme:"standard",piecesTheme:"standard",flipped:!1,notation:!0,shadow:!1,startFen:vn,size:0},this.setConfigSettings=e=>{e!==void 0&&(e.boardTheme!==void 0&&(this.boardTheme=e.boardTheme),e.piecesTheme!==void 0&&(this.piecesTheme=e.piecesTheme),e.flipped!==void 0&&(this.flipped=e.flipped),e.notation!==void 0&&(this.notation=e.notation),e.shadow!==void 0&&(this.shadow=e.shadow),e.startFen!==void 0&&(this.startFen=e.startFen))},this.getConfig=()=>{const e={...this.boardTheme!==this.defaultState.boardTheme&&{boardTheme:this.boardTheme},...this.piecesTheme!==this.defaultState.piecesTheme&&{piecesTheme:this.piecesTheme},...this.flipped!==this.defaultState.flipped&&{flipped:this.flipped},...this.notation!==this.defaultState.notation&&{notation:this.notation},...this.shadow!==this.defaultState.shadow&&{shadow:this.shadow},...this.startFen!==this.defaultState.startFen&&{startFen:this.startFen}};if(Object.keys(e).length!==0)return e},this.boardTheme=this.defaultState.boardTheme,this.piecesTheme=this.defaultState.piecesTheme,this.flipped=this.defaultState.flipped,this.notation=this.defaultState.notation,this.shadow=this.defaultState.shadow,this.startFen=this.defaultState.startFen,this.size=this.defaultState.size,this.setConfigSettings(t)}}class Oi{constructor(t){this.defaultState={enabled:!0,color:$.BOTH},this.setConfigSettings=e=>{switch(e){case!0:this.enabled=!0,this.color=$.BOTH;break;case!1:this.enabled=!1;break;case $.WHITE:this.enabled=!0,this.color=$.WHITE;break;case $.BLACK:this.enabled=!0,this.color=$.BLACK;break}},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.color!==this.defaultState.color)return this.color;if(this.enabled&&!this.defaultState.enabled)return this.color;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.color=this.defaultState.color,this.setConfigSettings(t)}}class cn{constructor(t){this.defaultState={enabled:!0,ghostPiece:{enabled:!0,piece:void 0},transition:{enabled:!0,settings:{duration:120,easing:"cubicInOut"}}},this.setConfigSettings=e=>{var i,s,n,r;e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,(e==null?void 0:e.ghostPiece)!==void 0&&(this.ghostPiece.enabled=e.ghostPiece),e.transition!==void 0&&((e==null?void 0:e.transition)===!0?this.transition.enabled=!0:(e==null?void 0:e.transition)===!1?this.transition.enabled=!1:(this.transition.enabled=!0,(i=e==null?void 0:e.transition)!=null&&i.duration&&(this.transition.settings.duration=(s=e==null?void 0:e.transition)==null?void 0:s.duration),(n=e==null?void 0:e.transition)!=null&&n.easing&&(this.transition.settings.easing=(r=e==null?void 0:e.transition)==null?void 0:r.easing)))))},this.getConfig=()=>{const e={},i={};if(this.enabled&&this.defaultState.enabled&&(this.ghostPiece.enabled!==this.defaultState.ghostPiece.enabled&&(e.ghostPiece=this.ghostPiece.enabled),this.transition.enabled&&this.defaultState.transition.enabled&&(this.transition.settings.duration!==this.defaultState.transition.settings.duration&&(i.duration=this.transition.settings.duration),this.transition.settings.easing!==this.defaultState.transition.settings.easing&&(i.easing=this.transition.settings.easing),Object.keys(i).length!==0&&(e.transition=i)),!this.transition.enabled&&this.defaultState.transition.enabled&&(e.transition=!1),Object.keys(e).length!==0))return e;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.ghostPiece={...this.defaultState.ghostPiece},this.transition={enabled:this.defaultState.transition.enabled,settings:{...this.defaultState.transition.settings}},this.setConfigSettings(t)}}class dn{constructor(t){this.defaultState={enabled:!0,selectedPiece:void 0},this.setConfigSettings=e=>{e!==void 0&&(this.enabled=e)},this.getConfig=()=>{if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.selectedPiece=this.defaultState.selectedPiece,this.setConfigSettings(t)}}class hn{constructor(t){this.defaultState={enabled:!1,whiteToMove:!0,moves:[],settings:{allowPromotion:!0,allowEnPassant:!0,allowCastling:!0},preMoves:{enabled:!1,moves:[],curMove:""},lastMove:""},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.settings&&(e.settings.allowCastling!==void 0&&(this.settings.allowCastling=e.settings.allowCastling),e.settings.allowEnPassant!==void 0&&(this.settings.allowEnPassant=e.settings.allowEnPassant),e.settings.allowPromotion!==void 0&&(this.settings.allowPromotion=e.settings.allowPromotion)),e.preMoves!==void 0&&(this.preMoves.enabled=e.preMoves)))},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.preMoves.enabled!==this.defaultState.preMoves.enabled)return{preMoves:this.preMoves.enabled};if(this.enabled!==this.defaultState.enabled)return this.preMoves.enabled!==this.defaultState.preMoves.enabled?{preMoves:this.preMoves.enabled}:this.enabled},this.enabled=this.defaultState.enabled,this.whiteToMove=this.defaultState.whiteToMove,this.moves=JSON.parse(JSON.stringify(this.defaultState.moves)),this.settings={...this.defaultState.settings},this.preMoves={enabled:this.defaultState.preMoves.enabled,moves:[...this.defaultState.preMoves.moves],curMove:this.defaultState.preMoves.curMove},this.lastMove=this.defaultState.lastMove,this.setConfigSettings(t)}}class fn{constructor(t){this.defaultState={enabled:!0,settings:{select:!0,legal:!0,move:!0,preMove:!1,nextMove:!1,check:!0}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.check!==void 0&&(this.settings.check=e.check),e.legal!==void 0&&(this.settings.legal=e.legal),e.move!==void 0&&(this.settings.move=e.move),e.nextMove!==void 0&&(this.settings.nextMove=e.nextMove),e.preMove!==void 0&&(this.settings.preMove=e.preMove),e.select!==void 0&&(this.settings.select=e.select)))},this.getConfig=()=>{const e={},i=["select","legal","move","preMove","nextMove","check"];if(this.enabled&&this.defaultState.enabled&&(i.forEach(s=>{this.settings[s]!==this.defaultState.settings[s]&&(e[s]=this.settings[s])}),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},this.setConfigSettings(t)}}class gn{constructor(t){this.defaultState={enabled:!0,engineArrows:[],settings:{LshapeKnightMove:!0,onlyChessMove:!1}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.LshapeKnightMove!==void 0&&(this.settings.LshapeKnightMove=e.LshapeKnightMove),e.onlyChessMove!==void 0&&(this.settings.onlyChessMove=e.onlyChessMove)))},this.getConfig=()=>{const e={};if(this.enabled&&this.defaultState.enabled&&(this.settings.LshapeKnightMove!==this.defaultState.settings.LshapeKnightMove&&(e.LshapeKnightMove=this.settings.LshapeKnightMove),this.settings.onlyChessMove!==this.defaultState.settings.onlyChessMove&&(e.onlyChessMove=this.settings.onlyChessMove),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.engineArrows=JSON.parse(JSON.stringify(this.defaultState.engineArrows)),this.settings={LshapeKnightMove:this.defaultState.settings.LshapeKnightMove,onlyChessMove:this.defaultState.settings.onlyChessMove},this.setConfigSettings(t)}}class bn{constructor(t){this.defaultState={enabled:!0,settings:{MOVE:!0,CAPTURE:!0,CASTLE:!0,UNDO:!0}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.CAPTURE!==void 0&&(this.settings.CAPTURE=e.CAPTURE),e.CASTLE!==void 0&&(this.settings.CASTLE=e.CASTLE),e.MOVE!==void 0&&(this.settings.MOVE=e.MOVE),e.UNDO!==void 0&&(this.settings.UNDO=e.UNDO)))},this.getConfig=()=>{const e={};if(this.enabled&&this.defaultState.enabled&&(this.settings.MOVE!==this.defaultState.settings.MOVE&&(e.MOVE=this.settings.MOVE),this.settings.CAPTURE!==this.defaultState.settings.CAPTURE&&(e.CAPTURE=this.settings.CAPTURE),this.settings.CASTLE!==this.defaultState.settings.CASTLE&&(e.CASTLE=this.settings.CASTLE),this.settings.UNDO!==this.defaultState.settings.UNDO&&(e.UNDO=this.settings.UNDO),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.CAPTURE!==void 0&&(this.settings.CAPTURE=t.CAPTURE),t.CASTLE!==void 0&&(this.settings.CASTLE=t.CASTLE),t.MOVE!==void 0&&(this.settings.MOVE=t.MOVE),t.UNDO!==void 0&&(this.settings.UNDO=t.UNDO)))}}class pn{constructor(t){this.defaultState={enabled:!1,settings:{min:100,max:1e3}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.min!==void 0&&(this.settings.min=e.min),e.max!==void 0&&(this.settings.max=e.max)))},this.getConfig=()=>{if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},this.setConfigSettings(t)}}const vn="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class Ii{constructor(t){this.getConfig=()=>({board:this.board.getConfig(),movable:this.movable.getConfig(),draggable:this.draggable.getConfig(),selectable:this.selectable.getConfig(),legal:this.legal.getConfig(),highlight:this.highlight.getConfig(),drawTools:this.drawTools.getConfig(),sounds:this.sounds.getConfig(),resizible:this.resizible.getConfig()}),this.pieces=[],this.markedSquares=new Set,this.board=new un(t==null?void 0:t.board),this.movable=new Oi(t==null?void 0:t.movable),this.draggable=new cn(t==null?void 0:t.draggable),this.selectable=new dn(t==null?void 0:t.selectable),this.legal=new hn(t==null?void 0:t.legal),this.callbacks={},this.highlight=new fn(t==null?void 0:t.highlight),this.drawTools=new gn(t==null?void 0:t.drawTools),this.sounds=new bn(t==null?void 0:t.sounds),this.resizible=new pn(t==null?void 0:t.resizible)}setConfigSettings(t){this.board.setConfigSettings(t.board),this.movable.setConfigSettings(t.movable),this.draggable.setConfigSettings(t.draggable),this.selectable.setConfigSettings(t.selectable),this.legal.setConfigSettings(t.legal),t.callbacks!==void 0&&(t.callbacks.getLegalMoves&&(this.callbacks.getLegalMoves=t.callbacks.getLegalMoves),t.callbacks.getPreMoves&&(this.callbacks.getPreMoves=t.callbacks.getPreMoves),t.callbacks.beforeMove&&(this.callbacks.beforeMove=t.callbacks.beforeMove),t.callbacks.afterMove&&(this.callbacks.afterMove=t.callbacks.afterMove),t.callbacks.getLastMove&&(this.callbacks.getLastMove=t.callbacks.getLastMove),t.callbacks.getLastMoveSAN&&(this.callbacks.getLastMoveSAN=t.callbacks.getLastMoveSAN),t.callbacks.getKingLocations&&(this.callbacks.getKingLocations=t.callbacks.getKingLocations),t.callbacks.getInCheck&&(this.callbacks.getInCheck=t.callbacks.getInCheck),t.callbacks.getWhiteToMove&&(this.callbacks.getWhiteToMove=t.callbacks.getWhiteToMove)),this.highlight.setConfigSettings(t.highlight),this.drawTools.setConfigSettings(t.drawTools),this.sounds.setConfigSettings(t.sounds),this.resizible.setConfigSettings(t.resizible)}}const mn=["a","b","c","d","e","f","g","h"],_n=["8","7","6","5","4","3","2","1"];function Gs(a){return{x:mn.indexOf(a[0]),y:_n.indexOf(a[1])}}function Xs(a){return a.charCodeAt(0)-97}function En(a){return 8-parseInt(a,10)}const wn=a=>{let t="",e=0;for(let i=0;i<a.length;i++){i!==0&&(t+="/");for(let s=0;s<a[i].length;s++){const n=a[i][s];n!=null&&e===0?n[0]==="w"?t+=n[1]:t+=n[1].toLowerCase():n!=null&&e!==0?(t+=e.toString(),e=0,n[0]==="w"?t+=n[1]:t+=n[1].toLowerCase()):e++}e!==0&&(t+=e.toString(),e=0)}return t},kn="8/8/8/8/8/8/8/8 w - - 0 1";class Mn{constructor(t){this.letters={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},this.changeLegalHoverIfNeeded=e=>{e.color!==q.LEGAL&&e.color!==q.PREMOVE||this.state.pieces.forEach(i=>{i.square===e.square&&(e.color=e.color===q.LEGAL?q.LEGALHOVER:q.PREMOVEHOVER)})},this.highlightSquare=(e,i)=>{const s={square:e,color:i};this.state.markedSquares.forEach(n=>{n.square===e&&n.color!==q.MOVE&&n.color!==q.CHECK&&this.state.markedSquares.delete(n)}),this.changeLegalHoverIfNeeded(s),this.state.markedSquares.add(s)},this.legalHover=e=>{this.state.markedSquares.forEach(i=>{if(i.square===e&&i.color===q.LEGAL)i.color=q.LEGALHOVER;else if(i.square!==e&&i.color===q.LEGALHOVER){let s=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(s=!0)}),s||(i.color=q.LEGAL)}})},this.preMoveHover=e=>{this.state.markedSquares.forEach(i=>{if(i.square===e&&i.color===q.PREMOVE)i.color=q.PREMOVEHOVER;else if(i.square!==e&&i.color===q.PREMOVEHOVER){let s=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(s=!0)}),s||(i.color=q.PREMOVE)}})},this.toggleSquareHighlight=(e,i)=>{const s={square:e,color:i};let n=!1;return this.state.markedSquares.forEach(r=>{r.square===e&&(this.state.markedSquares.delete(r),r.color===i&&(n=!0))}),this.changeLegalHoverIfNeeded(s),n?!0:(this.state.markedSquares.add(s),!1)},this.getSelectedSquare=()=>{let e="";return this.state.markedSquares.forEach(i=>{i.color===q.SELECT&&(e=i.square)}),e},this.clearSquare=(e,i)=>{e.length===2&&this.state.markedSquares.forEach(s=>{s.square===e&&(s.color===i||i===void 0)&&this.state.markedSquares.delete(s)})},this.clearAllSquares=e=>{e===void 0?this.state.markedSquares.clear():this.state.markedSquares.forEach(i=>{i.color===e&&this.state.markedSquares.delete(i)})},this.setPiece=(e,i)=>{if(this.notValidThing({square:e,piece:i}))return;const s=this.state.pieces.find(n=>n.square===e);s?s.name=i:this.state.pieces.push({square:e,name:i})},this.removePiece=e=>{this.notValidThing({square:e})||this.state.pieces.forEach((i,s)=>{i.square===e&&this.state.pieces.splice(s,1)})},this.clearAllPieces=()=>{this.state.pieces.length=0},this.getGridCoordsFromSquare=e=>{if(this.notValidThing({square:e}))return{x:0,y:0};const i=e[0],s=e[1],n=this.state.board.flipped?Math.abs(this.letters[i]-7):this.letters[i],r=this.state.board.flipped?Math.abs(parseInt(s,10)-8):parseInt(s,10)-1;return typeof n!="number"||r<0||r>7?{x:0,y:0}:{x:n,y:r}},this.makeMove=e=>{if(this.notValidThing({move:e}))return;let i=!1,s;const n=e.substring(0,2),r=e.substring(2,4),l=e.substring(4);this.state.pieces.forEach(o=>{o.square===r&&(s=o,this.removePiece(o.square))}),this.state.pieces.forEach(o=>{o.square===n&&(o.square=r,i=!0,l&&(o.name=o.name[0]+l.toUpperCase()))}),i?this.state.legal.lastMove=e:s&&this.state.pieces.push(s)},this.getSquareFromIndices=(e,i)=>Object.keys(this.letters)[e]+(i+1).toString(),this.updatePiecesWithFen=e=>{const i=[...Array(8)].map(()=>Array(8).fill(null)),s=["1","2","3","4","5","6","7","8"];let n=0,r=0;for(let u=0;u<(e.includes(" ")?e.indexOf(" "):e.length);u++)if(e[u]==="/")n++,r=0;else if(!s.includes(e[u]))e[u]===e[u].toUpperCase()?i[n][r]=`w${e[u]}`:i[n][r]=`b${e[u].toUpperCase()}`,r++;else for(let g=0;g<parseInt(e[u],10);g++)i[n][r]=null,r++;const l=[],o=[];for(let u=0;u<i.length;++u)for(let g=0;g<i.length;++g){const b=i[u][g],m=this.getPieceFromSquare(this.getSquareFromIndices(g,Math.abs(u-7)));b&&!m&&l.push({square:this.getSquareFromIndices(g,Math.abs(u-7)),name:b}),!b&&m&&o.push(m),b&&m&&b!==m.name&&(l.push({square:this.getSquareFromIndices(g,Math.abs(u-7)),name:b}),o.push(m))}for(let u=0;u<o.length;u++)for(let g=0;g<l.length;g++)!l[g]||!o[u]||l[g].name===o[u].name&&(o[u].square=l[g].square,o.splice(u,1),u--,l.splice(g,1),g--);l.forEach(u=>{this.state.pieces.push(u)}),o.forEach(u=>{this.state.pieces.splice(this.state.pieces.indexOf(u),1)})},this.notValidThing=e=>{const{square:i,piece:s,move:n}=e;return!!(i&&i.length!==2||s&&s.length!==2||n&&n.length!==4&&n.length!==5)},this.setGhostPiece=e=>{this.state.draggable.ghostPiece.piece=e},this.removeGhostPiece=()=>{this.state.draggable.ghostPiece.piece=void 0},this.isCastling=e=>{switch(e){case"e1g1":case"e1c1":case"e8g8":case"e8c8":return!0;default:return!1}},this.getRookMoveIfIsCastling=e=>{switch(e){case"e1g1":return"h1f1";case"e1c1":return"a1d1";case"e8g8":return"h8f8";case"e8c8":return"a8d8";default:return}},this.isEnPassant=e=>{if(e[0]===e[2]||this.getPieceFromSquare(e.substring(2,4)))return!1;const i=this.getPieceFromSquare(e.substring(0,2));return!(i===void 0||i.name!=="wP"&&i.name!=="bP")},this.getCapturedPawnSquareIfIsEnPassant=e=>{if(e[0]===e[2]||this.getPieceFromSquare(e.substring(2,4)))return;const i=this.getPieceFromSquare(e.substring(0,2));if(i===void 0||i.name!=="wP"&&i.name!=="bP")return;const s=this.getPieceFromSquare(`${e[2]}${parseInt(e[3],10)+(i.name==="wP"?-1:1)}`);return s==null?void 0:s.square},this.isCapture=e=>!!this.getPieceFromSquare(e.substring(2,4)),this.isPromotion=e=>{if((e[1]!=="7"||e[3]!=="8")&&(e[1]!=="2"||e[3]!=="1"))return!1;const i=this.getPieceFromSquare(e.substring(0,2));return!(i&&(i.name[1]!=="P"||i.name[0]==="w"&&e[3]==="1"||i.name[0]==="b"&&e[3]==="8"))},this.callbackExists=e=>this.state.callbacks[e]!==void 0,this.flipBoard=e=>{e!==void 0?this.state.board.flipped=e:this.state.board.flipped=!this.state.board.flipped},this.setConfigSettings=e=>{this.state.setConfigSettings(e)},this.state=new Ii(t),this.state.board.startFen&&this.updatePiecesWithFen(this.state.board.startFen)}getShortFEN(){if(this.state.pieces.length===0)return kn;const t=[...Array(8)].map(()=>Array(8).fill(null));return this.state.pieces.forEach(e=>{t[En(e.square[1])][Xs(e.square[0])]=e.name}),wn(t)}getPieceFromSquare(t){let e;return this.state.pieces.forEach(i=>{i.square===t&&(e=i)}),e}}const Sn={[q.LEGAL]:"legalSQ cursor-pointer",[q.LEGALHOVER]:"legalSQ_hover cursor-pointer",[q.SELECT]:"selectedSQ",[q.MOVE]:"highlightMove",[q.NEXTMOVE]:"nextMoveSQ",[q.PREMOVE]:"preMoveSQ cursor-pointer",[q.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[q.CHECK]:"checkSQ"},An={white:"#f0d9b5",black:"#b58863"},yn="standard.svg",Pn={[q.LEGAL]:"legalSQ cursor-pointer",[q.LEGALHOVER]:"legalSQ_hover cursor-pointer",[q.SELECT]:"selectedSQ-darkBlue",[q.MOVE]:"highlightMove-darkBlue",[q.NEXTMOVE]:"nextMoveSQ",[q.PREMOVE]:"preMoveSQ cursor-pointer",[q.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[q.CHECK]:"checkSQ"},Cn={white:"#94A3B8",black:"#475569"},Ln="darkBlue.svg",Te={squareStyles:{standard:Sn,darkBlue:Pn},colors:{standard:An,darkBlue:Cn},imageName:{standard:yn,darkBlue:Ln}};function Ta(a,t,e){const i=a.slice();return i[3]=t[e],i[5]=e,i}function Oa(a,t,e){const i=a.slice();return i[3]=t[e],i[5]=e,i}function Ia(a){let t,e=a[2][a[1]?Math.abs(a[5]-7):a[5]]+"",i,s;return{c(){t=k("span"),i=G(e),s=V(),this.h()},l(n){t=M(n,"SPAN",{"data-file":!0,style:!0,class:!0});var r=C(t);i=X(r,e),s=N(r),r.forEach(p),this.h()},h(){d(t,"data-file",a[3]),ie(t,"color",a[5]%2===0?Te.colors[a[0]].white:Te.colors[a[0]].black),d(t,"class","svelte-t3eav4")},m(n,r){z(n,t,r),h(t,i),h(t,s)},p(n,r){r&2&&e!==(e=n[2][n[1]?Math.abs(n[5]-7):n[5]]+"")&&Js(i,e),r&1&&ie(t,"color",n[5]%2===0?Te.colors[n[0]].white:Te.colors[n[0]].black)},d(n){n&&p(t)}}}function Fa(a){let t,e=(a[1]?a[5]+1:Math.abs(a[5]-8))+"",i,s,n;return{c(){t=k("span"),i=G(e),s=V(),this.h()},l(r){t=M(r,"SPAN",{"data-file":!0,style:!0,class:!0});var l=C(t);i=X(l,e),s=N(l),l.forEach(p),this.h()},h(){d(t,"data-file",a[3]),ie(t,"color",a[5]%2===0?Te.colors[a[0]].white:Te.colors[a[0]].black),d(t,"class",n=Ma(a[1]?"":"text-right")+" svelte-t3eav4")},m(r,l){z(r,t,l),h(t,i),h(t,s)},p(r,l){l&2&&e!==(e=(r[1]?r[5]+1:Math.abs(r[5]-8))+"")&&Js(i,e),l&1&&ie(t,"color",r[5]%2===0?Te.colors[r[0]].white:Te.colors[r[0]].black),l&2&&n!==(n=Ma(r[1]?"":"text-right")+" svelte-t3eav4")&&d(t,"class",n)},d(r){r&&p(t)}}}function Tn(a){let t,e,i,s=a[2],n=[];for(let o=0;o<s.length;o+=1)n[o]=Ia(Oa(a,s,o));let r=a[2],l=[];for(let o=0;o<r.length;o+=1)l[o]=Fa(Ta(a,r,o));return{c(){t=k("div");for(let o=0;o<n.length;o+=1)n[o].c();e=V(),i=k("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){t=M(o,"DIV",{class:!0});var u=C(t);for(let b=0;b<n.length;b+=1)n[b].l(u);u.forEach(p),e=N(o),i=M(o,"DIV",{class:!0});var g=C(i);for(let b=0;b<l.length;b+=1)l[b].l(g);g.forEach(p),this.h()},h(){d(t,"class","files noselect svelte-t3eav4"),d(i,"class","ranks noselect svelte-t3eav4")},m(o,u){z(o,t,u);for(let g=0;g<n.length;g+=1)n[g].m(t,null);z(o,e,u),z(o,i,u);for(let g=0;g<l.length;g+=1)l[g].m(i,null)},p(o,[u]){if(u&7){s=o[2];let g;for(g=0;g<s.length;g+=1){const b=Oa(o,s,g);n[g]?n[g].p(b,u):(n[g]=Ia(b),n[g].c(),n[g].m(t,null))}for(;g<n.length;g+=1)n[g].d(1);n.length=s.length}if(u&7){r=o[2];let g;for(g=0;g<r.length;g+=1){const b=Ta(o,r,g);l[g]?l[g].p(b,u):(l[g]=Fa(b),l[g].c(),l[g].m(i,null))}for(;g<l.length;g+=1)l[g].d(1);l.length=r.length}},i:ue,o:ue,d(o){o&&p(t),ct(n,o),o&&p(e),o&&p(i),ct(l,o)}}}function On(a,t,e){let{theme:i}=t,{flipped:s}=t;const n=["a","b","c","d","e","f","g","h"];return a.$$set=r=>{"theme"in r&&e(0,i=r.theme),"flipped"in r&&e(1,s=r.flipped)},[i,s,n]}class In extends ze{constructor(t){super(),He(this,t,On,Tn,Ke,{theme:0,flipped:1})}}function Fn(a){const t=2.5949095;return(a*=2)<1?.5*(a*a*((t+1)*a-t)):.5*((a-=2)*a*((t+1)*a+t)+2)}function qn(a){return a*a*((1.70158+1)*a-1.70158)}function Rn(a){return--a*a*((1.70158+1)*a+1.70158)+1}function hs(a){const t=.36363636363636365,e=8/11,i=9/10,s=4356/361,n=35442/1805,r=16061/1805,l=a*a;return a<t?7.5625*l:a<e?9.075*l-9.9*a+3.4:a<i?s*l-n*a+r:10.8*a*a-20.52*a+10.72}function Dn(a){return a<.5?.5*(1-hs(1-a*2)):.5*hs(a*2-1)+.5}function Vn(a){return 1-hs(1-a)}function Nn(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}function Un(a){return 1-Math.sqrt(1-a*a)}function Bn(a){return Math.sqrt(1- --a*a)}function zn(a){return a<.5?4*a*a*a:.5*Math.pow(2*a-2,3)+1}function Hn(a){return a*a*a}function Fi(a){const t=a-1;return t*t*t+1}function Kn(a){return a<.5?.5*Math.sin(13*Math.PI/2*2*a)*Math.pow(2,10*(2*a-1)):.5*Math.sin(-13*Math.PI/2*(2*a-1+1))*Math.pow(2,-10*(2*a-1))+1}function Wn(a){return Math.sin(13*a*Math.PI/2)*Math.pow(2,10*(a-1))}function jn(a){return Math.sin(-13*(a+1)*Math.PI/2)*Math.pow(2,-10*a)+1}function Gn(a){return a===0||a===1?a:a<.5?.5*Math.pow(2,20*a-10):-.5*Math.pow(2,10-a*20)+1}function Xn(a){return a===0?a:Math.pow(2,10*(a-1))}function Yn(a){return a===1?a:1-Math.pow(2,-10*a)}function Qn(a){return a/=.5,a<1?.5*a*a:(a--,-.5*(a*(a-2)-1))}function xn(a){return a*a}function Zn(a){return-a*(a-2)}function Jn(a){return a<.5?8*Math.pow(a,4):-8*Math.pow(a-1,4)+1}function $n(a){return Math.pow(a,4)}function el(a){return Math.pow(a-1,3)*(1-a)+1}function tl(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}function sl(a){return a*a*a*a*a}function al(a){return--a*a*a*a*a+1}function il(a){return-.5*(Math.cos(Math.PI*a)-1)}function nl(a){const t=Math.cos(a*Math.PI*.5);return Math.abs(t)<1e-14?1:1-t}function ll(a){return Math.sin(a*Math.PI/2)}const fs=Object.freeze(Object.defineProperty({__proto__:null,backIn:qn,backInOut:Fn,backOut:Rn,bounceIn:Vn,bounceInOut:Dn,bounceOut:hs,circIn:Un,circInOut:Nn,circOut:Bn,cubicIn:Hn,cubicInOut:zn,cubicOut:Fi,elasticIn:Wn,elasticInOut:Kn,elasticOut:jn,expoIn:Xn,expoInOut:Gn,expoOut:Yn,quadIn:xn,quadInOut:Qn,quadOut:Zn,quartIn:$n,quartInOut:Jn,quartOut:el,quintIn:sl,quintInOut:tl,quintOut:al,sineIn:nl,sineInOut:il,sineOut:ll,linear:Ai},Symbol.toStringTag,{value:"Module"}));function qa(a){return Object.prototype.toString.call(a)==="[object Date]"}function Ys(a,t){if(a===t||a!==a)return()=>a;const e=typeof a;if(e!==typeof t||Array.isArray(a)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(a)){const i=t.map((s,n)=>Ys(a[n],s));return s=>i.map(n=>n(s))}if(e==="object"){if(!a||!t)throw new Error("Object cannot be null");if(qa(a)&&qa(t)){a=a.getTime(),t=t.getTime();const n=t-a;return r=>new Date(a+r*n)}const i=Object.keys(t),s={};return i.forEach(n=>{s[n]=Ys(a[n],t[n])}),n=>{const r={};return i.forEach(l=>{r[l]=s[l](n)}),r}}if(e==="number"){const i=t-a;return s=>a+s*i}throw new Error(`Cannot interpolate ${e} values`)}function rl(a,t={}){const e=tn(a);let i,s=a;function n(r,l){if(a==null)return e.set(a=r),Promise.resolve();s=r;let o=i,u=!1,{delay:g=0,duration:b=400,easing:m=Ai,interpolate:_=Ys}=ds(ds({},t),l);if(b===0)return o&&(o.abort(),o=null),e.set(a=s),Promise.resolve();const O=ji()+g;let L;return i=Gi(A=>{if(A<O)return!0;u||(L=_(a,r),typeof b=="function"&&(b=b(a,r)),u=!0),o&&(o.abort(),o=null);const E=A-O;return E>b?(e.set(a=r),!1):(e.set(a=L(m(E/b))),!0)}),i.promise}return{set:n,update:(r,l)=>n(r(s,a),l),subscribe:e.subscribe}}function Ra(a,t,e,i){if(t===0&&e===0)return a;const s=i?["a","b","c","d","e","f","g","h"].reverse():["a","b","c","d","e","f","g","h"],n=i?["8","7","6","5","4","3","2","1"].reverse():["8","7","6","5","4","3","2","1"],r=s[s.indexOf(a[0])+t],l=n[n.indexOf(a[1])+e];if(!(!r||!l))return r+l}function Da(a,t,e){const i=t*1.15,s=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","circle");return s.setAttribute("width",(a.offsetWidth*i).toString()),s.setAttribute("height",(a.offsetHeight*i).toString()),s.style.position="absolute",s.style.zIndex="100",s.style.transform=`translate(${e?"":"-"}${25*i/2}%, -${25*i/2}%)`,s.style.opacity="0.2",n.setAttribute("r",(a.offsetWidth*i/2).toString()),n.setAttribute("cx",(a.offsetWidth*i/2).toString()),n.setAttribute("cy",(a.offsetHeight*i/2).toString()),n.setAttribute("fill","black"),s.appendChild(n),s}function ol(a,t){let e;function i(D,H=1e3){let K=!1;const x=()=>{e==null?K=!1:(D(...e),e=null,setTimeout(x,H))};return(...ne)=>{if(K){e=ne;return}D(...ne),K=!0,setTimeout(x,H)}}let s,n,r,l,o,u,g,b,m=!1,_;const O=a.parentNode;let L,{startSquare:A,boardFlipped:E,onlyShow:c,duration:f,easingFunc:P}=t;const{coords:w}=t;let y=Sa(w).x,I=Sa(w).y;const R=1.6;let T=Da(a,R,E);a.draggable=!1;function F(D){let H,K;if(D instanceof MouseEvent?(H=D.clientX-s,K=D.clientY-n,s=D.clientX,n=D.clientY):(H=D.touches[0].clientX-s,K=D.touches[0].clientY-n,s=D.touches[0].clientX,n=D.touches[0].clientY),o+=H,u+=K,m||(Math.abs(o)>1||Math.abs(u)>1)&&(w.update(x=>({x:x.x+(s-a.offsetWidth/2-a.getBoundingClientRect().x)/a.clientWidth,y:D instanceof MouseEvent?x.y-(n-a.offsetHeight/2-a.getBoundingClientRect().y)/a.clientWidth:x.y-(n-a.offsetHeight*1.5-a.getBoundingClientRect().y)/a.clientWidth,scale:D instanceof MouseEvent?1:R}),{duration:f,easing:P}),m=!0,a.style.zIndex="30",a.style.cursor="grabbing",a.dispatchEvent(new CustomEvent("startMoving"))),!!m){if(!(D instanceof MouseEvent)){const x=Math.floor((o+r)/a.offsetWidth),ne=Math.floor((u+l)/a.offsetHeight),re=Ra(A,x,ne,E);if(re){if(re!==L&&!(D instanceof MouseEvent)){const we=Gs(re);T.style.left=`${we.x*12.5}%`,T.style.top=`${we.y*12.5}%`,O.appendChild(T)}}else L&&(L="")}w.update(x=>({x:x.x+H/a.clientWidth,y:x.y-K/a.clientWidth,scale:D instanceof MouseEvent?1:R}),{duration:0}),a.dispatchEvent(new CustomEvent("moving",{detail:{x:s,y:n}}))}}const S=i(F,10);function j(){const D=window.scrollX-g,H=window.scrollY-b;g=window.scrollX,b=window.scrollY,w.update(K=>({x:K.x+D,y:K.y+H,scale:1}),{duration:0})}function ae(){window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",ae),document.body.removeEventListener("mouseleave",ae),window.removeEventListener("scroll",j),window.removeEventListener("touchmove",S),window.removeEventListener("touchend",ae),window.removeEventListener("touchcancel",ae),e=null;const D=Math.floor((o+r)/a.offsetWidth),H=Math.floor((u+l)/a.offsetHeight),K=Ra(A,D,H,E);K&&K!==A&&a.dispatchEvent(new CustomEvent("dropped",{detail:K})),w.update(()=>({x:y,y:I,scale:1}),{duration:f,easing:P}).then(()=>{a.dispatchEvent(new CustomEvent("animationEnded"))}),s=0,n=0,o=0,u=0,m=!1,a.style.removeProperty("cursor"),setTimeout(()=>{a.style.zIndex="10"},f),T.remove()}function se(D){var K;if(D.preventDefault(),D instanceof MouseEvent&&D.button!==0||!(D instanceof MouseEvent)&&((K=D.touches)==null?void 0:K.length)>1)return;y=E?7-Xs(A[0]):Xs(A[0]),I=E?8-parseInt(A[1],10):parseInt(A[1],10)-1,L=A;const H=D.target.getBoundingClientRect();!(D instanceof MouseEvent)&&D.touches[0]&&D.targetTouches[0]?(s=D.touches[0].clientX,n=D.touches[0].clientY,r=D.targetTouches[0].clientX-H.x,l=D.targetTouches[0].clientY-H.y):D instanceof MouseEvent&&(s=D.clientX,n=D.clientY,r=D.offsetX,l=D.offsetY),o=0,u=0,g=window.scrollX,b=window.scrollY,a.dispatchEvent(new CustomEvent("clicked")),window.addEventListener("mousemove",S),window.addEventListener("mouseup",ae),document.body.addEventListener("mouseleave",ae),window.addEventListener("scroll",j),window.addEventListener("touchmove",S),window.addEventListener("touchend",ae)}function Ee(D){D.preventDefault()}function Ce(D){D.preventDefault()}return a.addEventListener("contextmenu",Ee),a.addEventListener("dragstart",Ce),c||(a.addEventListener("mousedown",se),a.addEventListener("touchstart",se)),{destroy(){a.removeEventListener("mousedown",se),a.removeEventListener("touchstart",se),a.removeEventListener("contextmenu",Ee),a.removeEventListener("dragstart",Ce),window.clearTimeout(_)},update(D){A=D.startSquare,f=D.duration,P=D.easingFunc,D.onlyShow!==c&&(c=D.onlyShow,c?(a.removeEventListener("mousedown",se),a.removeEventListener("touchstart",se)):(a.addEventListener("mousedown",se),a.addEventListener("touchstart",se))),E!==D.boardFlipped&&(T=Da(a,R,D.boardFlipped)),E=D.boardFlipped}}}const Va=""+new URL("../../assets/wP-f78bae6c.svg",import.meta.url).href,ul=""+new URL("../../assets/wR-5eb92d73.svg",import.meta.url).href,cl=""+new URL("../../assets/wN-a4c975a2.svg",import.meta.url).href,dl=""+new URL("../../assets/wB-1ff2f149.svg",import.meta.url).href,hl=""+new URL("../../assets/wQ-8568b485.svg",import.meta.url).href,fl=""+new URL("../../assets/wK-4cdf6dc9.svg",import.meta.url).href,gl=""+new URL("../../assets/bP-84e521e8.svg",import.meta.url).href,bl=""+new URL("../../assets/bR-e39efb08.svg",import.meta.url).href,pl=""+new URL("../../assets/bN-d3912d91.svg",import.meta.url).href,vl=""+new URL("../../assets/bB-c430b746.svg",import.meta.url).href,ml=""+new URL("../../assets/bQ-c7b9a43e.svg",import.meta.url).href,_l=""+new URL("../../assets/bK-3500a2e6.svg",import.meta.url).href;function Qs(a){switch(a){case"wP":return Va;case"wR":return ul;case"wN":return cl;case"wB":return dl;case"wQ":return hl;case"wK":return fl;case"bP":return gl;case"bR":return bl;case"bN":return pl;case"bB":return vl;case"bQ":return ml;case"bK":return _l;default:return Va}}function El(a){let t,e,i,s,n,r;return{c(){t=k("img"),this.h()},l(l){t=M(l,"IMG",{style:!0,class:!0,src:!0,alt:!0}),this.h()},h(){ie(t,"left",a[8].x*12.5+"%"),ie(t,"bottom",a[8].y*12.5+"%"),ie(t,"z-Index",a[7]),ie(t,"opacity",a[4]?.3:1),d(t,"class",e="noselect "+(a[12](a[3])?"cursor-pointer":"")+" svelte-1g241z"),St(t.src,i=Qs(a[1]))||d(t,"src",i),d(t,"alt",a[1])},m(l,o){z(l,t,o),n||(r=[$s(s=ol.call(null,t,{startSquare:a[0],onlyShow:!a[12](a[3]),boardFlipped:a[2],duration:a[6],easingFunc:fs[a[5]],coords:a[10]})),Y(t,"dropped",a[11]),Y(t,"clicked",a[16]),Y(t,"startMoving",a[17]),Y(t,"animationEnded",a[18]),Y(t,"moving",a[19])],n=!0)},p(l,[o]){o&256&&ie(t,"left",l[8].x*12.5+"%"),o&256&&ie(t,"bottom",l[8].y*12.5+"%"),o&128&&ie(t,"z-Index",l[7]),o&16&&ie(t,"opacity",l[4]?.3:1),o&8&&e!==(e="noselect "+(l[12](l[3])?"cursor-pointer":"")+" svelte-1g241z")&&d(t,"class",e),o&2&&!St(t.src,i=Qs(l[1]))&&d(t,"src",i),o&2&&d(t,"alt",l[1]),s&&ea(s.update)&&o&109&&s.update.call(null,{startSquare:l[0],onlyShow:!l[12](l[3]),boardFlipped:l[2],duration:l[6],easingFunc:fs[l[5]],coords:l[10]})},i:ue,o:ue,d(l){l&&p(t),n=!1,At(r)}}}function wl(a,t,e){let i,s,{square:n}=t,{name:r}=t,{getGridCoordsFromSquare:l}=t,{flipped:o}=t,{legal:u}=t,{whiteToMove:g=!1}=t,{movable:b}=t,{ghostPiece:m=!1}=t,{easing:_="cubicInOut"}=t,{duration:O=120}=t;const L=ta();let A=O;const E=rl({x:0,y:0,scale:1},{duration:A,easing:fs[_]});Xi(a,E,S=>e(8,s=S));let c=!1;const f=S=>S[0]==="w"?$.WHITE:$.BLACK,P=S=>{const j=l(S);E.update(()=>({x:j.x,y:j.y,scale:1}),{duration:c?A:0,easing:fs[_]}),c||(c=!0),A=O},w=S=>{A=0,L("endDragging",S.detail),L("move",n+S.detail)},y=S=>S.enabled?u?!!(S.color===$.WHITE&&g&&f(r)===$.WHITE||S.color===$.BLACK&&!g&&f(r)===$.BLACK||S.color===$.BOTH&&(f(r)===$.WHITE&&g||f(r)===$.BLACK&&!g)):S.color===f(r)||S.color===$.BOTH:!1;function I(S){Mt.call(this,a,S)}function R(S){Mt.call(this,a,S)}function T(S){Mt.call(this,a,S)}const F=S=>L("moving",S.detail);return a.$$set=S=>{"square"in S&&e(0,n=S.square),"name"in S&&e(1,r=S.name),"getGridCoordsFromSquare"in S&&e(13,l=S.getGridCoordsFromSquare),"flipped"in S&&e(2,o=S.flipped),"legal"in S&&e(14,u=S.legal),"whiteToMove"in S&&e(15,g=S.whiteToMove),"movable"in S&&e(3,b=S.movable),"ghostPiece"in S&&e(4,m=S.ghostPiece),"easing"in S&&e(5,_=S.easing),"duration"in S&&e(6,O=S.duration)},a.$$.update=()=>{a.$$.dirty&5&&P(n),a.$$.dirty&8&&e(7,i=typeof b=="boolean"?b?1:0:b.enabled?1:0)},[n,r,o,b,m,_,O,i,s,L,E,w,y,l,u,g,I,R,T,F]}class qi extends ze{constructor(t){super(),He(this,t,wl,El,Ke,{square:0,name:1,getGridCoordsFromSquare:13,flipped:2,legal:14,whiteToMove:15,movable:3,ghostPiece:4,easing:5,duration:6})}}function kl(a){let t,e;return{c(){t=k("div"),this.h()},l(i){t=M(i,"DIV",{style:!0,class:!0}),C(t).forEach(p),this.h()},h(){ie(t,"left",a[2]*12.5+"%"),ie(t,"bottom",a[3]*12.5+"%"),d(t,"class",e="noselect "+Te.squareStyles[a[1]][a[0]]+" svelte-10vytug")},m(i,s){z(i,t,s)},p(i,[s]){s&4&&ie(t,"left",i[2]*12.5+"%"),s&8&&ie(t,"bottom",i[3]*12.5+"%"),s&3&&e!==(e="noselect "+Te.squareStyles[i[1]][i[0]]+" svelte-10vytug")&&d(t,"class",e)},i:ue,o:ue,d(i){i&&p(t)}}}function Ml(a,t,e){let{square:i}=t,{color:s}=t,{getGridCoordsFromSquare:n}=t,{flipped:r}=t,{theme:l}=t,o,u;const g=()=>{const b=n(i);e(2,o=b.x),e(3,u=b.y)};return a.$$set=b=>{"square"in b&&e(4,i=b.square),"color"in b&&e(0,s=b.color),"getGridCoordsFromSquare"in b&&e(5,n=b.getGridCoordsFromSquare),"flipped"in b&&e(6,r=b.flipped),"theme"in b&&e(1,l=b.theme)},a.$$.update=()=>{a.$$.dirty&64&&g()},[s,l,o,u,i,n,r]}class Sl extends ze{constructor(t){super(),He(this,t,Ml,kl,Ke,{square:4,color:0,getGridCoordsFromSquare:5,flipped:6,theme:1})}}const Al=["a","b","c","d","e","f","g","h"],yl=["8","7","6","5","4","3","2","1"];function Pl(a){a.querySelectorAll("[sf]").forEach(t=>t.remove())}function xs(a){return`${Al[a.x]}${yl[a.y]}`}function Ri(a,t){return Math.abs((a.x-t.x)*(a.y-t.y))===2}function Zs(a,t){return`${xs(a)}${xs(t)}`}function Cl(a,t){return!!(Ri(a,t)||Math.abs(a.x-t.x)===Math.abs(a.y-t.y)||a.x===t.x!=(a.y===t.y))}function Di(a,t,e,i,s,n){let r={x:-1,y:-1},l,o;Ri(t,e)&&i?(Math.abs(e.x-t.x)===2?r={x:e.x,y:t.y}:r={x:t.x,y:e.y},r.y-t.y<0?o=Math.PI+Math.atan((r.x-t.x)/(r.y-t.y)):o=Math.atan((r.x-t.x)/Math.abs(r.y-t.y)),l={x:e.x-Math.sign(e.x-r.x)*(r.x!==e.x?.4:0),y:e.y-Math.sign(e.y-r.y)*(r.y!==e.y?.4:0)}):(e.y-t.y<0?o=Math.PI+Math.atan((e.x-t.x)/(e.y-t.y)):o=Math.atan((e.x-t.x)/Math.abs(e.y-t.y)),l={x:e.x-Math.sin(o)*.4,y:e.y-Math.cos(o)*.4});const u={x:t.x+Math.sin(o)*.4,y:t.y+Math.cos(o)*.4};a.setAttribute("points",`${u.x+.5},${u.y+.5} ${r.x!==-1&&r.y!==-1&&i?`${r.x+.5},${r.y+.5} `:""}${l.x+.5},${l.y+.5}`),a.setAttribute("data-sqID",`${Zs(t,e)}`),n!==void 0&&a.setAttribute("opacity",`${n}`),s!==void 0&&(a.setAttribute("marker-start",`url(#start-${s[0]})`),a.setAttribute("marker-end",`url(#end-${s[0]})`),a.setAttribute("stroke",s))}function cs(a,t,e,i,s,n){if(!(t===void 0||e.x===-1&&e.y===-1)){if(t.tagName==="circle")t.setAttribute("fill","transparent"),i?t.setAttribute("stroke","red"):s?t.setAttribute("stroke","orange"):n?t.setAttribute("stroke","blue"):t.setAttribute("stroke","green"),a.querySelectorAll(`\u0441ircle[cx="${e.x+.5}"][cy="${e.y+.5}"]`).forEach(r=>{t!==void 0&&r!==t&&(r.getAttribute("stroke")===t.getAttribute("stroke")?t.setAttribute("remove",""):t.hasAttribute("remove")&&t.removeAttribute("remove"))});else if(t.tagName==="polyline"){const r=i?"red":s?"orange":n?"blue":"green";t.setAttribute("stroke",`${r}`),t.setAttribute("marker-start",`url(#start-${r[0]})`),t.setAttribute("marker-end",`url(#end-${r[0]})`),a.querySelectorAll(`polyline[data-sqID="${t.getAttribute("data-sqID")}"]`).forEach(l=>{t instanceof SVGPolylineElement&&l!==t&&(l.getAttribute("stroke")===t.getAttribute("stroke")?t.setAttribute("remove",""):t.hasAttribute("remove")&&t.removeAttribute("remove"))})}}}function Vi(a,t,e,i,s){const n=document.createElementNS("http://www.w3.org/2000/svg","polyline");return Di(n,a,t,e,i,s),n.setAttribute("fill","none"),n.setAttribute("stroke-width","0.25"),n.setAttribute("stroke-linejoin","round"),n.setAttribute("opacity",s!==void 0?`${s}`:"0.4"),n.setAttribute("marker-start",i?`url(#start-${i[0]})`:"url(#start-g)"),n.setAttribute("marker-end",i?`url(#end-${i[0]})`:"url(#end-g)"),n.setAttribute("stroke",i||"green"),n}function Ll(a,t,e){t.forEach(i=>{const s=Vi(Gs(i.move.substring(0,2)),Gs(i.move.substring(2,4)),e,i.color,i.opacity);s.setAttribute("sf",""),a.appendChild(s)})}function Na(a){a.querySelectorAll("circle,polyline").forEach(t=>{t.hasAttribute("sf")||t.remove()})}function Tl(a,t){let{svg:e,flipped:i,enabled:s,settings:n}=t,r=!1,l={x:-1,y:-1},o,u;function g(E,c){const f=a.getBoundingClientRect(),P=i?f.width-(E-f.left):E-f.left,w=i?f.height-(c-f.top):c-f.top;return{x:Math.max(0,Math.min(7,Math.floor(P/(a.clientWidth/8)))),y:Math.max(0,Math.min(7,Math.floor(w/(a.clientHeight/8))))}}function b(E){u=document.createElementNS("http://www.w3.org/2000/svg","circle"),u.setAttribute("cx",`${E.x+.5}`),u.setAttribute("cy",`${E.y+.5}`),u.setAttribute("r","0.465"),u.setAttribute("opacity","0.4"),u.setAttribute("fill","none"),u.setAttribute("stroke-width","0.07"),u.setAttribute("stroke","green")}function m(E){if(u===void 0||l.x===-1&&l.y===-1)return;const c=g(E.clientX,E.clientY);n.onlyChessMove&&!Cl(l,c)||(o=void 0,u.hasAttribute("remove")&&u.removeAttribute("remove"),l.x===c.x&&l.y===c.y?(Zs(l,c),u instanceof SVGPolylineElement&&(u.remove(),b(c)),cs(e,u,l,E.shiftKey,E.ctrlKey,E.altKey),e.appendChild(u),e.querySelectorAll(`circle[cx="${l.x+.5}"][cy="${l.y+.5}"]`).forEach(f=>{f!==u&&(o=f,u!==void 0&&f.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))})):(u instanceof SVGCircleElement&&u.remove(),o=void 0,e.querySelectorAll(`polyline[data-sqID="${Zs(l,c)}"]`).forEach(f=>{u===void 0||l.x===-1&&l.y===-1||f===u||(o=f,f.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))}),u instanceof SVGCircleElement?(u=Vi(l,c,n.LshapeKnightMove),cs(e,u,l,E.shiftKey,E.ctrlKey,E.altKey),e.appendChild(u)):u instanceof SVGPolylineElement&&Di(u,l,c,n.LshapeKnightMove)))}function _(E){E.preventDefault()}function O(E){E.preventDefault(),cs(e,u,l,E.shiftKey,E.ctrlKey,E.altKey)}function L(E){if(E.button===0)r=!1;else if(E.button===2){if(l.x===-1&&l.y===-1)return;e.querySelectorAll("[remove]").forEach(c=>{c.remove()}),o&&o.remove(),o=void 0,(u==null?void 0:u.tagName)==="circle"&&!u.hasAttribute("remove")&&a.dispatchEvent(new CustomEvent("drawCircle",{detail:{square:xs(l),color:u.getAttribute("stroke")}})),(u==null?void 0:u.tagName)==="polyline"&&!u.hasAttribute("remove")&&a.dispatchEvent(new CustomEvent("drawArrow",{detail:{move:u.getAttribute("data-sqID"),color:u.getAttribute("stroke")}})),u=void 0,l={x:-1,y:-1},r=!1,window.removeEventListener("mousemove",m),window.removeEventListener("keydown",O),window.removeEventListener("keyup",O),window.removeEventListener("contextmenu",_)}window.removeEventListener("mouseup",L)}function A(E){if(E.button===0)r=!0,Na(e),window.addEventListener("mouseup",L);else if(E.button===2&&!r){const c=g(E.clientX,E.clientY);l=c,b(c),cs(e,u,l,E.shiftKey,E.ctrlKey,E.altKey),o=void 0,e.querySelectorAll(`circle[cx="${c.x+.5}"][cy="${c.y+.5}"]`).forEach(f=>{o=f,u!==void 0&&f.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove","")}),u&&e.appendChild(u),window.addEventListener("mousemove",m),window.addEventListener("mouseup",L),window.addEventListener("keydown",O),window.addEventListener("keyup",O),window.addEventListener("contextmenu",_)}}return s&&a.addEventListener("mousedown",A),{update(E){E.svg!==e&&(e=E.svg),E.enabled!==s&&(s=E.enabled,s?a.addEventListener("mousedown",A):(Na(e),a.removeEventListener("mousedown",A))),n=E.settings,i=E.flipped}}}function Ua(a,t,e){const i=a.slice();return i[8]=t[e],i}function Ba(a){let t,e,i,s;return{c(){t=it("marker"),e=it("path"),i=it("marker"),s=it("path"),this.h()},l(n){t=nt(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var r=C(t);e=nt(r,"path",{fill:!0,d:!0}),C(e).forEach(p),r.forEach(p),i=nt(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,orient:!0,fill:!0});var l=C(i);s=nt(l,"path",{fill:!0,d:!0}),C(s).forEach(p),l.forEach(p),this.h()},h(){d(e,"fill",a[8]),d(e,"d","M 5 0 Q 0 0 0 5 L 0 15 Q 0 20 5 20 Z"),d(t,"id","start-"+a[8][0]),d(t,"viewBox","0 0 5 20"),d(t,"refX","4"),d(t,"refY","10"),d(t,"markerUnits","strokeWidth"),d(t,"markerWidth","0.5"),d(t,"markerHeight","1"),d(t,"orient","auto"),d(s,"fill",a[8]),d(s,"d","M 0 4 L 10 10 L 0 16 Z"),d(i,"id","end-"+a[8][0]),d(i,"viewBox","0 0 10 20"),d(i,"refX","0.2"),d(i,"refY","10"),d(i,"markerUnits","strokeWidth"),d(i,"orient","auto"),d(i,"fill","currentColor")},m(n,r){z(n,t,r),h(t,e),z(n,i,r),h(i,s)},p:ue,d(n){n&&p(t),n&&p(i)}}}function Ol(a){let t,e,i,s=a[2],n=[];for(let r=0;r<s.length;r+=1)n[r]=Ba(Ua(a,s,r));return{c(){t=it("svg"),e=it("defs");for(let r=0;r<n.length;r+=1)n[r].c();i=it("g"),this.h()},l(r){t=nt(r,"svg",{xmlns:!0,style:!0,class:!0,viewBox:!0});var l=C(t);e=nt(l,"defs",{});var o=C(e);for(let u=0;u<n.length;u+=1)n[u].l(o);o.forEach(p),i=nt(l,"g",{}),C(i).forEach(p),l.forEach(p),this.h()},h(){d(t,"xmlns","http://www.w3.org/2000/svg"),ie(t,"transform","rotate("+(a[1]?"180deg":"0deg")+")"),d(t,"class","rounded svelte-1ez37sv"),d(t,"viewBox","0 0 8 8")},m(r,l){z(r,t,l),h(t,e);for(let o=0;o<n.length;o+=1)n[o].m(e,null);h(t,i),a[5](i)},p(r,[l]){if(l&4){s=r[2];let o;for(o=0;o<s.length;o+=1){const u=Ua(r,s,o);n[o]?n[o].p(u,l):(n[o]=Ba(u),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=s.length}l&2&&ie(t,"transform","rotate("+(r[1]?"180deg":"0deg")+")")},i:ue,o:ue,d(r){r&&p(t),ct(n,r),a[5](null)}}}function Il(a,t,e){let{flipped:i=!1}=t,{svg:s}=t,{LshapeKnightMove:n=!1}=t,{computerArrows:r=[]}=t,l=!1;function o(b){!l||(Pl(s),Ll(s,b,n))}sa(()=>{l=!0,o(r)});const u=["green","red","blue","orange"];function g(b){Pe[b?"unshift":"push"](()=>{s=b,e(0,s)})}return a.$$set=b=>{"flipped"in b&&e(1,i=b.flipped),"svg"in b&&e(0,s=b.svg),"LshapeKnightMove"in b&&e(3,n=b.LshapeKnightMove),"computerArrows"in b&&e(4,r=b.computerArrows)},a.$$.update=()=>{a.$$.dirty&16&&o(r)},[s,i,u,n,r,g]}class Fl extends ze{constructor(t){super(),He(this,t,Il,Ol,Ke,{flipped:1,svg:0,LshapeKnightMove:3,computerArrows:4})}}function za(a,{delay:t=0,duration:e=400,easing:i=Fi,x:s=0,y:n=0,opacity:r=0}={}){const l=getComputedStyle(a),o=+l.opacity,u=l.transform==="none"?"":l.transform,g=o*(1-r);return{delay:t,duration:e,easing:i,css:(b,m)=>`
			transform: ${u} translate(${(1-b)*s}px, ${(1-b)*n}px);
			opacity: ${o-g*m}`}}function ql(a){let t,e,i,s,n,r;return{c(){t=k("button"),e=k("img"),this.h()},l(l){t=M(l,"BUTTON",{});var o=C(t);e=M(o,"IMG",{src:!0,alt:!0,class:!0}),o.forEach(p),this.h()},h(){St(e.src,i=a[1])||d(e,"src",i),d(e,"alt",s="Promotion to "+a[0].toUpperCase()),d(e,"class","rounded-md border border-gray-300 hover:border-sky-600 hover:bg-gray-600")},m(l,o){z(l,t,o),h(t,e),n||(r=Y(t,"click",a[2]),n=!0)},p(l,[o]){o&1&&s!==(s="Promotion to "+l[0].toUpperCase())&&d(e,"alt",s)},i:ue,o:ue,d(l){l&&p(t),n=!1,r()}}}function Rl(a,t,e){let{piece:i}=t,{isWhite:s}=t,{showModal:n}=t;const r=ta(),l=(s?"w":"b")+i.toUpperCase(),o=Qs(l),u=()=>{r("newPromotion",i),e(3,n=!1)};return a.$$set=g=>{"piece"in g&&e(0,i=g.piece),"isWhite"in g&&e(4,s=g.isWhite),"showModal"in g&&e(3,n=g.showModal)},[i,o,u,n,s]}class Dl extends ze{constructor(t){super(),He(this,t,Rl,ql,Ke,{piece:0,isWhite:4,showModal:3})}}function Ha(a,t,e){const i=a.slice();return i[6]=t[e],i}function Ka(a){let t,e,i,s,n,r=["q","r","b","n"],l=[];for(let u=0;u<4;u+=1)l[u]=Wa(Ha(a,r,u));const o=u=>Q(l[u],1,1,()=>{l[u]=null});return{c(){t=k("div"),e=k("div");for(let u=0;u<4;u+=1)l[u].c();this.h()},l(u){t=M(u,"DIV",{class:!0});var g=C(t);e=M(g,"DIV",{class:!0});var b=C(e);for(let m=0;m<4;m+=1)l[m].l(b);b.forEach(p),g.forEach(p),this.h()},h(){d(e,"class","modal-content p-3 gap-3 svelte-tvjsje"),d(t,"class","modal svelte-tvjsje")},m(u,g){z(u,t,g),h(t,e);for(let b=0;b<4;b+=1)l[b].m(e,null);n=!0},p(u,g){if(g&3){r=["q","r","b","n"];let b;for(b=0;b<4;b+=1){const m=Ha(u,r,b);l[b]?(l[b].p(m,g),W(l[b],1)):(l[b]=Wa(m),l[b].c(),W(l[b],1),l[b].m(e,null))}for(Re(),b=4;b<4;b+=1)o(b);De()}},i(u){if(!n){for(let g=0;g<4;g+=1)W(l[g]);Kt(()=>{s&&s.end(1),i=Yi(e,za,{x:100,duration:300}),i.start()}),n=!0}},o(u){l=l.filter(Boolean);for(let g=0;g<4;g+=1)Q(l[g]);i&&i.invalidate(),s=Qi(e,za,{x:-200,duration:100}),n=!1},d(u){u&&p(t),ct(l,u),u&&s&&s.end()}}}function Wa(a){let t,e,i,s;function n(o){a[3](o)}function r(o){a[4](o)}let l={piece:a[6]};return a[1]!==void 0&&(l.isWhite=a[1]),a[0]!==void 0&&(l.showModal=a[0]),t=new Dl({props:l}),Pe.push(()=>Ws(t,"isWhite",n)),Pe.push(()=>Ws(t,"showModal",r)),t.$on("newPromotion",a[5]),{c(){Ve(t.$$.fragment)},l(o){Ne(t.$$.fragment,o)},m(o,u){Ue(t,o,u),s=!0},p(o,u){const g={};!e&&u&2&&(e=!0,g.isWhite=o[1],js(()=>e=!1)),!i&&u&1&&(i=!0,g.showModal=o[0],js(()=>i=!1)),t.$set(g)},i(o){s||(W(t.$$.fragment,o),s=!0)},o(o){Q(t.$$.fragment,o),s=!1},d(o){Be(t,o)}}}function Vl(a){let t,e,i=a[0]&&Ka(a);return{c(){i&&i.c(),t=le()},l(s){i&&i.l(s),t=le()},m(s,n){i&&i.m(s,n),z(s,t,n),e=!0},p(s,[n]){s[0]?i?(i.p(s,n),n&1&&W(i,1)):(i=Ka(s),i.c(),W(i,1),i.m(t.parentNode,t)):i&&(Re(),Q(i,1,1,()=>{i=null}),De())},i(s){e||(W(i),e=!0)},o(s){Q(i),e=!1},d(s){i&&i.d(s),s&&p(t)}}}function Nl(a,t,e){let i=!1,s;function n(u){e(0,i=!0),u?e(1,s=!0):e(1,s=!1)}function r(u){s=u,e(1,s)}function l(u){i=u,e(0,i)}function o(u){Mt.call(this,a,u)}return[i,s,n,r,l,o]}class Ul extends ze{constructor(t){super(),He(this,t,Nl,Vl,Ke,{openPromotionModal:2})}get openPromotionModal(){return this.$$.ctx[2]}}const Bl=""+new URL("../../assets/move-e4d827fe.wav",import.meta.url).href,zl=""+new URL("../../assets/capture-3dff493a.wav",import.meta.url).href,Hl=""+new URL("../../assets/castle-dcf4b2c5.wav",import.meta.url).href,Kl=""+new URL("../../assets/undo-b4184324.mp3",import.meta.url).href;function ja(a){let t,e,i,s;return{c(){t=k("audio"),e=k("track"),i=k("source"),this.h()},l(n){t=M(n,"AUDIO",{preload:!0});var r=C(t);e=M(r,"TRACK",{kind:!0}),i=M(r,"SOURCE",{src:!0}),r.forEach(p),this.h()},h(){d(e,"kind","captions"),St(i.src,s=Bl)||d(i,"src",s),d(t,"preload","auto")},m(n,r){z(n,t,r),h(t,e),h(t,i),a[3](t)},p:ue,d(n){n&&p(t),a[3](null)}}}function Ga(a){let t,e,i,s;return{c(){t=k("audio"),e=k("track"),i=k("source"),this.h()},l(n){t=M(n,"AUDIO",{preload:!0});var r=C(t);e=M(r,"TRACK",{kind:!0}),i=M(r,"SOURCE",{src:!0}),r.forEach(p),this.h()},h(){d(e,"kind","captions"),St(i.src,s=zl)||d(i,"src",s),d(t,"preload","auto")},m(n,r){z(n,t,r),h(t,e),h(t,i),a[4](t)},p:ue,d(n){n&&p(t),a[4](null)}}}function Xa(a){let t,e,i,s;return{c(){t=k("audio"),e=k("track"),i=k("source"),this.h()},l(n){t=M(n,"AUDIO",{preload:!0});var r=C(t);e=M(r,"TRACK",{kind:!0}),i=M(r,"SOURCE",{src:!0}),r.forEach(p),this.h()},h(){d(e,"kind","captions"),St(i.src,s=Hl)||d(i,"src",s),d(t,"preload","auto")},m(n,r){z(n,t,r),h(t,e),h(t,i),a[5](t)},p:ue,d(n){n&&p(t),a[5](null)}}}function Ya(a){let t,e,i,s;return{c(){t=k("audio"),e=k("track"),i=k("source"),this.h()},l(n){t=M(n,"AUDIO",{preload:!0});var r=C(t);e=M(r,"TRACK",{kind:!0}),i=M(r,"SOURCE",{src:!0}),r.forEach(p),this.h()},h(){d(e,"kind","captions"),St(i.src,s=Kl)||d(i,"src",s),d(t,"preload","auto")},m(n,r){z(n,t,r),h(t,e),h(t,i),a[6](t)},p:ue,d(n){n&&p(t),a[6](null)}}}function Wl(a){let t,e,i,s,n=a[0].MOVE&&ja(a),r=a[0].CAPTURE&&Ga(a),l=a[0].CASTLE&&Xa(a),o=a[0].UNDO&&Ya(a);return{c(){n&&n.c(),t=V(),r&&r.c(),e=V(),l&&l.c(),i=V(),o&&o.c(),s=le()},l(u){n&&n.l(u),t=N(u),r&&r.l(u),e=N(u),l&&l.l(u),i=N(u),o&&o.l(u),s=le()},m(u,g){n&&n.m(u,g),z(u,t,g),r&&r.m(u,g),z(u,e,g),l&&l.m(u,g),z(u,i,g),o&&o.m(u,g),z(u,s,g)},p(u,[g]){u[0].MOVE?n?n.p(u,g):(n=ja(u),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),u[0].CAPTURE?r?r.p(u,g):(r=Ga(u),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),u[0].CASTLE?l?l.p(u,g):(l=Xa(u),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null),u[0].UNDO?o?o.p(u,g):(o=Ya(u),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i:ue,o:ue,d(u){n&&n.d(u),u&&p(t),r&&r.d(u),u&&p(e),l&&l.d(u),u&&p(i),o&&o.d(u),u&&p(s)}}}function jl(a,t,e){let{settings:i}=t;const s={MOVE:void 0,CAPTURE:void 0,CASTLE:void 0,UNDO:void 0},n=()=>{s.CASTLE&&(s.CASTLE.pause(),e(1,s.CASTLE.currentTime=0,s)),s.MOVE&&(s.MOVE.pause(),e(1,s.MOVE.currentTime=0,s)),s.CAPTURE&&(s.CAPTURE.pause(),e(1,s.CAPTURE.currentTime=0,s)),s.UNDO&&(s.UNDO.pause(),e(1,s.UNDO.currentTime=0,s))},r=m=>m===void 0||i[m];function l(m){switch(n(),m){case"MOVE":s.MOVE&&r("MOVE")&&s.MOVE.play();break;case"CAPTURE":s.CAPTURE&&r("CAPTURE")?s.CAPTURE.play():s.MOVE&&r("MOVE")&&s.MOVE.play();break;case"CASTLE":s.CASTLE&&r("CASTLE")?s.CASTLE.play():s.MOVE&&r("MOVE")&&s.MOVE.play();break;case"UNDO":s.UNDO&&r("UNDO")?(e(1,s.UNDO.volume=.3,s),s.UNDO.play()):s.MOVE&&r("MOVE")&&s.MOVE.play();break}}function o(m){Pe[m?"unshift":"push"](()=>{s.MOVE=m,e(1,s)})}function u(m){Pe[m?"unshift":"push"](()=>{s.CAPTURE=m,e(1,s)})}function g(m){Pe[m?"unshift":"push"](()=>{s.CASTLE=m,e(1,s)})}function b(m){Pe[m?"unshift":"push"](()=>{s.UNDO=m,e(1,s)})}return a.$$set=m=>{"settings"in m&&e(0,i=m.settings)},[i,s,l,o,u,g,b]}class Gl extends ze{constructor(t){super(),He(this,t,jl,Wl,Ke,{settings:0,playMoveSound:2})}get playMoveSound(){return this.$$.ctx[2]}}const Qa=""+new URL("../../assets/standard-97995bf9.svg",import.meta.url).href,xa=""+new URL("../../assets/darkBlue-02863507.svg",import.meta.url).href;function Xl(a,t){const{minWidth:e,maxWidth:i,curWidth:s}=t;let n=s,r,l,o,u;function g(_){_.stopPropagation(),a.dispatchEvent(new CustomEvent("resizing",{detail:{size:Math.max(Math.max(e,Math.min(i,o+(_.pageX-r))),Math.max(e,Math.min(i,u+(_.pageY-l))))}}))}function b(_){_.stopPropagation(),a.dispatchEvent(new CustomEvent("endResizing",{detail:{size:Math.max(Math.max(e,Math.min(i,o+Math.floor((_.pageX-r)/8)*8)),Math.max(e,Math.min(i,u+Math.floor((_.pageY-l)/8)*8)))}})),window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",b)}function m(_){_.stopPropagation(),_.button===0&&(r=_.pageX,o=n,l=_.pageY,u=n,window.addEventListener("mousemove",g),window.addEventListener("mouseup",b))}return a.addEventListener("mousedown",m),{update(_){n=_.curWidth},destroy(){a.removeEventListener("mousedown",m)}}}function Yl(a){let t,e,i,s,n,r;return{c(){t=k("div"),e=it("svg"),i=it("path"),this.h()},l(l){t=M(l,"DIV",{style:!0,class:!0});var o=C(t);e=nt(o,"svg",{xmlns:!0,viewBox:!0,fill:!0});var u=C(e);i=nt(u,"path",{d:!0}),C(i).forEach(p),u.forEach(p),o.forEach(p),this.h()},h(){d(i,"d","M 5 1 Q 6 0 6 2 L 6 4 Q 6 6 4 6 L 2 6 Q 0 6 1 5 Z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 16 16"),d(e,"fill","currentColor"),ie(t,"color",Te.colors[a[0].state.board.boardTheme].black),d(t,"class","hidden lg:inline z-50 svelte-bwuzxv")},m(l,o){z(l,t,o),h(t,e),h(e,i),n||(r=[Y(t,"pointerdown",xi(a[2])),$s(s=Xl.call(null,t,{minWidth:a[0].state.resizible.settings.min,maxWidth:a[0].state.resizible.settings.max,curWidth:a[0].state.board.size})),Y(t,"resizing",a[3]),Y(t,"endResizing",a[4])],n=!0)},p(l,[o]){o&1&&ie(t,"color",Te.colors[l[0].state.board.boardTheme].black),s&&ea(s.update)&&o&1&&s.update.call(null,{minWidth:l[0].state.resizible.settings.min,maxWidth:l[0].state.resizible.settings.max,curWidth:l[0].state.board.size})},i:ue,o:ue,d(l){l&&p(t),n=!1,At(r)}}}function Ql(a,t,e){let{chessboard:i}=t,{setSize:s}=t;function n(o){Mt.call(this,a,o)}const r=o=>s(o.detail.size),l=o=>s(o.detail.size);return a.$$set=o=>{"chessboard"in o&&e(0,i=o.chessboard),"setSize"in o&&e(1,s=o.setSize)},[i,s,n,r,l]}class xl extends ze{constructor(t){super(),He(this,t,Ql,Yl,Ke,{chessboard:0,setSize:1})}}function Za(a,t,e){const i=a.slice();return i[67]=t[e],i}function Ja(a,t,e){const i=a.slice();return i[70]=t[e],i}function $a(a){let t=[],e=new Map,i,s,n=a[2].state.pieces;const r=l=>l[70];for(let l=0;l<n.length;l+=1){let o=Ja(a,n,l),u=r(o);e.set(u,t[l]=ei(u,o))}return{c(){for(let l=0;l<t.length;l+=1)t[l].c();i=le()},l(l){for(let o=0;o<t.length;o+=1)t[o].l(l);i=le()},m(l,o){for(let u=0;u<t.length;u+=1)t[u].m(l,o);z(l,i,o),s=!0},p(l,o){o[0]&30980&&(n=l[2].state.pieces,Re(),t=yi(t,o,r,1,l,n,e,i.parentNode,Pi,ei,i,Ja),De())},i(l){if(!s){for(let o=0;o<n.length;o+=1)W(t[o]);s=!0}},o(l){for(let o=0;o<t.length;o+=1)Q(t[o]);s=!1},d(l){for(let o=0;o<t.length;o+=1)t[o].d(l);l&&p(i)}}}function ei(a,t){let e,i,s;function n(){return t[48](t[70])}function r(){return t[49](t[70])}return i=new qi({props:{square:t[70].square,name:t[70].name,duration:t[2].state.draggable.transition.settings.duration,easing:t[2].state.draggable.transition.settings.easing,legal:t[2].state.legal.enabled,whiteToMove:t[2].state.legal.whiteToMove,movable:t[2].state.movable,getGridCoordsFromSquare:t[2].getGridCoordsFromSquare,flipped:t[2].state.board.flipped}}),i.$on("move",t[11]),i.$on("clicked",n),i.$on("startMoving",r),i.$on("moving",t[12]),i.$on("endDragging",t[50]),i.$on("animationEnded",t[13]),{key:a,first:null,c(){e=le(),Ve(i.$$.fragment),this.h()},l(l){e=le(),Ne(i.$$.fragment,l),this.h()},h(){this.first=e},m(l,o){z(l,e,o),Ue(i,l,o),s=!0},p(l,o){t=l;const u={};o[0]&4&&(u.square=t[70].square),o[0]&4&&(u.name=t[70].name),o[0]&4&&(u.duration=t[2].state.draggable.transition.settings.duration),o[0]&4&&(u.easing=t[2].state.draggable.transition.settings.easing),o[0]&4&&(u.legal=t[2].state.legal.enabled),o[0]&4&&(u.whiteToMove=t[2].state.legal.whiteToMove),o[0]&4&&(u.movable=t[2].state.movable),o[0]&4&&(u.getGridCoordsFromSquare=t[2].getGridCoordsFromSquare),o[0]&4&&(u.flipped=t[2].state.board.flipped),i.$set(u)},i(l){s||(W(i.$$.fragment,l),s=!0)},o(l){Q(i.$$.fragment,l),s=!1},d(l){l&&p(e),Be(i,l)}}}function ti(a){let t,e;return t=new qi({props:{ghostPiece:!0,duration:0,legal:a[2].state.legal.enabled,square:a[2].state.draggable.ghostPiece.piece.square,name:a[2].state.draggable.ghostPiece.piece.name,movable:new Oi(!1),getGridCoordsFromSquare:a[2].getGridCoordsFromSquare,flipped:a[2].state.board.flipped}}),{c(){Ve(t.$$.fragment)},l(i){Ne(t.$$.fragment,i)},m(i,s){Ue(t,i,s),e=!0},p(i,s){const n={};s[0]&4&&(n.legal=i[2].state.legal.enabled),s[0]&4&&(n.square=i[2].state.draggable.ghostPiece.piece.square),s[0]&4&&(n.name=i[2].state.draggable.ghostPiece.piece.name),s[0]&4&&(n.getGridCoordsFromSquare=i[2].getGridCoordsFromSquare),s[0]&4&&(n.flipped=i[2].state.board.flipped),t.$set(n)},i(i){e||(W(t.$$.fragment,i),e=!0)},o(i){Q(t.$$.fragment,i),e=!1},d(i){Be(t,i)}}}function Zl(a){let t=[],e=new Map,i,s,n=[...a[2].state.markedSquares];const r=l=>l[67];for(let l=0;l<n.length;l+=1){let o=Za(a,n,l),u=r(o);e.set(u,t[l]=si(u,o))}return{c(){for(let l=0;l<t.length;l+=1)t[l].c();i=le()},l(l){for(let o=0;o<t.length;o+=1)t[o].l(l);i=le()},m(l,o){for(let u=0;u<t.length;u+=1)t[u].m(l,o);z(l,i,o),s=!0},p(l,o){o[0]&5&&(n=[...l[2].state.markedSquares],Re(),t=yi(t,o,r,1,l,n,e,i.parentNode,Pi,si,i,Za),De())},i(l){if(!s){for(let o=0;o<n.length;o+=1)W(t[o]);s=!0}},o(l){for(let o=0;o<t.length;o+=1)Q(t[o]);s=!1},d(l){for(let o=0;o<t.length;o+=1)t[o].d(l);l&&p(i)}}}function si(a,t){let e,i,s;return i=new Sl({props:{theme:t[2].state.board.boardTheme,square:t[67].square,color:t[67].color,getGridCoordsFromSquare:t[2].getGridCoordsFromSquare,flipped:t[2].state.board.flipped}}),i.$on("dragenter",t[51]),{key:a,first:null,c(){e=le(),Ve(i.$$.fragment),this.h()},l(n){e=le(),Ne(i.$$.fragment,n),this.h()},h(){this.first=e},m(n,r){z(n,e,r),Ue(i,n,r),s=!0},p(n,r){t=n;const l={};r[0]&4&&(l.theme=t[2].state.board.boardTheme),r[0]&4&&(l.square=t[67].square),r[0]&4&&(l.color=t[67].color),r[0]&4&&(l.getGridCoordsFromSquare=t[2].getGridCoordsFromSquare),r[0]&4&&(l.flipped=t[2].state.board.flipped),i.$set(l)},i(n){s||(W(i.$$.fragment,n),s=!0)},o(n){Q(i.$$.fragment,n),s=!1},d(n){n&&p(e),Be(i,n)}}}function ai(a){let t,e;return t=new In({props:{theme:a[2].state.board.boardTheme,flipped:a[2].state.board.flipped}}),{c(){Ve(t.$$.fragment)},l(i){Ne(t.$$.fragment,i)},m(i,s){Ue(t,i,s),e=!0},p(i,s){const n={};s[0]&4&&(n.theme=i[2].state.board.boardTheme),s[0]&4&&(n.flipped=i[2].state.board.flipped),t.$set(n)},i(i){e||(W(t.$$.fragment,i),e=!0)},o(i){Q(t.$$.fragment,i),e=!1},d(i){Be(t,i)}}}function ii(a){let t,e;return t=new xl({props:{chessboard:a[2],setSize:a[1]}}),{c(){Ve(t.$$.fragment)},l(i){Ne(t.$$.fragment,i)},m(i,s){Ue(t,i,s),e=!0},p(i,s){const n={};s[0]&4&&(n.chessboard=i[2]),t.$set(n)},i(i){e||(W(t.$$.fragment,i),e=!0)},o(i){Q(t.$$.fragment,i),e=!1},d(i){Be(t,i)}}}function ni(a){let t,e,i;function s(r){a[52](r)}let n={flipped:a[2].state.board.flipped,computerArrows:a[7],LshapeKnightMove:a[2].state.drawTools.settings.LshapeKnightMove};return a[4]!==void 0&&(n.svg=a[4]),t=new Fl({props:n}),Pe.push(()=>Ws(t,"svg",s)),{c(){Ve(t.$$.fragment)},l(r){Ne(t.$$.fragment,r)},m(r,l){Ue(t,r,l),i=!0},p(r,l){const o={};l[0]&4&&(o.flipped=r[2].state.board.flipped),l[0]&128&&(o.computerArrows=r[7]),l[0]&4&&(o.LshapeKnightMove=r[2].state.drawTools.settings.LshapeKnightMove),!e&&l[0]&16&&(e=!0,o.svg=r[4],js(()=>e=!1)),t.$set(o)},i(r){i||(W(t.$$.fragment,r),i=!0)},o(r){Q(t.$$.fragment,r),i=!1},d(r){Be(t,r)}}}function li(a){let t,e,i={};return t=new Ul({props:i}),a[53](t),t.$on("newPromotion",a[15]),{c(){Ve(t.$$.fragment)},l(s){Ne(t.$$.fragment,s)},m(s,n){Ue(t,s,n),e=!0},p(s,n){const r={};t.$set(r)},i(s){e||(W(t.$$.fragment,s),e=!0)},o(s){Q(t.$$.fragment,s),e=!1},d(s){a[53](null),Be(t,s)}}}function ri(a){let t,e,i={settings:a[2].state.sounds.settings};return t=new Gl({props:i}),a[58](t),{c(){Ve(t.$$.fragment)},l(s){Ne(t.$$.fragment,s)},m(s,n){Ue(t,s,n),e=!0},p(s,n){const r={};n[0]&4&&(r.settings=s[2].state.sounds.settings),t.$set(r)},i(s){e||(W(t.$$.fragment,s),e=!0)},o(s){Q(t.$$.fragment,s),e=!1},d(s){a[58](null),Be(t,s)}}}function Jl(a){let t,e,i,s,n=a[9](),r,l,o,u,g,b,m,_,O,L,A,E,c=a[2].state.board.startFen&&$a(a),f=a[2].state.draggable.ghostPiece.enabled&&a[2].state.draggable.ghostPiece.piece!==void 0&&ti(a),P=n&&Zl(a),w=a[2].state.board.notation&&ai(a),y=a[2].state.resizible.enabled&&ii(a),I=a[2].state.drawTools.enabled&&ni(a),R=a[2].state.legal.enabled&&li(a),T=a[2].state.sounds.enabled&&ri(a);return{c(){t=k("div"),e=k("div"),c&&c.c(),i=V(),f&&f.c(),s=V(),P&&P.c(),r=V(),w&&w.c(),l=V(),y&&y.c(),o=V(),I&&I.c(),u=V(),R&&R.c(),_=V(),T&&T.c(),O=le(),this.h()},l(F){t=M(F,"DIV",{class:!0,style:!0});var S=C(t);e=M(S,"DIV",{class:!0});var j=C(e);c&&c.l(j),j.forEach(p),i=N(S),f&&f.l(S),s=N(S),P&&P.l(S),r=N(S),w&&w.l(S),l=N(S),y&&y.l(S),o=N(S),I&&I.l(S),u=N(S),R&&R.l(S),S.forEach(p),_=N(F),T&&T.l(F),O=le(),this.h()},h(){d(e,"class","noselect h-full w-full"),d(t,"class",g="noselect lg:rounded board text-xs"+(a[2].state.board.shadow?" shadow-lg":"")+" sm:text-sm svelte-wzcws1"),ie(t,"--boardTheme","url("+(a[2].state.board.boardTheme==="standard"?Qa:xa)+")"),Kt(()=>a[57].call(t))},m(F,S){z(F,t,S),h(t,e),c&&c.m(e,null),h(t,i),f&&f.m(t,null),h(t,s),P&&P.m(t,null),h(t,r),w&&w.m(t,null),h(t,l),y&&y.m(t,null),h(t,o),I&&I.m(t,null),h(t,u),R&&R.m(t,null),a[56](t),m=Zi(t,a[57].bind(t)),z(F,_,S),T&&T.m(F,S),z(F,O,S),L=!0,A||(E=[Y(t,"pointerdown",a[10]),Y(t,"contextmenu",Aa(a[46])),Y(t,"drag",Aa(a[47])),$s(b=Tl.call(null,t,{svg:a[4],flipped:a[2].state.board.flipped,enabled:a[2].state.drawTools.enabled,settings:a[2].state.drawTools.settings})),Y(t,"drawCircle",a[54]),Y(t,"drawArrow",a[55])],A=!0)},p(F,S){F[2].state.board.startFen?c?(c.p(F,S),S[0]&4&&W(c,1)):(c=$a(F),c.c(),W(c,1),c.m(e,null)):c&&(Re(),Q(c,1,1,()=>{c=null}),De()),F[2].state.draggable.ghostPiece.enabled&&F[2].state.draggable.ghostPiece.piece!==void 0?f?(f.p(F,S),S[0]&4&&W(f,1)):(f=ti(F),f.c(),W(f,1),f.m(t,s)):f&&(Re(),Q(f,1,1,()=>{f=null}),De()),n&&P.p(F,S),F[2].state.board.notation?w?(w.p(F,S),S[0]&4&&W(w,1)):(w=ai(F),w.c(),W(w,1),w.m(t,l)):w&&(Re(),Q(w,1,1,()=>{w=null}),De()),F[2].state.resizible.enabled?y?(y.p(F,S),S[0]&4&&W(y,1)):(y=ii(F),y.c(),W(y,1),y.m(t,o)):y&&(Re(),Q(y,1,1,()=>{y=null}),De()),F[2].state.drawTools.enabled?I?(I.p(F,S),S[0]&4&&W(I,1)):(I=ni(F),I.c(),W(I,1),I.m(t,u)):I&&(Re(),Q(I,1,1,()=>{I=null}),De()),F[2].state.legal.enabled?R?(R.p(F,S),S[0]&4&&W(R,1)):(R=li(F),R.c(),W(R,1),R.m(t,null)):R&&(Re(),Q(R,1,1,()=>{R=null}),De()),(!L||S[0]&4&&g!==(g="noselect lg:rounded board text-xs"+(F[2].state.board.shadow?" shadow-lg":"")+" sm:text-sm svelte-wzcws1"))&&d(t,"class",g),(!L||S[0]&4)&&ie(t,"--boardTheme","url("+(F[2].state.board.boardTheme==="standard"?Qa:xa)+")"),b&&ea(b.update)&&S[0]&20&&b.update.call(null,{svg:F[4],flipped:F[2].state.board.flipped,enabled:F[2].state.drawTools.enabled,settings:F[2].state.drawTools.settings}),F[2].state.sounds.enabled?T?(T.p(F,S),S[0]&4&&W(T,1)):(T=ri(F),T.c(),W(T,1),T.m(O.parentNode,O)):T&&(Re(),Q(T,1,1,()=>{T=null}),De())},i(F){L||(W(c),W(f),W(P),W(w),W(y),W(I),W(R),W(T),L=!0)},o(F){Q(c),Q(f),Q(P),Q(w),Q(y),Q(I),Q(R),Q(T),L=!1},d(F){F&&p(t),c&&c.d(),f&&f.d(),P&&P.d(),w&&w.d(),y&&y.d(),I&&I.d(),R&&R.d(),a[56](null),m(),F&&p(_),T&&T.d(F),F&&p(O),A=!1,At(E)}}}function $l(a,t,e){let{config:i}=t;const s=new Mn(i),n=ta();let r,l,o,u,g="";Ji(()=>{document.documentElement.hasAttribute("style")&&s.state.resizible.enabled&&document.documentElement.removeAttribute("style")});let b=[],m={[$.WHITE]:"",[$.BLACK]:""};const _=v=>{s.clearAllSquares(v),v===q.LEGAL&&s.clearAllSquares(q.LEGALHOVER),v===q.PREMOVE&&s.clearAllSquares(q.PREMOVEHOVER),e(2,s)},O=(v,U)=>{s.highlightSquare(v,U),e(2,s)},L=v=>s.state.highlight.enabled&&(v===void 0||s.state.highlight.settings[v]),A=v=>{_(q.CHECK),v!==void 0&&L("check")&&O(m[v],q.CHECK),e(2,s)},E=v=>{s.flipBoard(v),e(2,s)},c=(v,U)=>{v.forEach(Z=>s.highlightSquare(Z,U)),e(2,s)},f=(v,U=q.MOVE)=>{v.length<4||c([v.substring(0,2),v.substring(2,4)],U)},P=(v,U=q.MOVE)=>{const Z=[];v.forEach(ce=>{ce.length<4||(Z.push(ce.substring(0,2)),Z.push(ce.substring(2,4)))}),c(Z,U)},w=v=>{O(v.substring(2,4),q.LEGAL)},y=v=>{_(q.LEGAL),P(v,q.LEGAL)},I=(v,U=!0)=>{s.makeMove(v),U&&(_(q.MOVE),L("move")&&f(v)),e(2,s)},R=v=>{s.removePiece(v),e(2,s)},T=v=>v[0]==="w"?$.WHITE:$.BLACK,F=()=>s.state.movable.enabled&&(s.state.movable.color===$.BOTH||s.state.legal.whiteToMove&&s.state.movable.color===T("w")||!s.state.legal.whiteToMove&&s.state.movable.color===T("b")),S=()=>{!s.state.legal.enabled||(s.state.callbacks.getWhiteToMove&&e(2,s.state.legal.whiteToMove=s.state.callbacks.getWhiteToMove(),s),s.state.callbacks.getPreMoves&&!F()&&s.state.legal.preMoves.enabled?e(2,s.state.legal.preMoves.moves=s.state.callbacks.getPreMoves(),s):e(2,s.state.legal.preMoves.moves.length=0,s),s.state.callbacks.getLegalMoves&&F()?e(2,s.state.legal.moves=s.state.callbacks.getLegalMoves(),s):e(2,s.state.legal.moves.length=0,s),F()&&s.state.selectable.selectedPiece!==void 0&&s.state.legal.preMoves.enabled&&(_(q.PREMOVE),_(q.LEGAL),L("legal")&&s.state.legal.moves.forEach(v=>{s.state.selectable.selectedPiece&&v.substring(0,2)===s.state.selectable.selectedPiece.square&&O(v.substring(2,4),q.LEGAL)})),s.state.callbacks.getKingLocations&&(m=s.state.callbacks.getKingLocations()),s.state.callbacks.getInCheck&&A(s.state.callbacks.getInCheck()))},j=v=>{s.state.sounds.enabled&&o.playMoveSound(v)},ae=v=>{if(v.substring(0,2)===v.substring(2,4))return;s.state.callbacks.beforeMove&&s.state.callbacks.beforeMove(v),_(q.LEGAL),_(q.SELECT);const U=s.getRookMoveIfIsCastling(v),Z=s.getCapturedPawnSquareIfIsEnPassant(v);if(U&&s.state.legal.enabled&&s.state.legal.settings.allowCastling?(I(U,!1),j("CASTLE")):Z&&s.state.legal.enabled&&s.state.legal.settings.allowEnPassant?(R(Z),j("CAPTURE")):s.isCapture(v)?j("CAPTURE"):j("MOVE"),s.removeGhostPiece(),e(2,s),I(v),s.state.callbacks.afterMove&&s.state.callbacks.afterMove(v),S(),s.state.legal.enabled&&s.state.legal.preMoves.enabled&&s.state.legal.preMoves.curMove!==""){if(s.state.legal.moves.includes(s.state.legal.preMoves.curMove)||s.state.legal.moves.includes(`${s.state.legal.preMoves.curMove}q`)){const ce=s.state.legal.preMoves.curMove;e(2,s.state.legal.preMoves.curMove="",s),$i().then(()=>{ae(ce)})}_(q.NEXTMOVE)}},se=v=>{!s.state.legal.enabled||!s.state.legal.preMoves.enabled||!s.state.movable.enabled||(_(q.PREMOVE),_(q.NEXTMOVE),s.state.highlight.enabled&&s.state.highlight.settings.nextMove&&f(v,q.NEXTMOVE),e(2,s.state.legal.preMoves.curMove=v,s),n("nextMove",{move:v}))},Ee=v=>{u.openPromotionModal(!0),g=v,s.makeMove(v),_(q.LEGAL),_(q.SELECT),_(q.MOVE),f(v)},Ce=(v,U)=>{s.clearSquare(v,U),e(2,s)},D=()=>{s.clearAllPieces(),e(2,s)},H=(v,U)=>{s.setPiece(v,U),e(2,s)},K=(v,U)=>{var ce;const Z=(ce=s.getPieceFromSquare(v))==null?void 0:ce.name;!Z||(U!==void 0?s.setPiece(v,`${U===$.WHITE?"w":"b"}${Z[1]}`):s.setPiece(v,`${Z[0]==="w"?"b":"w"}${Z[1]}`),e(2,s))},x=(v,U)=>{const Z=Math.floor(v/s.state.board.size*8),ce=Math.floor(U/s.state.board.size*8),ee=s.state.board.flipped?Math.abs(Z-7):Z,oe=s.state.board.flipped?ce:Math.abs(ce-7);return Object.keys(s.letters)[ee]+(oe+1).toString()},ne=v=>s.state.movable.enabled?!!(s.state.legal.enabled&&s.state.legal.preMoves.enabled&&(s.state.movable.color===$.BOTH||s.state.movable.color===T(v))||s.state.movable.color===$.BOTH||s.state.movable.color===T(v)):!1,re=v=>{if(v.button===2){_(),e(2,s.state.selectable.selectedPiece=void 0,s);return}const U=r.getBoundingClientRect(),Z=v.clientX-U.left,ce=v.clientY-U.top,ee=x(Z,ce),oe=s.getPieceFromSquare(ee);if(n("squareClick",{square:ee,piece:oe?oe.name:void 0}),!s.state.selectable.enabled){e(2,s.state.selectable.selectedPiece=void 0,s);return}if(s.state.selectable.selectedPiece!==void 0&&s.state.selectable.selectedPiece.square!==ee&&!s.state.legal.enabled){ae(s.state.selectable.selectedPiece.square+ee),e(2,s.state.selectable.selectedPiece=void 0,s);return}if(s.state.selectable.selectedPiece!==void 0&&s.state.selectable.selectedPiece.square!==ee&&(oe===void 0||oe.name[0]!==s.state.selectable.selectedPiece.name[0])){s.isPromotion(s.state.selectable.selectedPiece.square+ee)&&s.state.legal.moves.includes(`${s.state.selectable.selectedPiece.square+ee}q`)?Ee(s.state.selectable.selectedPiece.square+ee):s.state.legal.moves.includes(s.state.selectable.selectedPiece.square+ee)?ae(s.state.selectable.selectedPiece.square+ee):s.state.legal.preMoves.enabled&&s.state.legal.preMoves.moves.includes(s.state.selectable.selectedPiece.square+ee)?se(s.state.selectable.selectedPiece.square+ee):(_(q.LEGAL),_(q.PREMOVE),_(q.SELECT)),e(2,s.state.selectable.selectedPiece=void 0,s);return}if(s.state.selectable.selectedPiece!==oe&&oe!==void 0&&s.state.movable.enabled&&(s.state.movable.color===$.BOTH||s.state.movable.color===T(oe.name))){L("legal")&&s.state.legal&&F()&&(_(q.LEGAL),s.state.legal.moves.forEach(he=>{he.substring(0,2)===ee&&O(he.substring(2,4),q.LEGAL)})),L("preMove")&&s.state.legal.enabled&&s.state.legal.preMoves.enabled&&s.state.movable.color!==$.BOTH&&!F()&&(_(q.PREMOVE),s.state.highlight.enabled&&s.state.highlight.settings.preMove&&s.state.legal.preMoves.moves.forEach(he=>{he.substring(0,2)===ee&&O(he.substring(2,4),q.PREMOVE)})),L("select")&&(s.state.legal.enabled&&ne(oe.name[0])||!s.state.legal.enabled)&&(_(q.SELECT),O(ee,q.SELECT)),(s.state.legal.enabled&&ne(oe.name[0])||!s.state.legal.enabled)&&e(2,s.state.selectable.selectedPiece=oe,s);return}s.state.selectable.selectedPiece!==void 0&&s.state.selectable.selectedPiece===oe&&(_(q.LEGAL),_(q.PREMOVE),_(q.SELECT),e(2,s.state.selectable.selectedPiece=void 0,s))},we=v=>{const U=v.detail;if(U.substring(0,2)===U.substring(2,4)){O(U.substring(0,2),q.SELECT),e(2,s);return}s.state.legal.enabled?s.isPromotion(U)&&s.state.legal.moves.includes(`${U}q`)?Ee(U):s.state.legal.moves.includes(U)?ae(U):s.state.legal.preMoves.enabled&&s.state.legal.preMoves.moves.includes(U)&&se(U):ae(U),_(q.LEGAL),_(q.PREMOVE),e(2,s)},ke=(v,U="MOVE")=>{if(s.updatePiecesWithFen(v),_(),s.removeGhostPiece(),S(),s.state.callbacks.getLastMove){const Z=s.state.callbacks.getLastMove();U!=="MOVE"?j(U):s.isCastling(Z)?j("CASTLE"):j(U),f(Z)}else j(U);e(2,s),e(2,s)},Oe=()=>s.getShortFEN(),Le=v=>{!v||s.state.board.size===v||(e(2,s.state.board.size=v,s),s.state.resizible.enabled&&document.documentElement.style.setProperty("--boardSize",`${s.state.board.size}px`))},Me=v=>{var U;return(U=s.getPieceFromSquare(v))==null?void 0:U.name},We=v=>{e(7,b=v)},Se=()=>{e(7,b.length=0,b)},Ae=()=>{S()},de=v=>{v===!1?e(2,s.state.movable.enabled=!1,s):(e(2,s.state.movable.enabled=!0,s),e(2,s.state.movable.color=v===!0?$.BOTH:v,s))},dt=v=>{v!==void 0&&(s.setConfigSettings(v),e(2,s))},ye=()=>s.state,Ft=v=>{e(2,s.state=v,s)},qt=v=>v.getConfig(),Rt=v=>{const U=r.getBoundingClientRect();s.state.legal.enabled&&(F()&&s.legalHover(x(v.detail.x-U.x,v.detail.y-U.y)),!F()&&s.state.legal.preMoves.enabled&&s.preMoveHover(x(v.detail.x-U.x,v.detail.y-U.y))),e(2,s)},je=v=>{s.setGhostPiece(v),e(2,s)},Dt=()=>{s.removeGhostPiece(),e(2,s)},Ge=v=>{s.state.draggable.ghostPiece&&je(v),_(q.SELECT),s.state.selectable.selectedPiece===void 0&&L("legal")&&s.state.legal.moves.forEach(U=>{U.substring(0,2)===v.square&&O(U.substring(2,4),q.LEGAL)})},Xe=v=>{const U=s.getPieceFromSquare(g.substring(2,4));if(!U)return;const Z=U.name[0]+v.detail.toUpperCase(),ce=g+v.detail;s.state.callbacks.beforeMove&&s.state.callbacks.beforeMove(ce),s.setPiece(U.square,Z),e(2,s),j("MOVE"),s.state.callbacks.afterMove&&s.state.callbacks.afterMove(ce),S()};sa(()=>{S(),s.state.callbacks.getLastMove&&f(s.state.callbacks.getLastMove()),s.state.resizible&&Le(s.state.board.size-s.state.board.size%8)});function Ie(v){Mt.call(this,a,v)}function Vt(v){Mt.call(this,a,v)}const Ye=v=>{n("piececlick",{piece:v})},Nt=v=>{n("startDragging",{piece:v}),Ge(v)},Ut=()=>{n("endDragging"),e(2,s.state.selectable.selectedPiece=void 0,s)},Qe=v=>{O(v.detail.square,q.LEGALHOVER)};function Bt(v){l=v,e(4,l)}function Fe(v){Pe[v?"unshift":"push"](()=>{u=v,e(6,u)})}const xe=v=>n("drawCircle",{square:v.detail.square,color:v.detail.color}),qe=v=>n("drawArrow",{move:v.detail.move,color:v.detail.color});function zt(v){Pe[v?"unshift":"push"](()=>{r=v,e(3,r)})}function Ze(){s.state.board.size=this.clientWidth,e(2,s)}function Ht(v){Pe[v?"unshift":"push"](()=>{o=v,e(5,o)})}return a.$$set=v=>{"config"in v&&e(16,i=v.config)},a.$$.update=()=>{a.$$.dirty[0]&4&&Le(s.state.board.size-s.state.board.size%8)},[O,Le,s,r,l,o,u,b,n,L,re,we,Rt,Dt,Ge,Xe,i,_,E,c,f,P,w,y,I,R,j,ae,se,Ee,Ce,D,H,K,x,ke,Oe,Me,We,Se,Ae,de,dt,ye,Ft,qt,Ie,Vt,Ye,Nt,Ut,Qe,Bt,Fe,xe,qe,zt,Ze,Ht]}class er extends ze{constructor(t){super(),He(this,t,$l,Jl,Ke,{config:16,clearAllSquares:17,highlightSquare:0,flipBoard:18,highlightManySquares:19,highlightMove:20,highlightManyMoves:21,highlightLegalMove:22,highlightLegalMoves:23,movePiece:24,removePiece:25,playMoveSound:26,makeMove:27,makeNextMove:28,makeMovePromotion:29,removeSquareHighlight:30,removeAllPiece:31,createPiece:32,changeColorOfPiece:33,getSquareFromCoords:34,setFEN:35,getShortFEN:36,setSize:1,getPieceFromSquare:37,setComputerArrows:38,removeComputerArrows:39,updateLegalState:40,setMovableColor:41,setConfigSettings:42,getState:43,setState:44,getConfigFromState:45},null,[-1,-1,-1])}get clearAllSquares(){return this.$$.ctx[17]}get highlightSquare(){return this.$$.ctx[0]}get flipBoard(){return this.$$.ctx[18]}get highlightManySquares(){return this.$$.ctx[19]}get highlightMove(){return this.$$.ctx[20]}get highlightManyMoves(){return this.$$.ctx[21]}get highlightLegalMove(){return this.$$.ctx[22]}get highlightLegalMoves(){return this.$$.ctx[23]}get movePiece(){return this.$$.ctx[24]}get removePiece(){return this.$$.ctx[25]}get playMoveSound(){return this.$$.ctx[26]}get makeMove(){return this.$$.ctx[27]}get makeNextMove(){return this.$$.ctx[28]}get makeMovePromotion(){return this.$$.ctx[29]}get removeSquareHighlight(){return this.$$.ctx[30]}get removeAllPiece(){return this.$$.ctx[31]}get createPiece(){return this.$$.ctx[32]}get changeColorOfPiece(){return this.$$.ctx[33]}get getSquareFromCoords(){return this.$$.ctx[34]}get setFEN(){return this.$$.ctx[35]}get getShortFEN(){return this.$$.ctx[36]}get setSize(){return this.$$.ctx[1]}get getPieceFromSquare(){return this.$$.ctx[37]}get setComputerArrows(){return this.$$.ctx[38]}get removeComputerArrows(){return this.$$.ctx[39]}get updateLegalState(){return this.$$.ctx[40]}get setMovableColor(){return this.$$.ctx[41]}get setConfigSettings(){return this.$$.ctx[42]}get getState(){return this.$$.ctx[43]}get setState(){return this.$$.ctx[44]}get getConfigFromState(){return this.$$.ctx[45]}}const oi=["standard","darkBlue"],ui=["backIn","backInOut","backOut","bounceIn","bounceInOut","bounceOut","circIn","circInOut","circOut","cubicIn","cubicInOut","cubicOut","elasticIn","elasticInOut","elasticOut","expoIn","expoInOut","expoOut","linear","quadIn","quadInOut","quadOut","quartIn","quartInOut","quartOut","quintIn","quintInOut","quintOut","sineIn","sineInOut","sineOut"];function ci(a,t,e){const i=a.slice();return i[31]=t[e],i[32]=t,i[33]=e,i}function di(a,t,e){const i=a.slice();return i[34]=t[e],i[35]=t,i[36]=e,i}function hi(a,t,e){const i=a.slice();return i[37]=t[e],i}function fi(a,t,e){const i=a.slice();return i[40]=t[e],i}function gi(a){let t,e=a[40]+"",i;return{c(){t=k("option"),i=G(e),this.h()},l(s){t=M(s,"OPTION",{});var n=C(t);i=X(n,e),n.forEach(p),this.h()},h(){t.__value=a[40],t.value=t.__value},m(s,n){z(s,t,n),h(t,i)},p:ue,d(s){s&&p(t)}}}function bi(a){let t,e,i,s,n,r,l,o,u,g;return{c(){t=k("div"),e=k("select"),i=k("option"),s=G("Both"),n=k("option"),r=G("White"),l=k("option"),o=G("Black"),this.h()},l(b){t=M(b,"DIV",{});var m=C(t);e=M(m,"SELECT",{class:!0});var _=C(e);i=M(_,"OPTION",{});var O=C(i);s=X(O,"Both"),O.forEach(p),n=M(_,"OPTION",{});var L=C(n);r=X(L,"White"),L.forEach(p),l=M(_,"OPTION",{});var A=C(l);o=X(A,"Black"),A.forEach(p),_.forEach(p),m.forEach(p),this.h()},h(){i.__value=$.BOTH,i.value=i.__value,n.__value=$.WHITE,n.value=n.__value,l.__value=$.BLACK,l.value=l.__value,d(e,"class","svelte-1q80l21"),a[0].movable.color===void 0&&Kt(()=>a[11].call(e))},m(b,m){z(b,t,m),h(t,e),h(e,i),h(i,s),h(e,n),h(n,r),h(e,l),h(l,o),It(e,a[0].movable.color),u||(g=Y(e,"change",a[11]),u=!0)},p(b,m){m[0]&1&&It(e,b[0].movable.color)},d(b){b&&p(t),u=!1,g()}}}function pi(a){let t,e,i,s,n,r,l,o,u,g,b,m,_,O,L,A=a[0].draggable.transition.enabled&&vi(a);return{c(){t=k("div"),e=k("input"),i=V(),s=k("label"),n=G("ghost piece"),r=V(),l=k("div"),o=k("input"),u=V(),g=k("label"),b=G("transition enabled"),m=V(),A&&A.c(),_=le(),this.h()},l(E){t=M(E,"DIV",{});var c=C(t);e=M(c,"INPUT",{id:!0,type:!0,class:!0}),i=N(c),s=M(c,"LABEL",{for:!0,class:!0});var f=C(s);n=X(f,"ghost piece"),f.forEach(p),c.forEach(p),r=N(E),l=M(E,"DIV",{});var P=C(l);o=M(P,"INPUT",{id:!0,type:!0,class:!0}),u=N(P),g=M(P,"LABEL",{for:!0,class:!0});var w=C(g);b=X(w,"transition enabled"),w.forEach(p),P.forEach(p),m=N(E),A&&A.l(E),_=le(),this.h()},h(){d(e,"id","ghostPiece"),d(e,"type","checkbox"),d(e,"class","svelte-1q80l21"),d(s,"for","ghostPiece"),d(s,"class","select-none"),d(o,"id","draggableEnabled"),d(o,"type","checkbox"),d(o,"class","svelte-1q80l21"),d(g,"for","draggableEnabled"),d(g,"class","select-none")},m(E,c){z(E,t,c),h(t,e),e.checked=a[0].draggable.ghostPiece.enabled,h(t,i),h(t,s),h(s,n),z(E,r,c),z(E,l,c),h(l,o),o.checked=a[0].draggable.transition.enabled,h(l,u),h(l,g),h(g,b),z(E,m,c),A&&A.m(E,c),z(E,_,c),O||(L=[Y(e,"change",a[13]),Y(o,"change",a[14])],O=!0)},p(E,c){c[0]&1&&(e.checked=E[0].draggable.ghostPiece.enabled),c[0]&1&&(o.checked=E[0].draggable.transition.enabled),E[0].draggable.transition.enabled?A?A.p(E,c):(A=vi(E),A.c(),A.m(_.parentNode,_)):A&&(A.d(1),A=null)},d(E){E&&p(t),E&&p(r),E&&p(l),E&&p(m),A&&A.d(E),E&&p(_),O=!1,At(L)}}}function vi(a){let t,e,i,s,n,r,l,o,u,g,b,m,_,O=ui,L=[];for(let A=0;A<O.length;A+=1)L[A]=mi(hi(a,O,A));return{c(){t=k("div"),e=k("input"),i=V(),s=k("label"),n=G("duration"),r=V(),l=k("div"),o=k("label"),u=G("easing func"),g=V(),b=k("select");for(let A=0;A<L.length;A+=1)L[A].c();this.h()},l(A){t=M(A,"DIV",{});var E=C(t);e=M(E,"INPUT",{id:!0,type:!0,class:!0}),i=N(E),s=M(E,"LABEL",{for:!0,class:!0});var c=C(s);n=X(c,"duration"),c.forEach(p),E.forEach(p),r=N(A),l=M(A,"DIV",{});var f=C(l);o=M(f,"LABEL",{for:!0,class:!0});var P=C(o);u=X(P,"easing func"),P.forEach(p),g=N(f),b=M(f,"SELECT",{id:!0,class:!0});var w=C(b);for(let y=0;y<L.length;y+=1)L[y].l(w);w.forEach(p),f.forEach(p),this.h()},h(){d(e,"id","transitionDuration"),d(e,"type","number"),d(e,"class","svelte-1q80l21"),d(s,"for","transitionDuration"),d(s,"class","select-none"),d(o,"for","easingFuncs"),d(o,"class","select-none"),d(b,"id","easingFuncs"),d(b,"class","svelte-1q80l21"),a[0].draggable.transition.settings.easing===void 0&&Kt(()=>a[16].call(b))},m(A,E){z(A,t,E),h(t,e),ya(e,a[0].draggable.transition.settings.duration),h(t,i),h(t,s),h(s,n),z(A,r,E),z(A,l,E),h(l,o),h(o,u),h(l,g),h(l,b);for(let c=0;c<L.length;c+=1)L[c].m(b,null);It(b,a[0].draggable.transition.settings.easing),m||(_=[Y(e,"input",a[15]),Y(b,"change",a[16])],m=!0)},p(A,E){if(E[0]&1&&Ci(e.value)!==A[0].draggable.transition.settings.duration&&ya(e,A[0].draggable.transition.settings.duration),E&0){O=ui;let c;for(c=0;c<O.length;c+=1){const f=hi(A,O,c);L[c]?L[c].p(f,E):(L[c]=mi(f),L[c].c(),L[c].m(b,null))}for(;c<L.length;c+=1)L[c].d(1);L.length=O.length}E[0]&1&&It(b,A[0].draggable.transition.settings.easing)},d(A){A&&p(t),A&&p(r),A&&p(l),ct(L,A),m=!1,At(_)}}}function mi(a){let t,e=a[37]+"",i;return{c(){t=k("option"),i=G(e),this.h()},l(s){t=M(s,"OPTION",{});var n=C(t);i=X(n,e),n.forEach(p),this.h()},h(){t.__value=a[37],t.value=t.__value},m(s,n){z(s,t,n),h(t,i)},p:ue,d(s){s&&p(t)}}}function _i(a){let t,e,i,s,n,r,l;return{c(){t=k("div"),e=k("input"),i=V(),s=k("label"),n=G("preMoves enabled"),this.h()},l(o){t=M(o,"DIV",{});var u=C(t);e=M(u,"INPUT",{id:!0,type:!0,class:!0}),i=N(u),s=M(u,"LABEL",{for:!0,class:!0});var g=C(s);n=X(g,"preMoves enabled"),g.forEach(p),u.forEach(p),this.h()},h(){d(e,"id","preMovesEnabled"),d(e,"type","checkbox"),d(e,"class","svelte-1q80l21"),d(s,"for","preMovesEnabled"),d(s,"class","select-none")},m(o,u){z(o,t,u),h(t,e),e.checked=a[0].legal.preMoves.enabled,h(t,i),h(t,s),h(s,n),r||(l=Y(e,"change",a[19]),r=!0)},p(o,u){u[0]&1&&(e.checked=o[0].legal.preMoves.enabled)},d(o){o&&p(t),r=!1,l()}}}function Ei(a){let t,e=a[4],i=[];for(let s=0;s<e.length;s+=1)i[s]=wi(di(a,e,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=le()},l(s){for(let n=0;n<i.length;n+=1)i[n].l(s);t=le()},m(s,n){for(let r=0;r<i.length;r+=1)i[r].m(s,n);z(s,t,n)},p(s,n){if(n[0]&17){e=s[4];let r;for(r=0;r<e.length;r+=1){const l=di(s,e,r);i[r]?i[r].p(l,n):(i[r]=wi(l),i[r].c(),i[r].m(t.parentNode,t))}for(;r<i.length;r+=1)i[r].d(1);i.length=e.length}},d(s){ct(i,s),s&&p(t)}}}function wi(a){let t,e,i,s,n=a[34]+"",r,l,o,u;function g(){a[21].call(e,a[34])}return{c(){t=k("div"),e=k("input"),i=V(),s=k("label"),r=G(n),l=V(),this.h()},l(b){t=M(b,"DIV",{});var m=C(t);e=M(m,"INPUT",{id:!0,type:!0,class:!0}),i=N(m),s=M(m,"LABEL",{for:!0,class:!0});var _=C(s);r=X(_,n),_.forEach(p),l=N(m),m.forEach(p),this.h()},h(){d(e,"id",a[34]+"Enabled"),d(e,"type","checkbox"),d(e,"class","svelte-1q80l21"),d(s,"for",a[34]+"Enabled"),d(s,"class","select-none")},m(b,m){z(b,t,m),h(t,e),e.checked=a[0].highlight.settings[a[34]],h(t,i),h(t,s),h(s,r),h(t,l),o||(u=Y(e,"change",g),o=!0)},p(b,m){a=b,m[0]&17&&(e.checked=a[0].highlight.settings[a[34]])},d(b){b&&p(t),o=!1,u()}}}function ki(a){let t,e,i,s,n,r,l,o,u,g,b,m,_;return{c(){t=k("div"),e=k("input"),i=V(),s=k("label"),n=G("L shape knight move"),r=V(),l=k("div"),o=k("input"),u=V(),g=k("label"),b=G("only chess move"),this.h()},l(O){t=M(O,"DIV",{});var L=C(t);e=M(L,"INPUT",{id:!0,type:!0,class:!0}),i=N(L),s=M(L,"LABEL",{for:!0,class:!0});var A=C(s);n=X(A,"L shape knight move"),A.forEach(p),L.forEach(p),r=N(O),l=M(O,"DIV",{});var E=C(l);o=M(E,"INPUT",{id:!0,type:!0,class:!0}),u=N(E),g=M(E,"LABEL",{for:!0,class:!0});var c=C(g);b=X(c,"only chess move"),c.forEach(p),E.forEach(p),this.h()},h(){d(e,"id","LshapeKnightMoveEnabled"),d(e,"type","checkbox"),d(e,"class","svelte-1q80l21"),d(s,"for","LshapeKnightMoveEnabled"),d(s,"class","select-none"),d(o,"id","onlyChessMoveEnabled"),d(o,"type","checkbox"),d(o,"class","svelte-1q80l21"),d(g,"for","onlyChessMoveEnabled"),d(g,"class","select-none")},m(O,L){z(O,t,L),h(t,e),e.checked=a[0].drawTools.settings.LshapeKnightMove,h(t,i),h(t,s),h(s,n),z(O,r,L),z(O,l,L),h(l,o),o.checked=a[0].drawTools.settings.onlyChessMove,h(l,u),h(l,g),h(g,b),m||(_=[Y(e,"change",a[23]),Y(o,"change",a[24])],m=!0)},p(O,L){L[0]&1&&(e.checked=O[0].drawTools.settings.LshapeKnightMove),L[0]&1&&(o.checked=O[0].drawTools.settings.onlyChessMove)},d(O){O&&p(t),O&&p(r),O&&p(l),m=!1,At(_)}}}function Mi(a){let t,e=a[5],i=[];for(let s=0;s<e.length;s+=1)i[s]=Si(ci(a,e,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=le()},l(s){for(let n=0;n<i.length;n+=1)i[n].l(s);t=le()},m(s,n){for(let r=0;r<i.length;r+=1)i[r].m(s,n);z(s,t,n)},p(s,n){if(n[0]&33){e=s[5];let r;for(r=0;r<e.length;r+=1){const l=ci(s,e,r);i[r]?i[r].p(l,n):(i[r]=Si(l),i[r].c(),i[r].m(t.parentNode,t))}for(;r<i.length;r+=1)i[r].d(1);i.length=e.length}},d(s){ct(i,s),s&&p(t)}}}function Si(a){let t,e,i,s,n=a[31]+"",r,l,o,u;function g(){a[26].call(e,a[31])}return{c(){t=k("div"),e=k("input"),i=V(),s=k("label"),r=G(n),l=V(),this.h()},l(b){t=M(b,"DIV",{});var m=C(t);e=M(m,"INPUT",{id:!0,type:!0,class:!0}),i=N(m),s=M(m,"LABEL",{for:!0,class:!0});var _=C(s);r=X(_,n),_.forEach(p),l=N(m),m.forEach(p),this.h()},h(){d(e,"id",a[31]+"Enabled"),d(e,"type","checkbox"),d(e,"class","svelte-1q80l21"),d(s,"for",a[31]+"Enabled"),d(s,"class","select-none")},m(b,m){z(b,t,m),h(t,e),e.checked=a[0].sounds.settings[a[31]],h(t,i),h(t,s),h(s,r),h(t,l),o||(u=Y(e,"change",g),o=!0)},p(b,m){a=b,m[0]&33&&(e.checked=a[0].sounds.settings[a[31]])},d(b){b&&p(t),o=!1,u()}}}function tr(a){let t,e,i,s,n,r,l,o,u,g,b,m,_,O,L,A,E,c,f,P,w,y,I,R,T,F,S,j,ae,se,Ee,Ce,D,H,K,x,ne,re,we,ke,Oe,Le,Me,We,Se,Ae,de,dt,ye,Ft,qt,Rt,je,Dt,Ge,Xe,Ie,Vt,Ye,Nt,Ut,Qe,Bt,Fe,xe,qe,zt,Ze,Ht,v,U,Z,ce,ee,oe,he,gs,ht,bs,ps,vs,ft,ms,Je,gt,$e,_s,bt,Es,ws,ks,pt,Ms,et,vt,tt,Ss,mt,As,ys,Ps,_t,Cs,yt,Et,st,Ls,wt,Ts,Os,lt,Pt,at,Is,Ct,Lt,rt,Wt,Fs,aa,Tt=oi,fe=[];for(let B=0;B<Tt.length;B+=1)fe[B]=gi(fi(a,Tt,B));let ge=a[0].movable.enabled&&bi(a),be=a[0].draggable.enabled&&pi(a),pe=a[0].legal.enabled&&_i(a),ve=a[0].highlight.enabled&&Ei(a),me=a[0].drawTools.enabled&&ki(a),_e=a[0].sounds.enabled&&Mi(a),Ni={config:a[3]};return at=new er({props:Ni}),a[28](at),rt=new on({props:{source:a[2]}}),{c(){t=k("link"),e=V(),i=k("div"),s=k("div"),n=k("div"),r=k("div"),l=G(`board
				`),o=k("div"),u=k("div"),g=k("label"),b=G("board theme"),m=V(),_=k("select");for(let B=0;B<fe.length;B+=1)fe[B].c();O=V(),L=k("div"),A=k("input"),E=V(),c=k("label"),f=G("notation"),P=V(),w=k("div"),y=k("input"),I=V(),R=k("label"),T=G("flipped"),F=V(),S=k("div"),j=k("input"),ae=V(),se=k("label"),Ee=G("shadow"),Ce=V(),D=k("div"),H=G(`movable
				`),K=k("div"),x=k("div"),ne=k("input"),re=V(),we=k("label"),ke=G("enabled"),Oe=V(),ge&&ge.c(),Le=V(),Me=k("div"),We=G(`draggable
				`),Se=k("div"),Ae=k("div"),de=k("input"),dt=V(),ye=k("label"),Ft=G("enabled"),qt=V(),be&&be.c(),Rt=V(),je=k("div"),Dt=G(`selectable
				`),Ge=k("div"),Xe=k("div"),Ie=k("input"),Vt=V(),Ye=k("label"),Nt=G("enabled"),Ut=V(),Qe=k("div"),Bt=G(`legal
				`),Fe=k("div"),xe=k("div"),qe=k("input"),zt=V(),Ze=k("label"),Ht=G("enabled"),v=V(),pe&&pe.c(),U=V(),Z=k("div"),ce=G(`highlight
				`),ee=k("div"),oe=k("div"),he=k("input"),gs=V(),ht=k("label"),bs=G("enabled"),ps=V(),ve&&ve.c(),vs=V(),ft=k("div"),ms=G(`drawTools
				`),Je=k("div"),gt=k("div"),$e=k("input"),_s=V(),bt=k("label"),Es=G("enabled"),ws=V(),me&&me.c(),ks=V(),pt=k("div"),Ms=G(`sounds
				`),et=k("div"),vt=k("div"),tt=k("input"),Ss=V(),mt=k("label"),As=G("enabled"),ys=V(),_e&&_e.c(),Ps=V(),_t=k("div"),Cs=G(`resizible
				`),yt=k("div"),Et=k("div"),st=k("input"),Ls=V(),wt=k("label"),Ts=G("enabled"),Os=V(),lt=k("div"),Pt=k("div"),Ve(at.$$.fragment),Is=V(),Ct=k("div"),Lt=k("div"),Ve(rt.$$.fragment),this.h()},l(B){const te=en('[data-svelte="svelte-tebjht"]',document.head);t=M(te,"LINK",{rel:!0,href:!0}),te.forEach(p),e=N(B),i=M(B,"DIV",{class:!0});var ot=C(i);s=M(ot,"DIV",{class:!0});var kt=C(s);n=M(kt,"DIV",{class:!0});var J=C(n);r=M(J,"DIV",{class:!0});var Ot=C(r);l=X(Ot,`board
				`),o=M(Ot,"DIV",{class:!0});var ut=C(o);u=M(ut,"DIV",{});var jt=C(u);g=M(jt,"LABEL",{for:!0,class:!0});var ia=C(g);b=X(ia,"board theme"),ia.forEach(p),m=N(jt),_=M(jt,"SELECT",{class:!0});var na=C(_);for(let Hs=0;Hs<fe.length;Hs+=1)fe[Hs].l(na);na.forEach(p),jt.forEach(p),O=N(ut),L=M(ut,"DIV",{});var Gt=C(L);A=M(Gt,"INPUT",{id:!0,type:!0,class:!0}),E=N(Gt),c=M(Gt,"LABEL",{for:!0,class:!0});var la=C(c);f=X(la,"notation"),la.forEach(p),Gt.forEach(p),P=N(ut),w=M(ut,"DIV",{});var Xt=C(w);y=M(Xt,"INPUT",{id:!0,type:!0,class:!0}),I=N(Xt),R=M(Xt,"LABEL",{for:!0,class:!0});var ra=C(R);T=X(ra,"flipped"),ra.forEach(p),Xt.forEach(p),F=N(ut),S=M(ut,"DIV",{});var Yt=C(S);j=M(Yt,"INPUT",{id:!0,type:!0,class:!0}),ae=N(Yt),se=M(Yt,"LABEL",{for:!0,class:!0});var oa=C(se);Ee=X(oa,"shadow"),oa.forEach(p),Yt.forEach(p),ut.forEach(p),Ot.forEach(p),Ce=N(J),D=M(J,"DIV",{class:!0});var qs=C(D);H=X(qs,`movable
				`),K=M(qs,"DIV",{class:!0});var Qt=C(K);x=M(Qt,"DIV",{});var xt=C(x);ne=M(xt,"INPUT",{id:!0,type:!0,class:!0}),re=N(xt),we=M(xt,"LABEL",{for:!0,class:!0});var ua=C(we);ke=X(ua,"enabled"),ua.forEach(p),xt.forEach(p),Oe=N(Qt),ge&&ge.l(Qt),Qt.forEach(p),qs.forEach(p),Le=N(J),Me=M(J,"DIV",{class:!0});var Rs=C(Me);We=X(Rs,`draggable
				`),Se=M(Rs,"DIV",{class:!0});var Zt=C(Se);Ae=M(Zt,"DIV",{});var Jt=C(Ae);de=M(Jt,"INPUT",{id:!0,type:!0,class:!0}),dt=N(Jt),ye=M(Jt,"LABEL",{for:!0,class:!0});var ca=C(ye);Ft=X(ca,"enabled"),ca.forEach(p),Jt.forEach(p),qt=N(Zt),be&&be.l(Zt),Zt.forEach(p),Rs.forEach(p),Rt=N(J),je=M(J,"DIV",{class:!0});var Ds=C(je);Dt=X(Ds,`selectable
				`),Ge=M(Ds,"DIV",{class:!0});var da=C(Ge);Xe=M(da,"DIV",{});var $t=C(Xe);Ie=M($t,"INPUT",{id:!0,type:!0,class:!0}),Vt=N($t),Ye=M($t,"LABEL",{for:!0,class:!0});var ha=C(Ye);Nt=X(ha,"enabled"),ha.forEach(p),$t.forEach(p),da.forEach(p),Ds.forEach(p),Ut=N(J),Qe=M(J,"DIV",{class:!0});var Vs=C(Qe);Bt=X(Vs,`legal
				`),Fe=M(Vs,"DIV",{class:!0});var es=C(Fe);xe=M(es,"DIV",{});var ts=C(xe);qe=M(ts,"INPUT",{id:!0,type:!0,class:!0}),zt=N(ts),Ze=M(ts,"LABEL",{for:!0,class:!0});var fa=C(Ze);Ht=X(fa,"enabled"),fa.forEach(p),ts.forEach(p),v=N(es),pe&&pe.l(es),es.forEach(p),Vs.forEach(p),U=N(J),Z=M(J,"DIV",{class:!0});var Ns=C(Z);ce=X(Ns,`highlight
				`),ee=M(Ns,"DIV",{class:!0});var ss=C(ee);oe=M(ss,"DIV",{});var as=C(oe);he=M(as,"INPUT",{id:!0,type:!0,class:!0}),gs=N(as),ht=M(as,"LABEL",{for:!0,class:!0});var ga=C(ht);bs=X(ga,"enabled"),ga.forEach(p),as.forEach(p),ps=N(ss),ve&&ve.l(ss),ss.forEach(p),Ns.forEach(p),vs=N(J),ft=M(J,"DIV",{class:!0});var Us=C(ft);ms=X(Us,`drawTools
				`),Je=M(Us,"DIV",{class:!0});var is=C(Je);gt=M(is,"DIV",{});var ns=C(gt);$e=M(ns,"INPUT",{id:!0,type:!0,class:!0}),_s=N(ns),bt=M(ns,"LABEL",{for:!0,class:!0});var ba=C(bt);Es=X(ba,"enabled"),ba.forEach(p),ns.forEach(p),ws=N(is),me&&me.l(is),is.forEach(p),Us.forEach(p),ks=N(J),pt=M(J,"DIV",{class:!0});var Bs=C(pt);Ms=X(Bs,`sounds
				`),et=M(Bs,"DIV",{class:!0});var ls=C(et);vt=M(ls,"DIV",{});var rs=C(vt);tt=M(rs,"INPUT",{id:!0,type:!0,class:!0}),Ss=N(rs),mt=M(rs,"LABEL",{for:!0,class:!0});var pa=C(mt);As=X(pa,"enabled"),pa.forEach(p),rs.forEach(p),ys=N(ls),_e&&_e.l(ls),ls.forEach(p),Bs.forEach(p),Ps=N(J),_t=M(J,"DIV",{class:!0});var zs=C(_t);Cs=X(zs,`resizible
				`),yt=M(zs,"DIV",{class:!0});var va=C(yt);Et=M(va,"DIV",{});var os=C(Et);st=M(os,"INPUT",{id:!0,type:!0,class:!0}),Ls=N(os),wt=M(os,"LABEL",{for:!0,class:!0});var ma=C(wt);Ts=X(ma,"enabled"),ma.forEach(p),os.forEach(p),va.forEach(p),zs.forEach(p),J.forEach(p),Os=N(kt),lt=M(kt,"DIV",{class:!0});var us=C(lt);Pt=M(us,"DIV",{class:!0});var _a=C(Pt);Ne(at.$$.fragment,_a),_a.forEach(p),Is=N(us),Ct=M(us,"DIV",{class:!0});var Ea=C(Ct);Lt=M(Ea,"DIV",{class:!0});var wa=C(Lt);Ne(rt.$$.fragment,wa),wa.forEach(p),Ea.forEach(p),us.forEach(p),kt.forEach(p),ot.forEach(p),this.h()},h(){document.title="Chessboard \u2022 PowChess.com",d(t,"rel","stylesheet"),d(t,"href","prism-one-dark.css"),d(g,"for","boardTheme"),d(g,"class","select-none"),d(_,"class","svelte-1q80l21"),a[0].board.boardTheme===void 0&&Kt(()=>a[6].call(_)),d(A,"id","notation"),d(A,"type","checkbox"),d(A,"class","svelte-1q80l21"),d(c,"for","notation"),d(c,"class","select-none"),d(y,"id","flipped"),d(y,"type","checkbox"),d(y,"class","svelte-1q80l21"),d(R,"for","flipped"),d(R,"class","select-none"),d(j,"id","shadow"),d(j,"type","checkbox"),d(j,"class","svelte-1q80l21"),d(se,"for","shadow"),d(se,"class","select-none"),d(o,"class","p-2 pl-4"),d(r,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(ne,"id","movableEnabled"),d(ne,"type","checkbox"),d(ne,"class","svelte-1q80l21"),d(we,"for","movableEnabled"),d(we,"class","select-none"),d(K,"class","p-2 pl-4"),d(D,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(de,"id","draggableEnabled"),d(de,"type","checkbox"),d(de,"class","svelte-1q80l21"),d(ye,"for","draggableEnabled"),d(ye,"class","select-none"),d(Se,"class","p-2 pl-4"),d(Me,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(Ie,"id","selectableEnabled"),d(Ie,"type","checkbox"),d(Ie,"class","svelte-1q80l21"),d(Ye,"for","selectableEnabled"),d(Ye,"class","select-none"),d(Ge,"class","p-2 pl-4"),d(je,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(qe,"id","legalEnabled"),d(qe,"type","checkbox"),d(qe,"class","svelte-1q80l21"),d(Ze,"for","legalEnabled"),d(Ze,"class","select-none"),d(Fe,"class","p-2 pl-4"),d(Qe,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(he,"id","highlightEnabled"),d(he,"type","checkbox"),d(he,"class","svelte-1q80l21"),d(ht,"for","highlightEnabled"),d(ht,"class","select-none"),d(ee,"class","p-2 pl-4"),d(Z,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d($e,"id","drawToolsEnabled"),d($e,"type","checkbox"),d($e,"class","svelte-1q80l21"),d(bt,"for","drawToolsEnabled"),d(bt,"class","select-none"),d(Je,"class","p-2 pl-4"),d(ft,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(tt,"id","soundsEnabled"),d(tt,"type","checkbox"),d(tt,"class","svelte-1q80l21"),d(mt,"for","soundsEnabled"),d(mt,"class","select-none"),d(et,"class","p-2 pl-4"),d(pt,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(st,"id","resizibleEnabled"),d(st,"type","checkbox"),d(st,"class","svelte-1q80l21"),d(wt,"for","resizibleEnabled"),d(wt,"class","select-none"),d(yt,"class","p-2 pl-4"),d(_t,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),d(n,"class","col-start-1 flex flex-col gap-2 w-60 text-gray-300 text-sm"),d(Pt,"class","w-[var(--boardSize,40rem)]"),d(Lt,"class","shadow-lg rounded"),d(Ct,"class","row-start-2"),d(lt,"class","grid grid-rows-[min-content_auto] gap-10"),d(s,"class","col-start-2 gap-10 grid grid-cols-[auto_auto]"),d(i,"class","mt-10 grid grid-cols-center")},m(B,te){h(document.head,t),z(B,e,te),z(B,i,te),h(i,s),h(s,n),h(n,r),h(r,l),h(r,o),h(o,u),h(u,g),h(g,b),h(u,m),h(u,_);for(let ot=0;ot<fe.length;ot+=1)fe[ot].m(_,null);It(_,a[0].board.boardTheme),h(o,O),h(o,L),h(L,A),A.checked=a[0].board.notation,h(L,E),h(L,c),h(c,f),h(o,P),h(o,w),h(w,y),y.checked=a[0].board.flipped,h(w,I),h(w,R),h(R,T),h(o,F),h(o,S),h(S,j),j.checked=a[0].board.shadow,h(S,ae),h(S,se),h(se,Ee),h(n,Ce),h(n,D),h(D,H),h(D,K),h(K,x),h(x,ne),ne.checked=a[0].movable.enabled,h(x,re),h(x,we),h(we,ke),h(K,Oe),ge&&ge.m(K,null),h(n,Le),h(n,Me),h(Me,We),h(Me,Se),h(Se,Ae),h(Ae,de),de.checked=a[0].draggable.enabled,h(Ae,dt),h(Ae,ye),h(ye,Ft),h(Se,qt),be&&be.m(Se,null),h(n,Rt),h(n,je),h(je,Dt),h(je,Ge),h(Ge,Xe),h(Xe,Ie),Ie.checked=a[0].selectable.enabled,h(Xe,Vt),h(Xe,Ye),h(Ye,Nt),h(n,Ut),h(n,Qe),h(Qe,Bt),h(Qe,Fe),h(Fe,xe),h(xe,qe),qe.checked=a[0].legal.enabled,h(xe,zt),h(xe,Ze),h(Ze,Ht),h(Fe,v),pe&&pe.m(Fe,null),h(n,U),h(n,Z),h(Z,ce),h(Z,ee),h(ee,oe),h(oe,he),he.checked=a[0].highlight.enabled,h(oe,gs),h(oe,ht),h(ht,bs),h(ee,ps),ve&&ve.m(ee,null),h(n,vs),h(n,ft),h(ft,ms),h(ft,Je),h(Je,gt),h(gt,$e),$e.checked=a[0].drawTools.enabled,h(gt,_s),h(gt,bt),h(bt,Es),h(Je,ws),me&&me.m(Je,null),h(n,ks),h(n,pt),h(pt,Ms),h(pt,et),h(et,vt),h(vt,tt),tt.checked=a[0].sounds.enabled,h(vt,Ss),h(vt,mt),h(mt,As),h(et,ys),_e&&_e.m(et,null),h(n,Ps),h(n,_t),h(_t,Cs),h(_t,yt),h(yt,Et),h(Et,st),st.checked=a[0].resizible.enabled,h(Et,Ls),h(Et,wt),h(wt,Ts),h(s,Os),h(s,lt),h(lt,Pt),Ue(at,Pt,null),h(lt,Is),h(lt,Ct),h(Ct,Lt),Ue(rt,Lt,null),Wt=!0,Fs||(aa=[Y(_,"change",a[6]),Y(A,"change",a[7]),Y(y,"change",a[8]),Y(j,"change",a[9]),Y(ne,"change",a[10]),Y(de,"change",a[12]),Y(Ie,"change",a[17]),Y(qe,"change",a[18]),Y(he,"change",a[20]),Y($e,"change",a[22]),Y(tt,"change",a[25]),Y(st,"change",a[27])],Fs=!0)},p(B,te){if(te&0){Tt=oi;let J;for(J=0;J<Tt.length;J+=1){const Ot=fi(B,Tt,J);fe[J]?fe[J].p(Ot,te):(fe[J]=gi(Ot),fe[J].c(),fe[J].m(_,null))}for(;J<fe.length;J+=1)fe[J].d(1);fe.length=Tt.length}te[0]&1&&It(_,B[0].board.boardTheme),te[0]&1&&(A.checked=B[0].board.notation),te[0]&1&&(y.checked=B[0].board.flipped),te[0]&1&&(j.checked=B[0].board.shadow),te[0]&1&&(ne.checked=B[0].movable.enabled),B[0].movable.enabled?ge?ge.p(B,te):(ge=bi(B),ge.c(),ge.m(K,null)):ge&&(ge.d(1),ge=null),te[0]&1&&(de.checked=B[0].draggable.enabled),B[0].draggable.enabled?be?be.p(B,te):(be=pi(B),be.c(),be.m(Se,null)):be&&(be.d(1),be=null),te[0]&1&&(Ie.checked=B[0].selectable.enabled),te[0]&1&&(qe.checked=B[0].legal.enabled),B[0].legal.enabled?pe?pe.p(B,te):(pe=_i(B),pe.c(),pe.m(Fe,null)):pe&&(pe.d(1),pe=null),te[0]&1&&(he.checked=B[0].highlight.enabled),B[0].highlight.enabled?ve?ve.p(B,te):(ve=Ei(B),ve.c(),ve.m(ee,null)):ve&&(ve.d(1),ve=null),te[0]&1&&($e.checked=B[0].drawTools.enabled),B[0].drawTools.enabled?me?me.p(B,te):(me=ki(B),me.c(),me.m(Je,null)):me&&(me.d(1),me=null),te[0]&1&&(tt.checked=B[0].sounds.enabled),B[0].sounds.enabled?_e?_e.p(B,te):(_e=Mi(B),_e.c(),_e.m(et,null)):_e&&(_e.d(1),_e=null),te[0]&1&&(st.checked=B[0].resizible.enabled);const ot={};at.$set(ot);const kt={};te[0]&4&&(kt.source=B[2]),rt.$set(kt)},i(B){Wt||(W(at.$$.fragment,B),W(rt.$$.fragment,B),Wt=!0)},o(B){Q(at.$$.fragment,B),Q(rt.$$.fragment,B),Wt=!1},d(B){p(t),B&&p(e),B&&p(i),ct(fe,B),ge&&ge.d(),be&&be.d(),pe&&pe.d(),ve&&ve.d(),me&&me.d(),_e&&_e.d(),a[28](null),Be(at),Be(rt),Fs=!1,At(aa)}}}function sr(a,t,e){let i;const s={resizible:!0};let n,r=new Ii(s),l=!1;sa(()=>{l=!0,e(0,r=n.getState())});const o=H=>{const K=H.getConfig();return l&&n.setState(H),`const config: ChessboardConfig = ${JSON.stringify(K,null,4)};`.replace(/"([^"]+)":/g,"$1:")},u=["select","legal","move","preMove","nextMove","check"],g=["MOVE","CAPTURE","CASTLE","UNDO"];function b(){r.board.boardTheme=Ks(this),e(0,r)}function m(){r.board.notation=this.checked,e(0,r)}function _(){r.board.flipped=this.checked,e(0,r)}function O(){r.board.shadow=this.checked,e(0,r)}function L(){r.movable.enabled=this.checked,e(0,r)}function A(){r.movable.color=Ks(this),e(0,r)}function E(){r.draggable.enabled=this.checked,e(0,r)}function c(){r.draggable.ghostPiece.enabled=this.checked,e(0,r)}function f(){r.draggable.transition.enabled=this.checked,e(0,r)}function P(){r.draggable.transition.settings.duration=Ci(this.value),e(0,r)}function w(){r.draggable.transition.settings.easing=Ks(this),e(0,r)}function y(){r.selectable.enabled=this.checked,e(0,r)}function I(){r.legal.enabled=this.checked,e(0,r)}function R(){r.legal.preMoves.enabled=this.checked,e(0,r)}function T(){r.highlight.enabled=this.checked,e(0,r)}function F(H){r.highlight.settings[H]=this.checked,e(0,r)}function S(){r.drawTools.enabled=this.checked,e(0,r)}function j(){r.drawTools.settings.LshapeKnightMove=this.checked,e(0,r)}function ae(){r.drawTools.settings.onlyChessMove=this.checked,e(0,r)}function se(){r.sounds.enabled=this.checked,e(0,r)}function Ee(H){r.sounds.settings[H]=this.checked,e(0,r)}function Ce(){r.resizible.enabled=this.checked,e(0,r)}function D(H){Pe[H?"unshift":"push"](()=>{n=H,e(1,n)})}return a.$$.update=()=>{a.$$.dirty[0]&1&&e(2,i=o(r))},[r,n,i,s,u,g,b,m,_,O,L,A,E,c,f,P,w,y,I,R,T,F,S,j,ae,se,Ee,Ce,D]}class nr extends ze{constructor(t){super(),He(this,t,sr,tr,Ke,{},null,[-1,-1])}}export{nr as default};
