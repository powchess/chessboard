import{S as _e,i as Ee,s as we,B as en,k as O,a as j,l as F,m as q,h as m,c as K,p as de,n as g,b as H,F as S,C as tn,D as sn,E as nn,f as z,t as G,H as Pt,I as ts,J as Q,K as Fn,e as pe,L as In,q as he,r as ge,u as It,A as be,M as nt,N as an,O as qn,P as Rn,Q as ss,R as lt,T as Xt,U as $,V as Yt,W as at,X as Qt,G as Nn,Y as Qe,Z as Ae,_ as Ce,o as Zt,g as qe,d as Re,$ as rt,a0 as Dn,a1 as Bn,a2 as se,v as ie,w as le,x as re,a3 as ne,y as oe,a4 as ln,a5 as Vn,a6 as ns,a7 as Un,a8 as rn,z as Hn,a9 as on,aa as Lt,ab as ht,ac as Jt,ad as un,ae as as,af as zn}from"../../chunks/index-18bffe9d.js";import{w as Wn}from"../../chunks/index-c2b86799.js";typeof window<"u"&&(window.Prism&&console.warn("Prism has already been initiated. Please ensure that svelte-prism is imported first."),window.Prism=window.Prism||{},window.Prism.manual=!0);var is=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dn={exports:{}};(function(s){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(a){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,l={},r={manual:a.Prism&&a.Prism.manual,disableWorkerMessageHandler:a.Prism&&a.Prism.disableWorkerMessageHandler,util:{encode:function d(c){return c instanceof o?new o(c.type,d(c.content),c.alias):Array.isArray(c)?c.map(d):c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(d){return Object.prototype.toString.call(d).slice(8,-1)},objId:function(d){return d.__id||Object.defineProperty(d,"__id",{value:++n}),d.__id},clone:function d(c,w){w=w||{};var v,k;switch(r.util.type(c)){case"Object":if(k=r.util.objId(c),w[k])return w[k];v={},w[k]=v;for(var T in c)c.hasOwnProperty(T)&&(v[T]=d(c[T],w));return v;case"Array":return k=r.util.objId(c),w[k]?w[k]:(v=[],w[k]=v,c.forEach(function(D,I){v[I]=d(D,w)}),v);default:return c}},getLanguage:function(d){for(;d;){var c=i.exec(d.className);if(c)return c[1].toLowerCase();d=d.parentElement}return"none"},setLanguage:function(d,c){d.className=d.className.replace(RegExp(i,"gi"),""),d.classList.add("language-"+c)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(v){var d=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(v.stack)||[])[1];if(d){var c=document.getElementsByTagName("script");for(var w in c)if(c[w].src==d)return c[w]}return null}},isActive:function(d,c,w){for(var v="no-"+c;d;){var k=d.classList;if(k.contains(c))return!0;if(k.contains(v))return!1;d=d.parentElement}return!!w}},languages:{plain:l,plaintext:l,text:l,txt:l,extend:function(d,c){var w=r.util.clone(r.languages[d]);for(var v in c)w[v]=c[v];return w},insertBefore:function(d,c,w,v){v=v||r.languages;var k=v[d],T={};for(var D in k)if(k.hasOwnProperty(D)){if(D==c)for(var I in w)w.hasOwnProperty(I)&&(T[I]=w[I]);w.hasOwnProperty(D)||(T[D]=k[D])}var L=v[d];return v[d]=T,r.languages.DFS(r.languages,function(R,V){V===L&&R!=d&&(this[R]=T)}),T},DFS:function d(c,w,v,k){k=k||{};var T=r.util.objId;for(var D in c)if(c.hasOwnProperty(D)){w.call(c,D,c[D],v||D);var I=c[D],L=r.util.type(I);L==="Object"&&!k[T(I)]?(k[T(I)]=!0,d(I,w,null,k)):L==="Array"&&!k[T(I)]&&(k[T(I)]=!0,d(I,w,D,k))}}},plugins:{},highlightAll:function(d,c){r.highlightAllUnder(document,d,c)},highlightAllUnder:function(d,c,w){var v={callback:w,container:d,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",v),v.elements=Array.prototype.slice.apply(v.container.querySelectorAll(v.selector)),r.hooks.run("before-all-elements-highlight",v);for(var k=0,T;T=v.elements[k++];)r.highlightElement(T,c===!0,v.callback)},highlightElement:function(d,c,w){var v=r.util.getLanguage(d),k=r.languages[v];r.util.setLanguage(d,v);var T=d.parentElement;T&&T.nodeName.toLowerCase()==="pre"&&r.util.setLanguage(T,v);var D=d.textContent,I={element:d,language:v,grammar:k,code:D};function L(V){I.highlightedCode=V,r.hooks.run("before-insert",I),I.element.innerHTML=I.highlightedCode,r.hooks.run("after-highlight",I),r.hooks.run("complete",I),w&&w.call(I.element)}if(r.hooks.run("before-sanity-check",I),T=I.element.parentElement,T&&T.nodeName.toLowerCase()==="pre"&&!T.hasAttribute("tabindex")&&T.setAttribute("tabindex","0"),!I.code){r.hooks.run("complete",I),w&&w.call(I.element);return}if(r.hooks.run("before-highlight",I),!I.grammar){L(r.util.encode(I.code));return}if(c&&a.Worker){var R=new Worker(r.filename);R.onmessage=function(V){L(V.data)},R.postMessage(JSON.stringify({language:I.language,code:I.code,immediateClose:!0}))}else L(r.highlight(I.code,I.grammar,I.language))},highlight:function(d,c,w){var v={code:d,grammar:c,language:w};if(r.hooks.run("before-tokenize",v),!v.grammar)throw new Error('The language "'+v.language+'" has no grammar.');return v.tokens=r.tokenize(v.code,v.grammar),r.hooks.run("after-tokenize",v),o.stringify(r.util.encode(v.tokens),v.language)},tokenize:function(d,c){var w=c.rest;if(w){for(var v in w)c[v]=w[v];delete c.rest}var k=new h;return b(k,k.head,d),f(d,k,c,k.head,0),C(k)},hooks:{all:{},add:function(d,c){var w=r.hooks.all;w[d]=w[d]||[],w[d].push(c)},run:function(d,c){var w=r.hooks.all[d];if(!(!w||!w.length))for(var v=0,k;k=w[v++];)k(c)}},Token:o};a.Prism=r;function o(d,c,w,v){this.type=d,this.content=c,this.alias=w,this.length=(v||"").length|0}o.stringify=function d(c,w){if(typeof c=="string")return c;if(Array.isArray(c)){var v="";return c.forEach(function(L){v+=d(L,w)}),v}var k={type:c.type,content:d(c.content,w),tag:"span",classes:["token",c.type],attributes:{},language:w},T=c.alias;T&&(Array.isArray(T)?Array.prototype.push.apply(k.classes,T):k.classes.push(T)),r.hooks.run("wrap",k);var D="";for(var I in k.attributes)D+=" "+I+'="'+(k.attributes[I]||"").replace(/"/g,"&quot;")+'"';return"<"+k.tag+' class="'+k.classes.join(" ")+'"'+D+">"+k.content+"</"+k.tag+">"};function u(d,c,w,v){d.lastIndex=c;var k=d.exec(w);if(k&&v&&k[1]){var T=k[1].length;k.index+=T,k[0]=k[0].slice(T)}return k}function f(d,c,w,v,k,T){for(var D in w)if(!(!w.hasOwnProperty(D)||!w[D])){var I=w[D];I=Array.isArray(I)?I:[I];for(var L=0;L<I.length;++L){if(T&&T.cause==D+","+L)return;var R=I[L],V=R.inside,Y=!!R.lookbehind,X=!!R.greedy,N=R.alias;if(X&&!R.pattern.global){var fe=R.pattern.toString().match(/[imsuy]*$/)[0];R.pattern=RegExp(R.pattern.source,fe+"g")}for(var W=R.pattern||R,A=v.next,Z=k;A!==c.tail&&!(T&&Z>=T.reach);Z+=A.value.length,A=A.next){var te=A.value;if(c.length>d.length)return;if(!(te instanceof o)){var me=1,ae;if(X){if(ae=u(W,Z,d,Y),!ae||ae.index>=d.length)break;var De=ae.index,ue=ae.index+ae[0].length,Se=Z;for(Se+=A.value.length;De>=Se;)A=A.next,Se+=A.value.length;if(Se-=A.value.length,Z=Se,A.value instanceof o)continue;for(var Le=A;Le!==c.tail&&(Se<ue||typeof Le.value=="string");Le=Le.next)me++,Se+=Le.value.length;me--,te=d.slice(Z,Se),ae.index-=Z}else if(ae=u(W,0,te,Y),!ae)continue;var De=ae.index,Me=ae[0],ye=te.slice(0,De),Be=te.slice(De+Me.length),Pe=Z+te.length;T&&Pe>T.reach&&(T.reach=Pe);var Te=A.prev;ye&&(Te=b(c,Te,ye),Z+=ye.length),E(c,Te,me);var Oe=new o(D,V?r.tokenize(Me,V):Me,N,Me);if(A=b(c,Te,Oe),Be&&b(c,A,Be),me>1){var We={cause:D+","+L,reach:Pe};f(d,c,w,A.prev,Z,We),T&&We.reach>T.reach&&(T.reach=We.reach)}}}}}}function h(){var d={value:null,prev:null,next:null},c={value:null,prev:d,next:null};d.next=c,this.head=d,this.tail=c,this.length=0}function b(d,c,w){var v=c.next,k={value:w,prev:c,next:v};return c.next=k,v.prev=k,d.length++,k}function E(d,c,w){for(var v=c.next,k=0;k<w&&v!==d.tail;k++)v=v.next;c.next=v,v.prev=c,d.length-=k}function C(d){for(var c=[],w=d.head.next;w!==d.tail;)c.push(w.value),w=w.next;return c}if(!a.document)return a.addEventListener&&(r.disableWorkerMessageHandler||a.addEventListener("message",function(d){var c=JSON.parse(d.data),w=c.language,v=c.code,k=c.immediateClose;a.postMessage(r.highlight(v,r.languages[w],w)),k&&a.close()},!1)),r;var y=r.util.currentScript();y&&(r.filename=y.src,y.hasAttribute("data-manual")&&(r.manual=!0));function M(){r.manual||r.highlightAll()}if(!r.manual){var _=document.readyState;_==="loading"||_==="interactive"&&y&&y.defer?document.addEventListener("DOMContentLoaded",M):window.requestAnimationFrame?window.requestAnimationFrame(M):window.setTimeout(M,16)}return r}(e);s.exports&&(s.exports=t),typeof is<"u"&&(is.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(a){a.type==="entity"&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(i,n){var l={};l["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},l.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:l}};r["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var o={};o[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:r},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(a,i){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+a+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:t.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(a){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;a.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},a.languages.css.atrule.inside.rest=a.languages.css;var n=a.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var a="Loading\u2026",i=function(y,M){return"\u2716 Error "+y+" while fetching file: "+M},n="\u2716 Error: File does not exist or is empty",l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},r="data-src-status",o="loading",u="loaded",f="failed",h="pre[data-src]:not(["+r+'="'+u+'"]):not(['+r+'="'+o+'"])';function b(y,M,_){var d=new XMLHttpRequest;d.open("GET",y,!0),d.onreadystatechange=function(){d.readyState==4&&(d.status<400&&d.responseText?M(d.responseText):d.status>=400?_(i(d.status,d.statusText)):_(n))},d.send(null)}function E(y){var M=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(y||"");if(M){var _=Number(M[1]),d=M[2],c=M[3];return d?c?[_,Number(c)]:[_,void 0]:[_,_]}}t.hooks.add("before-highlightall",function(y){y.selector+=", "+h}),t.hooks.add("before-sanity-check",function(y){var M=y.element;if(M.matches(h)){y.code="",M.setAttribute(r,o);var _=M.appendChild(document.createElement("CODE"));_.textContent=a;var d=M.getAttribute("data-src"),c=y.language;if(c==="none"){var w=(/\.(\w+)$/.exec(d)||[,"none"])[1];c=l[w]||w}t.util.setLanguage(_,c),t.util.setLanguage(M,c);var v=t.plugins.autoloader;v&&v.loadLanguages(c),b(d,function(k){M.setAttribute(r,u);var T=E(M.getAttribute("data-range"));if(T){var D=k.split(/\r\n?|\n/g),I=T[0],L=T[1]==null?D.length:T[1];I<0&&(I+=D.length),I=Math.max(0,Math.min(I-1,D.length)),L<0&&(L+=D.length),L=Math.max(0,Math.min(L,D.length)),k=D.slice(I,L).join(`
`),M.hasAttribute("data-start")||M.setAttribute("data-start",String(I+1))}_.textContent=k,t.highlightElement(_)},function(k){M.setAttribute(r,f),_.textContent=k})}}),t.plugins.fileHighlight={highlight:function(M){for(var _=(M||document).querySelectorAll(h),d=0,c;c=_[d++];)t.highlightElement(c)}};var C=!1;t.fileHighlight=function(){C||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),C=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(dn);const fn=dn.exports,ls="(if|else if|await|then|catch|each|html|debug)";Prism.languages.svelte=Prism.languages.extend("markup",{each:{pattern:new RegExp("{[#/]each(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{"language-javascript":[{pattern:/(as[\s\S]*)\([\s\S]*\)(?=\s*\})/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(as[\s]*)[\s\S]*(?=\s*)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(#each[\s]*)[\s\S]*(?=as)/,lookbehind:!0,inside:Prism.languages.javascript}],keyword:/[#/]each|as/,punctuation:/{|}/}},block:{pattern:new RegExp("{[#:/@]/s"+ls+"(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{punctuation:/^{|}$/,keyword:[new RegExp("[#:/@]"+ls+"( )*"),/as/,/then/],"language-javascript":{pattern:/[\s\S]*/,inside:Prism.languages.javascript}}},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?:"[^"]*"|'[^']*'|{[\s\S]+?}(?=[\s/>])))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,inside:Prism.languages.javascript},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],"language-javascript":{pattern:/{[\s\S]+}/,inside:Prism.languages.javascript}}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,lookbehind:!0,inside:Prism.languages.javascript}});Prism.languages.svelte.tag.inside["attr-value"].inside.entity=Prism.languages.svelte.entity;Prism.hooks.add("wrap",s=>{s.type==="entity"&&(s.attributes.title=s.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.svelte.tag,"addInlined",{value:function(e,t){const a={};a["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;const i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};i["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};const n={};n[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:i},Prism.languages.insertBefore("svelte","cdata",n)}});Prism.languages.svelte.tag.addInlined("style","css");Prism.languages.svelte.tag.addInlined("script","javascript");function jn(s){let e,t;return{c(){e=new Fn(!1),t=pe(),this.h()},l(a){e=In(a,!1),t=pe(),this.h()},h(){e.a=t},m(a,i){e.m(s[2],a,i),H(a,t,i)},p(a,i){i&4&&e.p(a[2])},d(a){a&&m(t),a&&e.d()}}}function Kn(s){let e;return{c(){e=he(s[2])},l(t){e=ge(t,s[2])},m(t,a){H(t,e,a)},p(t,a){a&4&&It(e,t[2])},d(t){t&&m(e)}}}function Gn(s){let e,t,a,i,n,l,r;const o=s[6].default,u=en(o,s,s[5],null);function f(E,C){return E[0]==="none"?Kn:jn}let h=f(s),b=h(s);return{c(){e=O("code"),u&&u.c(),t=j(),a=O("pre"),i=O("code"),b.c(),this.h()},l(E){e=F(E,"CODE",{style:!0});var C=q(e);u&&u.l(C),C.forEach(m),t=K(E),a=F(E,"PRE",{class:!0,"command-line":!0,"data-output":!0});var y=q(a);i=F(y,"CODE",{class:!0});var M=q(i);b.l(M),M.forEach(m),y.forEach(m),this.h()},h(){de(e,"display","none"),g(i,"class",n="language-"+s[0]),g(a,"class",l="language-"+s[0]),g(a,"command-line",""),g(a,"data-output","2-17")},m(E,C){H(E,e,C),u&&u.m(e,null),s[7](e),H(E,t,C),H(E,a,C),S(a,i),b.m(i,null),r=!0},p(E,[C]){u&&u.p&&(!r||C&32)&&tn(u,o,E,E[5],r?nn(o,E[5],C,null):sn(E[5]),null),h===(h=f(E))&&b?b.p(E,C):(b.d(1),b=h(E),b&&(b.c(),b.m(i,null))),(!r||C&1&&n!==(n="language-"+E[0]))&&g(i,"class",n),(!r||C&1&&l!==(l="language-"+E[0]))&&g(a,"class",l)},i(E){r||(z(u,E),r=!0)},o(E){G(u,E),r=!1},d(E){E&&m(e),u&&u.d(E),s[7](null),E&&m(t),E&&m(a),b.d()}}}const rs=fn;fn.highlightElement;const Xn={transform:s=>s};function Yn(s,e,t){let{$$slots:a={},$$scope:i}=e,{language:n="javascript"}=e,{source:l=""}=e,{transform:r=b=>b}=e,o,u;function f(){const b=rs.languages[n];let E=l||o.textContent;E=Xn.transform(E),E=r(E),t(2,u=n==="none"?E:rs.highlight(E,b,n))}function h(b){Q[b?"unshift":"push"](()=>{o=b,t(1,o)})}return s.$$set=b=>{t(9,e=Pt(Pt({},e),ts(b))),"language"in b&&t(0,n=b.language),"source"in b&&t(3,l=b.source),"transform"in b&&t(4,r=b.transform),"$$scope"in b&&t(5,i=b.$$scope)},s.$$.update=()=>{e&&(l||o)&&f()},e=ts(e),[n,o,u,l,r,i,a,h]}class Qn extends _e{constructor(e){super(),Ee(this,e,Yn,Gn,we,{language:0,source:3,transform:4})}}var J=(s=>(s[s.WHITE=0]="WHITE",s[s.BLACK=1]="BLACK",s[s.BOTH=2]="BOTH",s[s.SPECTATOR=3]="SPECTATOR",s[s.SERVER=4]="SERVER",s))(J||{}),B=(s=>(s[s.LEGAL=0]="LEGAL",s[s.LEGALHOVER=1]="LEGALHOVER",s[s.CHECK=2]="CHECK",s[s.MOVE=3]="MOVE",s[s.NEXTMOVE=4]="NEXTMOVE",s[s.PREMOVE=5]="PREMOVE",s[s.PREMOVEHOVER=6]="PREMOVEHOVER",s[s.SELECT=7]="SELECT",s))(B||{});class Zn{constructor(e){this.defaultState={boardTheme:"standard",piecesTheme:"standard",flipped:!1,notation:!0,shadow:!1,startFen:ia,size:0},this.setConfigSettings=t=>{t!==void 0&&(t.boardTheme!==void 0&&(this.boardTheme=t.boardTheme),t.piecesTheme!==void 0&&(this.piecesTheme=t.piecesTheme),t.flipped!==void 0&&(this.flipped=t.flipped),t.notation!==void 0&&(this.notation=t.notation),t.shadow!==void 0&&(this.shadow=t.shadow),t.startFen!==void 0&&(this.startFen=t.startFen))},this.getConfig=()=>{const t={...this.boardTheme!==this.defaultState.boardTheme&&{boardTheme:this.boardTheme},...this.piecesTheme!==this.defaultState.piecesTheme&&{piecesTheme:this.piecesTheme},...this.flipped!==this.defaultState.flipped&&{flipped:this.flipped},...this.notation!==this.defaultState.notation&&{notation:this.notation},...this.shadow!==this.defaultState.shadow&&{shadow:this.shadow},...this.startFen!==this.defaultState.startFen&&{startFen:this.startFen}};if(Object.keys(t).length!==0)return t},this.boardTheme=this.defaultState.boardTheme,this.piecesTheme=this.defaultState.piecesTheme,this.flipped=this.defaultState.flipped,this.notation=this.defaultState.notation,this.shadow=this.defaultState.shadow,this.startFen=this.defaultState.startFen,this.size=this.defaultState.size,this.setConfigSettings(e)}}class cn{constructor(e){this.defaultState={enabled:!0,color:J.BOTH},this.setConfigSettings=t=>{switch(t){case!0:this.enabled=!0,this.color=J.BOTH;break;case!1:this.enabled=!1;break;case J.WHITE:this.enabled=!0,this.color=J.WHITE;break;case J.BLACK:this.enabled=!0,this.color=J.BLACK;break}},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.color!==this.defaultState.color)return this.color;if(this.enabled&&!this.defaultState.enabled)return this.color;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.color=this.defaultState.color,this.setConfigSettings(e)}}class Jn{constructor(e){this.defaultState={enabled:!0,ghostPiece:{enabled:!0,piece:void 0},transition:{enabled:!0,settings:{duration:120,easing:"cubicInOut"}}},this.setConfigSettings=t=>{var a,i,n,l;t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,(t==null?void 0:t.ghostPiece)!==void 0&&(this.ghostPiece.enabled=t.ghostPiece),t.transition!==void 0&&((t==null?void 0:t.transition)===!0?this.transition.enabled=!0:(t==null?void 0:t.transition)===!1?this.transition.enabled=!1:(this.transition.enabled=!0,(a=t==null?void 0:t.transition)!=null&&a.duration&&(this.transition.settings.duration=(i=t==null?void 0:t.transition)==null?void 0:i.duration),(n=t==null?void 0:t.transition)!=null&&n.easing&&(this.transition.settings.easing=(l=t==null?void 0:t.transition)==null?void 0:l.easing)))))},this.getConfig=()=>{const t={},a={};if(this.enabled&&this.defaultState.enabled&&(this.ghostPiece.enabled!==this.defaultState.ghostPiece.enabled&&(t.ghostPiece=this.ghostPiece.enabled),this.transition.enabled&&this.defaultState.transition.enabled&&(this.transition.settings.duration!==this.defaultState.transition.settings.duration&&(a.duration=this.transition.settings.duration),this.transition.settings.easing!==this.defaultState.transition.settings.easing&&(a.easing=this.transition.settings.easing),Object.keys(a).length!==0&&(t.transition=a)),!this.transition.enabled&&this.defaultState.transition.enabled&&(t.transition=!1),Object.keys(t).length!==0))return t;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.ghostPiece={...this.defaultState.ghostPiece},this.transition={enabled:this.defaultState.transition.enabled,settings:{...this.defaultState.transition.settings}},this.setConfigSettings(e)}}class xn{constructor(e){this.defaultState={enabled:!0,selectedPiece:void 0},this.setConfigSettings=t=>{t!==void 0&&(this.enabled=t)},this.getConfig=()=>{if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.selectedPiece=this.defaultState.selectedPiece,this.setConfigSettings(e)}}class $n{constructor(e){this.defaultState={enabled:!1,whiteToMove:!0,moves:[],settings:{allowPromotion:!0,allowEnPassant:!0,allowCastling:!0},preMoves:{enabled:!1,moves:[],curMove:""},lastMove:""},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.settings&&(t.settings.allowCastling!==void 0&&(this.settings.allowCastling=t.settings.allowCastling),t.settings.allowEnPassant!==void 0&&(this.settings.allowEnPassant=t.settings.allowEnPassant),t.settings.allowPromotion!==void 0&&(this.settings.allowPromotion=t.settings.allowPromotion)),t.preMoves!==void 0&&(this.preMoves.enabled=t.preMoves)))},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.preMoves.enabled!==this.defaultState.preMoves.enabled)return{preMoves:this.preMoves.enabled};if(this.enabled!==this.defaultState.enabled)return this.preMoves.enabled!==this.defaultState.preMoves.enabled?{preMoves:this.preMoves.enabled}:this.enabled},this.enabled=this.defaultState.enabled,this.whiteToMove=this.defaultState.whiteToMove,this.moves=JSON.parse(JSON.stringify(this.defaultState.moves)),this.settings={...this.defaultState.settings},this.preMoves={enabled:this.defaultState.preMoves.enabled,moves:[...this.defaultState.preMoves.moves],curMove:this.defaultState.preMoves.curMove},this.lastMove=this.defaultState.lastMove,this.setConfigSettings(e)}}class ea{constructor(e){this.defaultState={enabled:!0,settings:{select:!0,legal:!0,move:!0,preMove:!1,nextMove:!1,check:!0}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.check!==void 0&&(this.settings.check=t.check),t.legal!==void 0&&(this.settings.legal=t.legal),t.move!==void 0&&(this.settings.move=t.move),t.nextMove!==void 0&&(this.settings.nextMove=t.nextMove),t.preMove!==void 0&&(this.settings.preMove=t.preMove),t.select!==void 0&&(this.settings.select=t.select)))},this.getConfig=()=>{const t={},a=["select","legal","move","preMove","nextMove","check"];if(this.enabled&&this.defaultState.enabled&&(a.forEach(i=>{this.settings[i]!==this.defaultState.settings[i]&&(t[i]=this.settings[i])}),Object.keys(t).length!==0))return t;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},this.setConfigSettings(e)}}class ta{constructor(e){this.defaultState={enabled:!0,engineArrows:[],settings:{knightLShape:!1,onlyChessMove:!1}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.knightLShape!==void 0&&(this.settings.knightLShape=t.knightLShape),t.onlyChessMove!==void 0&&(this.settings.onlyChessMove=t.onlyChessMove)))},this.getConfig=()=>{const t={};if(this.enabled&&this.defaultState.enabled&&(this.settings.knightLShape!==this.defaultState.settings.knightLShape&&(t.knightLShape=this.settings.knightLShape),this.settings.onlyChessMove!==this.defaultState.settings.onlyChessMove&&(t.onlyChessMove=this.settings.onlyChessMove),Object.keys(t).length!==0))return t;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.engineArrows=JSON.parse(JSON.stringify(this.defaultState.engineArrows)),this.settings={knightLShape:this.defaultState.settings.knightLShape,onlyChessMove:this.defaultState.settings.onlyChessMove},this.setConfigSettings(e)}}class sa{constructor(e){this.defaultState={enabled:!0,settings:{MOVE:!0,CAPTURE:!0,CASTLE:!0,UNDO:!0}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.CAPTURE!==void 0&&(this.settings.CAPTURE=t.CAPTURE),t.CASTLE!==void 0&&(this.settings.CASTLE=t.CASTLE),t.MOVE!==void 0&&(this.settings.MOVE=t.MOVE),t.UNDO!==void 0&&(this.settings.UNDO=t.UNDO)))},this.getConfig=()=>{const t={};if(this.enabled&&this.defaultState.enabled&&(this.settings.MOVE!==this.defaultState.settings.MOVE&&(t.MOVE=this.settings.MOVE),this.settings.CAPTURE!==this.defaultState.settings.CAPTURE&&(t.CAPTURE=this.settings.CAPTURE),this.settings.CASTLE!==this.defaultState.settings.CASTLE&&(t.CASTLE=this.settings.CASTLE),this.settings.UNDO!==this.defaultState.settings.UNDO&&(t.UNDO=this.settings.UNDO),Object.keys(t).length!==0))return t;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.CAPTURE!==void 0&&(this.settings.CAPTURE=e.CAPTURE),e.CASTLE!==void 0&&(this.settings.CASTLE=e.CASTLE),e.MOVE!==void 0&&(this.settings.MOVE=e.MOVE),e.UNDO!==void 0&&(this.settings.UNDO=e.UNDO)))}}class na{constructor(e){this.defaultState={enabled:!1,settings:{min:100,max:1e3}},this.setConfigSettings=t=>{t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.min!==void 0&&(this.settings.min=t.min),t.max!==void 0&&(this.settings.max=t.max)))},this.getConfig=()=>{if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},this.setConfigSettings(e)}}class aa{constructor(e){this.defaultState={getLegalMoves:void 0,getPreMoves:void 0,beforeMove:void 0,afterMove:void 0,getLastMove:void 0,getLastMoveSAN:void 0,getKingLocations:void 0,getInCheck:void 0,getWhiteToMove:void 0},this.setConfigSettings=t=>{t!==void 0&&(t.getLegalMoves&&(this.getLegalMoves=t.getLegalMoves),t.getPreMoves&&(this.getPreMoves=t.getPreMoves),t.beforeMove&&(this.beforeMove=t.beforeMove),t.afterMove&&(this.afterMove=t.afterMove),t.getLastMove&&(this.getLastMove=t.getLastMove),t.getLastMoveSAN&&(this.getLastMoveSAN=t.getLastMoveSAN),t.getKingLocations&&(this.getKingLocations=t.getKingLocations),t.getInCheck&&(this.getInCheck=t.getInCheck),t.getWhiteToMove&&(this.getWhiteToMove=t.getWhiteToMove))},this.getConfig=()=>{const t={...this.getLegalMoves&&{getLegalMoves:this.getLegalMoves},...this.getPreMoves&&{getPreMoves:this.getPreMoves},...this.beforeMove&&{beforeMove:this.beforeMove},...this.afterMove&&{afterMove:this.afterMove},...this.getLastMove&&{getLastMove:this.getLastMove},...this.getLastMoveSAN&&{getLastMoveSAN:this.getLastMoveSAN},...this.getKingLocations&&{getKingLocations:this.getKingLocations},...this.getInCheck&&{getInCheck:this.getInCheck},...this.getWhiteToMove&&{getWhiteToMove:this.getWhiteToMove}};return Object.keys(t).length>0?t:void 0},this.getLegalMoves=this.defaultState.getLegalMoves,this.getPreMoves=this.defaultState.getPreMoves,this.beforeMove=this.defaultState.beforeMove,this.afterMove=this.defaultState.afterMove,this.getLastMove=this.defaultState.getLastMove,this.getLastMoveSAN=this.defaultState.getLastMoveSAN,this.getKingLocations=this.defaultState.getKingLocations,this.getInCheck=this.defaultState.getInCheck,this.getWhiteToMove=this.defaultState.getWhiteToMove,this.setConfigSettings(e)}}const ia="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class hn{constructor(e){this.getConfig=()=>({board:this.board.getConfig(),movable:this.movable.getConfig(),draggable:this.draggable.getConfig(),selectable:this.selectable.getConfig(),legal:this.legal.getConfig(),highlight:this.highlight.getConfig(),drawTools:this.drawTools.getConfig(),sounds:this.sounds.getConfig(),resizible:this.resizible.getConfig()}),this.pieces=[],this.markedSquares=new Set,this.board=new Zn(e==null?void 0:e.board),this.movable=new cn(e==null?void 0:e.movable),this.draggable=new Jn(e==null?void 0:e.draggable),this.selectable=new xn(e==null?void 0:e.selectable),this.legal=new $n(e==null?void 0:e.legal),this.callbacks=new aa(e==null?void 0:e.callbacks),this.highlight=new ea(e==null?void 0:e.highlight),this.drawTools=new ta(e==null?void 0:e.drawTools),this.sounds=new sa(e==null?void 0:e.sounds),this.resizible=new na(e==null?void 0:e.resizible)}setConfigSettings(e){this.board.setConfigSettings(e.board),this.movable.setConfigSettings(e.movable),this.draggable.setConfigSettings(e.draggable),this.selectable.setConfigSettings(e.selectable),this.legal.setConfigSettings(e.legal),this.callbacks.setConfigSettings(e.callbacks),this.highlight.setConfigSettings(e.highlight),this.drawTools.setConfigSettings(e.drawTools),this.sounds.setConfigSettings(e.sounds),this.resizible.setConfigSettings(e.resizible)}}const la=["a","b","c","d","e","f","g","h"],ra=["8","7","6","5","4","3","2","1"];function Ht(s){return{x:la.indexOf(s[0]),y:ra.indexOf(s[1])}}function zt(s){return s.charCodeAt(0)-97}function oa(s){return 8-parseInt(s,10)}const ua=s=>{let e="",t=0;for(let a=0;a<s.length;a++){a!==0&&(e+="/");for(let i=0;i<s[a].length;i++){const n=s[a][i];n!=null&&t===0?n[0]==="w"?e+=n[1]:e+=n[1].toLowerCase():n!=null&&t!==0?(e+=t.toString(),t=0,n[0]==="w"?e+=n[1]:e+=n[1].toLowerCase()):t++}t!==0&&(e+=t.toString(),t=0)}return e},da="8/8/8/8/8/8/8/8 w - - 0 1";class fa{constructor(e){this.letters={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},this.changeLegalHoverIfNeeded=t=>{t.color!==B.LEGAL&&t.color!==B.PREMOVE||this.state.pieces.forEach(a=>{a.square===t.square&&(t.color=t.color===B.LEGAL?B.LEGALHOVER:B.PREMOVEHOVER)})},this.highlightSquare=(t,a)=>{const i={square:t,color:a};this.state.markedSquares.forEach(n=>{n.square===t&&n.color!==B.MOVE&&n.color!==B.CHECK&&this.state.markedSquares.delete(n)}),this.changeLegalHoverIfNeeded(i),this.state.markedSquares.add(i)},this.legalHover=t=>{this.state.markedSquares.forEach(a=>{if(a.square===t&&a.color===B.LEGAL)a.color=B.LEGALHOVER;else if(a.square!==t&&a.color===B.LEGALHOVER){let i=!1;this.state.pieces.forEach(n=>{n.square===a.square&&(i=!0)}),i||(a.color=B.LEGAL)}})},this.preMoveHover=t=>{this.state.markedSquares.forEach(a=>{if(a.square===t&&a.color===B.PREMOVE)a.color=B.PREMOVEHOVER;else if(a.square!==t&&a.color===B.PREMOVEHOVER){let i=!1;this.state.pieces.forEach(n=>{n.square===a.square&&(i=!0)}),i||(a.color=B.PREMOVE)}})},this.toggleSquareHighlight=(t,a)=>{const i={square:t,color:a};let n=!1;return this.state.markedSquares.forEach(l=>{l.square===t&&(this.state.markedSquares.delete(l),l.color===a&&(n=!0))}),this.changeLegalHoverIfNeeded(i),n?!0:(this.state.markedSquares.add(i),!1)},this.getSelectedSquare=()=>{let t="";return this.state.markedSquares.forEach(a=>{a.color===B.SELECT&&(t=a.square)}),t},this.clearSquare=(t,a)=>{t.length===2&&this.state.markedSquares.forEach(i=>{i.square===t&&(i.color===a||a===void 0)&&this.state.markedSquares.delete(i)})},this.clearAllSquares=t=>{t===void 0?this.state.markedSquares.clear():this.state.markedSquares.forEach(a=>{a.color===t&&this.state.markedSquares.delete(a)})},this.setPiece=(t,a)=>{if(this.notValidThing({square:t,piece:a}))return;const i=this.state.pieces.find(n=>n.square===t);i?i.name=a:this.state.pieces.push({square:t,name:a})},this.removePiece=t=>{this.notValidThing({square:t})||this.state.pieces.forEach((a,i)=>{a.square===t&&this.state.pieces.splice(i,1)})},this.clearAllPieces=()=>{this.state.pieces.length=0},this.getGridCoordsFromSquare=t=>{if(this.notValidThing({square:t}))return{x:0,y:0};const a=t[0],i=t[1],n=this.state.board.flipped?Math.abs(this.letters[a]-7):this.letters[a],l=this.state.board.flipped?Math.abs(parseInt(i,10)-8):parseInt(i,10)-1;return typeof n!="number"||l<0||l>7?{x:0,y:0}:{x:n,y:l}},this.makeMove=t=>{if(this.notValidThing({move:t}))return;let a=!1,i;const n=t.substring(0,2),l=t.substring(2,4),r=t.substring(4);this.state.pieces.forEach(o=>{o.square===l&&(i=o,this.removePiece(o.square))}),this.state.pieces.forEach(o=>{o.square===n&&(o.square=l,a=!0,r&&(o.name=o.name[0]+r.toUpperCase()))}),a?this.state.legal.lastMove=t:i&&this.state.pieces.push(i)},this.getSquareFromIndices=(t,a)=>Object.keys(this.letters)[t]+(a+1).toString(),this.updatePiecesWithFen=t=>{const a=[...Array(8)].map(()=>Array(8).fill(null)),i=["1","2","3","4","5","6","7","8"];let n=0,l=0;for(let u=0;u<(t.includes(" ")?t.indexOf(" "):t.length);u++)if(t[u]==="/")n++,l=0;else if(!i.includes(t[u]))t[u]===t[u].toUpperCase()?a[n][l]=`w${t[u]}`:a[n][l]=`b${t[u].toUpperCase()}`,l++;else for(let f=0;f<parseInt(t[u],10);f++)a[n][l]=null,l++;const r=[],o=[];for(let u=0;u<a.length;++u)for(let f=0;f<a.length;++f){const h=a[u][f],b=this.getPieceFromSquare(this.getSquareFromIndices(f,Math.abs(u-7)));h&&!b&&r.push({square:this.getSquareFromIndices(f,Math.abs(u-7)),name:h}),!h&&b&&o.push(b),h&&b&&h!==b.name&&(r.push({square:this.getSquareFromIndices(f,Math.abs(u-7)),name:h}),o.push(b))}for(let u=0;u<o.length;u++)for(let f=0;f<r.length;f++)!r[f]||!o[u]||r[f].name===o[u].name&&(o[u].square=r[f].square,o.splice(u,1),u--,r.splice(f,1),f--);r.forEach(u=>{this.state.pieces.push(u)}),o.forEach(u=>{this.state.pieces.splice(this.state.pieces.indexOf(u),1)})},this.notValidThing=t=>{const{square:a,piece:i,move:n}=t;return!!(a&&a.length!==2||i&&i.length!==2||n&&n.length!==4&&n.length!==5)},this.setGhostPiece=t=>{this.state.draggable.ghostPiece.piece=t},this.removeGhostPiece=()=>{this.state.draggable.ghostPiece.piece=void 0},this.isCastling=t=>{switch(t){case"e1g1":case"e1c1":case"e8g8":case"e8c8":return!0;default:return!1}},this.getRookMoveIfIsCastling=t=>{switch(t){case"e1g1":return"h1f1";case"e1c1":return"a1d1";case"e8g8":return"h8f8";case"e8c8":return"a8d8";default:return}},this.isEnPassant=t=>{if(t[0]===t[2]||this.getPieceFromSquare(t.substring(2,4)))return!1;const a=this.getPieceFromSquare(t.substring(0,2));return!(a===void 0||a.name!=="wP"&&a.name!=="bP")},this.getCapturedPawnSquareIfIsEnPassant=t=>{if(t[0]===t[2]||this.getPieceFromSquare(t.substring(2,4)))return;const a=this.getPieceFromSquare(t.substring(0,2));if(a===void 0||a.name!=="wP"&&a.name!=="bP")return;const i=this.getPieceFromSquare(`${t[2]}${parseInt(t[3],10)+(a.name==="wP"?-1:1)}`);return i==null?void 0:i.square},this.isCapture=t=>!!this.getPieceFromSquare(t.substring(2,4)),this.isPromotion=t=>{if((t[1]!=="7"||t[3]!=="8")&&(t[1]!=="2"||t[3]!=="1"))return!1;const a=this.getPieceFromSquare(t.substring(0,2));return!(a&&(a.name[1]!=="P"||a.name[0]==="w"&&t[3]==="1"||a.name[0]==="b"&&t[3]==="8"))},this.callbackExists=t=>this.state.callbacks[t]!==void 0,this.flipBoard=t=>{t!==void 0?this.state.board.flipped=t:this.state.board.flipped=!this.state.board.flipped},this.setConfigSettings=t=>{this.state.setConfigSettings(t)},this.state=new hn(e),this.state.board.startFen&&this.updatePiecesWithFen(this.state.board.startFen)}getShortFEN(){if(this.state.pieces.length===0)return da;const e=[...Array(8)].map(()=>Array(8).fill(null));return this.state.pieces.forEach(t=>{e[oa(t.square[1])][zt(t.square[0])]=t.name}),ua(e)}getPieceFromSquare(e){let t;return this.state.pieces.forEach(a=>{a.square===e&&(t=a)}),t}}const ca={[B.LEGAL]:"legalSQ cursor-pointer",[B.LEGALHOVER]:"legalSQ_hover cursor-pointer",[B.SELECT]:"selectedSQ",[B.MOVE]:"highlightMove",[B.NEXTMOVE]:"nextMoveSQ",[B.PREMOVE]:"preMoveSQ cursor-pointer",[B.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[B.CHECK]:"checkSQ"},ha={white:"#f0d9b5",black:"#b58863"},ga="standard.svg",ba={[B.LEGAL]:"legalSQ cursor-pointer",[B.LEGALHOVER]:"legalSQ_hover cursor-pointer",[B.SELECT]:"selectedSQ-darkBlue",[B.MOVE]:"highlightMove-darkBlue",[B.NEXTMOVE]:"nextMoveSQ",[B.PREMOVE]:"preMoveSQ cursor-pointer",[B.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[B.CHECK]:"checkSQ"},pa={white:"#94A3B8",black:"#475569"},ma="darkBlue.svg",Ne={squareStyles:{standard:ca,darkBlue:ba},colors:{standard:ha,darkBlue:pa},imageName:{standard:ga,darkBlue:ma}};function os(s,e,t){const a=s.slice();return a[3]=e[t],a[5]=t,a}function us(s,e,t){const a=s.slice();return a[3]=e[t],a[5]=t,a}function ds(s){let e,t=s[2][s[1]?Math.abs(s[5]-7):s[5]]+"",a,i;return{c(){e=O("span"),a=he(t),i=j(),this.h()},l(n){e=F(n,"SPAN",{"data-file":!0,style:!0,class:!0});var l=q(e);a=ge(l,t),i=K(l),l.forEach(m),this.h()},h(){g(e,"data-file",s[3]),de(e,"color",s[5]%2===0?Ne.colors[s[0]].white:Ne.colors[s[0]].black),g(e,"class","svelte-t3eav4")},m(n,l){H(n,e,l),S(e,a),S(e,i)},p(n,l){l&2&&t!==(t=n[2][n[1]?Math.abs(n[5]-7):n[5]]+"")&&It(a,t),l&1&&de(e,"color",n[5]%2===0?Ne.colors[n[0]].white:Ne.colors[n[0]].black)},d(n){n&&m(e)}}}function fs(s){let e,t=(s[1]?s[5]+1:Math.abs(s[5]-8))+"",a,i,n;return{c(){e=O("span"),a=he(t),i=j(),this.h()},l(l){e=F(l,"SPAN",{"data-file":!0,style:!0,class:!0});var r=q(e);a=ge(r,t),i=K(r),r.forEach(m),this.h()},h(){g(e,"data-file",s[3]),g(e,"style",n="color: "+(s[5]%2===0?Ne.colors[s[0]].white:Ne.colors[s[0]].black)+";"+(s[1]?" text-align: right;":"")),g(e,"class","svelte-t3eav4")},m(l,r){H(l,e,r),S(e,a),S(e,i)},p(l,r){r&2&&t!==(t=(l[1]?l[5]+1:Math.abs(l[5]-8))+"")&&It(a,t),r&3&&n!==(n="color: "+(l[5]%2===0?Ne.colors[l[0]].white:Ne.colors[l[0]].black)+";"+(l[1]?" text-align: right;":""))&&g(e,"style",n)},d(l){l&&m(e)}}}function va(s){let e,t,a,i=s[2],n=[];for(let o=0;o<i.length;o+=1)n[o]=ds(us(s,i,o));let l=s[2],r=[];for(let o=0;o<l.length;o+=1)r[o]=fs(os(s,l,o));return{c(){e=O("div");for(let o=0;o<n.length;o+=1)n[o].c();t=j(),a=O("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=F(o,"DIV",{class:!0});var u=q(e);for(let h=0;h<n.length;h+=1)n[h].l(u);u.forEach(m),t=K(o),a=F(o,"DIV",{class:!0});var f=q(a);for(let h=0;h<r.length;h+=1)r[h].l(f);f.forEach(m),this.h()},h(){g(e,"class","files noselect svelte-t3eav4"),g(a,"class","ranks noselect svelte-t3eav4")},m(o,u){H(o,e,u);for(let f=0;f<n.length;f+=1)n[f].m(e,null);H(o,t,u),H(o,a,u);for(let f=0;f<r.length;f+=1)r[f].m(a,null)},p(o,[u]){if(u&7){i=o[2];let f;for(f=0;f<i.length;f+=1){const h=us(o,i,f);n[f]?n[f].p(h,u):(n[f]=ds(h),n[f].c(),n[f].m(e,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=i.length}if(u&7){l=o[2];let f;for(f=0;f<l.length;f+=1){const h=os(o,l,f);r[f]?r[f].p(h,u):(r[f]=fs(h),r[f].c(),r[f].m(a,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=l.length}},i:be,o:be,d(o){o&&m(e),nt(n,o),o&&m(t),o&&m(a),nt(r,o)}}}function _a(s,e,t){let{theme:a}=e,{flipped:i}=e;const n=["a","b","c","d","e","f","g","h"];return s.$$set=l=>{"theme"in l&&t(0,a=l.theme),"flipped"in l&&t(1,i=l.flipped)},[a,i,n]}class Ea extends _e{constructor(e){super(),Ee(this,e,_a,va,we,{theme:0,flipped:1})}}function wa(s){const e=2.5949095;return(s*=2)<1?.5*(s*s*((e+1)*s-e)):.5*((s-=2)*s*((e+1)*s+e)+2)}function Ma(s){return s*s*((1.70158+1)*s-1.70158)}function ka(s){return--s*s*((1.70158+1)*s+1.70158)+1}function Tt(s){const e=.36363636363636365,t=8/11,a=9/10,i=4356/361,n=35442/1805,l=16061/1805,r=s*s;return s<e?7.5625*r:s<t?9.075*r-9.9*s+3.4:s<a?i*r-n*s+l:10.8*s*s-20.52*s+10.72}function Sa(s){return s<.5?.5*(1-Tt(1-s*2)):.5*Tt(s*2-1)+.5}function ya(s){return 1-Tt(1-s)}function Aa(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)}function Ca(s){return 1-Math.sqrt(1-s*s)}function Pa(s){return Math.sqrt(1- --s*s)}function La(s){return s<.5?4*s*s*s:.5*Math.pow(2*s-2,3)+1}function Ta(s){return s*s*s}function xt(s){const e=s-1;return e*e*e+1}function Oa(s){return s<.5?.5*Math.sin(13*Math.PI/2*2*s)*Math.pow(2,10*(2*s-1)):.5*Math.sin(-13*Math.PI/2*(2*s-1+1))*Math.pow(2,-10*(2*s-1))+1}function Fa(s){return Math.sin(13*s*Math.PI/2)*Math.pow(2,10*(s-1))}function Ia(s){return Math.sin(-13*(s+1)*Math.PI/2)*Math.pow(2,-10*s)+1}function qa(s){return s===0||s===1?s:s<.5?.5*Math.pow(2,20*s-10):-.5*Math.pow(2,10-s*20)+1}function Ra(s){return s===0?s:Math.pow(2,10*(s-1))}function Na(s){return s===1?s:1-Math.pow(2,-10*s)}function Da(s){return s/=.5,s<1?.5*s*s:(s--,-.5*(s*(s-2)-1))}function Ba(s){return s*s}function Va(s){return-s*(s-2)}function Ua(s){return s<.5?8*Math.pow(s,4):-8*Math.pow(s-1,4)+1}function Ha(s){return Math.pow(s,4)}function za(s){return Math.pow(s-1,3)*(1-s)+1}function Wa(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)}function ja(s){return s*s*s*s*s}function Ka(s){return--s*s*s*s*s+1}function Ga(s){return-.5*(Math.cos(Math.PI*s)-1)}function Xa(s){const e=Math.cos(s*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}function Ya(s){return Math.sin(s*Math.PI/2)}const Ot=Object.freeze(Object.defineProperty({__proto__:null,backIn:Ma,backInOut:wa,backOut:ka,bounceIn:ya,bounceInOut:Sa,bounceOut:Tt,circIn:Ca,circInOut:Aa,circOut:Pa,cubicIn:Ta,cubicInOut:La,cubicOut:xt,elasticIn:Fa,elasticInOut:Oa,elasticOut:Ia,expoIn:Ra,expoInOut:qa,expoOut:Na,quadIn:Ba,quadInOut:Da,quadOut:Va,quartIn:Ha,quartInOut:Ua,quartOut:za,quintIn:ja,quintInOut:Wa,quintOut:Ka,sineIn:Xa,sineInOut:Ga,sineOut:Ya,linear:an},Symbol.toStringTag,{value:"Module"}));function cs(s){return Object.prototype.toString.call(s)==="[object Date]"}function Wt(s,e){if(s===e||s!==s)return()=>s;const t=typeof s;if(t!==typeof e||Array.isArray(s)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(s)){const a=e.map((i,n)=>Wt(s[n],i));return i=>a.map(n=>n(i))}if(t==="object"){if(!s||!e)throw new Error("Object cannot be null");if(cs(s)&&cs(e)){s=s.getTime(),e=e.getTime();const n=e-s;return l=>new Date(s+l*n)}const a=Object.keys(e),i={};return a.forEach(n=>{i[n]=Wt(s[n],e[n])}),n=>{const l={};return a.forEach(r=>{l[r]=i[r](n)}),l}}if(t==="number"){const a=e-s;return i=>s+i*a}throw new Error(`Cannot interpolate ${t} values`)}function Qa(s,e={}){const t=Wn(s);let a,i=s;function n(l,r){if(s==null)return t.set(s=l),Promise.resolve();i=l;let o=a,u=!1,{delay:f=0,duration:h=400,easing:b=an,interpolate:E=Wt}=Pt(Pt({},e),r);if(h===0)return o&&(o.abort(),o=null),t.set(s=i),Promise.resolve();const C=qn()+f;let y;return a=Rn(M=>{if(M<C)return!0;u||(y=E(s,l),typeof h=="function"&&(h=h(s,l)),u=!0),o&&(o.abort(),o=null);const _=M-C;return _>h?(t.set(s=l),!1):(t.set(s=y(b(_/h))),!0)}),a.promise}return{set:n,update:(l,r)=>n(l(i,s),r),subscribe:t.subscribe}}function hs(s,e,t,a){if(e===0&&t===0)return s;const i=a?["a","b","c","d","e","f","g","h"].reverse():["a","b","c","d","e","f","g","h"],n=a?["8","7","6","5","4","3","2","1"].reverse():["8","7","6","5","4","3","2","1"],l=i[i.indexOf(s[0])+e],r=n[n.indexOf(s[1])+t];if(!(!l||!r))return l+r}function gs(s,e,t){const a=e*1.15,i=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","circle");return i.setAttribute("width",(s.offsetWidth*a).toString()),i.setAttribute("height",(s.offsetHeight*a).toString()),i.style.position="absolute",i.style.zIndex="100",i.style.translate=`${t?"":"-"}${25*a/2}% -${25*a/2}%`,i.style.opacity="0.2",n.setAttribute("r",(s.offsetWidth*a/2).toString()),n.setAttribute("cx",(s.offsetWidth*a/2).toString()),n.setAttribute("cy",(s.offsetHeight*a/2).toString()),n.setAttribute("fill","black"),i.appendChild(n),i}function Za(s,e){let t;function a(W,A=1e3){let Z=!1;const te=()=>{t==null?Z=!1:(W(...t),t=null,setTimeout(te,A))};return(...me)=>{if(Z){t=me;return}W(...me),Z=!0,setTimeout(te,A)}}let i,n,l,r,o,u,f,h,b=!1,E;const C=s.parentNode;let y,{startSquare:M,boardFlipped:_,onlyShow:d,duration:c,easingFunc:w}=e;const{coords:v}=e;s.style.cursor=d?"default":"pointer";let k=ss(v).x,T=ss(v).y;const D=1.6;let I=gs(s,D,_);s.draggable=!1;function L(W){const A=W.clientX-i,Z=W.clientY-n;if(i=W.clientX,n=W.clientY,o+=A,u+=Z,b||(Math.abs(o)>1||Math.abs(u)>1)&&(v.update(te=>({x:te.x+(i-s.offsetWidth/2-s.getBoundingClientRect().x)/s.clientWidth,y:W.pointerType==="touch"?te.y-(n-s.offsetHeight*1.5-s.getBoundingClientRect().y)/s.clientWidth:te.y-(n-s.offsetHeight/2-s.getBoundingClientRect().y)/s.clientWidth,scale:W.pointerType==="touch"?D:1}),{duration:c,easing:w}),b=!0,s.style.zIndex="30",s.style.cursor="grabbing",s.dispatchEvent(new CustomEvent("startMoving"))),!!b){if(W.pointerType==="touch"){const te=Math.floor((o+l)/s.offsetWidth),me=Math.floor((u+r)/s.offsetHeight),ae=hs(M,te,me,_);if(ae){if(ae!==y){const ue=Ht(ae);I.style.left=`${ue.x*12.5}%`,I.style.top=`${ue.y*12.5}%`,C.appendChild(I)}}else y&&(y="")}v.update(te=>({x:te.x+A/s.clientWidth,y:te.y-Z/s.clientWidth,scale:W.pointerType==="touch"?D:1}),{duration:0}),s.dispatchEvent(new CustomEvent("moving",{detail:{x:i,y:n}}))}}const R=a(L,10);function V(){const W=window.scrollX-f,A=window.scrollY-h;f=window.scrollX,h=window.scrollY,v.update(Z=>({x:Z.x+W,y:Z.y+A,scale:1}),{duration:0})}function Y(){window.removeEventListener("pointermove",R),window.removeEventListener("pointerup",Y),window.removeEventListener("pointercancel",Y),document.body.removeEventListener("pointerleave",Y),window.removeEventListener("scroll",V),t=null;const W=Math.floor((o+l)/s.offsetWidth),A=Math.floor((u+r)/s.offsetHeight),Z=hs(M,W,A,_);s.dispatchEvent(new CustomEvent("dropped",{detail:Z})),v.update(()=>({x:k,y:T,scale:1}),{duration:c,easing:w}).then(()=>{s.dispatchEvent(new CustomEvent("animationEnded"))}),i=0,n=0,o=0,u=0,s.style.cursor=d?"default":"pointer",b=!1,setTimeout(()=>{s.style.zIndex="1"},c),I.remove()}function X(W){if(W.preventDefault(),W.button!==0||!W.isPrimary)return;k=_?7-zt(M[0]):zt(M[0]),T=_?8-parseInt(M[1],10):parseInt(M[1],10)-1,y=M;const A=W.target.getBoundingClientRect();W.pointerType==="touch"?(i=W.clientX,n=W.clientY,l=W.clientX-A.x,r=W.clientY-A.y):(i=W.clientX,n=W.clientY,l=W.offsetX,r=W.offsetY),o=0,u=0,f=window.scrollX,h=window.scrollY,s.dispatchEvent(new CustomEvent("clicked")),window.addEventListener("pointermove",R),window.addEventListener("pointerup",Y),window.addEventListener("pointercancel",Y),document.body.addEventListener("pointerleave",Y),window.addEventListener("scroll",V)}function N(W){W.preventDefault()}function fe(W){W.preventDefault()}return s.addEventListener("contextmenu",N),s.addEventListener("dragstart",fe),d||s.addEventListener("pointerdown",X),{destroy(){s.removeEventListener("pointerdown",X),s.removeEventListener("contextmenu",N),s.removeEventListener("dragstart",fe),window.clearTimeout(E)},update(W){M=W.startSquare,c=W.duration,w=W.easingFunc,W.onlyShow!==d&&(d=W.onlyShow,d?(s.removeEventListener("pointerdown",X),s.style.cursor="default"):(s.addEventListener("pointerdown",X),s.style.cursor="pointer")),_!==W.boardFlipped&&(I=gs(s,D,W.boardFlipped)),_=W.boardFlipped}}}const bs=""+new URL("../../assets/wP-f78bae6c.svg",import.meta.url).href,Ja=""+new URL("../../assets/wR-5eb92d73.svg",import.meta.url).href,xa=""+new URL("../../assets/wN-a4c975a2.svg",import.meta.url).href,$a=""+new URL("../../assets/wB-1ff2f149.svg",import.meta.url).href,ei=""+new URL("../../assets/wQ-8568b485.svg",import.meta.url).href,ti=""+new URL("../../assets/wK-4cdf6dc9.svg",import.meta.url).href,si=""+new URL("../../assets/bP-84e521e8.svg",import.meta.url).href,ni=""+new URL("../../assets/bR-e39efb08.svg",import.meta.url).href,ai=""+new URL("../../assets/bN-d3912d91.svg",import.meta.url).href,ii=""+new URL("../../assets/bB-c430b746.svg",import.meta.url).href,li=""+new URL("../../assets/bQ-c7b9a43e.svg",import.meta.url).href,ri=""+new URL("../../assets/bK-3500a2e6.svg",import.meta.url).href;function jt(s){switch(s){case"wP":return bs;case"wR":return Ja;case"wN":return xa;case"wB":return $a;case"wQ":return ei;case"wK":return ti;case"bP":return si;case"bR":return ni;case"bN":return ai;case"bB":return ii;case"bQ":return li;case"bK":return ri;default:return bs}}function oi(s){let e,t,a,i,n;return{c(){e=O("img"),this.h()},l(l){e=F(l,"IMG",{style:!0,class:!0,src:!0,alt:!0}),this.h()},h(){de(e,"left",s[8].x*12.5+"%"),de(e,"bottom",s[8].y*12.5+"%"),de(e,"scale",s[8].scale),de(e,"z-Index",s[7]),de(e,"opacity",s[4]?.3:1),de(e,"cursor","pointer"),g(e,"class","noselect svelte-1g241z"),lt(e.src,t=jt(s[1]))||g(e,"src",t),g(e,"alt",s[1])},m(l,r){H(l,e,r),i||(n=[Xt(a=Za.call(null,e,{startSquare:s[0],onlyShow:!s[12](s[3]),boardFlipped:s[2],duration:s[6],easingFunc:Ot[s[5]],coords:s[10]})),$(e,"dropped",s[11]),$(e,"clicked",s[18]),$(e,"startMoving",s[19]),$(e,"animationEnded",s[20]),$(e,"moving",s[21])],i=!0)},p(l,[r]){r&256&&de(e,"left",l[8].x*12.5+"%"),r&256&&de(e,"bottom",l[8].y*12.5+"%"),r&256&&de(e,"scale",l[8].scale),r&128&&de(e,"z-Index",l[7]),r&16&&de(e,"opacity",l[4]?.3:1),r&2&&!lt(e.src,t=jt(l[1]))&&g(e,"src",t),r&2&&g(e,"alt",l[1]),a&&Yt(a.update)&&r&109&&a.update.call(null,{startSquare:l[0],onlyShow:!l[12](l[3]),boardFlipped:l[2],duration:l[6],easingFunc:Ot[l[5]],coords:l[10]})},i:be,o:be,d(l){l&&m(e),i=!1,at(n)}}}function ui(s,e,t){let a,i,{square:n}=e,{name:l}=e,{getGridCoordsFromSquare:r}=e,{flipped:o}=e,{legal:u}=e,{preMoves:f=!1}=e,{whiteToMove:h=!1}=e,{movableState:b}=e,{ghostPiece:E=!1}=e,{easing:C="cubicInOut"}=e,{duration:y=120}=e,{selectedPiece:M=void 0}=e,_=!1;const d=Qt();let c=y;const w=Qa({x:0,y:0,scale:1},{duration:c,easing:Ot[C]});Nn(s,w,N=>t(8,i=N));let v=!1;const k=N=>N[0]==="w"?J.WHITE:J.BLACK,T=N=>{const fe=r(N);w.update(()=>({x:fe.x,y:fe.y,scale:1}),{duration:v?c:0,easing:Ot[C]}),v||(v=!0),c=y},D=N=>{c=0,N.detail||d("deselect"),n===N.detail?(d(_?"deselect":"select"),_=!_):_=!1,d("endDragging",n+N.detail),n!==N.detail&&N.detail&&d("move",n+N.detail)},I=N=>N.enabled?u?!!(f&&k(l)===N.color||N.color===J.WHITE&&h&&k(l)===J.WHITE||N.color===J.BLACK&&!h&&k(l)===J.BLACK||N.color===J.BOTH&&(k(l)===J.WHITE&&h||k(l)===J.BLACK&&!h)):N.color===k(l)||N.color===J.BOTH:!1,L=N=>N===void 0||N.name!==l||N.square!==n;function R(N){Qe.call(this,s,N)}function V(N){Qe.call(this,s,N)}function Y(N){Qe.call(this,s,N)}const X=N=>{d("moving",N.detail)};return s.$$set=N=>{"square"in N&&t(0,n=N.square),"name"in N&&t(1,l=N.name),"getGridCoordsFromSquare"in N&&t(13,r=N.getGridCoordsFromSquare),"flipped"in N&&t(2,o=N.flipped),"legal"in N&&t(14,u=N.legal),"preMoves"in N&&t(15,f=N.preMoves),"whiteToMove"in N&&t(16,h=N.whiteToMove),"movableState"in N&&t(3,b=N.movableState),"ghostPiece"in N&&t(4,E=N.ghostPiece),"easing"in N&&t(5,C=N.easing),"duration"in N&&t(6,y=N.duration),"selectedPiece"in N&&t(17,M=N.selectedPiece)},s.$$.update=()=>{s.$$.dirty&131072&&L(M)&&(_=!1),s.$$.dirty&5&&T(n),s.$$.dirty&8&&t(7,a=typeof b=="boolean"?b?2:1:b.enabled?2:1)},[n,l,o,b,E,C,y,a,i,d,w,D,I,r,u,f,h,M,R,V,Y,X]}class gn extends _e{constructor(e){super(),Ee(this,e,ui,oi,we,{square:0,name:1,getGridCoordsFromSquare:13,flipped:2,legal:14,preMoves:15,whiteToMove:16,movableState:3,ghostPiece:4,easing:5,duration:6,selectedPiece:17})}}function di(s){let e,t;return{c(){e=O("div"),this.h()},l(a){e=F(a,"DIV",{style:!0,class:!0}),q(e).forEach(m),this.h()},h(){de(e,"left",s[2]*12.5+"%"),de(e,"bottom",s[3]*12.5+"%"),g(e,"class",t="noselect "+Ne.squareStyles[s[1]][s[0]]+" svelte-10vytug")},m(a,i){H(a,e,i)},p(a,[i]){i&4&&de(e,"left",a[2]*12.5+"%"),i&8&&de(e,"bottom",a[3]*12.5+"%"),i&3&&t!==(t="noselect "+Ne.squareStyles[a[1]][a[0]]+" svelte-10vytug")&&g(e,"class",t)},i:be,o:be,d(a){a&&m(e)}}}function fi(s,e,t){let{square:a}=e,{color:i}=e,{getGridCoordsFromSquare:n}=e,{flipped:l}=e,{theme:r}=e,o,u;const f=()=>{const h=n(a);t(2,o=h.x),t(3,u=h.y)};return s.$$set=h=>{"square"in h&&t(4,a=h.square),"color"in h&&t(0,i=h.color),"getGridCoordsFromSquare"in h&&t(5,n=h.getGridCoordsFromSquare),"flipped"in h&&t(6,l=h.flipped),"theme"in h&&t(1,r=h.theme)},s.$$.update=()=>{s.$$.dirty&64&&f()},[i,r,o,u,a,n,l]}class ci extends _e{constructor(e){super(),Ee(this,e,fi,di,we,{square:4,color:0,getGridCoordsFromSquare:5,flipped:6,theme:1})}}const hi=["a","b","c","d","e","f","g","h"],gi=["8","7","6","5","4","3","2","1"];function bi(s){s.querySelectorAll("[sf]").forEach(e=>e.remove())}function Kt(s){return`${hi[s.x]}${gi[s.y]}`}function bn(s,e){return Math.abs((s.x-e.x)*(s.y-e.y))===2}function Gt(s,e){return`${Kt(s)}${Kt(e)}`}function pi(s,e){return!!(bn(s,e)||Math.abs(s.x-e.x)===Math.abs(s.y-e.y)||s.x===e.x!=(s.y===e.y))}function pn(s,e,t,a,i,n){let l={x:-1,y:-1},r,o;bn(e,t)&&a?(Math.abs(t.x-e.x)===2?l={x:t.x,y:e.y}:l={x:e.x,y:t.y},l.y-e.y<0?o=Math.PI+Math.atan((l.x-e.x)/(l.y-e.y)):o=Math.atan((l.x-e.x)/Math.abs(l.y-e.y)),r={x:t.x-Math.sign(t.x-l.x)*(l.x!==t.x?.4:0),y:t.y-Math.sign(t.y-l.y)*(l.y!==t.y?.4:0)}):(t.y-e.y<0?o=Math.PI+Math.atan((t.x-e.x)/(t.y-e.y)):o=Math.atan((t.x-e.x)/Math.abs(t.y-e.y)),r={x:t.x-Math.sin(o)*.4,y:t.y-Math.cos(o)*.4});const u={x:e.x+Math.sin(o)*.4,y:e.y+Math.cos(o)*.4};s.setAttribute("points",`${u.x+.5},${u.y+.5} ${l.x!==-1&&l.y!==-1&&a?`${l.x+.5},${l.y+.5} `:""}${r.x+.5},${r.y+.5}`),s.setAttribute("data-sqID",`${Gt(e,t)}`),n!==void 0&&s.setAttribute("opacity",`${n}`),i!==void 0&&(s.setAttribute("marker-start",`url(#start-${i[0]})`),s.setAttribute("marker-end",`url(#end-${i[0]})`),s.setAttribute("stroke",i))}function Ct(s,e,t,a,i,n){if(!(e===void 0||t.x===-1&&t.y===-1)){if(e.tagName==="circle")e.setAttribute("fill","transparent"),a?e.setAttribute("stroke","red"):i?e.setAttribute("stroke","orange"):n?e.setAttribute("stroke","blue"):e.setAttribute("stroke","green"),s.querySelectorAll(`\u0441ircle[cx="${t.x+.5}"][cy="${t.y+.5}"]`).forEach(l=>{e!==void 0&&l!==e&&(l.getAttribute("stroke")===e.getAttribute("stroke")?e.setAttribute("remove",""):e.hasAttribute("remove")&&e.removeAttribute("remove"))});else if(e.tagName==="polyline"){const l=a?"red":i?"orange":n?"blue":"green";e.setAttribute("stroke",`${l}`),e.setAttribute("marker-start",`url(#start-${l[0]})`),e.setAttribute("marker-end",`url(#end-${l[0]})`),s.querySelectorAll(`polyline[data-sqID="${e.getAttribute("data-sqID")}"]`).forEach(r=>{e instanceof SVGPolylineElement&&r!==e&&(r.getAttribute("stroke")===e.getAttribute("stroke")?e.setAttribute("remove",""):e.hasAttribute("remove")&&e.removeAttribute("remove"))})}}}function mn(s,e,t,a,i){const n=document.createElementNS("http://www.w3.org/2000/svg","polyline");return pn(n,s,e,t,a,i),n.setAttribute("fill","none"),n.setAttribute("stroke-width","0.25"),n.setAttribute("stroke-linejoin","round"),n.setAttribute("opacity",i!==void 0?`${i}`:"0.4"),n.setAttribute("marker-start",a?`url(#start-${a[0]})`:"url(#start-g)"),n.setAttribute("marker-end",a?`url(#end-${a[0]})`:"url(#end-g)"),n.setAttribute("stroke",a||"green"),n}function mi(s,e,t){e.forEach(a=>{const i=mn(Ht(a.move.substring(0,2)),Ht(a.move.substring(2,4)),t,a.color,a.opacity);i.setAttribute("sf",""),s.appendChild(i)})}function ps(s){s.querySelectorAll("circle,polyline").forEach(e=>{e.hasAttribute("sf")||e.remove()})}function vi(s,e){let{svg:t,flipped:a,enabled:i,settings:n}=e,l=!1,r={x:-1,y:-1},o,u;function f(_,d){const c=s.getBoundingClientRect(),w=a?c.width-(_-c.left):_-c.left,v=a?c.height-(d-c.top):d-c.top;return{x:Math.max(0,Math.min(7,Math.floor(w/(s.clientWidth/8)))),y:Math.max(0,Math.min(7,Math.floor(v/(s.clientHeight/8))))}}function h(_){u=document.createElementNS("http://www.w3.org/2000/svg","circle"),u.setAttribute("cx",`${_.x+.5}`),u.setAttribute("cy",`${_.y+.5}`),u.setAttribute("r","0.465"),u.setAttribute("opacity","0.4"),u.setAttribute("fill","none"),u.setAttribute("stroke-width","0.07"),u.setAttribute("stroke","green")}function b(_){if(u===void 0||r.x===-1&&r.y===-1)return;const d=f(_.clientX,_.clientY);n.onlyChessMove&&!pi(r,d)||(o=void 0,u.hasAttribute("remove")&&u.removeAttribute("remove"),r.x===d.x&&r.y===d.y?(Gt(r,d),u instanceof SVGPolylineElement&&(u.remove(),h(d)),Ct(t,u,r,_.shiftKey,_.ctrlKey,_.altKey),t.appendChild(u),t.querySelectorAll(`circle[cx="${r.x+.5}"][cy="${r.y+.5}"]`).forEach(c=>{c!==u&&(o=c,u!==void 0&&c.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))})):(u instanceof SVGCircleElement&&u.remove(),o=void 0,t.querySelectorAll(`polyline[data-sqID="${Gt(r,d)}"]`).forEach(c=>{u===void 0||r.x===-1&&r.y===-1||c===u||(o=c,c.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))}),u instanceof SVGCircleElement?(u=mn(r,d,n.knightLShape),Ct(t,u,r,_.shiftKey,_.ctrlKey,_.altKey),t.appendChild(u)):u instanceof SVGPolylineElement&&pn(u,r,d,n.knightLShape)))}function E(_){_.preventDefault()}function C(_){_.preventDefault(),Ct(t,u,r,_.shiftKey,_.ctrlKey,_.altKey)}function y(_){if(_.button===0)l=!1;else if(_.button===2){if(r.x===-1&&r.y===-1)return;t.querySelectorAll("[remove]").forEach(d=>{d.remove()}),o&&o.remove(),o=void 0,(u==null?void 0:u.tagName)==="circle"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawCircle",{detail:{square:Kt(r),color:u.getAttribute("stroke")}})),(u==null?void 0:u.tagName)==="polyline"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawArrow",{detail:{move:u.getAttribute("data-sqID"),color:u.getAttribute("stroke")}})),u=void 0,r={x:-1,y:-1},l=!1,window.removeEventListener("mousemove",b),window.removeEventListener("keydown",C),window.removeEventListener("keyup",C),window.removeEventListener("contextmenu",E)}window.removeEventListener("mouseup",y)}function M(_){if(_.button===0)l=!0,ps(t),window.addEventListener("mouseup",y);else if(_.button===2&&!l){const d=f(_.clientX,_.clientY);r=d,h(d),Ct(t,u,r,_.shiftKey,_.ctrlKey,_.altKey),o=void 0,t.querySelectorAll(`circle[cx="${d.x+.5}"][cy="${d.y+.5}"]`).forEach(c=>{o=c,u!==void 0&&c.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove","")}),u&&t.appendChild(u),window.addEventListener("mousemove",b),window.addEventListener("mouseup",y),window.addEventListener("keydown",C),window.addEventListener("keyup",C),window.addEventListener("contextmenu",E)}}return i&&s.addEventListener("mousedown",M),{update(_){_.svg!==t&&(t=_.svg),_.enabled!==i&&(i=_.enabled,i?s.addEventListener("mousedown",M):(ps(t),s.removeEventListener("mousedown",M))),n=_.settings,a=_.flipped}}}function ms(s,e,t){const a=s.slice();return a[8]=e[t],a}function vs(s){let e,t,a,i;return{c(){e=Ae("marker"),t=Ae("path"),a=Ae("marker"),i=Ae("path"),this.h()},l(n){e=Ce(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var l=q(e);t=Ce(l,"path",{fill:!0,d:!0}),q(t).forEach(m),l.forEach(m),a=Ce(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,orient:!0,fill:!0});var r=q(a);i=Ce(r,"path",{fill:!0,d:!0}),q(i).forEach(m),r.forEach(m),this.h()},h(){g(t,"fill",s[8]),g(t,"d","M 5 0 Q 0 0 0 5 L 0 15 Q 0 20 5 20 Z"),g(e,"id","start-"+s[8][0]),g(e,"viewBox","0 0 5 20"),g(e,"refX","4"),g(e,"refY","10"),g(e,"markerUnits","strokeWidth"),g(e,"markerWidth","0.5"),g(e,"markerHeight","1"),g(e,"orient","auto"),g(i,"fill",s[8]),g(i,"d","M 0 4 L 10 10 L 0 16 Z"),g(a,"id","end-"+s[8][0]),g(a,"viewBox","0 0 10 20"),g(a,"refX","0.2"),g(a,"refY","10"),g(a,"markerUnits","strokeWidth"),g(a,"orient","auto"),g(a,"fill","currentColor")},m(n,l){H(n,e,l),S(e,t),H(n,a,l),S(a,i)},p:be,d(n){n&&m(e),n&&m(a)}}}function _i(s){let e,t,a,i=s[2],n=[];for(let l=0;l<i.length;l+=1)n[l]=vs(ms(s,i,l));return{c(){e=Ae("svg"),t=Ae("defs");for(let l=0;l<n.length;l+=1)n[l].c();a=Ae("g"),this.h()},l(l){e=Ce(l,"svg",{xmlns:!0,style:!0,viewBox:!0,class:!0});var r=q(e);t=Ce(r,"defs",{});var o=q(t);for(let u=0;u<n.length;u+=1)n[u].l(o);o.forEach(m),a=Ce(r,"g",{}),q(a).forEach(m),r.forEach(m),this.h()},h(){g(e,"xmlns","http://www.w3.org/2000/svg"),de(e,"transform","rotate("+(s[1]?"180deg":"0deg")+")"),g(e,"viewBox","0 0 8 8"),g(e,"class","svelte-19gv2n4")},m(l,r){H(l,e,r),S(e,t);for(let o=0;o<n.length;o+=1)n[o].m(t,null);S(e,a),s[5](a)},p(l,[r]){if(r&4){i=l[2];let o;for(o=0;o<i.length;o+=1){const u=ms(l,i,o);n[o]?n[o].p(u,r):(n[o]=vs(u),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=i.length}r&2&&de(e,"transform","rotate("+(l[1]?"180deg":"0deg")+")")},i:be,o:be,d(l){l&&m(e),nt(n,l),s[5](null)}}}function Ei(s,e,t){let{flipped:a=!1}=e,{svg:i}=e,{knightLShape:n=!1}=e,{computerArrows:l=[]}=e,r=!1;function o(h){!r||(bi(i),mi(i,h,n))}Zt(()=>{r=!0,o(l)});const u=["green","red","blue","orange"];function f(h){Q[h?"unshift":"push"](()=>{i=h,t(0,i)})}return s.$$set=h=>{"flipped"in h&&t(1,a=h.flipped),"svg"in h&&t(0,i=h.svg),"knightLShape"in h&&t(3,n=h.knightLShape),"computerArrows"in h&&t(4,l=h.computerArrows)},s.$$.update=()=>{s.$$.dirty&16&&o(l)},[i,a,u,n,l,f]}class wi extends _e{constructor(e){super(),Ee(this,e,Ei,_i,we,{flipped:1,svg:0,knightLShape:3,computerArrows:4})}}function _s(s,{delay:e=0,duration:t=400,easing:a=xt,x:i=0,y:n=0,opacity:l=0}={}){const r=getComputedStyle(s),o=+r.opacity,u=r.transform==="none"?"":r.transform,f=o*(1-l);return{delay:e,duration:t,easing:a,css:(h,b)=>`
			transform: ${u} translate(${(1-h)*i}px, ${(1-h)*n}px);
			opacity: ${o-f*b}`}}function Ft(s,{delay:e=0,duration:t=400,easing:a=xt}={}){const i=getComputedStyle(s),n=+i.opacity,l=parseFloat(i.height),r=parseFloat(i.paddingTop),o=parseFloat(i.paddingBottom),u=parseFloat(i.marginTop),f=parseFloat(i.marginBottom),h=parseFloat(i.borderTopWidth),b=parseFloat(i.borderBottomWidth);return{delay:e,duration:t,easing:a,css:E=>`overflow: hidden;opacity: ${Math.min(E*20,1)*n};height: ${E*l}px;padding-top: ${E*r}px;padding-bottom: ${E*o}px;margin-top: ${E*u}px;margin-bottom: ${E*f}px;border-top-width: ${E*h}px;border-bottom-width: ${E*b}px;`}}function Mi(s){let e,t,a,i,n,l;return{c(){e=O("button"),t=O("img"),this.h()},l(r){e=F(r,"BUTTON",{});var o=q(e);t=F(o,"IMG",{src:!0,alt:!0,class:!0}),o.forEach(m),this.h()},h(){lt(t.src,a=s[1])||g(t,"src",a),g(t,"alt",i="Promotion to "+s[0].toUpperCase()),g(t,"class","svelte-17pqsbb")},m(r,o){H(r,e,o),S(e,t),n||(l=$(e,"click",s[2]),n=!0)},p(r,[o]){o&1&&i!==(i="Promotion to "+r[0].toUpperCase())&&g(t,"alt",i)},i:be,o:be,d(r){r&&m(e),n=!1,l()}}}function ki(s,e,t){let{piece:a}=e,{isWhite:i}=e,{showModal:n}=e;const l=Qt(),r=(i?"w":"b")+a.toUpperCase(),o=jt(r),u=()=>{l("newPromotion",a),t(3,n=!1)};return s.$$set=f=>{"piece"in f&&t(0,a=f.piece),"isWhite"in f&&t(4,i=f.isWhite),"showModal"in f&&t(3,n=f.showModal)},[a,o,u,n,i]}class Si extends _e{constructor(e){super(),Ee(this,e,ki,Mi,we,{piece:0,isWhite:4,showModal:3})}}function Es(s,e,t){const a=s.slice();return a[6]=e[t],a}function ws(s){let e,t,a,i,n,l=["q","r","b","n"],r=[];for(let u=0;u<4;u+=1)r[u]=Ms(Es(s,l,u));const o=u=>G(r[u],1,1,()=>{r[u]=null});return{c(){e=O("div"),t=O("div");for(let u=0;u<4;u+=1)r[u].c();this.h()},l(u){e=F(u,"DIV",{class:!0});var f=q(e);t=F(f,"DIV",{class:!0});var h=q(t);for(let b=0;b<4;b+=1)r[b].l(h);h.forEach(m),f.forEach(m),this.h()},h(){g(t,"class","modal-content svelte-it5mr1"),g(e,"class","modal svelte-it5mr1")},m(u,f){H(u,e,f),S(e,t);for(let h=0;h<4;h+=1)r[h].m(t,null);n=!0},p(u,f){if(f&3){l=["q","r","b","n"];let h;for(h=0;h<4;h+=1){const b=Es(u,l,h);r[h]?(r[h].p(b,f),z(r[h],1)):(r[h]=Ms(b),r[h].c(),z(r[h],1),r[h].m(t,null))}for(qe(),h=4;h<4;h+=1)o(h);Re()}},i(u){if(!n){for(let f=0;f<4;f+=1)z(r[f]);rt(()=>{i&&i.end(1),a=Dn(t,_s,{x:100,duration:300}),a.start()}),n=!0}},o(u){r=r.filter(Boolean);for(let f=0;f<4;f+=1)G(r[f]);a&&a.invalidate(),i=Bn(t,_s,{x:-200,duration:100}),n=!1},d(u){u&&m(e),nt(r,u),u&&i&&i.end()}}}function Ms(s){let e,t,a,i;function n(o){s[3](o)}function l(o){s[4](o)}let r={piece:s[6]};return s[1]!==void 0&&(r.isWhite=s[1]),s[0]!==void 0&&(r.showModal=s[0]),e=new Si({props:r}),Q.push(()=>se(e,"isWhite",n)),Q.push(()=>se(e,"showModal",l)),e.$on("newPromotion",s[5]),{c(){ie(e.$$.fragment)},l(o){le(e.$$.fragment,o)},m(o,u){re(e,o,u),i=!0},p(o,u){const f={};!t&&u&2&&(t=!0,f.isWhite=o[1],ne(()=>t=!1)),!a&&u&1&&(a=!0,f.showModal=o[0],ne(()=>a=!1)),e.$set(f)},i(o){i||(z(e.$$.fragment,o),i=!0)},o(o){G(e.$$.fragment,o),i=!1},d(o){oe(e,o)}}}function yi(s){let e,t,a=s[0]&&ws(s);return{c(){a&&a.c(),e=pe()},l(i){a&&a.l(i),e=pe()},m(i,n){a&&a.m(i,n),H(i,e,n),t=!0},p(i,[n]){i[0]?a?(a.p(i,n),n&1&&z(a,1)):(a=ws(i),a.c(),z(a,1),a.m(e.parentNode,e)):a&&(qe(),G(a,1,1,()=>{a=null}),Re())},i(i){t||(z(a),t=!0)},o(i){G(a),t=!1},d(i){a&&a.d(i),i&&m(e)}}}function Ai(s,e,t){let a=!1,i;function n(u){t(0,a=!0),u?t(1,i=!0):t(1,i=!1)}function l(u){i=u,t(1,i)}function r(u){a=u,t(0,a)}function o(u){Qe.call(this,s,u)}return[a,i,n,l,r,o]}class Ci extends _e{constructor(e){super(),Ee(this,e,Ai,yi,we,{openPromotionModal:2})}get openPromotionModal(){return this.$$.ctx[2]}}const Pi=""+new URL("../../assets/move-e4d827fe.wav",import.meta.url).href,Li=""+new URL("../../assets/capture-3dff493a.wav",import.meta.url).href,Ti=""+new URL("../../assets/castle-dcf4b2c5.wav",import.meta.url).href,Oi=""+new URL("../../assets/undo-b4184324.mp3",import.meta.url).href;function ks(s){let e,t,a,i;return{c(){e=O("audio"),t=O("track"),a=O("source"),this.h()},l(n){e=F(n,"AUDIO",{preload:!0});var l=q(e);t=F(l,"TRACK",{kind:!0}),a=F(l,"SOURCE",{src:!0}),l.forEach(m),this.h()},h(){g(t,"kind","captions"),lt(a.src,i=Pi)||g(a,"src",i),g(e,"preload","auto")},m(n,l){H(n,e,l),S(e,t),S(e,a),s[3](e)},p:be,d(n){n&&m(e),s[3](null)}}}function Ss(s){let e,t,a,i;return{c(){e=O("audio"),t=O("track"),a=O("source"),this.h()},l(n){e=F(n,"AUDIO",{preload:!0});var l=q(e);t=F(l,"TRACK",{kind:!0}),a=F(l,"SOURCE",{src:!0}),l.forEach(m),this.h()},h(){g(t,"kind","captions"),lt(a.src,i=Li)||g(a,"src",i),g(e,"preload","auto")},m(n,l){H(n,e,l),S(e,t),S(e,a),s[4](e)},p:be,d(n){n&&m(e),s[4](null)}}}function ys(s){let e,t,a,i;return{c(){e=O("audio"),t=O("track"),a=O("source"),this.h()},l(n){e=F(n,"AUDIO",{preload:!0});var l=q(e);t=F(l,"TRACK",{kind:!0}),a=F(l,"SOURCE",{src:!0}),l.forEach(m),this.h()},h(){g(t,"kind","captions"),lt(a.src,i=Ti)||g(a,"src",i),g(e,"preload","auto")},m(n,l){H(n,e,l),S(e,t),S(e,a),s[5](e)},p:be,d(n){n&&m(e),s[5](null)}}}function As(s){let e,t,a,i;return{c(){e=O("audio"),t=O("track"),a=O("source"),this.h()},l(n){e=F(n,"AUDIO",{preload:!0});var l=q(e);t=F(l,"TRACK",{kind:!0}),a=F(l,"SOURCE",{src:!0}),l.forEach(m),this.h()},h(){g(t,"kind","captions"),lt(a.src,i=Oi)||g(a,"src",i),g(e,"preload","auto")},m(n,l){H(n,e,l),S(e,t),S(e,a),s[6](e)},p:be,d(n){n&&m(e),s[6](null)}}}function Fi(s){let e,t,a,i,n=s[0].MOVE&&ks(s),l=s[0].CAPTURE&&Ss(s),r=s[0].CASTLE&&ys(s),o=s[0].UNDO&&As(s);return{c(){n&&n.c(),e=j(),l&&l.c(),t=j(),r&&r.c(),a=j(),o&&o.c(),i=pe()},l(u){n&&n.l(u),e=K(u),l&&l.l(u),t=K(u),r&&r.l(u),a=K(u),o&&o.l(u),i=pe()},m(u,f){n&&n.m(u,f),H(u,e,f),l&&l.m(u,f),H(u,t,f),r&&r.m(u,f),H(u,a,f),o&&o.m(u,f),H(u,i,f)},p(u,[f]){u[0].MOVE?n?n.p(u,f):(n=ks(u),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),u[0].CAPTURE?l?l.p(u,f):(l=Ss(u),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),u[0].CASTLE?r?r.p(u,f):(r=ys(u),r.c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null),u[0].UNDO?o?o.p(u,f):(o=As(u),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},i:be,o:be,d(u){n&&n.d(u),u&&m(e),l&&l.d(u),u&&m(t),r&&r.d(u),u&&m(a),o&&o.d(u),u&&m(i)}}}function Ii(s,e,t){let{settings:a}=e;const i={MOVE:void 0,CAPTURE:void 0,CASTLE:void 0,UNDO:void 0},n=()=>{i.CASTLE&&(i.CASTLE.pause(),t(1,i.CASTLE.currentTime=0,i)),i.MOVE&&(i.MOVE.pause(),t(1,i.MOVE.currentTime=0,i)),i.CAPTURE&&(i.CAPTURE.pause(),t(1,i.CAPTURE.currentTime=0,i)),i.UNDO&&(i.UNDO.pause(),t(1,i.UNDO.currentTime=0,i))},l=b=>b===void 0||a[b];function r(b){switch(n(),b){case"MOVE":i.MOVE&&l("MOVE")&&i.MOVE.play();break;case"CAPTURE":i.CAPTURE&&l("CAPTURE")?i.CAPTURE.play():i.MOVE&&l("MOVE")&&i.MOVE.play();break;case"CASTLE":i.CASTLE&&l("CASTLE")?i.CASTLE.play():i.MOVE&&l("MOVE")&&i.MOVE.play();break;case"UNDO":i.UNDO&&l("UNDO")?(t(1,i.UNDO.volume=.3,i),i.UNDO.play()):i.MOVE&&l("MOVE")&&i.MOVE.play();break}}function o(b){Q[b?"unshift":"push"](()=>{i.MOVE=b,t(1,i)})}function u(b){Q[b?"unshift":"push"](()=>{i.CAPTURE=b,t(1,i)})}function f(b){Q[b?"unshift":"push"](()=>{i.CASTLE=b,t(1,i)})}function h(b){Q[b?"unshift":"push"](()=>{i.UNDO=b,t(1,i)})}return s.$$set=b=>{"settings"in b&&t(0,a=b.settings)},[a,i,r,o,u,f,h]}class qi extends _e{constructor(e){super(),Ee(this,e,Ii,Fi,we,{settings:0,playMoveSound:2})}get playMoveSound(){return this.$$.ctx[2]}}const Cs=""+new URL("../../assets/standard-97995bf9.svg",import.meta.url).href,Ps=""+new URL("../../assets/darkBlue-02863507.svg",import.meta.url).href;function Ri(s,e){const{minWidth:t,maxWidth:a,curWidth:i}=e;let n=i,l,r,o,u;function f(E){E.stopPropagation(),s.dispatchEvent(new CustomEvent("resizing",{detail:{size:Math.max(Math.max(t,Math.min(a,o+(E.pageX-l))),Math.max(t,Math.min(a,u+(E.pageY-r))))}}))}function h(E){E.stopPropagation(),s.dispatchEvent(new CustomEvent("endResizing",{detail:{size:Math.max(Math.max(t,Math.min(a,o+Math.floor((E.pageX-l)/8)*8)),Math.max(t,Math.min(a,u+Math.floor((E.pageY-r)/8)*8)))}})),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",h)}function b(E){E.stopPropagation(),E.button===0&&(l=E.pageX,o=n,r=E.pageY,u=n,window.addEventListener("mousemove",f),window.addEventListener("mouseup",h))}return s.addEventListener("mousedown",b),{update(E){n=E.curWidth},destroy(){s.removeEventListener("mousedown",b)}}}function Ni(s){let e,t,a,i,n,l;return{c(){e=O("div"),t=Ae("svg"),a=Ae("path"),this.h()},l(r){e=F(r,"DIV",{style:!0,class:!0});var o=q(e);t=Ce(o,"svg",{xmlns:!0,viewBox:!0,fill:!0});var u=q(t);a=Ce(u,"path",{d:!0}),q(a).forEach(m),u.forEach(m),o.forEach(m),this.h()},h(){g(a,"d","M 5 1 Q 6 0 6 2 L 6 4 Q 6 6 4 6 L 2 6 Q 0 6 1 5 Z"),g(t,"xmlns","http://www.w3.org/2000/svg"),g(t,"viewBox","0 0 16 16"),g(t,"fill","currentColor"),de(e,"color",Ne.colors[s[0].state.board.boardTheme].black),g(e,"class","svelte-mmuauc")},m(r,o){H(r,e,o),S(e,t),S(t,a),n||(l=[$(e,"pointerdown",ln(s[2])),Xt(i=Ri.call(null,e,{minWidth:s[0].state.resizible.settings.min,maxWidth:s[0].state.resizible.settings.max,curWidth:s[0].state.board.size})),$(e,"resizing",s[3]),$(e,"endResizing",s[4])],n=!0)},p(r,[o]){o&1&&de(e,"color",Ne.colors[r[0].state.board.boardTheme].black),i&&Yt(i.update)&&o&1&&i.update.call(null,{minWidth:r[0].state.resizible.settings.min,maxWidth:r[0].state.resizible.settings.max,curWidth:r[0].state.board.size})},i:be,o:be,d(r){r&&m(e),n=!1,at(l)}}}function Di(s,e,t){let{chessboard:a}=e,{setSize:i}=e;function n(o){Qe.call(this,s,o)}const l=o=>i(o.detail.size),r=o=>i(o.detail.size);return s.$$set=o=>{"chessboard"in o&&t(0,a=o.chessboard),"setSize"in o&&t(1,i=o.setSize)},[a,i,n,l,r]}class Bi extends _e{constructor(e){super(),Ee(this,e,Di,Ni,we,{chessboard:0,setSize:1})}}function Ls(s,e,t){const a=s.slice();return a[72]=e[t],a}function Ts(s,e,t){const a=s.slice();return a[75]=e[t],a}function Os(s){let e=[],t=new Map,a,i,n=s[5].state.pieces;const l=r=>r[75];for(let r=0;r<n.length;r+=1){let o=Ts(s,n,r),u=l(o);t.set(u,e[r]=Fs(u,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();a=pe()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);a=pe()},m(r,o){for(let u=0;u<e.length;u+=1)e[u].m(r,o);H(r,a,o),i=!0},p(r,o){o[0]&247852&&(n=r[5].state.pieces,qe(),e=rn(e,o,l,1,r,n,t,a.parentNode,on,Fs,a,Ts),Re())},i(r){if(!i){for(let o=0;o<n.length;o+=1)z(e[o]);i=!0}},o(r){for(let o=0;o<e.length;o+=1)G(e[o]);i=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&m(a)}}}function Fs(s,e){let t,a,i;function n(){return e[51](e[75])}function l(){return e[52](e[75])}function r(){return e[54](e[75])}return a=new gn({props:{square:e[75].square,name:e[75].name,duration:e[5].state.draggable.transition.settings.duration,easing:e[5].state.draggable.transition.settings.easing,legal:e[5].state.legal.enabled,preMoves:e[5].state.legal.preMoves.enabled,selectedPiece:e[5].state.selectable.selectedPiece,whiteToMove:e[5].state.legal.whiteToMove,movableState:e[5].state.movable,getGridCoordsFromSquare:e[5].getGridCoordsFromSquare,flipped:e[5].state.board.flipped}}),a.$on("move",e[14]),a.$on("clicked",n),a.$on("startMoving",l),a.$on("moving",e[15]),a.$on("endDragging",e[53]),a.$on("select",r),a.$on("deselect",e[55]),a.$on("animationEnded",e[16]),{key:s,first:null,c(){t=pe(),ie(a.$$.fragment),this.h()},l(o){t=pe(),le(a.$$.fragment,o),this.h()},h(){this.first=t},m(o,u){H(o,t,u),re(a,o,u),i=!0},p(o,u){e=o;const f={};u[0]&32&&(f.square=e[75].square),u[0]&32&&(f.name=e[75].name),u[0]&32&&(f.duration=e[5].state.draggable.transition.settings.duration),u[0]&32&&(f.easing=e[5].state.draggable.transition.settings.easing),u[0]&32&&(f.legal=e[5].state.legal.enabled),u[0]&32&&(f.preMoves=e[5].state.legal.preMoves.enabled),u[0]&32&&(f.selectedPiece=e[5].state.selectable.selectedPiece),u[0]&32&&(f.whiteToMove=e[5].state.legal.whiteToMove),u[0]&32&&(f.movableState=e[5].state.movable),u[0]&32&&(f.getGridCoordsFromSquare=e[5].getGridCoordsFromSquare),u[0]&32&&(f.flipped=e[5].state.board.flipped),a.$set(f)},i(o){i||(z(a.$$.fragment,o),i=!0)},o(o){G(a.$$.fragment,o),i=!1},d(o){o&&m(t),oe(a,o)}}}function Is(s){let e,t;return e=new gn({props:{ghostPiece:!0,duration:0,legal:s[5].state.legal.enabled,square:s[5].state.draggable.ghostPiece.piece.square,name:s[5].state.draggable.ghostPiece.piece.name,movableState:new cn(!1),getGridCoordsFromSquare:s[5].getGridCoordsFromSquare,flipped:s[5].state.board.flipped}}),{c(){ie(e.$$.fragment)},l(a){le(e.$$.fragment,a)},m(a,i){re(e,a,i),t=!0},p(a,i){const n={};i[0]&32&&(n.legal=a[5].state.legal.enabled),i[0]&32&&(n.square=a[5].state.draggable.ghostPiece.piece.square),i[0]&32&&(n.name=a[5].state.draggable.ghostPiece.piece.name),i[0]&32&&(n.getGridCoordsFromSquare=a[5].getGridCoordsFromSquare),i[0]&32&&(n.flipped=a[5].state.board.flipped),e.$set(n)},i(a){t||(z(e.$$.fragment,a),t=!0)},o(a){G(e.$$.fragment,a),t=!1},d(a){oe(e,a)}}}function Vi(s){let e=[],t=new Map,a,i,n=[...s[5].state.markedSquares];const l=r=>r[72];for(let r=0;r<n.length;r+=1){let o=Ls(s,n,r),u=l(o);t.set(u,e[r]=qs(u,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();a=pe()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);a=pe()},m(r,o){for(let u=0;u<e.length;u+=1)e[u].m(r,o);H(r,a,o),i=!0},p(r,o){o[0]&34&&(n=[...r[5].state.markedSquares],qe(),e=rn(e,o,l,1,r,n,t,a.parentNode,on,qs,a,Ls),Re())},i(r){if(!i){for(let o=0;o<n.length;o+=1)z(e[o]);i=!0}},o(r){for(let o=0;o<e.length;o+=1)G(e[o]);i=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&m(a)}}}function qs(s,e){let t,a,i;return a=new ci({props:{theme:e[5].state.board.boardTheme,square:e[72].square,color:e[72].color,getGridCoordsFromSquare:e[5].getGridCoordsFromSquare,flipped:e[5].state.board.flipped}}),a.$on("dragenter",e[56]),{key:s,first:null,c(){t=pe(),ie(a.$$.fragment),this.h()},l(n){t=pe(),le(a.$$.fragment,n),this.h()},h(){this.first=t},m(n,l){H(n,t,l),re(a,n,l),i=!0},p(n,l){e=n;const r={};l[0]&32&&(r.theme=e[5].state.board.boardTheme),l[0]&32&&(r.square=e[72].square),l[0]&32&&(r.color=e[72].color),l[0]&32&&(r.getGridCoordsFromSquare=e[5].getGridCoordsFromSquare),l[0]&32&&(r.flipped=e[5].state.board.flipped),a.$set(r)},i(n){i||(z(a.$$.fragment,n),i=!0)},o(n){G(a.$$.fragment,n),i=!1},d(n){n&&m(t),oe(a,n)}}}function Rs(s){let e,t;return e=new Ea({props:{theme:s[5].state.board.boardTheme,flipped:s[5].state.board.flipped}}),{c(){ie(e.$$.fragment)},l(a){le(e.$$.fragment,a)},m(a,i){re(e,a,i),t=!0},p(a,i){const n={};i[0]&32&&(n.theme=a[5].state.board.boardTheme),i[0]&32&&(n.flipped=a[5].state.board.flipped),e.$set(n)},i(a){t||(z(e.$$.fragment,a),t=!0)},o(a){G(e.$$.fragment,a),t=!1},d(a){oe(e,a)}}}function Ns(s){let e,t;return e=new Bi({props:{chessboard:s[5],setSize:s[4]}}),{c(){ie(e.$$.fragment)},l(a){le(e.$$.fragment,a)},m(a,i){re(e,a,i),t=!0},p(a,i){const n={};i[0]&32&&(n.chessboard=a[5]),e.$set(n)},i(a){t||(z(e.$$.fragment,a),t=!0)},o(a){G(e.$$.fragment,a),t=!1},d(a){oe(e,a)}}}function Ds(s){let e,t,a;function i(l){s[57](l)}let n={flipped:s[5].state.board.flipped,computerArrows:s[10],knightLShape:s[5].state.drawTools.settings.knightLShape};return s[7]!==void 0&&(n.svg=s[7]),e=new wi({props:n}),Q.push(()=>se(e,"svg",i)),{c(){ie(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),a=!0},p(l,r){const o={};r[0]&32&&(o.flipped=l[5].state.board.flipped),r[0]&1024&&(o.computerArrows=l[10]),r[0]&32&&(o.knightLShape=l[5].state.drawTools.settings.knightLShape),!t&&r[0]&128&&(t=!0,o.svg=l[7],ne(()=>t=!1)),e.$set(o)},i(l){a||(z(e.$$.fragment,l),a=!0)},o(l){G(e.$$.fragment,l),a=!1},d(l){oe(e,l)}}}function Bs(s){let e,t,a={};return e=new Ci({props:a}),s[58](e),e.$on("newPromotion",s[18]),{c(){ie(e.$$.fragment)},l(i){le(e.$$.fragment,i)},m(i,n){re(e,i,n),t=!0},p(i,n){const l={};e.$set(l)},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){s[58](null),oe(e,i)}}}function Vs(s){let e,t,a={settings:s[5].state.sounds.settings};return e=new qi({props:a}),s[63](e),{c(){ie(e.$$.fragment)},l(i){le(e.$$.fragment,i)},m(i,n){re(e,i,n),t=!0},p(i,n){const l={};n[0]&32&&(l.settings=i[5].state.sounds.settings),e.$set(l)},i(i){t||(z(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){s[63](null),oe(e,i)}}}function Ui(s){let e,t,a,i,n=s[12](),l,r,o,u,f,h,b,E,C,y,M,_,d=s[5].state.board.startFen&&Os(s),c=s[5].state.draggable.ghostPiece.enabled&&s[5].state.draggable.ghostPiece.piece!==void 0&&Is(s),w=n&&Vi(s),v=s[5].state.board.notation&&Rs(s),k=s[5].state.resizible.enabled&&Ns(s),T=s[5].state.drawTools.enabled&&Ds(s),D=s[5].state.legal.enabled&&Bs(s),I=s[5].state.sounds.enabled&&Vs(s);return{c(){e=O("div"),t=O("div"),d&&d.c(),a=j(),c&&c.c(),i=j(),w&&w.c(),l=j(),v&&v.c(),r=j(),k&&k.c(),o=j(),T&&T.c(),u=j(),D&&D.c(),E=j(),I&&I.c(),C=pe(),this.h()},l(L){e=F(L,"DIV",{class:!0,style:!0});var R=q(e);t=F(R,"DIV",{style:!0,class:!0});var V=q(t);d&&d.l(V),V.forEach(m),a=K(R),c&&c.l(R),i=K(R),w&&w.l(R),l=K(R),v&&v.l(R),r=K(R),k&&k.l(R),o=K(R),T&&T.l(R),u=K(R),D&&D.l(R),R.forEach(m),E=K(L),I&&I.l(L),C=pe(),this.h()},h(){de(t,"width","100%"),de(t,"height","100%"),g(t,"class","noselect"),g(e,"class",f="noselect board "+(s[5].state.board.shadow?" shadow":"")+" text-sm "+s[0]+" svelte-1bsiysh"),de(e,"--boardTheme","url("+(s[5].state.board.boardTheme==="standard"?Cs:Ps)+")"),rt(()=>s[62].call(e))},m(L,R){H(L,e,R),S(e,t),d&&d.m(t,null),S(e,a),c&&c.m(e,null),S(e,i),w&&w.m(e,null),S(e,l),v&&v.m(e,null),S(e,r),k&&k.m(e,null),S(e,o),T&&T.m(e,null),S(e,u),D&&D.m(e,null),s[61](e),b=Vn(e,s[62].bind(e)),H(L,E,R),I&&I.m(L,R),H(L,C,R),y=!0,M||(_=[$(e,"pointerdown",s[13]),$(e,"contextmenu",ns(s[49])),$(e,"drag",ns(s[50])),Xt(h=vi.call(null,e,{svg:s[7],flipped:s[5].state.board.flipped,enabled:s[5].state.drawTools.enabled,settings:s[5].state.drawTools.settings})),$(e,"drawCircle",s[59]),$(e,"drawArrow",s[60])],M=!0)},p(L,R){L[5].state.board.startFen?d?(d.p(L,R),R[0]&32&&z(d,1)):(d=Os(L),d.c(),z(d,1),d.m(t,null)):d&&(qe(),G(d,1,1,()=>{d=null}),Re()),L[5].state.draggable.ghostPiece.enabled&&L[5].state.draggable.ghostPiece.piece!==void 0?c?(c.p(L,R),R[0]&32&&z(c,1)):(c=Is(L),c.c(),z(c,1),c.m(e,i)):c&&(qe(),G(c,1,1,()=>{c=null}),Re()),n&&w.p(L,R),L[5].state.board.notation?v?(v.p(L,R),R[0]&32&&z(v,1)):(v=Rs(L),v.c(),z(v,1),v.m(e,r)):v&&(qe(),G(v,1,1,()=>{v=null}),Re()),L[5].state.resizible.enabled?k?(k.p(L,R),R[0]&32&&z(k,1)):(k=Ns(L),k.c(),z(k,1),k.m(e,o)):k&&(qe(),G(k,1,1,()=>{k=null}),Re()),L[5].state.drawTools.enabled?T?(T.p(L,R),R[0]&32&&z(T,1)):(T=Ds(L),T.c(),z(T,1),T.m(e,u)):T&&(qe(),G(T,1,1,()=>{T=null}),Re()),L[5].state.legal.enabled?D?(D.p(L,R),R[0]&32&&z(D,1)):(D=Bs(L),D.c(),z(D,1),D.m(e,null)):D&&(qe(),G(D,1,1,()=>{D=null}),Re()),(!y||R[0]&33&&f!==(f="noselect board "+(L[5].state.board.shadow?" shadow":"")+" text-sm "+L[0]+" svelte-1bsiysh"))&&g(e,"class",f),(!y||R[0]&32)&&de(e,"--boardTheme","url("+(L[5].state.board.boardTheme==="standard"?Cs:Ps)+")"),h&&Yt(h.update)&&R[0]&160&&h.update.call(null,{svg:L[7],flipped:L[5].state.board.flipped,enabled:L[5].state.drawTools.enabled,settings:L[5].state.drawTools.settings}),L[5].state.sounds.enabled?I?(I.p(L,R),R[0]&32&&z(I,1)):(I=Vs(L),I.c(),z(I,1),I.m(C.parentNode,C)):I&&(qe(),G(I,1,1,()=>{I=null}),Re())},i(L){y||(z(d),z(c),z(w),z(v),z(k),z(T),z(D),z(I),y=!0)},o(L){G(d),G(c),G(w),G(v),G(k),G(T),G(D),G(I),y=!1},d(L){L&&m(e),d&&d.d(),c&&c.d(),w&&w.d(),v&&v.d(),k&&k.d(),T&&T.d(),D&&D.d(),s[61](null),b(),L&&m(E),I&&I.d(L),L&&m(C),M=!1,at(_)}}}function Hi(s,e,t){let{config:a}=e,{className:i=""}=e;const n=new fa(a),l=Qt();let r,o,u,f,h="";Un(()=>{document.documentElement.hasAttribute("style")&&n.state.resizible.enabled&&document.documentElement.removeAttribute("style")});let b=[],E={[J.WHITE]:"",[J.BLACK]:""};const C=p=>{n.clearAllSquares(p),p===B.LEGAL&&n.clearAllSquares(B.LEGALHOVER),p===B.PREMOVE&&n.clearAllSquares(B.PREMOVEHOVER),t(5,n)},y=(p,U)=>{n.highlightSquare(p,U),t(5,n)},M=p=>n.state.highlight.enabled&&(p===void 0||n.state.highlight.settings[p]),_=p=>{if(!n.state.selectable.enabled)return;const U=n.getPieceFromSquare(p);U!==void 0&&(C(B.SELECT),t(5,n.state.selectable.selectedPiece=U,n),M("select")&&y(p,B.SELECT))},d=()=>{C(B.SELECT),C(B.LEGAL),C(B.PREMOVE),t(5,n.state.selectable.selectedPiece=void 0,n),t(5,n.state.legal.preMoves.curMove="",n)},c=p=>{C(B.CHECK),p!==void 0&&M("check")&&y(E[p],B.CHECK),t(5,n)},w=p=>{n.flipBoard(p),t(5,n)},v=(p,U)=>{p.forEach(x=>n.highlightSquare(x,U)),t(5,n)},k=(p,U=B.MOVE)=>{p.length<4||v([p.substring(0,2),p.substring(2,4)],U)},T=(p,U=B.MOVE)=>{const x=[];p.forEach(ve=>{ve.length<4||(x.push(ve.substring(0,2)),x.push(ve.substring(2,4)))}),v(x,U)},D=p=>{y(p.substring(2,4),B.LEGAL)},I=(p,U=B.LEGAL)=>{C(U),p.forEach(x=>{x.length<4||n.highlightSquare(x.substring(2,4),U)}),t(5,n)},L=(p,U=!0)=>{n.makeMove(p),U&&(C(B.MOVE),M("move")&&k(p)),t(5,n)},R=p=>{n.removePiece(p),t(5,n)},V=p=>p[0]==="w"?J.WHITE:J.BLACK,Y=()=>n.state.movable.enabled&&(n.state.movable.color===J.BOTH||n.state.legal.whiteToMove&&n.state.movable.color===V("w")||!n.state.legal.whiteToMove&&n.state.movable.color===V("b")),X=()=>{!n.state.legal.enabled||(n.state.callbacks.getWhiteToMove&&t(5,n.state.legal.whiteToMove=n.state.callbacks.getWhiteToMove(),n),n.state.callbacks.getPreMoves&&!Y()&&n.state.legal.preMoves.enabled?t(5,n.state.legal.preMoves.moves=n.state.callbacks.getPreMoves(),n):t(5,n.state.legal.preMoves.moves.length=0,n),n.state.callbacks.getLegalMoves&&Y()?t(5,n.state.legal.moves=n.state.callbacks.getLegalMoves(),n):t(5,n.state.legal.moves.length=0,n),Y()&&n.state.selectable.selectedPiece!==void 0&&n.state.legal.preMoves.enabled&&(C(B.PREMOVE),C(B.LEGAL),M("legal")&&n.state.legal.moves.forEach(p=>{n.state.selectable.selectedPiece&&p.substring(0,2)===n.state.selectable.selectedPiece.square&&y(p.substring(2,4),B.LEGAL)})),n.state.callbacks.getKingLocations&&(E=n.state.callbacks.getKingLocations()),n.state.callbacks.getInCheck&&c(n.state.callbacks.getInCheck()))},N=p=>{n.state.sounds.enabled&&u.playMoveSound(p)},fe=p=>{if(p.substring(0,2)===p.substring(2,4))return;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(p),d();const U=n.getRookMoveIfIsCastling(p),x=n.getCapturedPawnSquareIfIsEnPassant(p);if(U&&n.state.legal.enabled&&n.state.legal.settings.allowCastling?(L(U,!1),N("CASTLE")):x&&n.state.legal.enabled&&n.state.legal.settings.allowEnPassant?(R(x),N("CAPTURE")):n.isCapture(p)?N("CAPTURE"):N("MOVE"),n.removeGhostPiece(),t(5,n),L(p),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(p),X(),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.curMove!==""){if(n.state.legal.moves.includes(n.state.legal.preMoves.curMove)||n.state.legal.moves.includes(`${n.state.legal.preMoves.curMove}q`)){const ve=n.state.legal.preMoves.curMove;t(5,n.state.legal.preMoves.curMove="",n),Hn().then(()=>{fe(ve)})}C(B.NEXTMOVE)}},W=p=>{!n.state.legal.enabled||!n.state.legal.preMoves.enabled||!n.state.movable.enabled||(C(B.PREMOVE),C(B.NEXTMOVE),n.state.highlight.enabled&&n.state.highlight.settings.nextMove&&k(p,B.NEXTMOVE),t(5,n.state.legal.preMoves.curMove=p,n),l("nextMove",{move:p}))},A=p=>{f.openPromotionModal(!0),h=p,n.makeMove(p),C(B.LEGAL),C(B.SELECT),C(B.MOVE),k(p)},Z=(p,U)=>{n.clearSquare(p,U),t(5,n)},te=()=>{n.clearAllPieces(),t(5,n)},me=(p,U)=>{n.setPiece(p,U),t(5,n)},ae=(p,U)=>{var ve;const x=(ve=n.getPieceFromSquare(p))==null?void 0:ve.name;!x||(U!==void 0?n.setPiece(p,`${U===J.WHITE?"w":"b"}${x[1]}`):n.setPiece(p,`${x[0]==="w"?"b":"w"}${x[1]}`),t(5,n))},ue=(p,U)=>{const x=Math.floor(p/n.state.board.size*8),ve=Math.floor(U/n.state.board.size*8),ke=n.state.board.flipped?Math.abs(x-7):x,Ie=n.state.board.flipped?ve:Math.abs(ve-7);return Object.keys(n.letters)[ke]+(Ie+1).toString()},Se=p=>{if(!n.state.movable.enabled)return!1;if(n.state.legal.enabled){if(n.state.legal.preMoves.enabled&&(n.state.movable.color===V(p)&&n.state.legal.whiteToMove===!0&&V(p)===J.WHITE||n.state.legal.whiteToMove===!1&&V(p)===J.BLACK)||!n.state.legal.preMoves.enabled&&(n.state.legal.whiteToMove===!0&&V(p)===J.WHITE||n.state.legal.whiteToMove===!1&&V(p)===J.BLACK))return!0}else if(n.state.movable.color===J.BOTH||n.state.movable.color===V(p))return!0;return!1},Le=p=>{if(p.button===2){d();return}const U=r.getBoundingClientRect(),x=p.clientX-U.left,ve=p.clientY-U.top,ke=ue(x,ve),Ie=n.getPieceFromSquare(ke);if(l("squareClick",{square:ke,piece:Ie?Ie.name:void 0}),!n.state.selectable.enabled){d();return}if(n.state.selectable.selectedPiece!==void 0&&n.state.selectable.selectedPiece.square!==ke&&!n.state.legal.enabled){fe(n.state.selectable.selectedPiece.square+ke),d();return}if(n.state.selectable.selectedPiece!==void 0&&n.state.selectable.selectedPiece.square!==ke&&(Ie===void 0||Ie.name[0]!==n.state.selectable.selectedPiece.name[0])){n.isPromotion(n.state.selectable.selectedPiece.square+ke)&&n.state.legal.moves.includes(`${n.state.selectable.selectedPiece.square+ke}q`)?A(n.state.selectable.selectedPiece.square+ke):n.state.legal.moves.includes(n.state.selectable.selectedPiece.square+ke)?fe(n.state.selectable.selectedPiece.square+ke):n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.includes(n.state.selectable.selectedPiece.square+ke)&&W(n.state.selectable.selectedPiece.square+ke),d();return}n.state.selectable.selectedPiece!==Ie&&Ie!==void 0&&n.state.movable.enabled&&(n.state.movable.color===J.BOTH||n.state.movable.color===V(Ie.name))&&(M("legal")&&n.state.legal.enabled&&Y()&&(C(B.LEGAL),n.state.legal.moves.forEach($e=>{$e.substring(0,2)===ke&&y($e.substring(2,4),B.LEGAL)})),M("preMove")&&n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.movable.color!==J.BOTH&&!Y()&&(C(B.PREMOVE),n.state.legal.preMoves.moves.forEach($e=>{$e.substring(0,2)===ke&&y($e.substring(2,4),B.PREMOVE)})),(n.state.legal.enabled&&Se(Ie.name[0])||!n.state.legal.enabled)&&_(Ie.square))},De=p=>{const U=p.detail;n.state.legal.enabled?n.isPromotion(U)&&n.state.legal.moves.includes(`${U}q`)?A(U):n.state.legal.moves.includes(U)?fe(U):n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.includes(U)?W(U):d():fe(U),C(B.LEGAL),C(B.PREMOVE),t(5,n)},Me=(p,U="MOVE")=>{if(n.updatePiecesWithFen(p),C(),n.removeGhostPiece(),X(),n.state.callbacks.getLastMove){const x=n.state.callbacks.getLastMove();U!==!1&&(U!=="MOVE"?N(U):n.isCastling(x)?N("CASTLE"):N(U)),k(x)}else U!==!1&&N(U);t(5,n),t(5,n)},ye=()=>n.getShortFEN(),Be=p=>{!p||n.state.board.size===p||(t(5,n.state.board.size=p,n),n.state.resizible.enabled&&document.documentElement.style.setProperty("--boardSize",`${n.state.board.size}px`))},Pe=p=>{var U;return(U=n.getPieceFromSquare(p))==null?void 0:U.name},Te=p=>{t(10,b=p)},Oe=()=>{t(10,b.length=0,b)},We=()=>{X()},Je=p=>{p===!1?t(5,n.state.movable.enabled=!1,n):(t(5,n.state.movable.enabled=!0,n),t(5,n.state.movable.color=p===!0?J.BOTH:p,n))},Ve=p=>{p!==void 0&&(n.setConfigSettings(p),t(5,n))},Ue=()=>n.state,Fe=p=>{t(5,n.state=p,n),C(),X(),n.state.legal.enabled&&n.state.legal.lastMove!==""&&M("move")&&k(n.state.legal.lastMove),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.curMove!==""&&M("nextMove")&&k(n.state.legal.preMoves.curMove,B.NEXTMOVE),n.state.selectable.enabled&&n.state.selectable.selectedPiece!==void 0&&(M("select")&&Se(n.state.selectable.selectedPiece.name)&&y(n.state.selectable.selectedPiece.square,B.SELECT),n.state.legal.enabled&&n.state.legal.moves.length>0&&M("legal")&&n.state.legal.moves.forEach(U=>{var x;U.substring(0,2)===((x=n.state.selectable.selectedPiece)==null?void 0:x.square)&&y(U.substring(2,4),B.LEGAL)}),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.length>0&&M("preMove")&&n.state.legal.preMoves.moves.forEach(U=>{var x;U.substring(0,2)===((x=n.state.selectable.selectedPiece)==null?void 0:x.square)&&y(U.substring(2,4),B.PREMOVE)}))},je=p=>p.getConfig(),gt=p=>{const U=r.getBoundingClientRect();n.state.legal.enabled&&(Y()&&n.legalHover(ue(p.detail.x-U.x,p.detail.y-U.y)),!Y()&&n.state.legal.preMoves.enabled&&n.preMoveHover(ue(p.detail.x-U.x,p.detail.y-U.y))),t(5,n)},ot=p=>{n.setGhostPiece(p),t(5,n)},bt=()=>{n.removeGhostPiece(),t(5,n)},Ke=p=>{n.state.draggable.ghostPiece&&ot(p),C(B.SELECT),n.state.selectable.selectedPiece===void 0&&(M("legal")&&n.state.legal.enabled&&n.state.legal.moves.forEach(U=>{U.substring(0,2)===p.square&&y(U.substring(2,4),B.LEGAL)}),M("preMove")&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.forEach(U=>{U.substring(0,2)===p.square&&y(U.substring(2,4),B.PREMOVE)}))},pt=p=>{const U=n.getPieceFromSquare(h.substring(2,4));if(!U)return;const x=U.name[0]+p.detail.toUpperCase(),ve=h+p.detail;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(ve),n.setPiece(U.square,x),t(5,n),N("MOVE"),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(ve),X()};Zt(()=>{X(),n.state.callbacks.getLastMove&&k(n.state.callbacks.getLastMove()),n.state.resizible&&Be(n.state.board.size-n.state.board.size%8)});function mt(p){Qe.call(this,s,p)}function Ge(p){Qe.call(this,s,p)}const vt=p=>{l("piececlick",{piece:p})},ut=p=>{l("startDragging",{piece:p}),Ke(p)};function _t(p){Qe.call(this,s,p)}const He=p=>_(p.square),Et=()=>d(),ze=p=>{y(p.detail.square,B.LEGALHOVER)};function xe(p){o=p,t(7,o)}function wt(p){Q[p?"unshift":"push"](()=>{f=p,t(9,f)})}const St=p=>l("drawCircle",{square:p.detail.square,color:p.detail.color}),qt=p=>l("drawArrow",{move:p.detail.move,color:p.detail.color});function Rt(p){Q[p?"unshift":"push"](()=>{r=p,t(6,r)})}function Nt(){n.state.board.size=this.clientWidth,t(5,n)}function Dt(p){Q[p?"unshift":"push"](()=>{u=p,t(8,u)})}return s.$$set=p=>{"config"in p&&t(19,a=p.config),"className"in p&&t(0,i=p.className)},s.$$.update=()=>{s.$$.dirty[0]&32&&Be(n.state.board.size-n.state.board.size%8)},[i,y,_,d,Be,n,r,o,u,f,b,l,M,Le,De,gt,bt,Ke,pt,a,C,w,v,k,T,D,I,L,R,N,fe,W,A,Z,te,me,ae,ue,Me,ye,Pe,Te,Oe,We,Je,Ve,Ue,Fe,je,mt,Ge,vt,ut,_t,He,Et,ze,xe,wt,St,qt,Rt,Nt,Dt]}class zi extends _e{constructor(e){super(),Ee(this,e,Hi,Ui,we,{config:19,className:0,clearAllSquares:20,highlightSquare:1,selectPiece:2,deselect:3,flipBoard:21,highlightManySquares:22,highlightMove:23,highlightMoves:24,highlightLegalMove:25,highlightLegalMoves:26,movePiece:27,removePiece:28,playMoveSound:29,makeMove:30,makeNextMove:31,makeMovePromotion:32,removeSquareHighlight:33,removeAllPiece:34,createPiece:35,changeColorOfPiece:36,getSquareFromCoords:37,setFEN:38,getShortFEN:39,setSize:4,getPieceFromSquare:40,setComputerArrows:41,removeComputerArrows:42,updateLegalState:43,setMovableColor:44,setConfigSettings:45,getState:46,setState:47,getConfigFromState:48},null,[-1,-1,-1])}get clearAllSquares(){return this.$$.ctx[20]}get highlightSquare(){return this.$$.ctx[1]}get selectPiece(){return this.$$.ctx[2]}get deselect(){return this.$$.ctx[3]}get flipBoard(){return this.$$.ctx[21]}get highlightManySquares(){return this.$$.ctx[22]}get highlightMove(){return this.$$.ctx[23]}get highlightMoves(){return this.$$.ctx[24]}get highlightLegalMove(){return this.$$.ctx[25]}get highlightLegalMoves(){return this.$$.ctx[26]}get movePiece(){return this.$$.ctx[27]}get removePiece(){return this.$$.ctx[28]}get playMoveSound(){return this.$$.ctx[29]}get makeMove(){return this.$$.ctx[30]}get makeNextMove(){return this.$$.ctx[31]}get makeMovePromotion(){return this.$$.ctx[32]}get removeSquareHighlight(){return this.$$.ctx[33]}get removeAllPiece(){return this.$$.ctx[34]}get createPiece(){return this.$$.ctx[35]}get changeColorOfPiece(){return this.$$.ctx[36]}get getSquareFromCoords(){return this.$$.ctx[37]}get setFEN(){return this.$$.ctx[38]}get getShortFEN(){return this.$$.ctx[39]}get setSize(){return this.$$.ctx[4]}get getPieceFromSquare(){return this.$$.ctx[40]}get setComputerArrows(){return this.$$.ctx[41]}get removeComputerArrows(){return this.$$.ctx[42]}get updateLegalState(){return this.$$.ctx[43]}get setMovableColor(){return this.$$.ctx[44]}get setConfigSettings(){return this.$$.ctx[45]}get getState(){return this.$$.ctx[46]}get setState(){return this.$$.ctx[47]}get getConfigFromState(){return this.$$.ctx[48]}}const Us=["standard","darkBlue"],Hs=["backIn","backInOut","backOut","bounceIn","bounceInOut","bounceOut","circIn","circInOut","circOut","cubicIn","cubicInOut","cubicOut","elasticIn","elasticInOut","elasticOut","expoIn","expoInOut","expoOut","linear","quadIn","quadInOut","quadOut","quartIn","quartInOut","quartOut","quintIn","quintInOut","quintOut","sineIn","sineInOut","sineOut"];function zs(s){let e,t,a;return{c(){e=O("input"),this.h()},l(i){e=F(i,"INPUT",{type:!0,class:!0}),this.h()},h(){g(e,"type","checkbox"),g(e,"class","mr-1")},m(i,n){H(i,e,n),e.checked=s[0],t||(a=[$(e,"click",ln(s[6])),$(e,"change",s[7])],t=!0)},p(i,n){n&1&&(e.checked=i[0])},d(i){i&&m(e),t=!1,at(a)}}}function Ws(s){let e,t,a;return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(i){e=Ce(i,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=q(e);t=Ce(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),q(t).forEach(m),n.forEach(m),this.h()},h(){g(t,"fill-rule","evenodd"),g(t,"d","M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"),g(t,"clip-rule","evenodd"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 20 20"),g(e,"fill","currentColor"),g(e,"class",a="w-5 h-5 transition "+(s[1]?"rotate-180":"rotate-0"))},m(i,n){H(i,e,n),S(e,t)},p(i,n){n&2&&a!==(a="w-5 h-5 transition "+(i[1]?"rotate-180":"rotate-0"))&&g(e,"class",a)},d(i){i&&m(e)}}}function js(s){let e,t,a;const i=s[5].default,n=en(i,s,s[4],null);return{c(){e=O("div"),n&&n.c(),this.h()},l(l){e=F(l,"DIV",{class:!0});var r=q(e);n&&n.l(r),r.forEach(m),this.h()},h(){g(e,"class","py-2 px-4")},m(l,r){H(l,e,r),n&&n.m(e,null),a=!0},p(l,r){n&&n.p&&(!a||r&16)&&tn(n,i,l,l[4],a?nn(i,l[4],r,null):sn(l[4]),null)},i(l){a||(z(n,l),l&&rt(()=>{t||(t=Lt(e,Ft,{},!0)),t.run(1)}),a=!0)},o(l){G(n,l),l&&(t||(t=Lt(e,Ft,{},!1)),t.run(0)),a=!1},d(l){l&&m(e),n&&n.d(l),l&&t&&t.end()}}}function Wi(s){let e,t,a,i,n,l,r,o,u,f,h,b,E,C,y=s[0]!==void 0&&zs(s),M=s[3]&&Ws(s),_=s[1]&&js(s);return{c(){e=O("div"),t=O("button"),a=O("div"),y&&y.c(),i=j(),n=O("span"),l=he(s[2]),o=j(),M&&M.c(),h=j(),_&&_.c(),this.h()},l(d){e=F(d,"DIV",{class:!0});var c=q(e);t=F(c,"BUTTON",{class:!0});var w=q(t);a=F(w,"DIV",{class:!0});var v=q(a);y&&y.l(v),i=K(v),n=F(v,"SPAN",{class:!0});var k=q(n);l=ge(k,s[2]),k.forEach(m),v.forEach(m),o=K(w),M&&M.l(w),w.forEach(m),h=K(c),_&&_.l(c),c.forEach(m),this.h()},h(){g(n,"class",r=s[0]===void 0?"ml-[21px]":""),g(a,"class","flex gap-1"),g(t,"class",u="flex justify-between px-4 py-2 "+(s[3]?"transition hover:bg-slate-800/40":"")+" rounded"),t.disabled=f=!s[3],g(e,"class","bg-slate-900/20 rounded shadow-lg flex flex-col")},m(d,c){H(d,e,c),S(e,t),S(t,a),y&&y.m(a,null),S(a,i),S(a,n),S(n,l),S(t,o),M&&M.m(t,null),S(e,h),_&&_.m(e,null),b=!0,E||(C=$(t,"click",s[8]),E=!0)},p(d,[c]){d[0]!==void 0?y?y.p(d,c):(y=zs(d),y.c(),y.m(a,i)):y&&(y.d(1),y=null),(!b||c&4)&&It(l,d[2]),(!b||c&1&&r!==(r=d[0]===void 0?"ml-[21px]":""))&&g(n,"class",r),d[3]?M?M.p(d,c):(M=Ws(d),M.c(),M.m(t,null)):M&&(M.d(1),M=null),(!b||c&8&&u!==(u="flex justify-between px-4 py-2 "+(d[3]?"transition hover:bg-slate-800/40":"")+" rounded"))&&g(t,"class",u),(!b||c&8&&f!==(f=!d[3]))&&(t.disabled=f),d[1]?_?(_.p(d,c),c&2&&z(_,1)):(_=js(d),_.c(),z(_,1),_.m(e,null)):_&&(qe(),G(_,1,1,()=>{_=null}),Re())},i(d){b||(z(_),b=!0)},o(d){G(_),b=!1},d(d){d&&m(e),y&&y.d(),M&&M.d(),_&&_.d(),E=!1,C()}}}function ji(s,e,t){let{$$slots:a={},$$scope:i}=e,{name:n="board"}=e,{enabled:l=void 0}=e,{showExpand:r=!0}=e,{expanded:o=!1}=e;function u(b){Qe.call(this,s,b)}function f(){l=this.checked,t(0,l)}const h=()=>{t(1,o=!o)};return s.$$set=b=>{"name"in b&&t(2,n=b.name),"enabled"in b&&t(0,l=b.enabled),"showExpand"in b&&t(3,r=b.showExpand),"expanded"in b&&t(1,o=b.expanded),"$$scope"in b&&t(4,i=b.$$scope)},[l,o,n,r,i,a,u,f,h]}class Ze extends _e{constructor(e){super(),Ee(this,e,ji,Wi,we,{name:2,enabled:0,showExpand:3,expanded:1})}}function Ks(s,e,t){const a=s.slice();return a[10]=e[t],a}function Gs(s){let e,t=s[10]+"",a;return{c(){e=O("option"),a=he(t),this.h()},l(i){e=F(i,"OPTION",{});var n=q(e);a=ge(n,t),n.forEach(m),this.h()},h(){e.__value=s[10],e.value=e.__value},m(i,n){H(i,e,n),S(e,a)},p:be,d(i){i&&m(e)}}}function Ki(s){let e,t,a,i,n,l,r,o,u,f,h,b,E,C,y,M,_,d,c,w,v,k,T,D,I,L=Us,R=[];for(let V=0;V<L.length;V+=1)R[V]=Gs(Ks(s,L,V));return{c(){e=O("div"),t=O("select");for(let V=0;V<R.length;V+=1)R[V].c();a=j(),i=O("label"),n=he("board theme"),l=j(),r=O("div"),o=O("input"),u=j(),f=O("label"),h=he("notation"),b=j(),E=O("div"),C=O("input"),y=j(),M=O("label"),_=he("flipped"),d=j(),c=O("div"),w=O("input"),v=j(),k=O("label"),T=he("shadow"),this.h()},l(V){e=F(V,"DIV",{});var Y=q(e);t=F(Y,"SELECT",{class:!0});var X=q(t);for(let ae=0;ae<R.length;ae+=1)R[ae].l(X);X.forEach(m),a=K(Y),i=F(Y,"LABEL",{for:!0,class:!0});var N=q(i);n=ge(N,"board theme"),N.forEach(m),Y.forEach(m),l=K(V),r=F(V,"DIV",{});var fe=q(r);o=F(fe,"INPUT",{id:!0,type:!0,class:!0}),u=K(fe),f=F(fe,"LABEL",{for:!0,class:!0});var W=q(f);h=ge(W,"notation"),W.forEach(m),fe.forEach(m),b=K(V),E=F(V,"DIV",{});var A=q(E);C=F(A,"INPUT",{id:!0,type:!0,class:!0}),y=K(A),M=F(A,"LABEL",{for:!0,class:!0});var Z=q(M);_=ge(Z,"flipped"),Z.forEach(m),A.forEach(m),d=K(V),c=F(V,"DIV",{});var te=q(c);w=F(te,"INPUT",{id:!0,type:!0,class:!0}),v=K(te),k=F(te,"LABEL",{for:!0,class:!0});var me=q(k);T=ge(me,"shadow"),me.forEach(m),te.forEach(m),this.h()},h(){g(t,"class","svelte-1q80l21"),s[0]===void 0&&rt(()=>s[6].call(t)),g(i,"for","boardTheme"),g(i,"class","select-none"),g(o,"id","notation"),g(o,"type","checkbox"),g(o,"class","svelte-1q80l21"),g(f,"for","notation"),g(f,"class","select-none"),g(C,"id","flipped"),g(C,"type","checkbox"),g(C,"class","svelte-1q80l21"),g(M,"for","flipped"),g(M,"class","select-none"),g(w,"id","shadow"),g(w,"type","checkbox"),g(w,"class","svelte-1q80l21"),g(k,"for","shadow"),g(k,"class","select-none")},m(V,Y){H(V,e,Y),S(e,t);for(let X=0;X<R.length;X+=1)R[X].m(t,null);ht(t,s[0]),S(e,a),S(e,i),S(i,n),H(V,l,Y),H(V,r,Y),S(r,o),o.checked=s[1],S(r,u),S(r,f),S(f,h),H(V,b,Y),H(V,E,Y),S(E,C),C.checked=s[2],S(E,y),S(E,M),S(M,_),H(V,d,Y),H(V,c,Y),S(c,w),w.checked=s[3],S(c,v),S(c,k),S(k,T),D||(I=[$(t,"change",s[6]),$(o,"change",s[7]),$(C,"change",s[8]),$(w,"change",s[9])],D=!0)},p(V,Y){if(Y&0){L=Us;let X;for(X=0;X<L.length;X+=1){const N=Ks(V,L,X);R[X]?R[X].p(N,Y):(R[X]=Gs(N),R[X].c(),R[X].m(t,null))}for(;X<R.length;X+=1)R[X].d(1);R.length=L.length}Y&1&&ht(t,V[0]),Y&2&&(o.checked=V[1]),Y&4&&(C.checked=V[2]),Y&8&&(w.checked=V[3])},d(V){V&&m(e),nt(R,V),V&&m(l),V&&m(r),V&&m(b),V&&m(E),V&&m(d),V&&m(c),D=!1,at(I)}}}function Gi(s){let e,t;return e=new Ze({props:{name:s[4],expanded:s[5],$$slots:{default:[Ki]},$$scope:{ctx:s}}}),{c(){ie(e.$$.fragment)},l(a){le(e.$$.fragment,a)},m(a,i){re(e,a,i),t=!0},p(a,[i]){const n={};i&16&&(n.name=a[4]),i&32&&(n.expanded=a[5]),i&8207&&(n.$$scope={dirty:i,ctx:a}),e.$set(n)},i(a){t||(z(e.$$.fragment,a),t=!0)},o(a){G(e.$$.fragment,a),t=!1},d(a){oe(e,a)}}}function Xi(s,e,t){let{name:a="Board"}=e,{boardTheme:i}=e,{notation:n}=e,{flipped:l}=e,{shadow:r}=e,{expanded:o=!1}=e;function u(){i=Jt(this),t(0,i)}function f(){n=this.checked,t(1,n)}function h(){l=this.checked,t(2,l)}function b(){r=this.checked,t(3,r)}return s.$$set=E=>{"name"in E&&t(4,a=E.name),"boardTheme"in E&&t(0,i=E.boardTheme),"notation"in E&&t(1,n=E.notation),"flipped"in E&&t(2,l=E.flipped),"shadow"in E&&t(3,r=E.shadow),"expanded"in E&&t(5,o=E.expanded)},[i,n,l,r,a,o,u,f,h,b]}class Yi extends _e{constructor(e){super(),Ee(this,e,Xi,Gi,we,{name:4,boardTheme:0,notation:1,flipped:2,shadow:3,expanded:5})}}function Qi(s){let e,t,a,i,n,l,r,o,u,f;return{c(){e=O("div"),t=O("select"),a=O("option"),i=he("Both"),n=O("option"),l=he("White"),r=O("option"),o=he("Black"),this.h()},l(h){e=F(h,"DIV",{});var b=q(e);t=F(b,"SELECT",{class:!0});var E=q(t);a=F(E,"OPTION",{});var C=q(a);i=ge(C,"Both"),C.forEach(m),n=F(E,"OPTION",{});var y=q(n);l=ge(y,"White"),y.forEach(m),r=F(E,"OPTION",{});var M=q(r);o=ge(M,"Black"),M.forEach(m),E.forEach(m),b.forEach(m),this.h()},h(){a.__value=J.BOTH,a.value=a.__value,n.__value=J.WHITE,n.value=n.__value,r.__value=J.BLACK,r.value=r.__value,g(t,"class","svelte-1jggghe"),s[1]===void 0&&rt(()=>s[4].call(t))},m(h,b){H(h,e,b),S(e,t),S(t,a),S(a,i),S(t,n),S(n,l),S(t,r),S(r,o),ht(t,s[1]),u||(f=$(t,"change",s[4]),u=!0)},p(h,b){b&2&&ht(t,h[1])},d(h){h&&m(e),u=!1,f()}}}function Zi(s){let e,t,a;function i(l){s[5](l)}let n={name:s[2],expanded:s[3],$$slots:{default:[Qi]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new Ze({props:n}),Q.push(()=>se(e,"enabled",i)),{c(){ie(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),a=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&8&&(o.expanded=l[3]),r&66&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ne(()=>t=!1)),e.$set(o)},i(l){a||(z(e.$$.fragment,l),a=!0)},o(l){G(e.$$.fragment,l),a=!1},d(l){oe(e,l)}}}function Ji(s,e,t){let{name:a="Movable"}=e,{enabled:i=!1}=e,{color:n}=e,{expanded:l=!1}=e;function r(){n=Jt(this),t(1,n)}function o(u){i=u,t(0,i)}return s.$$set=u=>{"name"in u&&t(2,a=u.name),"enabled"in u&&t(0,i=u.enabled),"color"in u&&t(1,n=u.color),"expanded"in u&&t(3,l=u.expanded)},[i,n,a,l,r,o]}class xi extends _e{constructor(e){super(),Ee(this,e,Ji,Zi,we,{name:2,enabled:0,color:1,expanded:3})}}function Xs(s,e,t){const a=s.slice();return a[12]=e[t],a}function Ys(s){let e,t,a,i,n,l,r,o,u,f,h,b,E,C,y,M,_=Hs,d=[];for(let c=0;c<_.length;c+=1)d[c]=Qs(Xs(s,_,c));return{c(){e=O("div"),t=O("div"),a=O("input"),i=j(),n=O("label"),l=he("duration"),r=j(),o=O("div"),u=O("select");for(let c=0;c<d.length;c+=1)d[c].c();f=j(),h=O("label"),b=he("easing"),this.h()},l(c){e=F(c,"DIV",{class:!0});var w=q(e);t=F(w,"DIV",{class:!0});var v=q(t);a=F(v,"INPUT",{id:!0,type:!0,class:!0}),i=K(v),n=F(v,"LABEL",{for:!0,class:!0});var k=q(n);l=ge(k,"duration"),k.forEach(m),v.forEach(m),r=K(w),o=F(w,"DIV",{class:!0});var T=q(o);u=F(T,"SELECT",{id:!0,class:!0});var D=q(u);for(let L=0;L<d.length;L+=1)d[L].l(D);D.forEach(m),f=K(T),h=F(T,"LABEL",{for:!0,class:!0});var I=q(h);b=ge(I,"easing"),I.forEach(m),T.forEach(m),w.forEach(m),this.h()},h(){g(a,"id","transitionDuration"),g(a,"type","number"),g(a,"class","w-16 svelte-ytgb67"),g(n,"for","transitionDuration"),g(n,"class","select-none"),g(t,"class","flex gap-2 mb-2"),g(u,"id","easingFuncs"),g(u,"class","svelte-ytgb67"),s[4]===void 0&&rt(()=>s[10].call(u)),g(h,"for","easingFuncs"),g(h,"class","select-none"),g(o,"class","flex gap-2"),g(e,"class","pl-2 pr-4 flex-col")},m(c,w){H(c,e,w),S(e,t),S(t,a),as(a,s[3]),S(t,i),S(t,n),S(n,l),S(e,r),S(e,o),S(o,u);for(let v=0;v<d.length;v+=1)d[v].m(u,null);ht(u,s[4]),S(o,f),S(o,h),S(h,b),C=!0,y||(M=[$(a,"input",s[9]),$(u,"change",s[10])],y=!0)},p(c,w){if(w&8&&un(a.value)!==c[3]&&as(a,c[3]),w&0){_=Hs;let v;for(v=0;v<_.length;v+=1){const k=Xs(c,_,v);d[v]?d[v].p(k,w):(d[v]=Qs(k),d[v].c(),d[v].m(u,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=_.length}w&16&&ht(u,c[4])},i(c){C||(c&&rt(()=>{E||(E=Lt(e,Ft,{},!0)),E.run(1)}),C=!0)},o(c){c&&(E||(E=Lt(e,Ft,{},!1)),E.run(0)),C=!1},d(c){c&&m(e),nt(d,c),c&&E&&E.end(),y=!1,at(M)}}}function Qs(s){let e,t=s[12]+"",a;return{c(){e=O("option"),a=he(t),this.h()},l(i){e=F(i,"OPTION",{});var n=q(e);a=ge(n,t),n.forEach(m),this.h()},h(){e.__value=s[12],e.value=e.__value},m(i,n){H(i,e,n),S(e,a)},p:be,d(i){i&&m(e)}}}function $i(s){let e,t,a,i,n,l,r,o,u,f,h,b,E,C,y,M=s[2]&&Ys(s);return{c(){e=O("div"),t=O("input"),a=j(),i=O("label"),n=he("ghost piece"),l=j(),r=O("div"),o=O("input"),u=j(),f=O("label"),h=he("transition"),b=j(),M&&M.c(),E=pe(),this.h()},l(_){e=F(_,"DIV",{});var d=q(e);t=F(d,"INPUT",{id:!0,type:!0,class:!0}),a=K(d),i=F(d,"LABEL",{for:!0,class:!0});var c=q(i);n=ge(c,"ghost piece"),c.forEach(m),d.forEach(m),l=K(_),r=F(_,"DIV",{class:!0});var w=q(r);o=F(w,"INPUT",{id:!0,type:!0,class:!0}),u=K(w),f=F(w,"LABEL",{for:!0,class:!0});var v=q(f);h=ge(v,"transition"),v.forEach(m),w.forEach(m),b=K(_),M&&M.l(_),E=pe(),this.h()},h(){g(t,"id","ghostPiece"),g(t,"type","checkbox"),g(t,"class","svelte-ytgb67"),g(i,"for","ghostPiece"),g(i,"class","select-none"),g(o,"id","draggableEnabled"),g(o,"type","checkbox"),g(o,"class","svelte-ytgb67"),g(f,"for","draggableEnabled"),g(f,"class","select-none"),g(r,"class","mb-2")},m(_,d){H(_,e,d),S(e,t),t.checked=s[1],S(e,a),S(e,i),S(i,n),H(_,l,d),H(_,r,d),S(r,o),o.checked=s[2],S(r,u),S(r,f),S(f,h),H(_,b,d),M&&M.m(_,d),H(_,E,d),C||(y=[$(t,"change",s[7]),$(o,"change",s[8])],C=!0)},p(_,d){d&2&&(t.checked=_[1]),d&4&&(o.checked=_[2]),_[2]?M?(M.p(_,d),d&4&&z(M,1)):(M=Ys(_),M.c(),z(M,1),M.m(E.parentNode,E)):M&&(qe(),G(M,1,1,()=>{M=null}),Re())},d(_){_&&m(e),_&&m(l),_&&m(r),_&&m(b),M&&M.d(_),_&&m(E),C=!1,at(y)}}}function el(s){let e,t,a;function i(l){s[11](l)}let n={name:s[5],expanded:s[6],$$slots:{default:[$i]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new Ze({props:n}),Q.push(()=>se(e,"enabled",i)),{c(){ie(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),a=!0},p(l,[r]){const o={};r&32&&(o.name=l[5]),r&64&&(o.expanded=l[6]),r&32798&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ne(()=>t=!1)),e.$set(o)},i(l){a||(z(e.$$.fragment,l),a=!0)},o(l){G(e.$$.fragment,l),a=!1},d(l){oe(e,l)}}}function tl(s,e,t){let{name:a="Draggable"}=e,{enabled:i=!1}=e,{ghostPiece:n=!1}=e,{transition:l=!1}=e,{duration:r=120}=e,{easing:o="easeInOut"}=e,{expanded:u=!1}=e;function f(){n=this.checked,t(1,n)}function h(){l=this.checked,t(2,l)}function b(){r=un(this.value),t(3,r)}function E(){o=Jt(this),t(4,o)}function C(y){i=y,t(0,i)}return s.$$set=y=>{"name"in y&&t(5,a=y.name),"enabled"in y&&t(0,i=y.enabled),"ghostPiece"in y&&t(1,n=y.ghostPiece),"transition"in y&&t(2,l=y.transition),"duration"in y&&t(3,r=y.duration),"easing"in y&&t(4,o=y.easing),"expanded"in y&&t(6,u=y.expanded)},[i,n,l,r,o,a,u,f,h,b,E,C]}class sl extends _e{constructor(e){super(),Ee(this,e,tl,el,we,{name:5,enabled:0,ghostPiece:1,transition:2,duration:3,easing:4,expanded:6})}}function Zs(s,e,t){const a=s.slice();return a[7]=e[t],a[8]=e,a[9]=t,a}function Js(s){let e,t,a,i,n=s[7]+"",l,r,o,u;function f(){s[5].call(t,s[7])}return{c(){e=O("div"),t=O("input"),a=j(),i=O("label"),l=he(n),r=j(),this.h()},l(h){e=F(h,"DIV",{});var b=q(e);t=F(b,"INPUT",{id:!0,type:!0,class:!0}),a=K(b),i=F(b,"LABEL",{for:!0,class:!0});var E=q(i);l=ge(E,n),E.forEach(m),r=K(b),b.forEach(m),this.h()},h(){g(t,"id",s[7]+"Enabled"),g(t,"type","checkbox"),g(t,"class","svelte-f0od3c"),g(i,"for",s[7]+"Enabled"),g(i,"class","select-none")},m(h,b){H(h,e,b),S(e,t),t.checked=s[1][s[7]],S(e,a),S(e,i),S(i,l),S(e,r),o||(u=$(t,"change",f),o=!0)},p(h,b){s=h,b&18&&(t.checked=s[1][s[7]])},d(h){h&&m(e),o=!1,u()}}}function nl(s){let e,t=s[4],a=[];for(let i=0;i<t.length;i+=1)a[i]=Js(Zs(s,t,i));return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=pe()},l(i){for(let n=0;n<a.length;n+=1)a[n].l(i);e=pe()},m(i,n){for(let l=0;l<a.length;l+=1)a[l].m(i,n);H(i,e,n)},p(i,n){if(n&18){t=i[4];let l;for(l=0;l<t.length;l+=1){const r=Zs(i,t,l);a[l]?a[l].p(r,n):(a[l]=Js(r),a[l].c(),a[l].m(e.parentNode,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=t.length}},d(i){nt(a,i),i&&m(e)}}}function al(s){let e,t,a;function i(l){s[6](l)}let n={name:s[2],expanded:s[3],$$slots:{default:[nl]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new Ze({props:n}),Q.push(()=>se(e,"enabled",i)),{c(){ie(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),a=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&8&&(o.expanded=l[3]),r&1026&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ne(()=>t=!1)),e.$set(o)},i(l){a||(z(e.$$.fragment,l),a=!0)},o(l){G(e.$$.fragment,l),a=!1},d(l){oe(e,l)}}}function il(s,e,t){let{name:a="Highlight"}=e,{enabled:i=!1}=e,{settings:n}=e;const l=["select","legal","move","preMove","nextMove","check"];let{expanded:r=!1}=e;function o(f){n[f]=this.checked,t(1,n)}function u(f){i=f,t(0,i)}return s.$$set=f=>{"name"in f&&t(2,a=f.name),"enabled"in f&&t(0,i=f.enabled),"settings"in f&&t(1,n=f.settings),"expanded"in f&&t(3,r=f.expanded)},[i,n,a,r,l,o,u]}class ll extends _e{constructor(e){super(),Ee(this,e,il,al,we,{name:2,enabled:0,settings:1,expanded:3})}}function rl(s){let e,t,a,i,n,l,r,o,u,f,h,b,E;return{c(){e=O("div"),t=O("input"),a=j(),i=O("label"),n=he("L shape knight move"),l=j(),r=O("div"),o=O("input"),u=j(),f=O("label"),h=he("only chess move"),this.h()},l(C){e=F(C,"DIV",{});var y=q(e);t=F(y,"INPUT",{id:!0,type:!0,class:!0}),a=K(y),i=F(y,"LABEL",{for:!0,class:!0});var M=q(i);n=ge(M,"L shape knight move"),M.forEach(m),y.forEach(m),l=K(C),r=F(C,"DIV",{});var _=q(r);o=F(_,"INPUT",{id:!0,type:!0,class:!0}),u=K(_),f=F(_,"LABEL",{for:!0,class:!0});var d=q(f);h=ge(d,"only chess move"),d.forEach(m),_.forEach(m),this.h()},h(){g(t,"id","knightLShapeMoveEnabled"),g(t,"type","checkbox"),g(t,"class","svelte-f0od3c"),g(i,"for","knightLShapeMoveEnabled"),g(i,"class","select-none"),g(o,"id","onlyChessMoveEnabled"),g(o,"type","checkbox"),g(o,"class","svelte-f0od3c"),g(f,"for","onlyChessMoveEnabled"),g(f,"class","select-none")},m(C,y){H(C,e,y),S(e,t),t.checked=s[1],S(e,a),S(e,i),S(i,n),H(C,l,y),H(C,r,y),S(r,o),o.checked=s[2],S(r,u),S(r,f),S(f,h),b||(E=[$(t,"change",s[5]),$(o,"change",s[6])],b=!0)},p(C,y){y&2&&(t.checked=C[1]),y&4&&(o.checked=C[2])},d(C){C&&m(e),C&&m(l),C&&m(r),b=!1,at(E)}}}function ol(s){let e,t,a;function i(l){s[7](l)}let n={name:s[3],expanded:s[4],$$slots:{default:[rl]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new Ze({props:n}),Q.push(()=>se(e,"enabled",i)),{c(){ie(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),a=!0},p(l,[r]){const o={};r&8&&(o.name=l[3]),r&16&&(o.expanded=l[4]),r&262&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ne(()=>t=!1)),e.$set(o)},i(l){a||(z(e.$$.fragment,l),a=!0)},o(l){G(e.$$.fragment,l),a=!1},d(l){oe(e,l)}}}function ul(s,e,t){let{name:a="DrawTools"}=e,{enabled:i=!1}=e,{knightLShape:n=!1}=e,{onlyChessMove:l=!1}=e,{expanded:r=!1}=e;function o(){n=this.checked,t(1,n)}function u(){l=this.checked,t(2,l)}function f(h){i=h,t(0,i)}return s.$$set=h=>{"name"in h&&t(3,a=h.name),"enabled"in h&&t(0,i=h.enabled),"knightLShape"in h&&t(1,n=h.knightLShape),"onlyChessMove"in h&&t(2,l=h.onlyChessMove),"expanded"in h&&t(4,r=h.expanded)},[i,n,l,a,r,o,u,f]}class dl extends _e{constructor(e){super(),Ee(this,e,ul,ol,we,{name:3,enabled:0,knightLShape:1,onlyChessMove:2,expanded:4})}}function xs(s,e,t){const a=s.slice();return a[7]=e[t],a[8]=e,a[9]=t,a}function $s(s){let e,t,a,i,n=s[7]+"",l,r,o,u;function f(){s[5].call(t,s[7])}return{c(){e=O("div"),t=O("input"),a=j(),i=O("label"),l=he(n),r=j(),this.h()},l(h){e=F(h,"DIV",{});var b=q(e);t=F(b,"INPUT",{id:!0,type:!0,class:!0}),a=K(b),i=F(b,"LABEL",{for:!0,class:!0});var E=q(i);l=ge(E,n),E.forEach(m),r=K(b),b.forEach(m),this.h()},h(){g(t,"id",s[7]+"Enabled"),g(t,"type","checkbox"),g(t,"class","svelte-1mhxfw5"),g(i,"for",s[7]+"Enabled"),g(i,"class","select-none")},m(h,b){H(h,e,b),S(e,t),t.checked=s[1][s[7]],S(e,a),S(e,i),S(i,l),S(e,r),o||(u=$(t,"change",f),o=!0)},p(h,b){s=h,b&18&&(t.checked=s[1][s[7]])},d(h){h&&m(e),o=!1,u()}}}function fl(s){let e,t=s[4],a=[];for(let i=0;i<t.length;i+=1)a[i]=$s(xs(s,t,i));return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=pe()},l(i){for(let n=0;n<a.length;n+=1)a[n].l(i);e=pe()},m(i,n){for(let l=0;l<a.length;l+=1)a[l].m(i,n);H(i,e,n)},p(i,n){if(n&18){t=i[4];let l;for(l=0;l<t.length;l+=1){const r=xs(i,t,l);a[l]?a[l].p(r,n):(a[l]=$s(r),a[l].c(),a[l].m(e.parentNode,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=t.length}},d(i){nt(a,i),i&&m(e)}}}function cl(s){let e,t,a;function i(l){s[6](l)}let n={name:s[2],expanded:s[3],$$slots:{default:[fl]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new Ze({props:n}),Q.push(()=>se(e,"enabled",i)),{c(){ie(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),a=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&8&&(o.expanded=l[3]),r&1026&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ne(()=>t=!1)),e.$set(o)},i(l){a||(z(e.$$.fragment,l),a=!0)},o(l){G(e.$$.fragment,l),a=!1},d(l){oe(e,l)}}}function hl(s,e,t){let{name:a="Sounds"}=e,{enabled:i=!1}=e,{settings:n}=e;const l=["MOVE","CAPTURE","CASTLE","UNDO"];let{expanded:r=!1}=e;function o(f){n[f]=this.checked,t(1,n)}function u(f){i=f,t(0,i)}return s.$$set=f=>{"name"in f&&t(2,a=f.name),"enabled"in f&&t(0,i=f.enabled),"settings"in f&&t(1,n=f.settings),"expanded"in f&&t(3,r=f.expanded)},[i,n,a,r,l,o,u]}class gl extends _e{constructor(e){super(),Ee(this,e,hl,cl,we,{name:2,enabled:0,settings:1,expanded:3})}}function bl(s){let e,t;return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(a){e=Ce(a,"svg",{style:!0,xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var i=q(e);t=Ce(i,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),q(t).forEach(m),i.forEach(m),this.h()},h(){g(t,"stroke-linecap","round"),g(t,"stroke-linejoin","round"),g(t,"stroke-width","2"),g(t,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),de(e,"transform","translate(1px, 0px)"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"class","h-5"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24"),g(e,"aria-hidden","true"),g(e,"stroke","currentColor")},m(a,i){H(a,e,i),S(e,t)},d(a){a&&m(e)}}}function pl(s){let e,t;return{c(){e=Ae("svg"),t=Ae("path"),this.h()},l(a){e=Ce(a,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var i=q(e);t=Ce(i,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),q(t).forEach(m),i.forEach(m),this.h()},h(){g(t,"stroke-linecap","round"),g(t,"stroke-linejoin","round"),g(t,"stroke-width","2"),g(t,"d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"class","h-5 text-green-500"),g(e,"fill","none"),g(e,"viewBox","0 0 24 24"),g(e,"aria-hidden","true"),g(e,"stroke","currentColor")},m(a,i){H(a,e,i),S(e,t)},d(a){a&&m(e)}}}function ml(s){let e,t,a;function i(r,o){return r[1]?pl:bl}let n=i(s),l=n(s);return{c(){e=O("button"),l.c(),this.h()},l(r){e=F(r,"BUTTON",{type:!0,class:!0});var o=q(e);l.l(o),o.forEach(m),this.h()},h(){g(e,"type","button"),g(e,"class","box-border rounded-sm bg-slate-800 bg-opacity-40 text-gray-500 transition hover:text-gray-300 focus:z-10 focus:ring-1 focus:ring-blue-600 p-1")},m(r,o){H(r,e,o),l.m(e,null),s[4](e),t||(a=$(e,"click",s[2]),t=!0)},p(r,[o]){n!==(n=i(r))&&(l.d(1),l=n(r),l&&(l.c(),l.m(e,null)))},i:be,o:be,d(r){r&&m(e),l.d(),s[4](null),t=!1,a()}}}function vl(s,e,t){let{copyText:a}=e,i,n=!1;function l(){navigator.clipboard.writeText(a),t(1,n=!0),setTimeout(()=>{t(1,n=!1)},2e3),i.setAttribute("data-cooltipz-dir","top"),i.setAttribute("aria-label","Copied!"),setTimeout(()=>{i.removeAttribute("aria-label"),i.removeAttribute("data-cooltipz-dir")},2e3)}function r(o){Q[o?"unshift":"push"](()=>{i=o,t(0,i)})}return s.$$set=o=>{"copyText"in o&&t(3,a=o.copyText)},[i,n,l,a,r]}class _l extends _e{constructor(e){super(),Ee(this,e,vl,ml,we,{copyText:3})}}function El(s){let e,t,a,i,n,l,r;return{c(){e=O("div"),t=O("input"),a=j(),i=O("label"),n=he("preMoves"),this.h()},l(o){e=F(o,"DIV",{});var u=q(e);t=F(u,"INPUT",{id:!0,type:!0,class:!0}),a=K(u),i=F(u,"LABEL",{for:!0,class:!0});var f=q(i);n=ge(f,"preMoves"),f.forEach(m),u.forEach(m),this.h()},h(){g(t,"id","preMovesEnabled"),g(t,"type","checkbox"),g(t,"class","svelte-f0od3c"),g(i,"for","preMovesEnabled"),g(i,"class","select-none")},m(o,u){H(o,e,u),S(e,t),t.checked=s[1],S(e,a),S(e,i),S(i,n),l||(r=$(t,"change",s[4]),l=!0)},p(o,u){u&2&&(t.checked=o[1])},d(o){o&&m(e),l=!1,r()}}}function wl(s){let e,t,a;function i(l){s[5](l)}let n={name:s[2],expanded:s[3],$$slots:{default:[El]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),e=new Ze({props:n}),Q.push(()=>se(e,"enabled",i)),{c(){ie(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,r){re(e,l,r),a=!0},p(l,[r]){const o={};r&4&&(o.name=l[2]),r&8&&(o.expanded=l[3]),r&66&&(o.$$scope={dirty:r,ctx:l}),!t&&r&1&&(t=!0,o.enabled=l[0],ne(()=>t=!1)),e.$set(o)},i(l){a||(z(e.$$.fragment,l),a=!0)},o(l){G(e.$$.fragment,l),a=!1},d(l){oe(e,l)}}}function Ml(s,e,t){let{name:a="Legal"}=e,{enabled:i=!1}=e,{preMovesEnabled:n=!1}=e,{expanded:l=!1}=e;function r(){n=this.checked,t(1,n)}function o(u){i=u,t(0,i)}return s.$$set=u=>{"name"in u&&t(2,a=u.name),"enabled"in u&&t(0,i=u.enabled),"preMovesEnabled"in u&&t(1,n=u.preMovesEnabled),"expanded"in u&&t(3,l=u.expanded)},[i,n,a,l,r,o]}class kl extends _e{constructor(e){super(),Ee(this,e,Ml,wl,we,{name:2,enabled:0,preMovesEnabled:1,expanded:3})}}function Sl(s){let e,t,a,i,n,l,r,o,u,f,h,b,E,C,y,M,_,d,c,w,v,k,T,D,I,L,R,V,Y,X,N,fe,W,A,Z,te,me,ae,ue,Se,Le,De,Me,ye,Be,Pe,Te,Oe,We,Je,Ve,Ue,Fe,je,gt,ot,bt,Ke,pt,mt,Ge,vt,ut,_t,He,Et,ze,xe,wt,St;function qt(P){s[5](P)}function Rt(P){s[6](P)}function Nt(P){s[7](P)}function Dt(P){s[8](P)}let p={expanded:!0};s[0].board.boardTheme!==void 0&&(p.boardTheme=s[0].board.boardTheme),s[0].board.notation!==void 0&&(p.notation=s[0].board.notation),s[0].board.flipped!==void 0&&(p.flipped=s[0].board.flipped),s[0].board.shadow!==void 0&&(p.shadow=s[0].board.shadow),l=new Yi({props:p}),Q.push(()=>se(l,"boardTheme",qt)),Q.push(()=>se(l,"notation",Rt)),Q.push(()=>se(l,"flipped",Nt)),Q.push(()=>se(l,"shadow",Dt));function U(P){s[9](P)}function x(P){s[10](P)}let ve={expanded:!0};s[0].movable.enabled!==void 0&&(ve.enabled=s[0].movable.enabled),s[0].movable.color!==void 0&&(ve.color=s[0].movable.color),b=new xi({props:ve}),Q.push(()=>se(b,"enabled",U)),Q.push(()=>se(b,"color",x));function ke(P){s[11](P)}function Ie(P){s[12](P)}function $e(P){s[13](P)}function vn(P){s[14](P)}function _n(P){s[15](P)}let dt={};s[0].draggable.enabled!==void 0&&(dt.enabled=s[0].draggable.enabled),s[0].draggable.ghostPiece.enabled!==void 0&&(dt.ghostPiece=s[0].draggable.ghostPiece.enabled),s[0].draggable.transition.enabled!==void 0&&(dt.transition=s[0].draggable.transition.enabled),s[0].draggable.transition.settings.duration!==void 0&&(dt.duration=s[0].draggable.transition.settings.duration),s[0].draggable.transition.settings.easing!==void 0&&(dt.easing=s[0].draggable.transition.settings.easing),M=new sl({props:dt}),Q.push(()=>se(M,"enabled",ke)),Q.push(()=>se(M,"ghostPiece",Ie)),Q.push(()=>se(M,"transition",$e)),Q.push(()=>se(M,"duration",vn)),Q.push(()=>se(M,"easing",_n));function En(P){s[16](P)}let $t={name:"Selectable",showExpand:!1};s[0].selectable.enabled!==void 0&&($t.enabled=s[0].selectable.enabled),T=new Ze({props:$t}),Q.push(()=>se(T,"enabled",En));function wn(P){s[17](P)}function Mn(P){s[18](P)}let Bt={};s[0].legal.enabled!==void 0&&(Bt.enabled=s[0].legal.enabled),s[0].legal.preMoves.enabled!==void 0&&(Bt.preMovesEnabled=s[0].legal.preMoves.enabled),L=new kl({props:Bt}),Q.push(()=>se(L,"enabled",wn)),Q.push(()=>se(L,"preMovesEnabled",Mn));function kn(P){s[19](P)}function Sn(P){s[20](P)}let Vt={};s[0].highlight.enabled!==void 0&&(Vt.enabled=s[0].highlight.enabled),s[0].highlight.settings!==void 0&&(Vt.settings=s[0].highlight.settings),X=new ll({props:Vt}),Q.push(()=>se(X,"enabled",kn)),Q.push(()=>se(X,"settings",Sn));function yn(P){s[21](P)}function An(P){s[22](P)}function Cn(P){s[23](P)}let yt={};s[0].drawTools.enabled!==void 0&&(yt.enabled=s[0].drawTools.enabled),s[0].drawTools.settings.knightLShape!==void 0&&(yt.knightLShape=s[0].drawTools.settings.knightLShape),s[0].drawTools.settings.onlyChessMove!==void 0&&(yt.onlyChessMove=s[0].drawTools.settings.onlyChessMove),A=new dl({props:yt}),Q.push(()=>se(A,"enabled",yn)),Q.push(()=>se(A,"knightLShape",An)),Q.push(()=>se(A,"onlyChessMove",Cn));function Pn(P){s[24](P)}function Ln(P){s[25](P)}let Ut={};s[0].sounds.enabled!==void 0&&(Ut.enabled=s[0].sounds.enabled),s[0].sounds.settings!==void 0&&(Ut.settings=s[0].sounds.settings),ue=new gl({props:Ut}),Q.push(()=>se(ue,"enabled",Pn)),Q.push(()=>se(ue,"settings",Ln));function Tn(P){s[26](P)}let es={name:"Resizible",showExpand:!1};s[0].resizible.enabled!==void 0&&(es.enabled=s[0].resizible.enabled),Me=new Ze({props:es}),Q.push(()=>se(Me,"enabled",Tn));let On={config:s[4],className:"rounded"};return Oe=new zi({props:On}),s[27](Oe),He=new _l({props:{copyText:s[3]}}),ze=new Qn({props:{source:s[3],language:"svelte"}}),{c(){e=O("link"),t=j(),a=O("div"),i=O("div"),n=O("div"),ie(l.$$.fragment),h=j(),ie(b.$$.fragment),y=j(),ie(M.$$.fragment),k=j(),ie(T.$$.fragment),I=j(),ie(L.$$.fragment),Y=j(),ie(X.$$.fragment),W=j(),ie(A.$$.fragment),ae=j(),ie(ue.$$.fragment),De=j(),ie(Me.$$.fragment),Be=j(),Pe=O("div"),Te=O("div"),ie(Oe.$$.fragment),We=j(),Je=O("div"),Ve=O("div"),Ue=O("div"),Fe=O("button"),je=O("span"),gt=he("ts"),bt=j(),Ke=O("span"),pt=he("/"),mt=j(),Ge=O("span"),vt=he("js"),_t=j(),ie(He.$$.fragment),Et=j(),ie(ze.$$.fragment),this.h()},l(P){const ee=zn('[data-svelte="svelte-tebjht"]',document.head);e=F(ee,"LINK",{rel:!0,href:!0}),ee.forEach(m),t=K(P),a=F(P,"DIV",{class:!0});var et=q(a);i=F(et,"DIV",{class:!0});var tt=q(i);n=F(tt,"DIV",{class:!0});var ce=q(n);le(l.$$.fragment,ce),h=K(ce),le(b.$$.fragment,ce),y=K(ce),le(M.$$.fragment,ce),k=K(ce),le(T.$$.fragment,ce),I=K(ce),le(L.$$.fragment,ce),Y=K(ce),le(X.$$.fragment,ce),W=K(ce),le(A.$$.fragment,ce),ae=K(ce),le(ue.$$.fragment,ce),De=K(ce),le(Me.$$.fragment,ce),ce.forEach(m),Be=K(tt),Pe=F(tt,"DIV",{class:!0});var it=q(Pe);Te=F(it,"DIV",{class:!0});var ft=q(Te);le(Oe.$$.fragment,ft),ft.forEach(m),We=K(it),Je=F(it,"DIV",{class:!0});var ct=q(Je);Ve=F(ct,"DIV",{class:!0});var Xe=q(Ve);Ue=F(Xe,"DIV",{class:!0});var st=q(Ue);Fe=F(st,"BUTTON",{class:!0});var Ye=q(Fe);je=F(Ye,"SPAN",{class:!0});var At=q(je);gt=ge(At,"ts"),At.forEach(m),bt=K(Ye),Ke=F(Ye,"SPAN",{class:!0});var Mt=q(Ke);pt=ge(Mt,"/"),Mt.forEach(m),mt=K(Ye),Ge=F(Ye,"SPAN",{class:!0});var kt=q(Ge);vt=ge(kt,"js"),kt.forEach(m),Ye.forEach(m),_t=K(st),le(He.$$.fragment,st),st.forEach(m),Et=K(Xe),le(ze.$$.fragment,Xe),Xe.forEach(m),ct.forEach(m),it.forEach(m),tt.forEach(m),et.forEach(m),this.h()},h(){document.title="Chessboard \u2022 PowChess.com",g(e,"rel","stylesheet"),g(e,"href","prism-one-dark.css"),g(n,"class","flex flex-col gap-2 mx-auto w-60 text-gray-300 text-sm"),g(Te,"class","w-full lg:w-[var(--boardSize,40rem)]"),g(je,"class",ot=s[1]?"text-yellow-600":""),g(Ke,"class","text-gray-600"),g(Ge,"class",ut=s[1]?"":"text-yellow-600"),g(Fe,"class","text-gray-500 font-mono flex text-[0.8rem] mt-1"),g(Ue,"class","absolute right-2 top-2 flex gap-4"),g(Ve,"class","shadow-lg rounded "),g(Je,"class","row-start-2 relative"),g(Pe,"class","grid grid-rows-[min-content_auto] gap-10"),g(i,"class","lg:col-start-2 gap-10 grid lg:grid-cols-[auto_auto]"),g(a,"class","my-10 grid grid-cols-center")},m(P,ee){S(document.head,e),H(P,t,ee),H(P,a,ee),S(a,i),S(i,n),re(l,n,null),S(n,h),re(b,n,null),S(n,y),re(M,n,null),S(n,k),re(T,n,null),S(n,I),re(L,n,null),S(n,Y),re(X,n,null),S(n,W),re(A,n,null),S(n,ae),re(ue,n,null),S(n,De),re(Me,n,null),S(i,Be),S(i,Pe),S(Pe,Te),re(Oe,Te,null),S(Pe,We),S(Pe,Je),S(Je,Ve),S(Ve,Ue),S(Ue,Fe),S(Fe,je),S(je,gt),S(Fe,bt),S(Fe,Ke),S(Ke,pt),S(Fe,mt),S(Fe,Ge),S(Ge,vt),S(Ue,_t),re(He,Ue,null),S(Ve,Et),re(ze,Ve,null),xe=!0,wt||(St=$(Fe,"click",s[28]),wt=!0)},p(P,[ee]){const et={};!r&&ee&1&&(r=!0,et.boardTheme=P[0].board.boardTheme,ne(()=>r=!1)),!o&&ee&1&&(o=!0,et.notation=P[0].board.notation,ne(()=>o=!1)),!u&&ee&1&&(u=!0,et.flipped=P[0].board.flipped,ne(()=>u=!1)),!f&&ee&1&&(f=!0,et.shadow=P[0].board.shadow,ne(()=>f=!1)),l.$set(et);const tt={};!E&&ee&1&&(E=!0,tt.enabled=P[0].movable.enabled,ne(()=>E=!1)),!C&&ee&1&&(C=!0,tt.color=P[0].movable.color,ne(()=>C=!1)),b.$set(tt);const ce={};!_&&ee&1&&(_=!0,ce.enabled=P[0].draggable.enabled,ne(()=>_=!1)),!d&&ee&1&&(d=!0,ce.ghostPiece=P[0].draggable.ghostPiece.enabled,ne(()=>d=!1)),!c&&ee&1&&(c=!0,ce.transition=P[0].draggable.transition.enabled,ne(()=>c=!1)),!w&&ee&1&&(w=!0,ce.duration=P[0].draggable.transition.settings.duration,ne(()=>w=!1)),!v&&ee&1&&(v=!0,ce.easing=P[0].draggable.transition.settings.easing,ne(()=>v=!1)),M.$set(ce);const it={};!D&&ee&1&&(D=!0,it.enabled=P[0].selectable.enabled,ne(()=>D=!1)),T.$set(it);const ft={};!R&&ee&1&&(R=!0,ft.enabled=P[0].legal.enabled,ne(()=>R=!1)),!V&&ee&1&&(V=!0,ft.preMovesEnabled=P[0].legal.preMoves.enabled,ne(()=>V=!1)),L.$set(ft);const ct={};!N&&ee&1&&(N=!0,ct.enabled=P[0].highlight.enabled,ne(()=>N=!1)),!fe&&ee&1&&(fe=!0,ct.settings=P[0].highlight.settings,ne(()=>fe=!1)),X.$set(ct);const Xe={};!Z&&ee&1&&(Z=!0,Xe.enabled=P[0].drawTools.enabled,ne(()=>Z=!1)),!te&&ee&1&&(te=!0,Xe.knightLShape=P[0].drawTools.settings.knightLShape,ne(()=>te=!1)),!me&&ee&1&&(me=!0,Xe.onlyChessMove=P[0].drawTools.settings.onlyChessMove,ne(()=>me=!1)),A.$set(Xe);const st={};!Se&&ee&1&&(Se=!0,st.enabled=P[0].sounds.enabled,ne(()=>Se=!1)),!Le&&ee&1&&(Le=!0,st.settings=P[0].sounds.settings,ne(()=>Le=!1)),ue.$set(st);const Ye={};!ye&&ee&1&&(ye=!0,Ye.enabled=P[0].resizible.enabled,ne(()=>ye=!1)),Me.$set(Ye);const At={};Oe.$set(At),(!xe||ee&2&&ot!==(ot=P[1]?"text-yellow-600":""))&&g(je,"class",ot),(!xe||ee&2&&ut!==(ut=P[1]?"":"text-yellow-600"))&&g(Ge,"class",ut);const Mt={};ee&8&&(Mt.copyText=P[3]),He.$set(Mt);const kt={};ee&8&&(kt.source=P[3]),ze.$set(kt)},i(P){xe||(z(l.$$.fragment,P),z(b.$$.fragment,P),z(M.$$.fragment,P),z(T.$$.fragment,P),z(L.$$.fragment,P),z(X.$$.fragment,P),z(A.$$.fragment,P),z(ue.$$.fragment,P),z(Me.$$.fragment,P),z(Oe.$$.fragment,P),z(He.$$.fragment,P),z(ze.$$.fragment,P),xe=!0)},o(P){G(l.$$.fragment,P),G(b.$$.fragment,P),G(M.$$.fragment,P),G(T.$$.fragment,P),G(L.$$.fragment,P),G(X.$$.fragment,P),G(A.$$.fragment,P),G(ue.$$.fragment,P),G(Me.$$.fragment,P),G(Oe.$$.fragment,P),G(He.$$.fragment,P),G(ze.$$.fragment,P),xe=!1},d(P){m(e),P&&m(t),P&&m(a),oe(l),oe(b),oe(M),oe(T),oe(L),oe(X),oe(A),oe(ue),oe(Me),s[27](null),oe(Oe),oe(He),oe(ze),wt=!1,St()}}}function yl(s,e,t){const a={movable:J.WHITE,board:{shadow:!0},resizible:!0};let i,n=new hn(a),l=!1,r=!0,o="";Zt(()=>{l=!0,t(0,n=i.getState())});const u=(A,Z)=>{const te=A.getConfig(),me=`
	import type { ChessboardConfig } from '@powchess/chessboard/boardConfig';`;l&&i.setState(A);let ae=[],ue=JSON.stringify(te,(Me,ye)=>typeof ye=="function"?(ae.push(ye.toString()),`{function_${ae.length-1}}`):ye,4).replace(/"([^"]+)":/g,"$1:").replaceAll(`
`,`
	`).replace(/"\{function_(\d+)\}"/g,(Me,ye)=>ae[ye]);const Se=`
	import { Color } from '@powchess/chessboard/enums';`;Z&&(ue=ue.replaceAll("movable: 0","movable: Color.WHITE").replaceAll("movable: 1","movable: Color.BLACK").replaceAll("movable: 2","movable: Color.BOTH"));function Le(){return ue.includes("movable: Color.WHITE")||ue.includes("movable: Color.BLACK")||ue.includes("movable: Color.BOTH")}return`<script${Z?' lang="ts"':""}>
	import Chessboard from '@powchess/chessboard';${Z?me:""}${Le()&&Z?Se:""}

	const config${Z?": ChessboardConfig":""} = ${ue};
<\/script>

<Chessboard {config} />`};function f(A){s.$$.not_equal(n.board.boardTheme,A)&&(n.board.boardTheme=A,t(0,n))}function h(A){s.$$.not_equal(n.board.notation,A)&&(n.board.notation=A,t(0,n))}function b(A){s.$$.not_equal(n.board.flipped,A)&&(n.board.flipped=A,t(0,n))}function E(A){s.$$.not_equal(n.board.shadow,A)&&(n.board.shadow=A,t(0,n))}function C(A){s.$$.not_equal(n.movable.enabled,A)&&(n.movable.enabled=A,t(0,n))}function y(A){s.$$.not_equal(n.movable.color,A)&&(n.movable.color=A,t(0,n))}function M(A){s.$$.not_equal(n.draggable.enabled,A)&&(n.draggable.enabled=A,t(0,n))}function _(A){s.$$.not_equal(n.draggable.ghostPiece.enabled,A)&&(n.draggable.ghostPiece.enabled=A,t(0,n))}function d(A){s.$$.not_equal(n.draggable.transition.enabled,A)&&(n.draggable.transition.enabled=A,t(0,n))}function c(A){s.$$.not_equal(n.draggable.transition.settings.duration,A)&&(n.draggable.transition.settings.duration=A,t(0,n))}function w(A){s.$$.not_equal(n.draggable.transition.settings.easing,A)&&(n.draggable.transition.settings.easing=A,t(0,n))}function v(A){s.$$.not_equal(n.selectable.enabled,A)&&(n.selectable.enabled=A,t(0,n))}function k(A){s.$$.not_equal(n.legal.enabled,A)&&(n.legal.enabled=A,t(0,n))}function T(A){s.$$.not_equal(n.legal.preMoves.enabled,A)&&(n.legal.preMoves.enabled=A,t(0,n))}function D(A){s.$$.not_equal(n.highlight.enabled,A)&&(n.highlight.enabled=A,t(0,n))}function I(A){s.$$.not_equal(n.highlight.settings,A)&&(n.highlight.settings=A,t(0,n))}function L(A){s.$$.not_equal(n.drawTools.enabled,A)&&(n.drawTools.enabled=A,t(0,n))}function R(A){s.$$.not_equal(n.drawTools.settings.knightLShape,A)&&(n.drawTools.settings.knightLShape=A,t(0,n))}function V(A){s.$$.not_equal(n.drawTools.settings.onlyChessMove,A)&&(n.drawTools.settings.onlyChessMove=A,t(0,n))}function Y(A){s.$$.not_equal(n.sounds.enabled,A)&&(n.sounds.enabled=A,t(0,n))}function X(A){s.$$.not_equal(n.sounds.settings,A)&&(n.sounds.settings=A,t(0,n))}function N(A){s.$$.not_equal(n.resizible.enabled,A)&&(n.resizible.enabled=A,t(0,n))}function fe(A){Q[A?"unshift":"push"](()=>{i=A,t(2,i)})}const W=()=>{t(1,r=!r)};return s.$$.update=()=>{s.$$.dirty&3&&t(3,o=u(n,r))},[n,r,i,o,a,f,h,b,E,C,y,M,_,d,c,w,v,k,T,D,I,L,R,V,Y,X,N,fe,W]}class Pl extends _e{constructor(e){super(),Ee(this,e,yl,Sl,we,{})}}export{Pl as default};
