import{S as Ie,i as Oe,s as Fe,B as nn,k as U,a as te,l as H,m as z,h as v,c as se,p as Me,n as g,b as Y,F as S,C as an,D as rn,E as ln,f as $,t as ie,H as Ot,I as ns,J as le,K as Dn,e as Se,L as Un,q as me,r as _e,u as Nt,A as ye,M as lt,N as on,O as Hn,P as Kn,Q as is,R as ct,T as Yt,U as de,V as Zt,W as Xe,X as Jt,G as Wn,Y as Je,Z as Ue,_ as He,o as xt,g as Be,d as De,$ as xe,a0 as Vn,a1 as zn,a2 as be,v as ve,w as Ee,x as we,a3 as pe,y as ke,a4 as un,a5 as jn,a6 as as,a7 as Gn,a8 as fn,z as Qn,a9 as dn,aa as ot,ab as vt,ac as $t,ad as rt,ae as at,af as Xn}from"../../chunks/index-18bffe9d.js";import{w as Yn}from"../../chunks/index-c2b86799.js";typeof window<"u"&&(window.Prism&&console.warn("Prism has already been initiated. Please ensure that svelte-prism is imported first."),window.Prism=window.Prism||{},window.Prism.manual=!0);var rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cn={exports:{}};(function(s){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var e=function(i){var a=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},o={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function c(d){return d instanceof l?new l(d.type,c(d.content),d.alias):Array.isArray(d)?d.map(c):d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(c){return Object.prototype.toString.call(c).slice(8,-1)},objId:function(c){return c.__id||Object.defineProperty(c,"__id",{value:++n}),c.__id},clone:function c(d,E){E=E||{};var T,y;switch(o.util.type(d)){case"Object":if(y=o.util.objId(d),E[y])return E[y];T={},E[y]=T;for(var K in d)d.hasOwnProperty(K)&&(T[K]=c(d[K],E));return T;case"Array":return y=o.util.objId(d),E[y]?E[y]:(T=[],E[y]=T,d.forEach(function(W,V){T[V]=c(W,E)}),T);default:return d}},getLanguage:function(c){for(;c;){var d=a.exec(c.className);if(d)return d[1].toLowerCase();c=c.parentElement}return"none"},setLanguage:function(c,d){c.className=c.className.replace(RegExp(a,"gi"),""),c.classList.add("language-"+d)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(T){var c=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(T.stack)||[])[1];if(c){var d=document.getElementsByTagName("script");for(var E in d)if(d[E].src==c)return d[E]}return null}},isActive:function(c,d,E){for(var T="no-"+d;c;){var y=c.classList;if(y.contains(d))return!0;if(y.contains(T))return!1;c=c.parentElement}return!!E}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(c,d){var E=o.util.clone(o.languages[c]);for(var T in d)E[T]=d[T];return E},insertBefore:function(c,d,E,T){T=T||o.languages;var y=T[c],K={};for(var W in y)if(y.hasOwnProperty(W)){if(W==d)for(var V in E)E.hasOwnProperty(V)&&(K[V]=E[V]);E.hasOwnProperty(W)||(K[W]=y[W])}var G=T[c];return T[c]=K,o.languages.DFS(o.languages,function(j,X){X===G&&j!=c&&(this[j]=K)}),K},DFS:function c(d,E,T,y){y=y||{};var K=o.util.objId;for(var W in d)if(d.hasOwnProperty(W)){E.call(d,W,d[W],T||W);var V=d[W],G=o.util.type(V);G==="Object"&&!y[K(V)]?(y[K(V)]=!0,c(V,E,null,y)):G==="Array"&&!y[K(V)]&&(y[K(V)]=!0,c(V,E,W,y))}}},plugins:{},highlightAll:function(c,d){o.highlightAllUnder(document,c,d)},highlightAllUnder:function(c,d,E){var T={callback:E,container:c,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",T),T.elements=Array.prototype.slice.apply(T.container.querySelectorAll(T.selector)),o.hooks.run("before-all-elements-highlight",T);for(var y=0,K;K=T.elements[y++];)o.highlightElement(K,d===!0,T.callback)},highlightElement:function(c,d,E){var T=o.util.getLanguage(c),y=o.languages[T];o.util.setLanguage(c,T);var K=c.parentElement;K&&K.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(K,T);var W=c.textContent,V={element:c,language:T,grammar:y,code:W};function G(X){V.highlightedCode=X,o.hooks.run("before-insert",V),V.element.innerHTML=V.highlightedCode,o.hooks.run("after-highlight",V),o.hooks.run("complete",V),E&&E.call(V.element)}if(o.hooks.run("before-sanity-check",V),K=V.element.parentElement,K&&K.nodeName.toLowerCase()==="pre"&&!K.hasAttribute("tabindex")&&K.setAttribute("tabindex","0"),!V.code){o.hooks.run("complete",V),E&&E.call(V.element);return}if(o.hooks.run("before-highlight",V),!V.grammar){G(o.util.encode(V.code));return}if(d&&i.Worker){var j=new Worker(o.filename);j.onmessage=function(X){G(X.data)},j.postMessage(JSON.stringify({language:V.language,code:V.code,immediateClose:!0}))}else G(o.highlight(V.code,V.grammar,V.language))},highlight:function(c,d,E){var T={code:c,grammar:d,language:E};if(o.hooks.run("before-tokenize",T),!T.grammar)throw new Error('The language "'+T.language+'" has no grammar.');return T.tokens=o.tokenize(T.code,T.grammar),o.hooks.run("after-tokenize",T),l.stringify(o.util.encode(T.tokens),T.language)},tokenize:function(c,d){var E=d.rest;if(E){for(var T in E)d[T]=E[T];delete d.rest}var y=new b;return p(y,y.head,c),f(c,y,d,y.head,0),O(y)},hooks:{all:{},add:function(c,d){var E=o.hooks.all;E[c]=E[c]||[],E[c].push(d)},run:function(c,d){var E=o.hooks.all[c];if(!(!E||!E.length))for(var T=0,y;y=E[T++];)y(d)}},Token:l};i.Prism=o;function l(c,d,E,T){this.type=c,this.content=d,this.alias=E,this.length=(T||"").length|0}l.stringify=function c(d,E){if(typeof d=="string")return d;if(Array.isArray(d)){var T="";return d.forEach(function(G){T+=c(G,E)}),T}var y={type:d.type,content:c(d.content,E),tag:"span",classes:["token",d.type],attributes:{},language:E},K=d.alias;K&&(Array.isArray(K)?Array.prototype.push.apply(y.classes,K):y.classes.push(K)),o.hooks.run("wrap",y);var W="";for(var V in y.attributes)W+=" "+V+'="'+(y.attributes[V]||"").replace(/"/g,"&quot;")+'"';return"<"+y.tag+' class="'+y.classes.join(" ")+'"'+W+">"+y.content+"</"+y.tag+">"};function u(c,d,E,T){c.lastIndex=d;var y=c.exec(E);if(y&&T&&y[1]){var K=y[1].length;y.index+=K,y[0]=y[0].slice(K)}return y}function f(c,d,E,T,y,K){for(var W in E)if(!(!E.hasOwnProperty(W)||!E[W])){var V=E[W];V=Array.isArray(V)?V:[V];for(var G=0;G<V.length;++G){if(K&&K.cause==W+","+G)return;var j=V[G],X=j.inside,ce=!!j.lookbehind,B=!!j.greedy,h=j.alias;if(B&&!j.pattern.global){var w=j.pattern.toString().match(/[imsuy]*$/)[0];j.pattern=RegExp(j.pattern.source,w+"g")}for(var M=j.pattern||j,_=T.next,L=y;_!==d.tail&&!(K&&L>=K.reach);L+=_.value.length,_=_.next){var q=_.value;if(d.length>c.length)return;if(!(q instanceof l)){var N=1,F;if(B){if(F=u(M,L,c,ce),!F||F.index>=c.length)break;var Q=F.index,R=F.index+F[0].length,k=L;for(k+=_.value.length;Q>=k;)_=_.next,k+=_.value.length;if(k-=_.value.length,L=k,_.value instanceof l)continue;for(var J=_;J!==d.tail&&(k<R||typeof J.value=="string");J=J.next)N++,k+=J.value.length;N--,q=c.slice(L,k),F.index-=L}else if(F=u(M,0,q,ce),!F)continue;var Q=F.index,oe=F[0],ee=q.slice(0,Q),re=q.slice(Q+oe.length),fe=L+q.length;K&&fe>K.reach&&(K.reach=fe);var ue=_.prev;ee&&(ue=p(d,ue,ee),L+=ee.length),A(d,ue,N);var Ce=new l(W,X?o.tokenize(oe,X):oe,h,oe);if(_=p(d,ue,Ce),re&&p(d,_,re),N>1){var ne={cause:W+","+G,reach:fe};f(c,d,E,_.prev,L,ne),K&&ne.reach>K.reach&&(K.reach=ne.reach)}}}}}}function b(){var c={value:null,prev:null,next:null},d={value:null,prev:c,next:null};c.next=d,this.head=c,this.tail=d,this.length=0}function p(c,d,E){var T=d.next,y={value:E,prev:d,next:T};return d.next=y,T.prev=y,c.length++,y}function A(c,d,E){for(var T=d.next,y=0;y<E&&T!==c.tail;y++)T=T.next;d.next=T,T.prev=d,c.length-=y}function O(c){for(var d=[],E=c.head.next;E!==c.tail;)d.push(E.value),E=E.next;return d}if(!i.document)return i.addEventListener&&(o.disableWorkerMessageHandler||i.addEventListener("message",function(c){var d=JSON.parse(c.data),E=d.language,T=d.code,y=d.immediateClose;i.postMessage(o.highlight(T,o.languages[E],E)),y&&i.close()},!1)),o;var I=o.util.currentScript();I&&(o.filename=I.src,I.hasAttribute("data-manual")&&(o.manual=!0));function P(){o.manual||o.highlightAll()}if(!o.manual){var m=document.readyState;m==="loading"||m==="interactive"&&I&&I.defer?document.addEventListener("DOMContentLoaded",P):window.requestAnimationFrame?window.requestAnimationFrame(P):window.setTimeout(P,16)}return o}(t);s.exports&&(s.exports=e),typeof rs<"u"&&(rs.Prism=e),e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(a,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+n]={pattern:/[\s\S]+/,inside:e.languages[n]};var l={};l[a]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return a}),"i"),lookbehind:!0,greedy:!0,inside:o},e.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(i,a){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[a,"language-"+a],inside:e.languages[a]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml,function(i){var a=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+a.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+a.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+a.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+a.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:a,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var n=i.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(e),e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript,function(){if(typeof e>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading\u2026",a=function(I,P){return"\u2716 Error "+I+" while fetching file: "+P},n="\u2716 Error: File does not exist or is empty",r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",l="loading",u="loaded",f="failed",b="pre[data-src]:not(["+o+'="'+u+'"]):not(['+o+'="'+l+'"])';function p(I,P,m){var c=new XMLHttpRequest;c.open("GET",I,!0),c.onreadystatechange=function(){c.readyState==4&&(c.status<400&&c.responseText?P(c.responseText):c.status>=400?m(a(c.status,c.statusText)):m(n))},c.send(null)}function A(I){var P=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(I||"");if(P){var m=Number(P[1]),c=P[2],d=P[3];return c?d?[m,Number(d)]:[m,void 0]:[m,m]}}e.hooks.add("before-highlightall",function(I){I.selector+=", "+b}),e.hooks.add("before-sanity-check",function(I){var P=I.element;if(P.matches(b)){I.code="",P.setAttribute(o,l);var m=P.appendChild(document.createElement("CODE"));m.textContent=i;var c=P.getAttribute("data-src"),d=I.language;if(d==="none"){var E=(/\.(\w+)$/.exec(c)||[,"none"])[1];d=r[E]||E}e.util.setLanguage(m,d),e.util.setLanguage(P,d);var T=e.plugins.autoloader;T&&T.loadLanguages(d),p(c,function(y){P.setAttribute(o,u);var K=A(P.getAttribute("data-range"));if(K){var W=y.split(/\r\n?|\n/g),V=K[0],G=K[1]==null?W.length:K[1];V<0&&(V+=W.length),V=Math.max(0,Math.min(V-1,W.length)),G<0&&(G+=W.length),G=Math.max(0,Math.min(G,W.length)),y=W.slice(V,G).join(`
`),P.hasAttribute("data-start")||P.setAttribute("data-start",String(V+1))}m.textContent=y,e.highlightElement(m)},function(y){P.setAttribute(o,f),m.textContent=y})}}),e.plugins.fileHighlight={highlight:function(P){for(var m=(P||document).querySelectorAll(b),c=0,d;d=m[c++];)e.highlightElement(d)}};var O=!1;e.fileHighlight=function(){O||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),O=!0),e.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(cn);const hn=cn.exports,ls="(if|else if|await|then|catch|each|html|debug)";Prism.languages.svelte=Prism.languages.extend("markup",{each:{pattern:new RegExp("{[#/]each(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{"language-javascript":[{pattern:/(as[\s\S]*)\([\s\S]*\)(?=\s*\})/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(as[\s]*)[\s\S]*(?=\s*)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(#each[\s]*)[\s\S]*(?=as)/,lookbehind:!0,inside:Prism.languages.javascript}],keyword:/[#/]each|as/,punctuation:/{|}/}},block:{pattern:new RegExp("{[#:/@]/s"+ls+"(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{punctuation:/^{|}$/,keyword:[new RegExp("[#:/@]"+ls+"( )*"),/as/,/then/],"language-javascript":{pattern:/[\s\S]*/,inside:Prism.languages.javascript}}},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?:"[^"]*"|'[^']*'|{[\s\S]+?}(?=[\s/>])))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,inside:Prism.languages.javascript},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],"language-javascript":{pattern:/{[\s\S]+}/,inside:Prism.languages.javascript}}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,lookbehind:!0,inside:Prism.languages.javascript}});Prism.languages.svelte.tag.inside["attr-value"].inside.entity=Prism.languages.svelte.entity;Prism.hooks.add("wrap",s=>{s.type==="entity"&&(s.attributes.title=s.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.svelte.tag,"addInlined",{value:function(t,e){const i={};i["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[e]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;const a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};a["language-"+e]={pattern:/[\s\S]+/,inside:Prism.languages[e]};const n={};n[t]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:a},Prism.languages.insertBefore("svelte","cdata",n)}});Prism.languages.svelte.tag.addInlined("style","css");Prism.languages.svelte.tag.addInlined("script","javascript");function Zn(s){let t,e;return{c(){t=new Dn(!1),e=Se(),this.h()},l(i){t=Un(i,!1),e=Se(),this.h()},h(){t.a=e},m(i,a){t.m(s[2],i,a),Y(i,e,a)},p(i,a){a&4&&t.p(i[2])},d(i){i&&v(e),i&&t.d()}}}function Jn(s){let t;return{c(){t=me(s[2])},l(e){t=_e(e,s[2])},m(e,i){Y(e,t,i)},p(e,i){i&4&&Nt(t,e[2])},d(e){e&&v(t)}}}function xn(s){let t,e,i,a,n,r,o;const l=s[6].default,u=nn(l,s,s[5],null);function f(A,O){return A[0]==="none"?Jn:Zn}let b=f(s),p=b(s);return{c(){t=U("code"),u&&u.c(),e=te(),i=U("pre"),a=U("code"),p.c(),this.h()},l(A){t=H(A,"CODE",{style:!0});var O=z(t);u&&u.l(O),O.forEach(v),e=se(A),i=H(A,"PRE",{class:!0,"command-line":!0,"data-output":!0});var I=z(i);a=H(I,"CODE",{class:!0});var P=z(a);p.l(P),P.forEach(v),I.forEach(v),this.h()},h(){Me(t,"display","none"),g(a,"class",n="language-"+s[0]),g(i,"class",r="language-"+s[0]),g(i,"command-line",""),g(i,"data-output","2-17")},m(A,O){Y(A,t,O),u&&u.m(t,null),s[7](t),Y(A,e,O),Y(A,i,O),S(i,a),p.m(a,null),o=!0},p(A,[O]){u&&u.p&&(!o||O&32)&&an(u,l,A,A[5],o?ln(l,A[5],O,null):rn(A[5]),null),b===(b=f(A))&&p?p.p(A,O):(p.d(1),p=b(A),p&&(p.c(),p.m(a,null))),(!o||O&1&&n!==(n="language-"+A[0]))&&g(a,"class",n),(!o||O&1&&r!==(r="language-"+A[0]))&&g(i,"class",r)},i(A){o||($(u,A),o=!0)},o(A){ie(u,A),o=!1},d(A){A&&v(t),u&&u.d(A),s[7](null),A&&v(e),A&&v(i),p.d()}}}const os=hn;hn.highlightElement;const $n={transform:s=>s};function ei(s,t,e){let{$$slots:i={},$$scope:a}=t,{language:n="javascript"}=t,{source:r=""}=t,{transform:o=p=>p}=t,l,u;function f(){const p=os.languages[n];let A=r||l.textContent;A=$n.transform(A),A=o(A),e(2,u=n==="none"?A:os.highlight(A,p,n))}function b(p){le[p?"unshift":"push"](()=>{l=p,e(1,l)})}return s.$$set=p=>{e(9,t=Ot(Ot({},t),ns(p))),"language"in p&&e(0,n=p.language),"source"in p&&e(3,r=p.source),"transform"in p&&e(4,o=p.transform),"$$scope"in p&&e(5,a=p.$$scope)},s.$$.update=()=>{t&&(r||l)&&f()},t=ns(t),[n,l,u,r,o,a,i,b]}class ti extends Ie{constructor(t){super(),Oe(this,t,ei,xn,Fe,{language:0,source:3,transform:4})}}var gn={};(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.Chess=s.validateFen=s.SQUARES=s.DEFAULT_POSITION=s.KING=s.QUEEN=s.ROOK=s.BISHOP=s.KNIGHT=s.PAWN=s.BLACK=s.WHITE=void 0,s.WHITE="w",s.BLACK="b",s.PAWN="p",s.KNIGHT="n",s.BISHOP="b",s.ROOK="r",s.QUEEN="q",s.KING="k",s.DEFAULT_POSITION="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";const t=-1,e={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"};s.SQUARES=["a8","b8","c8","d8","e8","f8","g8","h8","a7","b7","c7","d7","e7","f7","g7","h7","a6","b6","c6","d6","e6","f6","g6","h6","a5","b5","c5","d5","e5","f5","g5","h5","a4","b4","c4","d4","e4","f4","g4","h4","a3","b3","c3","d3","e3","f3","g3","h3","a2","b2","c2","d2","e2","f2","g2","h2","a1","b1","c1","d1","e1","f1","g1","h1"];const i={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},a={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},n={b:[16,32,17,15],w:[-16,-32,-17,-15]},r={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},o=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],l=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],u={p:1,n:2,b:4,r:8,q:16,k:32},f="pnbrqkPNBRQK",b=[s.KNIGHT,s.BISHOP,s.ROOK,s.QUEEN],p=7,A=6,O=1,I=0,P={w:[{square:a.a1,flag:i.QSIDE_CASTLE},{square:a.h1,flag:i.KSIDE_CASTLE}],b:[{square:a.a8,flag:i.QSIDE_CASTLE},{square:a.h8,flag:i.KSIDE_CASTLE}]},m={b:O,w:A},c=["1-0","0-1","1/2-1/2","*"];function d(B){return B>>4}function E(B){return B&15}function T(B){return"0123456789".indexOf(B)!==-1}function y(B){const h=E(B),w=d(B);return"abcdefgh".substring(h,h+1)+"87654321".substring(w,w+1)}function K(B){return B===s.WHITE?s.BLACK:s.WHITE}function W(B){const h=[];h[0]="No errors.",h[1]="FEN string must contain six space-delimited fields.",h[2]="6th field (move number) must be a positive integer.",h[3]="5th field (half move counter) must be a non-negative integer.",h[4]="4th field (en-passant square) is invalid.",h[5]="3rd field (castling availability) is invalid.",h[6]="2nd field (side to move) is invalid.",h[7]="1st field (piece positions) does not contain 8 '/'-delimited rows.",h[8]="1st field (piece positions) is invalid [consecutive numbers].",h[9]="1st field (piece positions) is invalid [invalid piece].",h[10]="1st field (piece positions) is invalid [row too large].",h[11]="Illegal en-passant square";const w=B.split(/\s+/);if(w.length!==6)return{valid:!1,errorNumber:1,error:h[1]};const M=parseInt(w[5],10);if(isNaN(M)||M<=0)return{valid:!1,errorNumber:2,error:h[2]};const _=parseInt(w[4],10);if(isNaN(_)||_<0)return{valid:!1,errorNumber:3,error:h[3]};if(!/^(-|[abcdefgh][36])$/.test(w[3]))return{valid:!1,errorNumber:4,error:h[4]};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(w[2]))return{valid:!1,errorNumber:5,error:h[5]};if(!/^(w|b)$/.test(w[1]))return{valid:!1,errorNumber:6,error:h[6]};const L=w[0].split("/");if(L.length!==8)return{valid:!1,errorNumber:7,error:h[7]};for(let q=0;q<L.length;q++){let N=0,F=!1;for(let R=0;R<L[q].length;R++)if(T(L[q][R])){if(F)return{valid:!1,errorNumber:8,error:h[8]};N+=parseInt(L[q][R],10),F=!0}else{if(!/^[prnbqkPRNBQK]$/.test(L[q][R]))return{valid:!1,errorNumber:9,error:h[9]};N+=1,F=!1}if(N!==8)return{valid:!1,errorNumber:10,error:h[10]}}return w[3][1]=="3"&&w[1]=="w"||w[3][1]=="6"&&w[1]=="b"?{valid:!1,errorNumber:11,error:h[11]}:{valid:!0,errorNumber:0,error:h[0]}}s.validateFen=W;function V(B,h){const w=B.from,M=B.to,_=B.piece;let L=0,q=0,N=0;for(let F=0,R=h.length;F<R;F++){const k=h[F].from,J=h[F].to,Q=h[F].piece;_===Q&&w!==k&&M===J&&(L++,d(w)===d(k)&&q++,E(w)===E(k)&&N++)}return L>0?q>0&&N>0?y(w):N>0?y(w).charAt(1):y(w).charAt(0):""}function G(B,h,w,M,_,L=void 0,q=i.NORMAL){const N=d(M);if(_===s.PAWN&&(N===p||N===I))for(let F=0;F<b.length;F++){const R=b[F];B.push({color:h,from:w,to:M,piece:_,captured:L,promotion:R,flags:q|i.PROMOTION})}else B.push({color:h,from:w,to:M,piece:_,captured:L,promotion:void 0,flags:q})}function j(B){let h=B.charAt(0);return h>="a"&&h<="h"?B.match(/[a-h]\d.*[a-h]\d/)?void 0:s.PAWN:(h=h.toLowerCase(),h==="o"?s.KING:h)}function X(B){return B.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class ce{constructor(h=s.DEFAULT_POSITION){this._board=new Array(128),this._turn=s.WHITE,this._header={},this._kings={w:t,b:t},this._epSquare=-1,this._halfMoves=0,this._moveNumber=0,this._history=[],this._comments={},this._castling={w:0,b:0},this.load(h)}clear(h=!1){this._board=new Array(128),this._kings={w:t,b:t},this._turn=s.WHITE,this._castling={w:0,b:0},this._epSquare=t,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=h?this._header:{},this._updateSetup(this.fen())}load(h,w=!1){const M=h.split(/\s+/),_=M[0];let L=0;if(!W(h).valid)return!1;this.clear(w);for(let q=0;q<_.length;q++){const N=_.charAt(q);if(N==="/")L+=8;else if(T(N))L+=parseInt(N,10);else{const F=N<"a"?s.WHITE:s.BLACK;this.put({type:N.toLowerCase(),color:F},y(L)),L++}}return this._turn=M[1],M[2].indexOf("K")>-1&&(this._castling.w|=i.KSIDE_CASTLE),M[2].indexOf("Q")>-1&&(this._castling.w|=i.QSIDE_CASTLE),M[2].indexOf("k")>-1&&(this._castling.b|=i.KSIDE_CASTLE),M[2].indexOf("q")>-1&&(this._castling.b|=i.QSIDE_CASTLE),this._epSquare=M[3]==="-"?t:a[M[3]],this._halfMoves=parseInt(M[4],10),this._moveNumber=parseInt(M[5],10),this._updateSetup(this.fen()),!0}fen(){let h=0,w="";for(let L=a.a8;L<=a.h1;L++){if(this._board[L]){h>0&&(w+=h,h=0);const{color:q,type:N}=this._board[L];w+=q===s.WHITE?N.toUpperCase():N.toLowerCase()}else h++;L+1&136&&(h>0&&(w+=h),L!==a.h1&&(w+="/"),h=0,L+=8)}let M="";this._castling[s.WHITE]&i.KSIDE_CASTLE&&(M+="K"),this._castling[s.WHITE]&i.QSIDE_CASTLE&&(M+="Q"),this._castling[s.BLACK]&i.KSIDE_CASTLE&&(M+="k"),this._castling[s.BLACK]&i.QSIDE_CASTLE&&(M+="q"),M=M||"-";const _=this._epSquare===t?"-":y(this._epSquare);return[w,this._turn,M,_,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(h){this._history.length>0||(h!==s.DEFAULT_POSITION?(this._header.SetUp="1",this._header.FEN=h):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(s.DEFAULT_POSITION)}get(h){return this._board[a[h]]||!1}put({type:h,color:w},M){if(f.indexOf(h.toLowerCase())===-1||!(M in a))return!1;const _=a[M];return h==s.KING&&!(this._kings[w]==t||this._kings[w]==_)?!1:(this._board[_]={type:h,color:w},h===s.KING&&(this._kings[w]=_),this._updateSetup(this.fen()),!0)}remove(h){const w=this.get(h);return delete this._board[a[h]],w&&w.type===s.KING&&(this._kings[w.color]=t),this._updateSetup(this.fen()),w}_attacked(h,w){for(let M=a.a8;M<=a.h1;M++){if(M&136){M+=7;continue}if(this._board[M]===void 0||this._board[M].color!==h)continue;const _=this._board[M],L=M-w,q=L+119;if(o[q]&u[_.type]){if(_.type===s.PAWN){if(L>0){if(_.color===s.WHITE)return!0}else if(_.color===s.BLACK)return!0;continue}if(_.type==="n"||_.type==="k")return!0;const N=l[q];let F=M+N,R=!1;for(;F!==w;){if(this._board[F]!=null){R=!0;break}F+=N}if(!R)return!0}}return!1}_isKingAttacked(h){return this._attacked(K(h),this._kings[h])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const h={b:0,n:0,r:0,q:0,k:0,p:0},w=[];let M=0,_=0;for(let L=a.a8;L<=a.h1;L++){if(_=(_+1)%2,L&136){L+=7;continue}const q=this._board[L];q&&(h[q.type]=q.type in h?h[q.type]+1:1,q.type===s.BISHOP&&w.push(_),M++)}if(M===2)return!0;if(M===3&&(h[s.BISHOP]===1||h[s.KNIGHT]===1))return!0;if(M===h[s.BISHOP]+2){let L=0;const q=w.length;for(let N=0;N<q;N++)L+=w[N];if(L===0||L===q)return!0}return!1}isThreefoldRepetition(){const h=[],w={};let M=!1;for(;;){const _=this._undoMove();if(!_)break;h.push(_)}for(;;){const _=this.fen().split(" ").slice(0,4).join(" ");w[_]=_ in w?w[_]+1:1,w[_]>=3&&(M=!0);const L=h.pop();if(L)this._makeMove(L);else break}return M}isDraw(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:h=!1,square:w=void 0}={}){const M=this._moves({square:w});return h?M.map(_=>this._makePretty(_)):M.map(_=>this._moveToSan(_,M))}_moves({legal:h=!0,piece:w=void 0,square:M=void 0}={}){var _;const L=M?M.toLowerCase():void 0,q=w==null?void 0:w.toLowerCase(),N=[],F=this._turn,R=K(F);let k=a.a8,J=a.h1,Q=!1;if(L)if(L in a)k=J=a[L],Q=!0;else return[];for(let ee=k;ee<=J;ee++){if(ee&136){ee+=7;continue}if(!this._board[ee]||this._board[ee].color===R)continue;const{type:re}=this._board[ee];let fe;if(re===s.PAWN){if(q&&q!==re)continue;fe=ee+n[F][0],this._board[fe]||(G(N,F,ee,fe,s.PAWN),fe=ee+n[F][1],m[F]===d(ee)&&!this._board[fe]&&G(N,F,ee,fe,s.PAWN,void 0,i.BIG_PAWN));for(let ue=2;ue<4;ue++)fe=ee+n[F][ue],!(fe&136)&&(((_=this._board[fe])===null||_===void 0?void 0:_.color)===R?G(N,F,ee,fe,s.PAWN,this._board[fe].type,i.CAPTURE):fe===this._epSquare&&G(N,F,ee,fe,s.PAWN,s.PAWN,i.EP_CAPTURE))}else{if(q&&q!==re)continue;for(let ue=0,Ce=r[re].length;ue<Ce;ue++){const ne=r[re][ue];for(fe=ee;fe+=ne,!(fe&136);){if(!this._board[fe])G(N,F,ee,fe,re);else{if(this._board[fe].color===F)break;G(N,F,ee,fe,re,this._board[fe].type,i.CAPTURE);break}if(re===s.KNIGHT||re===s.KING)break}}}}if((q===void 0||q===s.KING)&&(!Q||J===this._kings[F])){if(this._castling[F]&i.KSIDE_CASTLE){const ee=this._kings[F],re=ee+2;!this._board[ee+1]&&!this._board[re]&&!this._attacked(R,this._kings[F])&&!this._attacked(R,ee+1)&&!this._attacked(R,re)&&G(N,F,this._kings[F],re,s.KING,void 0,i.KSIDE_CASTLE)}if(this._castling[F]&i.QSIDE_CASTLE){const ee=this._kings[F],re=ee-2;!this._board[ee-1]&&!this._board[ee-2]&&!this._board[ee-3]&&!this._attacked(R,this._kings[F])&&!this._attacked(R,ee-1)&&!this._attacked(R,re)&&G(N,F,this._kings[F],re,s.KING,void 0,i.QSIDE_CASTLE)}}if(!h)return N;const oe=[];for(let ee=0,re=N.length;ee<re;ee++)this._makeMove(N[ee]),this._isKingAttacked(F)||oe.push(N[ee]),this._undoMove();return oe}move(h,{sloppy:w=!1}={}){let M=null;if(typeof h=="string")M=this._moveFromSan(h,w);else if(typeof h=="object"){const L=this._moves();for(let q=0,N=L.length;q<N;q++)if(h.from===y(L[q].from)&&h.to===y(L[q].to)&&(!("promotion"in L[q])||h.promotion===L[q].promotion)){M=L[q];break}}if(!M)return null;const _=this._makePretty(M);return this._makeMove(M),_}_push(h){this._history.push({move:h,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(h){const w=this._turn,M=K(w);if(this._push(h),this._board[h.to]=this._board[h.from],delete this._board[h.from],h.flags&i.EP_CAPTURE&&(this._turn===s.BLACK?delete this._board[h.to-16]:delete this._board[h.to+16]),h.promotion&&(this._board[h.to]={type:h.promotion,color:w}),this._board[h.to].type===s.KING){if(this._kings[w]=h.to,h.flags&i.KSIDE_CASTLE){const _=h.to-1,L=h.to+1;this._board[_]=this._board[L],delete this._board[L]}else if(h.flags&i.QSIDE_CASTLE){const _=h.to+1,L=h.to-2;this._board[_]=this._board[L],delete this._board[L]}this._castling[w]=0}if(this._castling[w]){for(let _=0,L=P[w].length;_<L;_++)if(h.from===P[w][_].square&&this._castling[w]&P[w][_].flag){this._castling[w]^=P[w][_].flag;break}}if(this._castling[M]){for(let _=0,L=P[M].length;_<L;_++)if(h.to===P[M][_].square&&this._castling[M]&P[M][_].flag){this._castling[M]^=P[M][_].flag;break}}h.flags&i.BIG_PAWN?w===s.BLACK?this._epSquare=h.to-16:this._epSquare=h.to+16:this._epSquare=t,h.piece===s.PAWN?this._halfMoves=0:h.flags&(i.CAPTURE|i.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,w===s.BLACK&&this._moveNumber++,this._turn=M}undo(){const h=this._undoMove();return h?this._makePretty(h):null}_undoMove(){const h=this._history.pop();if(h===void 0)return null;const w=h.move;this._kings=h.kings,this._turn=h.turn,this._castling=h.castling,this._epSquare=h.epSquare,this._halfMoves=h.halfMoves,this._moveNumber=h.moveNumber;const M=this._turn,_=K(M);if(this._board[w.from]=this._board[w.to],this._board[w.from].type=w.piece,delete this._board[w.to],w.captured)if(w.flags&i.EP_CAPTURE){let L;M===s.BLACK?L=w.to-16:L=w.to+16,this._board[L]={type:s.PAWN,color:_}}else this._board[w.to]={type:w.captured,color:_};if(w.flags&(i.KSIDE_CASTLE|i.QSIDE_CASTLE)){let L,q;w.flags&i.KSIDE_CASTLE?(L=w.to+1,q=w.to-1):(L=w.to-2,q=w.to+1),this._board[L]=this._board[q],delete this._board[q]}return w}pgn({newline:h=`
`,maxWidth:w=0}={}){const M=[];let _=!1;for(const Q in this._header)M.push("["+Q+' "'+this._header[Q]+'"]'+h),_=!0;_&&this._history.length&&M.push(h);const L=Q=>{const oe=this._comments[this.fen()];if(typeof oe<"u"){const ee=Q.length>0?" ":"";Q=`${Q}${ee}{${oe}}`}return Q},q=[];for(;this._history.length>0;)q.push(this._undoMove());const N=[];let F="";for(q.length===0&&N.push(L(""));q.length>0;){F=L(F);const Q=q.pop();if(!Q)break;if(!this._history.length&&Q.color==="b"){const oe=`${this._moveNumber}. ...`;F=F?`${F} ${oe}`:oe}else Q.color==="w"&&(F.length&&N.push(F),F=this._moveNumber+".");F=F+" "+this._moveToSan(Q,this._moves({legal:!0})),this._makeMove(Q)}if(F.length&&N.push(L(F)),typeof this._header.Result<"u"&&N.push(this._header.Result),w===0)return M.join("")+N.join(" ");const R=function(){return M.length>0&&M[M.length-1]===" "?(M.pop(),!0):!1},k=function(Q,oe){for(const ee of oe.split(" "))if(!!ee){if(Q+ee.length>w){for(;R();)Q--;M.push(h),Q=0}M.push(ee),Q+=ee.length,M.push(" "),Q++}return R()&&Q--,Q};let J=0;for(let Q=0;Q<N.length;Q++){if(J+N[Q].length>w&&N[Q].includes("{")){J=k(J,N[Q]);continue}J+N[Q].length>w&&Q!==0?(M[M.length-1]===" "&&M.pop(),M.push(h),J=0):Q!==0&&(M.push(" "),J++),M.push(N[Q]),J+=N[Q].length}return M.join("")}header(...h){for(let w=0;w<h.length;w+=2)typeof h[w]=="string"&&typeof h[w+1]=="string"&&(this._header[h[w]]=h[w+1]);return this._header}loadPgn(h,{sloppy:w=!1,newlineChar:M=`\r?
`}={}){function _(ne){return ne.replace(/\\/g,"\\")}function L(ne){const Te={},Pe=ne.split(new RegExp(_(M)));let Ke="",We="";for(let Re=0;Re<Pe.length;Re++){const Ve=/^\s*\[([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;Ke=Pe[Re].replace(Ve,"$1"),We=Pe[Re].replace(Ve,"$2"),Ke.trim().length>0&&(Te[Ke]=We)}return Te}h=h.trim();const N=new RegExp("^(\\[((?:"+_(M)+")|.)*\\])(?:\\s*"+_(M)+"){2}").exec(h),F=N&&N.length>=2?N[1]:"";this.reset();const R=L(F);let k="";for(const ne in R)ne.toLowerCase()==="fen"&&(k=R[ne]),this.header(ne,R[ne]);if(w){if(k&&!this.load(k,!0))return!1}else if(R.SetUp==="1"&&!("FEN"in R&&this.load(R.FEN,!0)))return!1;function J(ne){return Array.from(ne).map(function(Te){return Te.charCodeAt(0)<128?Te.charCodeAt(0).toString(16):encodeURIComponent(Te).replace(/%/g,"").toLowerCase()}).join("")}function Q(ne){return ne.length==0?"":decodeURIComponent("%"+(ne.match(/.{1,2}/g)||[]).join("%"))}const oe=function(ne){return ne=ne.replace(new RegExp(_(M),"g")," "),`{${J(ne.slice(1,ne.length-1))}}`},ee=function(ne){if(ne.startsWith("{")&&ne.endsWith("}"))return Q(ne.slice(1,ne.length-1))};let re=h.replace(F,"").replace(new RegExp(`({[^}]*})+?|;([^${_(M)}]*)`,"g"),function(ne,Te,Pe){return Te!==void 0?oe(Te):" "+oe(`{${Pe.slice(1)}}`)}).replace(new RegExp(_(M),"g")," ");const fe=/(\([^()]+\))+?/g;for(;fe.test(re);)re=re.replace(fe,"");re=re.replace(/\d+\.(\.\.)?/g,""),re=re.replace(/\.\.\./g,""),re=re.replace(/\$\d+/g,"");let ue=re.trim().split(new RegExp(/\s+/));ue=ue.join(",").replace(/,,+/g,",").split(",");let Ce="";for(let ne=0;ne<ue.length;ne++){const Te=ee(ue[ne]);if(Te!==void 0){this._comments[this.fen()]=Te;continue}const Pe=this._moveFromSan(ue[ne],w);if(Pe==null)if(c.indexOf(ue[ne])>-1)Ce=ue[ne];else return!1;else Ce="",this._makeMove(Pe)}return Ce&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",Ce),!0}_moveToSan(h,w){let M="";if(h.flags&i.KSIDE_CASTLE)M="O-O";else if(h.flags&i.QSIDE_CASTLE)M="O-O-O";else{if(h.piece!==s.PAWN){const _=V(h,w);M+=h.piece.toUpperCase()+_}h.flags&(i.CAPTURE|i.EP_CAPTURE)&&(h.piece===s.PAWN&&(M+=y(h.from)[0]),M+="x"),M+=y(h.to),h.promotion&&(M+="="+h.promotion.toUpperCase())}return this._makeMove(h),this.isCheck()&&(this.isCheckmate()?M+="#":M+="+"),this._undoMove(),M}_moveFromSan(h,w=!1){const M=X(h);let _=j(M),L=this._moves({legal:!0,piece:_});for(let Q=0,oe=L.length;Q<oe;Q++)if(M===X(this._moveToSan(L[Q],L)))return L[Q];if(!w)return null;let q,N,F,R,k,J=!1;N=M.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),N?(q=N[1],F=N[2],R=N[3],k=N[4],F.length==1&&(J=!0)):(N=M.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),N&&(q=N[1],F=N[2],R=N[3],k=N[4],F.length==1&&(J=!0))),_=j(M),L=this._moves({legal:!0,piece:q||_});for(let Q=0,oe=L.length;Q<oe;Q++)if(F&&R){if((!q||q.toLowerCase()==L[Q].piece)&&a[F]==L[Q].from&&a[R]==L[Q].to&&(!k||k.toLowerCase()==L[Q].promotion))return L[Q];if(J){const ee=y(L[Q].from);if((!q||q.toLowerCase()==L[Q].piece)&&a[R]==L[Q].to&&(F==ee[0]||F==ee[1])&&(!k||k.toLowerCase()==L[Q].promotion))return L[Q]}}return null}ascii(){let h=`   +------------------------+
`;for(let w=a.a8;w<=a.h1;w++){if(E(w)===0&&(h+=" "+"87654321"[d(w)]+" |"),this._board[w]){const M=this._board[w].type,L=this._board[w].color===s.WHITE?M.toUpperCase():M.toLowerCase();h+=" "+L+" "}else h+=" . ";w+1&136&&(h+=`|
`,w+=8)}return h+=`   +------------------------+
`,h+="     a  b  c  d  e  f  g  h",h}perft(h){const w=this._moves({legal:!1});let M=0;const _=this._turn;for(let L=0,q=w.length;L<q;L++)this._makeMove(w[L]),this._isKingAttacked(_)||(h-1>0?M+=this.perft(h-1):M++),this._undoMove();return M}_makePretty(h){const{color:w,piece:M,from:_,to:L,flags:q,captured:N,promotion:F}=h;let R="";for(const J in i)i[J]&q&&(R+=e[J]);const k={color:w,piece:M,from:y(_),to:y(L),san:this._moveToSan(h,this._moves({legal:!0})),flags:R};return N&&(k.captured=N),F&&(k.promotion=F),k}turn(){return this._turn}board(){const h=[];let w=[];for(let M=a.a8;M<=a.h1;M++)this._board[M]==null?w.push(null):w.push({square:y(M),type:this._board[M].type,color:this._board[M].color}),M+1&136&&(h.push(w),w=[],M+=8);return h}squareColor(h){if(h in a){const w=a[h];return(d(w)+E(w))%2===0?"light":"dark"}return null}history({verbose:h=!1}={}){const w=[],M=[];for(;this._history.length>0;)w.push(this._undoMove());for(;;){const _=w.pop();if(!_)break;h?M.push(this._makePretty(_)):M.push(this._moveToSan(_,this._moves())),this._makeMove(_)}return M}_pruneComments(){const h=[],w={},M=_=>{_ in this._comments&&(w[_]=this._comments[_])};for(;this._history.length>0;)h.push(this._undoMove());for(M(this.fen());;){const _=h.pop();if(!_)break;this._makeMove(_),M(this.fen())}this._comments=w}getComment(){return this._comments[this.fen()]}setComment(h){this._comments[this.fen()]=h.replace("{","[").replace("}","]")}deleteComment(){const h=this._comments[this.fen()];return delete this._comments[this.fen()],h}getComments(){return this._pruneComments(),Object.keys(this._comments).map(h=>({fen:h,comment:this._comments[h]}))}deleteComments(){return this._pruneComments(),Object.keys(this._comments).map(h=>{const w=this._comments[h];return delete this._comments[h],{fen:h,comment:w}})}}s.Chess=ce})(gn);var ae=(s=>(s[s.WHITE=0]="WHITE",s[s.BLACK=1]="BLACK",s[s.BOTH=2]="BOTH",s[s.SPECTATOR=3]="SPECTATOR",s[s.SERVER=4]="SERVER",s))(ae||{}),Z=(s=>(s[s.LEGAL=0]="LEGAL",s[s.LEGALHOVER=1]="LEGALHOVER",s[s.CHECK=2]="CHECK",s[s.MOVE=3]="MOVE",s[s.NEXTMOVE=4]="NEXTMOVE",s[s.PREMOVE=5]="PREMOVE",s[s.PREMOVEHOVER=6]="PREMOVEHOVER",s[s.SELECT=7]="SELECT",s))(Z||{});class si{constructor(t){this.defaultState={boardTheme:"standard",piecesTheme:"standard",flipped:!1,notation:!0,shadow:!1,startFen:bn,size:0,style:{shadow:!1,borderRadius:"0rem"},resizible:{enabled:!1,min:256,max:1024}},this.setConfigSettings=e=>{e!==void 0&&(e.boardTheme!==void 0&&(this.boardTheme=e.boardTheme),e.piecesTheme!==void 0&&(this.piecesTheme=e.piecesTheme),e.flipped!==void 0&&(this.flipped=e.flipped),e.notation!==void 0&&(this.notation=e.notation),e.startFen!==void 0&&(this.startFen=e.startFen),e.style!==void 0&&(e.style.shadow!==void 0&&(this.style.shadow=e.style.shadow),e.style.borderRadius!==void 0&&(this.style.borderRadius=e.style.borderRadius)))},this.getConfig=()=>{const e={...this.boardTheme!==this.defaultState.boardTheme&&{boardTheme:this.boardTheme},...this.piecesTheme!==this.defaultState.piecesTheme&&{piecesTheme:this.piecesTheme},...this.flipped!==this.defaultState.flipped&&{flipped:this.flipped},...this.notation!==this.defaultState.notation&&{notation:this.notation},...this.startFen!==this.defaultState.startFen&&{startFen:this.startFen},...(this.style.shadow!==this.defaultState.style.shadow||this.style.borderRadius!==this.defaultState.style.borderRadius)&&{style:{...this.style.shadow!==this.defaultState.style.shadow&&{shadow:this.style.shadow},...this.style.borderRadius!==this.defaultState.style.borderRadius&&{borderRadius:this.style.borderRadius}}}};if(Object.keys(e).length!==0)return e},this.boardTheme=this.defaultState.boardTheme,this.piecesTheme=this.defaultState.piecesTheme,this.flipped=this.defaultState.flipped,this.notation=this.defaultState.notation,this.startFen=this.defaultState.startFen,this.size=this.defaultState.size,this.style={...this.defaultState.style},this.resizible={...this.defaultState.resizible},this.setConfigSettings(t)}}class ni{constructor(t){this.defaultState={enabled:!0,color:ae.BOTH},this.setConfigSettings=e=>{switch(e){case!0:this.enabled=!0,this.color=ae.BOTH;break;case!1:this.enabled=!1;break;case ae.WHITE:this.enabled=!0,this.color=ae.WHITE;break;case ae.BLACK:this.enabled=!0,this.color=ae.BLACK;break}},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.color!==this.defaultState.color)return this.color;if(this.enabled&&!this.defaultState.enabled)return this.color;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.color=this.defaultState.color,this.setConfigSettings(t)}}class ii{constructor(t){this.defaultState={enabled:!0,ghostPiece:{enabled:!0,piece:void 0},transition:{enabled:!0,settings:{duration:120,easing:"cubicInOut"}}},this.setConfigSettings=e=>{var i,a,n,r;e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,(e==null?void 0:e.ghostPiece)!==void 0&&(this.ghostPiece.enabled=e.ghostPiece),e.transition!==void 0&&((e==null?void 0:e.transition)===!0?this.transition.enabled=!0:(e==null?void 0:e.transition)===!1?this.transition.enabled=!1:(this.transition.enabled=!0,(i=e==null?void 0:e.transition)!=null&&i.duration&&(this.transition.settings.duration=(a=e==null?void 0:e.transition)==null?void 0:a.duration),(n=e==null?void 0:e.transition)!=null&&n.easing&&(this.transition.settings.easing=(r=e==null?void 0:e.transition)==null?void 0:r.easing)))))},this.getConfig=()=>{const e={},i={};if(this.enabled&&this.defaultState.enabled&&(this.ghostPiece.enabled!==this.defaultState.ghostPiece.enabled&&(e.ghostPiece=this.ghostPiece.enabled),this.transition.enabled&&this.defaultState.transition.enabled&&(this.transition.settings.duration!==this.defaultState.transition.settings.duration&&(i.duration=this.transition.settings.duration),this.transition.settings.easing!==this.defaultState.transition.settings.easing&&(i.easing=this.transition.settings.easing),Object.keys(i).length!==0&&(e.transition=i)),!this.transition.enabled&&this.defaultState.transition.enabled&&(e.transition=!1),Object.keys(e).length!==0))return e;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.ghostPiece={...this.defaultState.ghostPiece},this.transition={enabled:this.defaultState.transition.enabled,settings:{...this.defaultState.transition.settings}},this.setConfigSettings(t)}}class ai{constructor(t){this.defaultState={enabled:!0,selectedPiece:void 0},this.setConfigSettings=e=>{e!==void 0&&(this.enabled=e)},this.getConfig=()=>{if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.selectedPiece=this.defaultState.selectedPiece,this.setConfigSettings(t)}}class ri{constructor(t){this.defaultState={enabled:!1,whiteToMove:!0,moves:[],settings:{allowPromotion:!0,allowEnPassant:!0,allowCastling:!0},preMoves:{enabled:!1,moves:[],curMove:""},lastMove:""},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.settings&&(e.settings.allowCastling!==void 0&&(this.settings.allowCastling=e.settings.allowCastling),e.settings.allowEnPassant!==void 0&&(this.settings.allowEnPassant=e.settings.allowEnPassant),e.settings.allowPromotion!==void 0&&(this.settings.allowPromotion=e.settings.allowPromotion)),e.preMoves!==void 0&&(this.preMoves.enabled=e.preMoves)))},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.preMoves.enabled!==this.defaultState.preMoves.enabled)return{preMoves:this.preMoves.enabled};if(this.enabled!==this.defaultState.enabled)return this.preMoves.enabled!==this.defaultState.preMoves.enabled?{preMoves:this.preMoves.enabled}:this.enabled},this.enabled=this.defaultState.enabled,this.whiteToMove=this.defaultState.whiteToMove,this.moves=JSON.parse(JSON.stringify(this.defaultState.moves)),this.settings={...this.defaultState.settings},this.preMoves={enabled:this.defaultState.preMoves.enabled,moves:[...this.defaultState.preMoves.moves],curMove:this.defaultState.preMoves.curMove},this.lastMove=this.defaultState.lastMove,this.setConfigSettings(t)}}class li{constructor(t){this.defaultState={enabled:!0,settings:{select:!0,legal:!0,move:!0,preMove:!1,nextMove:!1,check:!0}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.check!==void 0&&(this.settings.check=e.check),e.legal!==void 0&&(this.settings.legal=e.legal),e.move!==void 0&&(this.settings.move=e.move),e.nextMove!==void 0&&(this.settings.nextMove=e.nextMove),e.preMove!==void 0&&(this.settings.preMove=e.preMove),e.select!==void 0&&(this.settings.select=e.select)))},this.getConfig=()=>{const e={},i=["select","legal","move","preMove","nextMove","check"];if(this.enabled&&this.defaultState.enabled&&(i.forEach(a=>{this.settings[a]!==this.defaultState.settings[a]&&(e[a]=this.settings[a])}),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},this.setConfigSettings(t)}}class oi{constructor(t){this.defaultState={enabled:!0,engineArrows:[],settings:{knightLShape:!1,onlyChessMove:!1}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.knightLShape!==void 0&&(this.settings.knightLShape=e.knightLShape),e.onlyChessMove!==void 0&&(this.settings.onlyChessMove=e.onlyChessMove)))},this.getConfig=()=>{const e={};if(this.enabled&&this.defaultState.enabled&&(this.settings.knightLShape!==this.defaultState.settings.knightLShape&&(e.knightLShape=this.settings.knightLShape),this.settings.onlyChessMove!==this.defaultState.settings.onlyChessMove&&(e.onlyChessMove=this.settings.onlyChessMove),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.engineArrows=JSON.parse(JSON.stringify(this.defaultState.engineArrows)),this.settings={knightLShape:this.defaultState.settings.knightLShape,onlyChessMove:this.defaultState.settings.onlyChessMove},this.setConfigSettings(t)}}class ui{constructor(t){this.defaultState={enabled:!0,settings:{MOVE:!0,CAPTURE:!0,CASTLE:!0,UNDO:!0}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.CAPTURE!==void 0&&(this.settings.CAPTURE=e.CAPTURE),e.CASTLE!==void 0&&(this.settings.CASTLE=e.CASTLE),e.MOVE!==void 0&&(this.settings.MOVE=e.MOVE),e.UNDO!==void 0&&(this.settings.UNDO=e.UNDO)))},this.getConfig=()=>{const e={};if(this.enabled&&this.defaultState.enabled&&(this.settings.MOVE!==this.defaultState.settings.MOVE&&(e.MOVE=this.settings.MOVE),this.settings.CAPTURE!==this.defaultState.settings.CAPTURE&&(e.CAPTURE=this.settings.CAPTURE),this.settings.CASTLE!==this.defaultState.settings.CASTLE&&(e.CASTLE=this.settings.CASTLE),this.settings.UNDO!==this.defaultState.settings.UNDO&&(e.UNDO=this.settings.UNDO),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.CAPTURE!==void 0&&(this.settings.CAPTURE=t.CAPTURE),t.CASTLE!==void 0&&(this.settings.CASTLE=t.CASTLE),t.MOVE!==void 0&&(this.settings.MOVE=t.MOVE),t.UNDO!==void 0&&(this.settings.UNDO=t.UNDO)))}}class fi{constructor(t){this.defaultState={getLegalMoves:void 0,getPreMoves:void 0,beforeMove:void 0,afterMove:void 0,getLastMove:void 0,getLastMoveSAN:void 0,getKingLocations:void 0,getInCheck:void 0,getWhiteToMove:void 0},this.setConfigSettings=e=>{e!==void 0&&(e.getLegalMoves&&(this.getLegalMoves=e.getLegalMoves),e.getPreMoves&&(this.getPreMoves=e.getPreMoves),e.beforeMove&&(this.beforeMove=e.beforeMove),e.afterMove&&(this.afterMove=e.afterMove),e.getLastMove&&(this.getLastMove=e.getLastMove),e.getLastMoveSAN&&(this.getLastMoveSAN=e.getLastMoveSAN),e.getKingLocations&&(this.getKingLocations=e.getKingLocations),e.getInCheck&&(this.getInCheck=e.getInCheck),e.getWhiteToMove&&(this.getWhiteToMove=e.getWhiteToMove))},this.getConfig=()=>{const e={...this.getLegalMoves&&{getLegalMoves:this.getLegalMoves},...this.getPreMoves&&{getPreMoves:this.getPreMoves},...this.beforeMove&&{beforeMove:this.beforeMove},...this.afterMove&&{afterMove:this.afterMove},...this.getLastMove&&{getLastMove:this.getLastMove},...this.getLastMoveSAN&&{getLastMoveSAN:this.getLastMoveSAN},...this.getKingLocations&&{getKingLocations:this.getKingLocations},...this.getInCheck&&{getInCheck:this.getInCheck},...this.getWhiteToMove&&{getWhiteToMove:this.getWhiteToMove}};return Object.keys(e).length>0?e:void 0},this.getLegalMoves=this.defaultState.getLegalMoves,this.getPreMoves=this.defaultState.getPreMoves,this.beforeMove=this.defaultState.beforeMove,this.afterMove=this.defaultState.afterMove,this.getLastMove=this.defaultState.getLastMove,this.getLastMoveSAN=this.defaultState.getLastMoveSAN,this.getKingLocations=this.defaultState.getKingLocations,this.getInCheck=this.defaultState.getInCheck,this.getWhiteToMove=this.defaultState.getWhiteToMove,this.setConfigSettings(t)}}const bn="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class pn{constructor(t){this.getConfig=()=>({board:this.board.getConfig(),movable:this.movable.getConfig(),draggable:this.draggable.getConfig(),selectable:this.selectable.getConfig(),legal:this.legal.getConfig(),...this.legal.enabled&&{callbacks:this.callbacks.getConfig()},highlight:this.highlight.getConfig(),drawTools:this.drawTools.getConfig(),sounds:this.sounds.getConfig()}),this.pieces=[],this.markedSquares=new Set,this.board=new si(t==null?void 0:t.board),this.movable=new ni(t==null?void 0:t.movable),this.draggable=new ii(t==null?void 0:t.draggable),this.selectable=new ai(t==null?void 0:t.selectable),this.legal=new ri(t==null?void 0:t.legal),this.callbacks=new fi(t==null?void 0:t.callbacks),this.highlight=new li(t==null?void 0:t.highlight),this.drawTools=new oi(t==null?void 0:t.drawTools),this.sounds=new ui(t==null?void 0:t.sounds)}setConfigSettings(t){this.board.setConfigSettings(t.board),this.movable.setConfigSettings(t.movable),this.draggable.setConfigSettings(t.draggable),this.selectable.setConfigSettings(t.selectable),this.legal.setConfigSettings(t.legal),this.callbacks.setConfigSettings(t.callbacks),this.highlight.setConfigSettings(t.highlight),this.drawTools.setConfigSettings(t.drawTools),this.sounds.setConfigSettings(t.sounds)}}const di=["a","b","c","d","e","f","g","h"],ci=["8","7","6","5","4","3","2","1"];function Vt(s){return{x:di.indexOf(s[0]),y:ci.indexOf(s[1])}}function zt(s){return s.charCodeAt(0)-97}function hi(s){return 8-parseInt(s,10)}const gi=s=>{let t="",e=0;for(let i=0;i<s.length;i++){i!==0&&(t+="/");for(let a=0;a<s[i].length;a++){const n=s[i][a];n!=null&&e===0?n[0]==="w"?t+=n[1]:t+=n[1].toLowerCase():n!=null&&e!==0?(t+=e.toString(),e=0,n[0]==="w"?t+=n[1]:t+=n[1].toLowerCase()):e++}e!==0&&(t+=e.toString(),e=0)}return t},bi="8/8/8/8/8/8/8/8 w - - 0 1";class pi{constructor(t){this.letters={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},this.changeLegalHoverIfNeeded=e=>{e.color!==Z.LEGAL&&e.color!==Z.PREMOVE||this.state.pieces.forEach(i=>{i.square===e.square&&(e.color=e.color===Z.LEGAL?Z.LEGALHOVER:Z.PREMOVEHOVER)})},this.highlightSquare=(e,i)=>{const a={square:e,color:i};this.state.markedSquares.forEach(n=>{n.square===e&&n.color!==Z.MOVE&&n.color!==Z.CHECK&&this.state.markedSquares.delete(n)}),this.changeLegalHoverIfNeeded(a),this.state.markedSquares.add(a)},this.legalHover=e=>{this.state.markedSquares.forEach(i=>{if(i.square===e&&i.color===Z.LEGAL)i.color=Z.LEGALHOVER;else if(i.square!==e&&i.color===Z.LEGALHOVER){let a=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(a=!0)}),a||(i.color=Z.LEGAL)}})},this.preMoveHover=e=>{this.state.markedSquares.forEach(i=>{if(i.square===e&&i.color===Z.PREMOVE)i.color=Z.PREMOVEHOVER;else if(i.square!==e&&i.color===Z.PREMOVEHOVER){let a=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(a=!0)}),a||(i.color=Z.PREMOVE)}})},this.toggleSquareHighlight=(e,i)=>{const a={square:e,color:i};let n=!1;return this.state.markedSquares.forEach(r=>{r.square===e&&(this.state.markedSquares.delete(r),r.color===i&&(n=!0))}),this.changeLegalHoverIfNeeded(a),n?!0:(this.state.markedSquares.add(a),!1)},this.getSelectedSquare=()=>{let e="";return this.state.markedSquares.forEach(i=>{i.color===Z.SELECT&&(e=i.square)}),e},this.clearSquare=(e,i)=>{e.length===2&&this.state.markedSquares.forEach(a=>{a.square===e&&(a.color===i||i===void 0)&&this.state.markedSquares.delete(a)})},this.clearAllSquares=e=>{e===void 0?this.state.markedSquares.clear():this.state.markedSquares.forEach(i=>{i.color===e&&this.state.markedSquares.delete(i)})},this.setPiece=(e,i)=>{if(this.notValidThing({square:e,piece:i}))return;const a=this.state.pieces.find(n=>n.square===e);a?a.name=i:this.state.pieces.push({square:e,name:i})},this.removePiece=e=>{this.notValidThing({square:e})||this.state.pieces.forEach((i,a)=>{i.square===e&&this.state.pieces.splice(a,1)})},this.clearAllPieces=()=>{this.state.pieces.length=0},this.getGridCoordsFromSquare=e=>{if(this.notValidThing({square:e}))return{x:0,y:0};const i=e[0],a=e[1],n=this.state.board.flipped?Math.abs(this.letters[i]-7):this.letters[i],r=this.state.board.flipped?Math.abs(parseInt(a,10)-8):parseInt(a,10)-1;return typeof n!="number"||r<0||r>7?{x:0,y:0}:{x:n,y:r}},this.makeMove=e=>{if(this.notValidThing({move:e}))return;let i=!1,a;const n=e.substring(0,2),r=e.substring(2,4),o=e.substring(4);this.state.pieces.forEach(l=>{l.square===r&&(a=l,this.removePiece(l.square))}),this.state.pieces.forEach(l=>{l.square===n&&(l.square=r,i=!0,o&&(l.name=l.name[0]+o.toUpperCase()))}),i?this.state.legal.lastMove=e:a&&this.state.pieces.push(a)},this.getSquareFromIndices=(e,i)=>Object.keys(this.letters)[e]+(i+1).toString(),this.updatePiecesWithFen=e=>{const i=[...Array(8)].map(()=>Array(8).fill(null)),a=["1","2","3","4","5","6","7","8"];let n=0,r=0;for(let u=0;u<(e.includes(" ")?e.indexOf(" "):e.length);u++)if(e[u]==="/")n++,r=0;else if(!a.includes(e[u]))e[u]===e[u].toUpperCase()?i[n][r]=`w${e[u]}`:i[n][r]=`b${e[u].toUpperCase()}`,r++;else for(let f=0;f<parseInt(e[u],10);f++)i[n][r]=null,r++;const o=[],l=[];for(let u=0;u<i.length;++u)for(let f=0;f<i.length;++f){const b=i[u][f],p=this.getPieceFromSquare(this.getSquareFromIndices(f,Math.abs(u-7)));b&&!p&&o.push({square:this.getSquareFromIndices(f,Math.abs(u-7)),name:b}),!b&&p&&l.push(p),b&&p&&b!==p.name&&(o.push({square:this.getSquareFromIndices(f,Math.abs(u-7)),name:b}),l.push(p))}for(let u=0;u<l.length;u++)for(let f=0;f<o.length;f++)!o[f]||!l[u]||o[f].name===l[u].name&&(l[u].square=o[f].square,l.splice(u,1),u--,o.splice(f,1),f--);o.forEach(u=>{this.state.pieces.push(u)}),l.forEach(u=>{this.state.pieces.splice(this.state.pieces.indexOf(u),1)})},this.notValidThing=e=>{const{square:i,piece:a,move:n}=e;return!!(i&&i.length!==2||a&&a.length!==2||n&&n.length!==4&&n.length!==5)},this.setGhostPiece=e=>{this.state.draggable.ghostPiece.piece=e},this.removeGhostPiece=()=>{this.state.draggable.ghostPiece.piece=void 0},this.isCastling=e=>{switch(e){case"e1g1":case"e1c1":case"e8g8":case"e8c8":return!0;default:return!1}},this.getRookMoveIfIsCastling=e=>{switch(e){case"e1g1":return"h1f1";case"e1c1":return"a1d1";case"e8g8":return"h8f8";case"e8c8":return"a8d8";default:return}},this.isEnPassant=e=>{if(e[0]===e[2]||this.getPieceFromSquare(e.substring(2,4)))return!1;const i=this.getPieceFromSquare(e.substring(0,2));return!(i===void 0||i.name!=="wP"&&i.name!=="bP")},this.getCapturedPawnSquareIfIsEnPassant=e=>{if(e[0]===e[2]||this.getPieceFromSquare(e.substring(2,4)))return;const i=this.getPieceFromSquare(e.substring(0,2));if(i===void 0||i.name!=="wP"&&i.name!=="bP")return;const a=this.getPieceFromSquare(`${e[2]}${parseInt(e[3],10)+(i.name==="wP"?-1:1)}`);return a==null?void 0:a.square},this.isCapture=e=>!!this.getPieceFromSquare(e.substring(2,4)),this.isPromotion=e=>{if((e[1]!=="7"||e[3]!=="8")&&(e[1]!=="2"||e[3]!=="1"))return!1;const i=this.getPieceFromSquare(e.substring(0,2));return!(i&&(i.name[1]!=="P"||i.name[0]==="w"&&e[3]==="1"||i.name[0]==="b"&&e[3]==="8"))},this.callbackExists=e=>this.state.callbacks[e]!==void 0,this.flipBoard=e=>{e!==void 0?this.state.board.flipped=e:this.state.board.flipped=!this.state.board.flipped},this.setConfigSettings=e=>{this.state.setConfigSettings(e)},this.state=new pn(t),this.state.board.startFen&&this.updatePiecesWithFen(this.state.board.startFen)}getKingLocations(){const t={[ae.WHITE]:"",[ae.BLACK]:""};return this.state.pieces.forEach(e=>{e.name==="wK"&&(t[ae.WHITE]=e.square),e.name==="bK"&&(t[ae.BLACK]=e.square)}),t}getShortFEN(){if(this.state.pieces.length===0)return bi;const t=[...Array(8)].map(()=>Array(8).fill(null));return this.state.pieces.forEach(e=>{t[hi(e.square[1])][zt(e.square[0])]=e.name}),gi(t)}getPieceFromSquare(t){let e;return this.state.pieces.forEach(i=>{i.square===t&&(e=i)}),e}}const mi={[Z.LEGAL]:"legalSQ cursor-pointer",[Z.LEGALHOVER]:"legalSQ_hover cursor-pointer",[Z.SELECT]:"selectedSQ",[Z.MOVE]:"highlightMove",[Z.NEXTMOVE]:"nextMoveSQ",[Z.PREMOVE]:"preMoveSQ cursor-pointer",[Z.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[Z.CHECK]:"checkSQ"},_i={white:"#f0d9b5",black:"#b58863"},vi="standard.svg",Ei={[Z.LEGAL]:"legalSQ cursor-pointer",[Z.LEGALHOVER]:"legalSQ_hover cursor-pointer",[Z.SELECT]:"selectedSQ-darkBlue",[Z.MOVE]:"highlightMove-darkBlue",[Z.NEXTMOVE]:"nextMoveSQ",[Z.PREMOVE]:"preMoveSQ cursor-pointer",[Z.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[Z.CHECK]:"checkSQ"},wi={white:"#94A3B8",black:"#475569"},ki="darkBlue.svg",je={squareStyles:{standard:mi,darkBlue:Ei},colors:{standard:_i,darkBlue:wi},imageName:{standard:vi,darkBlue:ki}};function us(s,t,e){const i=s.slice();return i[3]=t[e],i[5]=e,i}function fs(s,t,e){const i=s.slice();return i[3]=t[e],i[5]=e,i}function ds(s){let t,e=s[2][s[1]?Math.abs(s[5]-7):s[5]]+"",i,a;return{c(){t=U("span"),i=me(e),a=te(),this.h()},l(n){t=H(n,"SPAN",{"data-file":!0,style:!0,class:!0});var r=z(t);i=_e(r,e),a=se(r),r.forEach(v),this.h()},h(){g(t,"data-file",s[3]),Me(t,"color",s[5]%2===0?je.colors[s[0]].white:je.colors[s[0]].black),g(t,"class","svelte-1hixjwp")},m(n,r){Y(n,t,r),S(t,i),S(t,a)},p(n,r){r&2&&e!==(e=n[2][n[1]?Math.abs(n[5]-7):n[5]]+"")&&Nt(i,e),r&1&&Me(t,"color",n[5]%2===0?je.colors[n[0]].white:je.colors[n[0]].black)},d(n){n&&v(t)}}}function cs(s){let t,e=(s[1]?s[5]+1:Math.abs(s[5]-8))+"",i,a,n;return{c(){t=U("span"),i=me(e),a=te(),this.h()},l(r){t=H(r,"SPAN",{"data-file":!0,style:!0,class:!0});var o=z(t);i=_e(o,e),a=se(o),o.forEach(v),this.h()},h(){g(t,"data-file",s[3]),g(t,"style",n="color: "+(s[5]%2===0?je.colors[s[0]].white:je.colors[s[0]].black)+";"+(s[1]?" text-align: right;":"")),g(t,"class","svelte-1hixjwp")},m(r,o){Y(r,t,o),S(t,i),S(t,a)},p(r,o){o&2&&e!==(e=(r[1]?r[5]+1:Math.abs(r[5]-8))+"")&&Nt(i,e),o&3&&n!==(n="color: "+(r[5]%2===0?je.colors[r[0]].white:je.colors[r[0]].black)+";"+(r[1]?" text-align: right;":""))&&g(t,"style",n)},d(r){r&&v(t)}}}function Mi(s){let t,e,i,a=s[2],n=[];for(let l=0;l<a.length;l+=1)n[l]=ds(fs(s,a,l));let r=s[2],o=[];for(let l=0;l<r.length;l+=1)o[l]=cs(us(s,r,l));return{c(){t=U("div");for(let l=0;l<n.length;l+=1)n[l].c();e=te(),i=U("div");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){t=H(l,"DIV",{class:!0});var u=z(t);for(let b=0;b<n.length;b+=1)n[b].l(u);u.forEach(v),e=se(l),i=H(l,"DIV",{class:!0});var f=z(i);for(let b=0;b<o.length;b+=1)o[b].l(f);f.forEach(v),this.h()},h(){g(t,"class","files noselect svelte-1hixjwp"),g(i,"class","ranks noselect svelte-1hixjwp")},m(l,u){Y(l,t,u);for(let f=0;f<n.length;f+=1)n[f].m(t,null);Y(l,e,u),Y(l,i,u);for(let f=0;f<o.length;f+=1)o[f].m(i,null)},p(l,[u]){if(u&7){a=l[2];let f;for(f=0;f<a.length;f+=1){const b=fs(l,a,f);n[f]?n[f].p(b,u):(n[f]=ds(b),n[f].c(),n[f].m(t,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=a.length}if(u&7){r=l[2];let f;for(f=0;f<r.length;f+=1){const b=us(l,r,f);o[f]?o[f].p(b,u):(o[f]=cs(b),o[f].c(),o[f].m(i,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=r.length}},i:ye,o:ye,d(l){l&&v(t),lt(n,l),l&&v(e),l&&v(i),lt(o,l)}}}function Si(s,t,e){let{theme:i}=t,{flipped:a}=t;const n=["a","b","c","d","e","f","g","h"];return s.$$set=r=>{"theme"in r&&e(0,i=r.theme),"flipped"in r&&e(1,a=r.flipped)},[i,a,n]}class Ai extends Ie{constructor(t){super(),Oe(this,t,Si,Mi,Fe,{theme:0,flipped:1})}}function yi(s){const t=2.5949095;return(s*=2)<1?.5*(s*s*((t+1)*s-t)):.5*((s-=2)*s*((t+1)*s+t)+2)}function Ci(s){return s*s*((1.70158+1)*s-1.70158)}function Ti(s){return--s*s*((1.70158+1)*s+1.70158)+1}function Ft(s){const t=.36363636363636365,e=8/11,i=9/10,a=4356/361,n=35442/1805,r=16061/1805,o=s*s;return s<t?7.5625*o:s<e?9.075*o-9.9*s+3.4:s<i?a*o-n*s+r:10.8*s*s-20.52*s+10.72}function Pi(s){return s<.5?.5*(1-Ft(1-s*2)):.5*Ft(s*2-1)+.5}function Li(s){return 1-Ft(1-s)}function Ii(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)}function Oi(s){return 1-Math.sqrt(1-s*s)}function Fi(s){return Math.sqrt(1- --s*s)}function Ri(s){return s<.5?4*s*s*s:.5*Math.pow(2*s-2,3)+1}function Ni(s){return s*s*s}function es(s){const t=s-1;return t*t*t+1}function qi(s){return s<.5?.5*Math.sin(13*Math.PI/2*2*s)*Math.pow(2,10*(2*s-1)):.5*Math.sin(-13*Math.PI/2*(2*s-1+1))*Math.pow(2,-10*(2*s-1))+1}function Bi(s){return Math.sin(13*s*Math.PI/2)*Math.pow(2,10*(s-1))}function Di(s){return Math.sin(-13*(s+1)*Math.PI/2)*Math.pow(2,-10*s)+1}function Ui(s){return s===0||s===1?s:s<.5?.5*Math.pow(2,20*s-10):-.5*Math.pow(2,10-s*20)+1}function Hi(s){return s===0?s:Math.pow(2,10*(s-1))}function Ki(s){return s===1?s:1-Math.pow(2,-10*s)}function Wi(s){return s/=.5,s<1?.5*s*s:(s--,-.5*(s*(s-2)-1))}function Vi(s){return s*s}function zi(s){return-s*(s-2)}function ji(s){return s<.5?8*Math.pow(s,4):-8*Math.pow(s-1,4)+1}function Gi(s){return Math.pow(s,4)}function Qi(s){return Math.pow(s-1,3)*(1-s)+1}function Xi(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)}function Yi(s){return s*s*s*s*s}function Zi(s){return--s*s*s*s*s+1}function Ji(s){return-.5*(Math.cos(Math.PI*s)-1)}function xi(s){const t=Math.cos(s*Math.PI*.5);return Math.abs(t)<1e-14?1:1-t}function $i(s){return Math.sin(s*Math.PI/2)}const Rt=Object.freeze(Object.defineProperty({__proto__:null,backIn:Ci,backInOut:yi,backOut:Ti,bounceIn:Li,bounceInOut:Pi,bounceOut:Ft,circIn:Oi,circInOut:Ii,circOut:Fi,cubicIn:Ni,cubicInOut:Ri,cubicOut:es,elasticIn:Bi,elasticInOut:qi,elasticOut:Di,expoIn:Hi,expoInOut:Ui,expoOut:Ki,quadIn:Vi,quadInOut:Wi,quadOut:zi,quartIn:Gi,quartInOut:ji,quartOut:Qi,quintIn:Yi,quintInOut:Xi,quintOut:Zi,sineIn:xi,sineInOut:Ji,sineOut:$i,linear:on},Symbol.toStringTag,{value:"Module"}));function hs(s){return Object.prototype.toString.call(s)==="[object Date]"}function jt(s,t){if(s===t||s!==s)return()=>s;const e=typeof s;if(e!==typeof t||Array.isArray(s)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(s)){const i=t.map((a,n)=>jt(s[n],a));return a=>i.map(n=>n(a))}if(e==="object"){if(!s||!t)throw new Error("Object cannot be null");if(hs(s)&&hs(t)){s=s.getTime(),t=t.getTime();const n=t-s;return r=>new Date(s+r*n)}const i=Object.keys(t),a={};return i.forEach(n=>{a[n]=jt(s[n],t[n])}),n=>{const r={};return i.forEach(o=>{r[o]=a[o](n)}),r}}if(e==="number"){const i=t-s;return a=>s+a*i}throw new Error(`Cannot interpolate ${e} values`)}function ea(s,t={}){const e=Yn(s);let i,a=s;function n(r,o){if(s==null)return e.set(s=r),Promise.resolve();a=r;let l=i,u=!1,{delay:f=0,duration:b=400,easing:p=on,interpolate:A=jt}=Ot(Ot({},t),o);if(b===0)return l&&(l.abort(),l=null),e.set(s=a),Promise.resolve();const O=Hn()+f;let I;return i=Kn(P=>{if(P<O)return!0;u||(I=A(s,r),typeof b=="function"&&(b=b(s,r)),u=!0),l&&(l.abort(),l=null);const m=P-O;return m>b?(e.set(s=r),!1):(e.set(s=I(p(m/b))),!0)}),i.promise}return{set:n,update:(r,o)=>n(r(a,s),o),subscribe:e.subscribe}}function gs(s,t,e,i){if(t===0&&e===0)return s;const a=i?["a","b","c","d","e","f","g","h"].reverse():["a","b","c","d","e","f","g","h"],n=i?["8","7","6","5","4","3","2","1"].reverse():["8","7","6","5","4","3","2","1"],r=a[a.indexOf(s[0])+t],o=n[n.indexOf(s[1])+e];if(!(!r||!o))return r+o}function bs(s,t,e){const i=t*1.15,a=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","circle");return a.setAttribute("width",(s.offsetWidth*i).toString()),a.setAttribute("height",(s.offsetHeight*i).toString()),a.style.position="absolute",a.style.zIndex="100",a.style.translate=`${e?"":"-"}${25*i/2}% -${25*i/2}%`,a.style.opacity="0.2",n.setAttribute("r",(s.offsetWidth*i/2).toString()),n.setAttribute("cx",(s.offsetWidth*i/2).toString()),n.setAttribute("cy",(s.offsetHeight*i/2).toString()),n.setAttribute("fill","black"),a.appendChild(n),a}function ta(s,t){let e;function i(_,L=1e3){let q=!1;const N=()=>{e==null?q=!1:(_(...e),e=null,setTimeout(N,L))};return(...F)=>{if(q){e=F;return}_(...F),q=!0,setTimeout(N,L)}}let a,n,r,o,l,u,f,b,p=!1,A;const O=s.parentNode;let I,P=!1,{startSquare:m,boardFlipped:c,onlyShow:d,duration:E,easingFunc:T}=t;const{coords:y}=t;s.style.cursor=d?"default":"pointer";let K=is(y).x,W=is(y).y;const V=1.6;let G=bs(s,V,c);s.draggable=!1;function j(_){const L=_.clientX-a,q=_.clientY-n;if(a=_.clientX,n=_.clientY,l+=L,u+=q,p||(Math.abs(l)>1||Math.abs(u)>1)&&(y.update(N=>({x:N.x+(a-s.offsetWidth/2-s.getBoundingClientRect().x)/s.clientWidth,y:_.pointerType==="touch"?N.y-(n-s.offsetHeight*1.5-s.getBoundingClientRect().y)/s.clientWidth:N.y-(n-s.offsetHeight/2-s.getBoundingClientRect().y)/s.clientWidth,scale:_.pointerType==="touch"?V:1}),{duration:E,easing:T}),p=!0,s.style.zIndex="30",s.style.cursor="grabbing",s.dispatchEvent(new CustomEvent("startMoving"))),!!p){if(_.pointerType==="touch"){const N=Math.floor((l+r)/s.offsetWidth),F=Math.floor((u+o)/s.offsetHeight),R=gs(m,N,F,c);if(R){if(R!==I){const k=Vt(R);G.style.left=`${k.x*12.5}%`,G.style.top=`${k.y*12.5}%`,O.appendChild(G)}}else I&&(I="")}y.update(N=>({x:N.x+L/s.clientWidth,y:N.y-q/s.clientWidth,scale:_.pointerType==="touch"?V:1}),{duration:0}),s.dispatchEvent(new CustomEvent("moving",{detail:{x:a,y:n}}))}}const X=i(j,10);function ce(){const _=window.scrollX-f,L=window.scrollY-b;f=window.scrollX,b=window.scrollY,y.update(q=>({x:q.x+_,y:q.y+L,scale:1}),{duration:0})}function B(){window.removeEventListener("pointermove",X),window.removeEventListener("pointerup",B),window.removeEventListener("pointercancel",B),document.body.removeEventListener("pointerleave",B),window.removeEventListener("scroll",ce),e=null;const _=Math.floor((l+r)/s.offsetWidth),L=Math.floor((u+o)/s.offsetHeight),q=gs(m,_,L,c);P=!1,s.dispatchEvent(new CustomEvent("dropped",{detail:q})),y.update(()=>({x:K,y:W,scale:1}),{duration:E,easing:T}).then(()=>{P||s.dispatchEvent(new CustomEvent("animationEnded")),P||(s.style.zIndex="2")}),a=0,n=0,l=0,u=0,s.style.cursor=d?"default":"pointer",setTimeout(()=>{s.style.zIndex="2"},E),p=!1,G.remove()}function h(_){if(_.button!==0||!_.isPrimary)return;K=c?7-zt(m[0]):zt(m[0]),W=c?8-parseInt(m[1],10):parseInt(m[1],10)-1,I=m;const L=_.target.getBoundingClientRect();_.pointerType==="touch"?(a=_.clientX,n=_.clientY,r=_.clientX-L.x,o=_.clientY-L.y):(a=_.clientX,n=_.clientY,r=_.offsetX,o=_.offsetY),l=0,u=0,f=window.scrollX,b=window.scrollY,P=!0,s.dispatchEvent(new CustomEvent("clicked")),window.addEventListener("pointermove",X),window.addEventListener("pointerup",B),window.addEventListener("pointercancel",B),document.body.addEventListener("pointerleave",B),window.addEventListener("scroll",ce)}function w(_){_.preventDefault()}function M(_){_.preventDefault()}return s.addEventListener("contextmenu",w),s.addEventListener("dragstart",M),d||s.addEventListener("pointerdown",h),{destroy(){s.removeEventListener("pointerdown",h),s.removeEventListener("contextmenu",w),s.removeEventListener("dragstart",M),window.clearTimeout(A)},update(_){m=_.startSquare,E=_.duration,T=_.easingFunc,_.onlyShow!==d&&(d=_.onlyShow,d?(s.removeEventListener("pointerdown",h),s.style.cursor="default"):(s.addEventListener("pointerdown",h),s.style.cursor="pointer")),c!==_.boardFlipped&&(G=bs(s,V,_.boardFlipped)),c=_.boardFlipped}}}const ps=""+new URL("../../assets/wP-f78bae6c.svg",import.meta.url).href,sa=""+new URL("../../assets/wR-5eb92d73.svg",import.meta.url).href,na=""+new URL("../../assets/wN-a4c975a2.svg",import.meta.url).href,ia=""+new URL("../../assets/wB-1ff2f149.svg",import.meta.url).href,aa=""+new URL("../../assets/wQ-8568b485.svg",import.meta.url).href,ra=""+new URL("../../assets/wK-4cdf6dc9.svg",import.meta.url).href,la=""+new URL("../../assets/bP-84e521e8.svg",import.meta.url).href,oa=""+new URL("../../assets/bR-e39efb08.svg",import.meta.url).href,ua=""+new URL("../../assets/bN-d3912d91.svg",import.meta.url).href,fa=""+new URL("../../assets/bB-c430b746.svg",import.meta.url).href,da=""+new URL("../../assets/bQ-c7b9a43e.svg",import.meta.url).href,ca=""+new URL("../../assets/bK-3500a2e6.svg",import.meta.url).href;function Gt(s){switch(s){case"wP":return ps;case"wR":return sa;case"wN":return na;case"wB":return ia;case"wQ":return aa;case"wK":return ra;case"bP":return la;case"bR":return oa;case"bN":return ua;case"bB":return fa;case"bQ":return da;case"bK":return ca;default:return ps}}function ha(s){let t,e,i,a,n;return{c(){t=U("img"),this.h()},l(r){t=H(r,"IMG",{style:!0,class:!0,src:!0,alt:!0}),this.h()},h(){Me(t,"left",s[7].x*12.5+"%"),Me(t,"bottom",s[7].y*12.5+"%"),Me(t,"scale",s[7].scale),Me(t,"z-Index",s[3]?0:s[6]),Me(t,"opacity",s[3]?.3:1),Me(t,"cursor","pointer"),g(t,"class","noselect svelte-1g241z"),ct(t.src,e=Gt(s[1]))||g(t,"src",e),g(t,"alt",s[1])},m(r,o){var l,u,f;Y(r,t,o),a||(n=[Yt(i=ta.call(null,t,{startSquare:s[0],onlyShow:!s[11](s[5]),boardFlipped:s[2],duration:(l=s[4])!=null&&l.transition.enabled?s[4].transition.settings.duration:0,easingFunc:Rt[(f=(u=s[4])==null?void 0:u.transition.settings.easing)!=null?f:"cubicInOut"],coords:s[9]})),de(t,"dropped",s[10]),de(t,"clicked",s[15]),de(t,"startMoving",s[16]),de(t,"animationEnded",s[17]),de(t,"moving",s[18])],a=!0)},p(r,[o]){var l,u,f;o&128&&Me(t,"left",r[7].x*12.5+"%"),o&128&&Me(t,"bottom",r[7].y*12.5+"%"),o&128&&Me(t,"scale",r[7].scale),o&72&&Me(t,"z-Index",r[3]?0:r[6]),o&8&&Me(t,"opacity",r[3]?.3:1),o&2&&!ct(t.src,e=Gt(r[1]))&&g(t,"src",e),o&2&&g(t,"alt",r[1]),i&&Zt(i.update)&&o&53&&i.update.call(null,{startSquare:r[0],onlyShow:!r[11](r[5]),boardFlipped:r[2],duration:(l=r[4])!=null&&l.transition.enabled?r[4].transition.settings.duration:0,easingFunc:Rt[(f=(u=r[4])==null?void 0:u.transition.settings.easing)!=null?f:"cubicInOut"],coords:r[9]})},i:ye,o:ye,d(r){r&&v(t),a=!1,Xe(n)}}}function ga(s,t,e){var X,ce;let i,a,{square:n}=t,{name:r}=t,{getGridCoordsFromSquare:o}=t,{flipped:l}=t,{isGhost:u=!1}=t,{draggableState:f=void 0}=t,{legalState:b=void 0}=t,{movableState:p=void 0}=t,{selectedPiece:A=void 0}=t,O=!1;const I=Jt();let P=(X=f==null?void 0:f.transition)!=null&&X.enabled?f.transition.settings.duration:0;const m=ea({x:0,y:0,scale:1},{duration:P,easing:Rt[(ce=f==null?void 0:f.transition.settings.easing)!=null?ce:"cubicInOut"]});Wn(s,m,B=>e(7,a=B));let c=!1;const d=B=>B[0]==="w"?ae.WHITE:ae.BLACK,E=B=>{var w;const h=o(B);m.update(()=>({x:h.x,y:h.y,scale:1}),{duration:c?P:0,easing:Rt[(w=f==null?void 0:f.transition.settings.easing)!=null?w:"cubicInOut"]}),c||(c=!0),P=f!=null&&f.transition.enabled?f.transition.settings.duration:0},T=B=>{P=0,B.detail||I("deselect"),n===B.detail?(I(O?"deselect":"select"),O=!O):O=!1,I("endDragging",n+B.detail),n!==B.detail&&B.detail&&I("move",n+B.detail)},y=B=>B!=null&&B.enabled?b!=null&&b.enabled?!!(b.preMoves.enabled&&d(r)===B.color||B.color===ae.WHITE&&b.whiteToMove&&d(r)===ae.WHITE||B.color===ae.BLACK&&!b.whiteToMove&&d(r)===ae.BLACK||B.color===ae.BOTH&&(d(r)===ae.WHITE&&b.whiteToMove||d(r)===ae.BLACK&&!b.whiteToMove)):B.color===d(r)||B.color===ae.BOTH:!1,K=B=>B===void 0||B.name!==r||B.square!==n;function W(B){Je.call(this,s,B)}function V(B){Je.call(this,s,B)}function G(B){Je.call(this,s,B)}const j=B=>{I("moving",B.detail)};return s.$$set=B=>{"square"in B&&e(0,n=B.square),"name"in B&&e(1,r=B.name),"getGridCoordsFromSquare"in B&&e(12,o=B.getGridCoordsFromSquare),"flipped"in B&&e(2,l=B.flipped),"isGhost"in B&&e(3,u=B.isGhost),"draggableState"in B&&e(4,f=B.draggableState),"legalState"in B&&e(13,b=B.legalState),"movableState"in B&&e(5,p=B.movableState),"selectedPiece"in B&&e(14,A=B.selectedPiece)},s.$$.update=()=>{s.$$.dirty&16384&&K(A)&&(O=!1),s.$$.dirty&5&&E(n),s.$$.dirty&32&&e(6,i=typeof p=="boolean"?p?2:1:p!=null&&p.enabled?2:1)},[n,r,l,u,f,p,i,a,I,m,T,y,o,b,A,W,V,G,j]}class mn extends Ie{constructor(t){super(),Oe(this,t,ga,ha,Fe,{square:0,name:1,getGridCoordsFromSquare:12,flipped:2,isGhost:3,draggableState:4,legalState:13,movableState:5,selectedPiece:14})}}function ba(s){let t,e;return{c(){t=U("div"),this.h()},l(i){t=H(i,"DIV",{style:!0,class:!0}),z(t).forEach(v),this.h()},h(){Me(t,"left",s[2]*12.5+"%"),Me(t,"bottom",s[3]*12.5+"%"),g(t,"class",e="noselect "+je.squareStyles[s[1]][s[0]]+" svelte-10vytug")},m(i,a){Y(i,t,a)},p(i,[a]){a&4&&Me(t,"left",i[2]*12.5+"%"),a&8&&Me(t,"bottom",i[3]*12.5+"%"),a&3&&e!==(e="noselect "+je.squareStyles[i[1]][i[0]]+" svelte-10vytug")&&g(t,"class",e)},i:ye,o:ye,d(i){i&&v(t)}}}function pa(s,t,e){let{square:i}=t,{color:a}=t,{getGridCoordsFromSquare:n}=t,{flipped:r}=t,{theme:o}=t,l,u;const f=()=>{const b=n(i);e(2,l=b.x),e(3,u=b.y)};return s.$$set=b=>{"square"in b&&e(4,i=b.square),"color"in b&&e(0,a=b.color),"getGridCoordsFromSquare"in b&&e(5,n=b.getGridCoordsFromSquare),"flipped"in b&&e(6,r=b.flipped),"theme"in b&&e(1,o=b.theme)},s.$$.update=()=>{s.$$.dirty&64&&f()},[a,o,l,u,i,n,r]}class ma extends Ie{constructor(t){super(),Oe(this,t,pa,ba,Fe,{square:4,color:0,getGridCoordsFromSquare:5,flipped:6,theme:1})}}const _a=["a","b","c","d","e","f","g","h"],va=["8","7","6","5","4","3","2","1"];function Ea(s){s.querySelectorAll("[sf]").forEach(t=>t.remove())}function Qt(s){return`${_a[s.x]}${va[s.y]}`}function _n(s,t){return Math.abs((s.x-t.x)*(s.y-t.y))===2}function Xt(s,t){return`${Qt(s)}${Qt(t)}`}function wa(s,t){return!!(_n(s,t)||Math.abs(s.x-t.x)===Math.abs(s.y-t.y)||s.x===t.x!=(s.y===t.y))}function vn(s,t,e,i,a,n){let r={x:-1,y:-1},o,l;_n(t,e)&&i?(Math.abs(e.x-t.x)===2?r={x:e.x,y:t.y}:r={x:t.x,y:e.y},r.y-t.y<0?l=Math.PI+Math.atan((r.x-t.x)/(r.y-t.y)):l=Math.atan((r.x-t.x)/Math.abs(r.y-t.y)),o={x:e.x-Math.sign(e.x-r.x)*(r.x!==e.x?.4:0),y:e.y-Math.sign(e.y-r.y)*(r.y!==e.y?.4:0)}):(e.y-t.y<0?l=Math.PI+Math.atan((e.x-t.x)/(e.y-t.y)):l=Math.atan((e.x-t.x)/Math.abs(e.y-t.y)),o={x:e.x-Math.sin(l)*.4,y:e.y-Math.cos(l)*.4});const u={x:t.x+Math.sin(l)*.4,y:t.y+Math.cos(l)*.4};s.setAttribute("points",`${u.x+.5},${u.y+.5} ${r.x!==-1&&r.y!==-1&&i?`${r.x+.5},${r.y+.5} `:""}${o.x+.5},${o.y+.5}`),s.setAttribute("data-sqID",`${Xt(t,e)}`),n!==void 0&&s.setAttribute("opacity",`${n}`),a!==void 0&&(s.setAttribute("marker-start",`url(#start-${a[0]})`),s.setAttribute("marker-end",`url(#end-${a[0]})`),s.setAttribute("stroke",a))}function It(s,t,e,i,a,n){if(!(t===void 0||e.x===-1&&e.y===-1)){if(t.tagName==="circle")t.setAttribute("fill","transparent"),i?t.setAttribute("stroke","red"):a?t.setAttribute("stroke","orange"):n?t.setAttribute("stroke","blue"):t.setAttribute("stroke","green"),s.querySelectorAll(`\u0441ircle[cx="${e.x+.5}"][cy="${e.y+.5}"]`).forEach(r=>{t!==void 0&&r!==t&&(r.getAttribute("stroke")===t.getAttribute("stroke")?t.setAttribute("remove",""):t.hasAttribute("remove")&&t.removeAttribute("remove"))});else if(t.tagName==="polyline"){const r=i?"red":a?"orange":n?"blue":"green";t.setAttribute("stroke",`${r}`),t.setAttribute("marker-start",`url(#start-${r[0]})`),t.setAttribute("marker-end",`url(#end-${r[0]})`),s.querySelectorAll(`polyline[data-sqID="${t.getAttribute("data-sqID")}"]`).forEach(o=>{t instanceof SVGPolylineElement&&o!==t&&(o.getAttribute("stroke")===t.getAttribute("stroke")?t.setAttribute("remove",""):t.hasAttribute("remove")&&t.removeAttribute("remove"))})}}}function En(s,t,e,i,a){const n=document.createElementNS("http://www.w3.org/2000/svg","polyline");return vn(n,s,t,e,i,a),n.setAttribute("fill","none"),n.setAttribute("stroke-width","0.25"),n.setAttribute("stroke-linejoin","round"),n.setAttribute("opacity",a!==void 0?`${a}`:"0.4"),n.setAttribute("marker-start",i?`url(#start-${i[0]})`:"url(#start-g)"),n.setAttribute("marker-end",i?`url(#end-${i[0]})`:"url(#end-g)"),n.setAttribute("stroke",i||"green"),n}function ka(s,t,e){t.forEach(i=>{const a=En(Vt(i.move.substring(0,2)),Vt(i.move.substring(2,4)),e,i.color,i.opacity);a.setAttribute("sf",""),s.appendChild(a)})}function ms(s){s.querySelectorAll("circle,polyline").forEach(t=>{t.hasAttribute("sf")||t.remove()})}function Ma(s,t){let{svg:e,flipped:i,enabled:a,settings:n}=t,r=!1,o={x:-1,y:-1},l,u;function f(m,c){const d=s.getBoundingClientRect(),E=i?d.width-(m-d.left):m-d.left,T=i?d.height-(c-d.top):c-d.top;return{x:Math.max(0,Math.min(7,Math.floor(E/(s.clientWidth/8)))),y:Math.max(0,Math.min(7,Math.floor(T/(s.clientHeight/8))))}}function b(m){u=document.createElementNS("http://www.w3.org/2000/svg","circle"),u.setAttribute("cx",`${m.x+.5}`),u.setAttribute("cy",`${m.y+.5}`),u.setAttribute("r","0.465"),u.setAttribute("opacity","0.4"),u.setAttribute("fill","none"),u.setAttribute("stroke-width","0.07"),u.setAttribute("stroke","green")}function p(m){if(u===void 0||o.x===-1&&o.y===-1)return;const c=f(m.clientX,m.clientY);n.onlyChessMove&&!wa(o,c)||(l=void 0,u.hasAttribute("remove")&&u.removeAttribute("remove"),o.x===c.x&&o.y===c.y?(Xt(o,c),u instanceof SVGPolylineElement&&(u.remove(),b(c)),It(e,u,o,m.shiftKey,m.ctrlKey,m.altKey),e.appendChild(u),e.querySelectorAll(`circle[cx="${o.x+.5}"][cy="${o.y+.5}"]`).forEach(d=>{d!==u&&(l=d,u!==void 0&&d.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))})):(u instanceof SVGCircleElement&&u.remove(),l=void 0,e.querySelectorAll(`polyline[data-sqID="${Xt(o,c)}"]`).forEach(d=>{u===void 0||o.x===-1&&o.y===-1||d===u||(l=d,d.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))}),u instanceof SVGCircleElement?(u=En(o,c,n.knightLShape),It(e,u,o,m.shiftKey,m.ctrlKey,m.altKey),e.appendChild(u)):u instanceof SVGPolylineElement&&vn(u,o,c,n.knightLShape)))}function A(m){m.preventDefault()}function O(m){m.preventDefault(),It(e,u,o,m.shiftKey,m.ctrlKey,m.altKey)}function I(m){if(m.button===0)r=!1;else if(m.button===2){if(o.x===-1&&o.y===-1)return;e.querySelectorAll("[remove]").forEach(c=>{c.remove()}),l&&l.remove(),l=void 0,(u==null?void 0:u.tagName)==="circle"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawCircle",{detail:{square:Qt(o),color:u.getAttribute("stroke")}})),(u==null?void 0:u.tagName)==="polyline"&&!u.hasAttribute("remove")&&s.dispatchEvent(new CustomEvent("drawArrow",{detail:{move:u.getAttribute("data-sqID"),color:u.getAttribute("stroke")}})),u=void 0,o={x:-1,y:-1},r=!1,window.removeEventListener("mousemove",p),window.removeEventListener("keydown",O),window.removeEventListener("keyup",O),window.removeEventListener("contextmenu",A)}window.removeEventListener("mouseup",I)}function P(m){if(m.button===0)r=!0,ms(e),window.addEventListener("mouseup",I);else if(m.button===2&&!r){const c=f(m.clientX,m.clientY);o=c,b(c),It(e,u,o,m.shiftKey,m.ctrlKey,m.altKey),l=void 0,e.querySelectorAll(`circle[cx="${c.x+.5}"][cy="${c.y+.5}"]`).forEach(d=>{l=d,u!==void 0&&d.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove","")}),u&&e.appendChild(u),window.addEventListener("mousemove",p),window.addEventListener("mouseup",I),window.addEventListener("keydown",O),window.addEventListener("keyup",O),window.addEventListener("contextmenu",A)}}return a&&s.addEventListener("mousedown",P),{update(m){m.svg!==e&&(e=m.svg),m.enabled!==a&&(a=m.enabled,a?s.addEventListener("mousedown",P):(ms(e),s.removeEventListener("mousedown",P))),n=m.settings,i=m.flipped}}}function _s(s,t,e){const i=s.slice();return i[8]=t[e],i}function vs(s){let t,e,i,a;return{c(){t=Ue("marker"),e=Ue("path"),i=Ue("marker"),a=Ue("path"),this.h()},l(n){t=He(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var r=z(t);e=He(r,"path",{fill:!0,d:!0}),z(e).forEach(v),r.forEach(v),i=He(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,orient:!0,fill:!0});var o=z(i);a=He(o,"path",{fill:!0,d:!0}),z(a).forEach(v),o.forEach(v),this.h()},h(){g(e,"fill",s[8]),g(e,"d","M 5 0 Q 0 0 0 5 L 0 15 Q 0 20 5 20 Z"),g(t,"id","start-"+s[8][0]),g(t,"viewBox","0 0 5 20"),g(t,"refX","4"),g(t,"refY","10"),g(t,"markerUnits","strokeWidth"),g(t,"markerWidth","0.5"),g(t,"markerHeight","1"),g(t,"orient","auto"),g(a,"fill",s[8]),g(a,"d","M 0 4 L 10 10 L 0 16 Z"),g(i,"id","end-"+s[8][0]),g(i,"viewBox","0 0 10 20"),g(i,"refX","0.2"),g(i,"refY","10"),g(i,"markerUnits","strokeWidth"),g(i,"orient","auto"),g(i,"fill","currentColor")},m(n,r){Y(n,t,r),S(t,e),Y(n,i,r),S(i,a)},p:ye,d(n){n&&v(t),n&&v(i)}}}function Sa(s){let t,e,i,a=s[2],n=[];for(let r=0;r<a.length;r+=1)n[r]=vs(_s(s,a,r));return{c(){t=Ue("svg"),e=Ue("defs");for(let r=0;r<n.length;r+=1)n[r].c();i=Ue("g"),this.h()},l(r){t=He(r,"svg",{xmlns:!0,style:!0,viewBox:!0,class:!0});var o=z(t);e=He(o,"defs",{});var l=z(e);for(let u=0;u<n.length;u+=1)n[u].l(l);l.forEach(v),i=He(o,"g",{}),z(i).forEach(v),o.forEach(v),this.h()},h(){g(t,"xmlns","http://www.w3.org/2000/svg"),Me(t,"transform","rotate("+(s[1]?"180deg":"0deg")+")"),g(t,"viewBox","0 0 8 8"),g(t,"class","svelte-19gv2n4")},m(r,o){Y(r,t,o),S(t,e);for(let l=0;l<n.length;l+=1)n[l].m(e,null);S(t,i),s[5](i)},p(r,[o]){if(o&4){a=r[2];let l;for(l=0;l<a.length;l+=1){const u=_s(r,a,l);n[l]?n[l].p(u,o):(n[l]=vs(u),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=a.length}o&2&&Me(t,"transform","rotate("+(r[1]?"180deg":"0deg")+")")},i:ye,o:ye,d(r){r&&v(t),lt(n,r),s[5](null)}}}function Aa(s,t,e){let{flipped:i=!1}=t,{svg:a}=t,{knightLShape:n=!1}=t,{computerArrows:r=[]}=t,o=!1;function l(b){!o||(Ea(a),ka(a,b,n))}xt(()=>{o=!0,l(r)});const u=["green","red","blue","orange"];function f(b){le[b?"unshift":"push"](()=>{a=b,e(0,a)})}return s.$$set=b=>{"flipped"in b&&e(1,i=b.flipped),"svg"in b&&e(0,a=b.svg),"knightLShape"in b&&e(3,n=b.knightLShape),"computerArrows"in b&&e(4,r=b.computerArrows)},s.$$.update=()=>{s.$$.dirty&16&&l(r)},[a,i,u,n,r,f]}class ya extends Ie{constructor(t){super(),Oe(this,t,Aa,Sa,Fe,{flipped:1,svg:0,knightLShape:3,computerArrows:4})}}function Es(s,{delay:t=0,duration:e=400,easing:i=es,x:a=0,y:n=0,opacity:r=0}={}){const o=getComputedStyle(s),l=+o.opacity,u=o.transform==="none"?"":o.transform,f=l*(1-r);return{delay:t,duration:e,easing:i,css:(b,p)=>`
			transform: ${u} translate(${(1-b)*a}px, ${(1-b)*n}px);
			opacity: ${l-f*p}`}}function ut(s,{delay:t=0,duration:e=400,easing:i=es}={}){const a=getComputedStyle(s),n=+a.opacity,r=parseFloat(a.height),o=parseFloat(a.paddingTop),l=parseFloat(a.paddingBottom),u=parseFloat(a.marginTop),f=parseFloat(a.marginBottom),b=parseFloat(a.borderTopWidth),p=parseFloat(a.borderBottomWidth);return{delay:t,duration:e,easing:i,css:A=>`overflow: hidden;opacity: ${Math.min(A*20,1)*n};height: ${A*r}px;padding-top: ${A*o}px;padding-bottom: ${A*l}px;margin-top: ${A*u}px;margin-bottom: ${A*f}px;border-top-width: ${A*b}px;border-bottom-width: ${A*p}px;`}}function Ca(s){let t,e,i,a,n,r;return{c(){t=U("button"),e=U("img"),this.h()},l(o){t=H(o,"BUTTON",{});var l=z(t);e=H(l,"IMG",{src:!0,alt:!0,class:!0}),l.forEach(v),this.h()},h(){ct(e.src,i=s[1])||g(e,"src",i),g(e,"alt",a="Promotion to "+s[0].toUpperCase()),g(e,"class","svelte-17pqsbb")},m(o,l){Y(o,t,l),S(t,e),n||(r=de(t,"click",s[2]),n=!0)},p(o,[l]){l&1&&a!==(a="Promotion to "+o[0].toUpperCase())&&g(e,"alt",a)},i:ye,o:ye,d(o){o&&v(t),n=!1,r()}}}function Ta(s,t,e){let{piece:i}=t,{isWhite:a}=t,{showModal:n}=t;const r=Jt(),o=(a?"w":"b")+i.toUpperCase(),l=Gt(o),u=()=>{r("newPromotion",i),e(3,n=!1)};return s.$$set=f=>{"piece"in f&&e(0,i=f.piece),"isWhite"in f&&e(4,a=f.isWhite),"showModal"in f&&e(3,n=f.showModal)},[i,l,u,n,a]}class Pa extends Ie{constructor(t){super(),Oe(this,t,Ta,Ca,Fe,{piece:0,isWhite:4,showModal:3})}}function ws(s,t,e){const i=s.slice();return i[6]=t[e],i}function ks(s){let t,e,i,a,n,r=["q","r","b","n"],o=[];for(let u=0;u<4;u+=1)o[u]=Ms(ws(s,r,u));const l=u=>ie(o[u],1,1,()=>{o[u]=null});return{c(){t=U("div"),e=U("div");for(let u=0;u<4;u+=1)o[u].c();this.h()},l(u){t=H(u,"DIV",{class:!0});var f=z(t);e=H(f,"DIV",{class:!0});var b=z(e);for(let p=0;p<4;p+=1)o[p].l(b);b.forEach(v),f.forEach(v),this.h()},h(){g(e,"class","modal-content svelte-it5mr1"),g(t,"class","modal svelte-it5mr1")},m(u,f){Y(u,t,f),S(t,e);for(let b=0;b<4;b+=1)o[b].m(e,null);n=!0},p(u,f){if(f&3){r=["q","r","b","n"];let b;for(b=0;b<4;b+=1){const p=ws(u,r,b);o[b]?(o[b].p(p,f),$(o[b],1)):(o[b]=Ms(p),o[b].c(),$(o[b],1),o[b].m(e,null))}for(Be(),b=4;b<4;b+=1)l(b);De()}},i(u){if(!n){for(let f=0;f<4;f+=1)$(o[f]);xe(()=>{a&&a.end(1),i=Vn(e,Es,{x:100,duration:300}),i.start()}),n=!0}},o(u){o=o.filter(Boolean);for(let f=0;f<4;f+=1)ie(o[f]);i&&i.invalidate(),a=zn(e,Es,{x:-200,duration:100}),n=!1},d(u){u&&v(t),lt(o,u),u&&a&&a.end()}}}function Ms(s){let t,e,i,a;function n(l){s[3](l)}function r(l){s[4](l)}let o={piece:s[6]};return s[1]!==void 0&&(o.isWhite=s[1]),s[0]!==void 0&&(o.showModal=s[0]),t=new Pa({props:o}),le.push(()=>be(t,"isWhite",n)),le.push(()=>be(t,"showModal",r)),t.$on("newPromotion",s[5]),{c(){ve(t.$$.fragment)},l(l){Ee(t.$$.fragment,l)},m(l,u){we(t,l,u),a=!0},p(l,u){const f={};!e&&u&2&&(e=!0,f.isWhite=l[1],pe(()=>e=!1)),!i&&u&1&&(i=!0,f.showModal=l[0],pe(()=>i=!1)),t.$set(f)},i(l){a||($(t.$$.fragment,l),a=!0)},o(l){ie(t.$$.fragment,l),a=!1},d(l){ke(t,l)}}}function La(s){let t,e,i=s[0]&&ks(s);return{c(){i&&i.c(),t=Se()},l(a){i&&i.l(a),t=Se()},m(a,n){i&&i.m(a,n),Y(a,t,n),e=!0},p(a,[n]){a[0]?i?(i.p(a,n),n&1&&$(i,1)):(i=ks(a),i.c(),$(i,1),i.m(t.parentNode,t)):i&&(Be(),ie(i,1,1,()=>{i=null}),De())},i(a){e||($(i),e=!0)},o(a){ie(i),e=!1},d(a){i&&i.d(a),a&&v(t)}}}function Ia(s,t,e){let i=!1,a;function n(u){e(0,i=!0),u?e(1,a=!0):e(1,a=!1)}function r(u){a=u,e(1,a)}function o(u){i=u,e(0,i)}function l(u){Je.call(this,s,u)}return[i,a,n,r,o,l]}class Oa extends Ie{constructor(t){super(),Oe(this,t,Ia,La,Fe,{openPromotionModal:2})}get openPromotionModal(){return this.$$.ctx[2]}}const Fa=""+new URL("../../assets/move-e4d827fe.wav",import.meta.url).href,Ra=""+new URL("../../assets/capture-3dff493a.wav",import.meta.url).href,Na=""+new URL("../../assets/castle-dcf4b2c5.wav",import.meta.url).href,qa=""+new URL("../../assets/undo-b4184324.mp3",import.meta.url).href;function Ss(s){let t,e,i,a;return{c(){t=U("audio"),e=U("track"),i=U("source"),this.h()},l(n){t=H(n,"AUDIO",{preload:!0});var r=z(t);e=H(r,"TRACK",{kind:!0}),i=H(r,"SOURCE",{src:!0}),r.forEach(v),this.h()},h(){g(e,"kind","captions"),ct(i.src,a=Fa)||g(i,"src",a),g(t,"preload","auto")},m(n,r){Y(n,t,r),S(t,e),S(t,i),s[3](t)},p:ye,d(n){n&&v(t),s[3](null)}}}function As(s){let t,e,i,a;return{c(){t=U("audio"),e=U("track"),i=U("source"),this.h()},l(n){t=H(n,"AUDIO",{preload:!0});var r=z(t);e=H(r,"TRACK",{kind:!0}),i=H(r,"SOURCE",{src:!0}),r.forEach(v),this.h()},h(){g(e,"kind","captions"),ct(i.src,a=Ra)||g(i,"src",a),g(t,"preload","auto")},m(n,r){Y(n,t,r),S(t,e),S(t,i),s[4](t)},p:ye,d(n){n&&v(t),s[4](null)}}}function ys(s){let t,e,i,a;return{c(){t=U("audio"),e=U("track"),i=U("source"),this.h()},l(n){t=H(n,"AUDIO",{preload:!0});var r=z(t);e=H(r,"TRACK",{kind:!0}),i=H(r,"SOURCE",{src:!0}),r.forEach(v),this.h()},h(){g(e,"kind","captions"),ct(i.src,a=Na)||g(i,"src",a),g(t,"preload","auto")},m(n,r){Y(n,t,r),S(t,e),S(t,i),s[5](t)},p:ye,d(n){n&&v(t),s[5](null)}}}function Cs(s){let t,e,i,a;return{c(){t=U("audio"),e=U("track"),i=U("source"),this.h()},l(n){t=H(n,"AUDIO",{preload:!0});var r=z(t);e=H(r,"TRACK",{kind:!0}),i=H(r,"SOURCE",{src:!0}),r.forEach(v),this.h()},h(){g(e,"kind","captions"),ct(i.src,a=qa)||g(i,"src",a),g(t,"preload","auto")},m(n,r){Y(n,t,r),S(t,e),S(t,i),s[6](t)},p:ye,d(n){n&&v(t),s[6](null)}}}function Ba(s){let t,e,i,a,n=s[0].MOVE&&Ss(s),r=s[0].CAPTURE&&As(s),o=s[0].CASTLE&&ys(s),l=s[0].UNDO&&Cs(s);return{c(){n&&n.c(),t=te(),r&&r.c(),e=te(),o&&o.c(),i=te(),l&&l.c(),a=Se()},l(u){n&&n.l(u),t=se(u),r&&r.l(u),e=se(u),o&&o.l(u),i=se(u),l&&l.l(u),a=Se()},m(u,f){n&&n.m(u,f),Y(u,t,f),r&&r.m(u,f),Y(u,e,f),o&&o.m(u,f),Y(u,i,f),l&&l.m(u,f),Y(u,a,f)},p(u,[f]){u[0].MOVE?n?n.p(u,f):(n=Ss(u),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),u[0].CAPTURE?r?r.p(u,f):(r=As(u),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),u[0].CASTLE?o?o.p(u,f):(o=ys(u),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null),u[0].UNDO?l?l.p(u,f):(l=Cs(u),l.c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null)},i:ye,o:ye,d(u){n&&n.d(u),u&&v(t),r&&r.d(u),u&&v(e),o&&o.d(u),u&&v(i),l&&l.d(u),u&&v(a)}}}function Da(s,t,e){let{settings:i}=t;const a={MOVE:void 0,CAPTURE:void 0,CASTLE:void 0,UNDO:void 0},n=()=>{a.CASTLE&&(a.CASTLE.pause(),e(1,a.CASTLE.currentTime=0,a)),a.MOVE&&(a.MOVE.pause(),e(1,a.MOVE.currentTime=0,a)),a.CAPTURE&&(a.CAPTURE.pause(),e(1,a.CAPTURE.currentTime=0,a)),a.UNDO&&(a.UNDO.pause(),e(1,a.UNDO.currentTime=0,a))},r=p=>p===void 0||i[p];function o(p){switch(n(),p){case"MOVE":a.MOVE&&r("MOVE")&&a.MOVE.play();break;case"CAPTURE":a.CAPTURE&&r("CAPTURE")?a.CAPTURE.play():a.MOVE&&r("MOVE")&&a.MOVE.play();break;case"CASTLE":a.CASTLE&&r("CASTLE")?a.CASTLE.play():a.MOVE&&r("MOVE")&&a.MOVE.play();break;case"UNDO":a.UNDO&&r("UNDO")?(e(1,a.UNDO.volume=.3,a),a.UNDO.play()):a.MOVE&&r("MOVE")&&a.MOVE.play();break}}function l(p){le[p?"unshift":"push"](()=>{a.MOVE=p,e(1,a)})}function u(p){le[p?"unshift":"push"](()=>{a.CAPTURE=p,e(1,a)})}function f(p){le[p?"unshift":"push"](()=>{a.CASTLE=p,e(1,a)})}function b(p){le[p?"unshift":"push"](()=>{a.UNDO=p,e(1,a)})}return s.$$set=p=>{"settings"in p&&e(0,i=p.settings)},[i,a,o,l,u,f,b]}class Ua extends Ie{constructor(t){super(),Oe(this,t,Da,Ba,Fe,{settings:0,playMoveSound:2})}get playMoveSound(){return this.$$.ctx[2]}}const Ts=""+new URL("../../assets/standard-97995bf9.svg",import.meta.url).href,Ps=""+new URL("../../assets/darkBlue-02863507.svg",import.meta.url).href;function Ha(s,t){const{minWidth:e,maxWidth:i,curWidth:a}=t;let n=a,r,o,l,u;function f(A){A.stopPropagation(),s.dispatchEvent(new CustomEvent("resizing",{detail:{size:Math.max(Math.max(e,Math.min(i,l+(A.pageX-r))),Math.max(e,Math.min(i,u+(A.pageY-o))))}}))}function b(A){A.stopPropagation(),s.dispatchEvent(new CustomEvent("endResizing",{detail:{size:Math.max(Math.max(e,Math.min(i,l+Math.floor((A.pageX-r)/8)*8)),Math.max(e,Math.min(i,u+Math.floor((A.pageY-o)/8)*8)))}})),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",b)}function p(A){A.stopPropagation(),A.button===0&&(r=A.pageX,l=n,o=A.pageY,u=n,window.addEventListener("mousemove",f),window.addEventListener("mouseup",b))}return s.addEventListener("mousedown",p),{update(A){n=A.curWidth},destroy(){s.removeEventListener("mousedown",p)}}}function Ka(s){let t,e,i,a,n,r;return{c(){t=U("div"),e=Ue("svg"),i=Ue("path"),this.h()},l(o){t=H(o,"DIV",{style:!0,class:!0});var l=z(t);e=He(l,"svg",{xmlns:!0,viewBox:!0,fill:!0});var u=z(e);i=He(u,"path",{d:!0}),z(i).forEach(v),u.forEach(v),l.forEach(v),this.h()},h(){g(i,"d","M 5 1 Q 6 0 6 2 L 6 4 Q 6 6 4 6 L 2 6 Q 0 6 1 5 Z"),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox","0 0 16 16"),g(e,"fill","currentColor"),Me(t,"color",je.colors[s[0].state.board.boardTheme].black),g(t,"class","svelte-mmuauc")},m(o,l){Y(o,t,l),S(t,e),S(e,i),n||(r=[de(t,"pointerdown",un(s[2])),Yt(a=Ha.call(null,t,{minWidth:s[0].state.board.resizible.min,maxWidth:s[0].state.board.resizible.max,curWidth:s[0].state.board.size})),de(t,"resizing",s[3]),de(t,"endResizing",s[4])],n=!0)},p(o,[l]){l&1&&Me(t,"color",je.colors[o[0].state.board.boardTheme].black),a&&Zt(a.update)&&l&1&&a.update.call(null,{minWidth:o[0].state.board.resizible.min,maxWidth:o[0].state.board.resizible.max,curWidth:o[0].state.board.size})},i:ye,o:ye,d(o){o&&v(t),n=!1,Xe(r)}}}function Wa(s,t,e){let{chessboard:i}=t,{setSize:a}=t;function n(l){Je.call(this,s,l)}const r=l=>a(l.detail.size),o=l=>a(l.detail.size);return s.$$set=l=>{"chessboard"in l&&e(0,i=l.chessboard),"setSize"in l&&e(1,a=l.setSize)},[i,a,n,r,o]}class Va extends Ie{constructor(t){super(),Oe(this,t,Wa,Ka,Fe,{chessboard:0,setSize:1})}}function Ls(s,t,e){const i=s.slice();return i[72]=t[e],i}function Is(s,t,e){const i=s.slice();return i[75]=t[e],i}function Os(s){let t=[],e=new Map,i,a,n=s[5].state.pieces;const r=o=>o[75];for(let o=0;o<n.length;o+=1){let l=Is(s,n,o),u=r(l);e.set(u,t[o]=Fs(u,l))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();i=Se()},l(o){for(let l=0;l<t.length;l+=1)t[l].l(o);i=Se()},m(o,l){for(let u=0;u<t.length;u+=1)t[u].m(o,l);Y(o,i,l),a=!0},p(o,l){l[0]&116780&&(n=o[5].state.pieces,Be(),t=fn(t,l,r,1,o,n,e,i.parentNode,dn,Fs,i,Is),De())},i(o){if(!a){for(let l=0;l<n.length;l+=1)$(t[l]);a=!0}},o(o){for(let l=0;l<t.length;l+=1)ie(t[l]);a=!1},d(o){for(let l=0;l<t.length;l+=1)t[l].d(o);o&&v(i)}}}function Fs(s,t){let e,i,a;function n(){return t[50](t[75])}function r(){return t[51](t[75])}function o(){return t[53](t[75])}return i=new mn({props:{square:t[75].square,name:t[75].name,legalState:t[5].state.legal,draggableState:t[5].state.draggable,selectedPiece:t[5].state.selectable.selectedPiece,movableState:t[5].state.movable,getGridCoordsFromSquare:t[5].getGridCoordsFromSquare,flipped:t[5].state.board.flipped}}),i.$on("move",t[14]),i.$on("clicked",n),i.$on("startMoving",r),i.$on("moving",t[15]),i.$on("endDragging",t[52]),i.$on("select",o),i.$on("deselect",t[54]),{key:s,first:null,c(){e=Se(),ve(i.$$.fragment),this.h()},l(l){e=Se(),Ee(i.$$.fragment,l),this.h()},h(){this.first=e},m(l,u){Y(l,e,u),we(i,l,u),a=!0},p(l,u){t=l;const f={};u[0]&32&&(f.square=t[75].square),u[0]&32&&(f.name=t[75].name),u[0]&32&&(f.legalState=t[5].state.legal),u[0]&32&&(f.draggableState=t[5].state.draggable),u[0]&32&&(f.selectedPiece=t[5].state.selectable.selectedPiece),u[0]&32&&(f.movableState=t[5].state.movable),u[0]&32&&(f.getGridCoordsFromSquare=t[5].getGridCoordsFromSquare),u[0]&32&&(f.flipped=t[5].state.board.flipped),i.$set(f)},i(l){a||($(i.$$.fragment,l),a=!0)},o(l){ie(i.$$.fragment,l),a=!1},d(l){l&&v(e),ke(i,l)}}}function Rs(s){let t,e;return t=new mn({props:{isGhost:!0,square:s[5].state.draggable.ghostPiece.piece.square,name:s[5].state.draggable.ghostPiece.piece.name,getGridCoordsFromSquare:s[5].getGridCoordsFromSquare,flipped:s[5].state.board.flipped}}),{c(){ve(t.$$.fragment)},l(i){Ee(t.$$.fragment,i)},m(i,a){we(t,i,a),e=!0},p(i,a){const n={};a[0]&32&&(n.square=i[5].state.draggable.ghostPiece.piece.square),a[0]&32&&(n.name=i[5].state.draggable.ghostPiece.piece.name),a[0]&32&&(n.getGridCoordsFromSquare=i[5].getGridCoordsFromSquare),a[0]&32&&(n.flipped=i[5].state.board.flipped),t.$set(n)},i(i){e||($(t.$$.fragment,i),e=!0)},o(i){ie(t.$$.fragment,i),e=!1},d(i){ke(t,i)}}}function za(s){let t=[],e=new Map,i,a,n=[...s[5].state.markedSquares];const r=o=>o[72];for(let o=0;o<n.length;o+=1){let l=Ls(s,n,o),u=r(l);e.set(u,t[o]=Ns(u,l))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();i=Se()},l(o){for(let l=0;l<t.length;l+=1)t[l].l(o);i=Se()},m(o,l){for(let u=0;u<t.length;u+=1)t[u].m(o,l);Y(o,i,l),a=!0},p(o,l){l[0]&34&&(n=[...o[5].state.markedSquares],Be(),t=fn(t,l,r,1,o,n,e,i.parentNode,dn,Ns,i,Ls),De())},i(o){if(!a){for(let l=0;l<n.length;l+=1)$(t[l]);a=!0}},o(o){for(let l=0;l<t.length;l+=1)ie(t[l]);a=!1},d(o){for(let l=0;l<t.length;l+=1)t[l].d(o);o&&v(i)}}}function Ns(s,t){let e,i,a;return i=new ma({props:{theme:t[5].state.board.boardTheme,square:t[72].square,color:t[72].color,getGridCoordsFromSquare:t[5].getGridCoordsFromSquare,flipped:t[5].state.board.flipped}}),i.$on("dragenter",t[55]),{key:s,first:null,c(){e=Se(),ve(i.$$.fragment),this.h()},l(n){e=Se(),Ee(i.$$.fragment,n),this.h()},h(){this.first=e},m(n,r){Y(n,e,r),we(i,n,r),a=!0},p(n,r){t=n;const o={};r[0]&32&&(o.theme=t[5].state.board.boardTheme),r[0]&32&&(o.square=t[72].square),r[0]&32&&(o.color=t[72].color),r[0]&32&&(o.getGridCoordsFromSquare=t[5].getGridCoordsFromSquare),r[0]&32&&(o.flipped=t[5].state.board.flipped),i.$set(o)},i(n){a||($(i.$$.fragment,n),a=!0)},o(n){ie(i.$$.fragment,n),a=!1},d(n){n&&v(e),ke(i,n)}}}function qs(s){let t,e;return t=new Ai({props:{theme:s[5].state.board.boardTheme,flipped:s[5].state.board.flipped}}),{c(){ve(t.$$.fragment)},l(i){Ee(t.$$.fragment,i)},m(i,a){we(t,i,a),e=!0},p(i,a){const n={};a[0]&32&&(n.theme=i[5].state.board.boardTheme),a[0]&32&&(n.flipped=i[5].state.board.flipped),t.$set(n)},i(i){e||($(t.$$.fragment,i),e=!0)},o(i){ie(t.$$.fragment,i),e=!1},d(i){ke(t,i)}}}function Bs(s){let t,e;return t=new Va({props:{chessboard:s[5],setSize:s[4]}}),{c(){ve(t.$$.fragment)},l(i){Ee(t.$$.fragment,i)},m(i,a){we(t,i,a),e=!0},p(i,a){const n={};a[0]&32&&(n.chessboard=i[5]),t.$set(n)},i(i){e||($(t.$$.fragment,i),e=!0)},o(i){ie(t.$$.fragment,i),e=!1},d(i){ke(t,i)}}}function Ds(s){let t,e,i;function a(r){s[56](r)}let n={flipped:s[5].state.board.flipped,computerArrows:s[10],knightLShape:s[5].state.drawTools.settings.knightLShape};return s[7]!==void 0&&(n.svg=s[7]),t=new ya({props:n}),le.push(()=>be(t,"svg",a)),{c(){ve(t.$$.fragment)},l(r){Ee(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,o){const l={};o[0]&32&&(l.flipped=r[5].state.board.flipped),o[0]&1024&&(l.computerArrows=r[10]),o[0]&32&&(l.knightLShape=r[5].state.drawTools.settings.knightLShape),!e&&o[0]&128&&(e=!0,l.svg=r[7],pe(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){ke(t,r)}}}function Us(s){let t,e,i={};return t=new Oa({props:i}),s[57](t),t.$on("newPromotion",s[17]),{c(){ve(t.$$.fragment)},l(a){Ee(t.$$.fragment,a)},m(a,n){we(t,a,n),e=!0},p(a,n){const r={};t.$set(r)},i(a){e||($(t.$$.fragment,a),e=!0)},o(a){ie(t.$$.fragment,a),e=!1},d(a){s[57](null),ke(t,a)}}}function Hs(s){let t,e,i={settings:s[5].state.sounds.settings};return t=new Ua({props:i}),s[62](t),{c(){ve(t.$$.fragment)},l(a){Ee(t.$$.fragment,a)},m(a,n){we(t,a,n),e=!0},p(a,n){const r={};n[0]&32&&(r.settings=a[5].state.sounds.settings),t.$set(r)},i(a){e||($(t.$$.fragment,a),e=!0)},o(a){ie(t.$$.fragment,a),e=!1},d(a){s[62](null),ke(t,a)}}}function ja(s){let t,e,i,a,n=s[12](),r,o,l,u,f,b,p,A,O,I,P,m,c,d=s[5].state.board.startFen&&Os(s),E=s[5].state.draggable.ghostPiece.enabled&&s[5].state.draggable.ghostPiece.piece!==void 0&&Rs(s),T=n&&za(s),y=s[5].state.board.notation&&qs(s),K=s[5].state.board.resizible.enabled&&Bs(s),W=s[5].state.drawTools.enabled&&Ds(s),V=s[5].state.legal.enabled&&Us(s),G=s[5].state.sounds.enabled&&Hs(s);return{c(){t=U("div"),e=U("div"),d&&d.c(),i=te(),E&&E.c(),a=te(),T&&T.c(),r=te(),y&&y.c(),o=te(),K&&K.c(),l=te(),W&&W.c(),u=te(),V&&V.c(),O=te(),G&&G.c(),I=Se(),this.h()},l(j){t=H(j,"DIV",{class:!0,style:!0});var X=z(t);e=H(X,"DIV",{style:!0,class:!0});var ce=z(e);d&&d.l(ce),ce.forEach(v),i=se(X),E&&E.l(X),a=se(X),T&&T.l(X),r=se(X),y&&y.l(X),o=se(X),K&&K.l(X),l=se(X),W&&W.l(X),u=se(X),V&&V.l(X),X.forEach(v),O=se(j),G&&G.l(j),I=Se(),this.h()},h(){Me(e,"width","100%"),Me(e,"height","100%"),g(e,"class","noselect"),g(t,"class",f="noselect board "+(s[5].state.board.style.shadow?"shadow":"")+" text-sm "+s[0]+" svelte-1bsiysh"),g(t,"style",b="--boardTheme: url("+(s[5].state.board.boardTheme==="standard"?Ts:Ps)+"); "+(s[5].state.board.style.borderRadius!=="0rem"&&s[5].state.board.style.borderRadius!=="0px"?`border-radius: ${s[5].state.board.style.borderRadius};`:"")),xe(()=>s[61].call(t))},m(j,X){Y(j,t,X),S(t,e),d&&d.m(e,null),S(t,i),E&&E.m(t,null),S(t,a),T&&T.m(t,null),S(t,r),y&&y.m(t,null),S(t,o),K&&K.m(t,null),S(t,l),W&&W.m(t,null),S(t,u),V&&V.m(t,null),s[60](t),A=jn(t,s[61].bind(t)),Y(j,O,X),G&&G.m(j,X),Y(j,I,X),P=!0,m||(c=[de(t,"pointerdown",s[13]),de(t,"contextmenu",as(s[48])),de(t,"drag",as(s[49])),Yt(p=Ma.call(null,t,{svg:s[7],flipped:s[5].state.board.flipped,enabled:s[5].state.drawTools.enabled,settings:s[5].state.drawTools.settings})),de(t,"drawCircle",s[58]),de(t,"drawArrow",s[59])],m=!0)},p(j,X){j[5].state.board.startFen?d?(d.p(j,X),X[0]&32&&$(d,1)):(d=Os(j),d.c(),$(d,1),d.m(e,null)):d&&(Be(),ie(d,1,1,()=>{d=null}),De()),j[5].state.draggable.ghostPiece.enabled&&j[5].state.draggable.ghostPiece.piece!==void 0?E?(E.p(j,X),X[0]&32&&$(E,1)):(E=Rs(j),E.c(),$(E,1),E.m(t,a)):E&&(Be(),ie(E,1,1,()=>{E=null}),De()),n&&T.p(j,X),j[5].state.board.notation?y?(y.p(j,X),X[0]&32&&$(y,1)):(y=qs(j),y.c(),$(y,1),y.m(t,o)):y&&(Be(),ie(y,1,1,()=>{y=null}),De()),j[5].state.board.resizible.enabled?K?(K.p(j,X),X[0]&32&&$(K,1)):(K=Bs(j),K.c(),$(K,1),K.m(t,l)):K&&(Be(),ie(K,1,1,()=>{K=null}),De()),j[5].state.drawTools.enabled?W?(W.p(j,X),X[0]&32&&$(W,1)):(W=Ds(j),W.c(),$(W,1),W.m(t,u)):W&&(Be(),ie(W,1,1,()=>{W=null}),De()),j[5].state.legal.enabled?V?(V.p(j,X),X[0]&32&&$(V,1)):(V=Us(j),V.c(),$(V,1),V.m(t,null)):V&&(Be(),ie(V,1,1,()=>{V=null}),De()),(!P||X[0]&33&&f!==(f="noselect board "+(j[5].state.board.style.shadow?"shadow":"")+" text-sm "+j[0]+" svelte-1bsiysh"))&&g(t,"class",f),(!P||X[0]&32&&b!==(b="--boardTheme: url("+(j[5].state.board.boardTheme==="standard"?Ts:Ps)+"); "+(j[5].state.board.style.borderRadius!=="0rem"&&j[5].state.board.style.borderRadius!=="0px"?`border-radius: ${j[5].state.board.style.borderRadius};`:"")))&&g(t,"style",b),p&&Zt(p.update)&&X[0]&160&&p.update.call(null,{svg:j[7],flipped:j[5].state.board.flipped,enabled:j[5].state.drawTools.enabled,settings:j[5].state.drawTools.settings}),j[5].state.sounds.enabled?G?(G.p(j,X),X[0]&32&&$(G,1)):(G=Hs(j),G.c(),$(G,1),G.m(I.parentNode,I)):G&&(Be(),ie(G,1,1,()=>{G=null}),De())},i(j){P||($(d),$(E),$(T),$(y),$(K),$(W),$(V),$(G),P=!0)},o(j){ie(d),ie(E),ie(T),ie(y),ie(K),ie(W),ie(V),ie(G),P=!1},d(j){j&&v(t),d&&d.d(),E&&E.d(),T&&T.d(),y&&y.d(),K&&K.d(),W&&W.d(),V&&V.d(),s[60](null),A(),j&&v(O),G&&G.d(j),j&&v(I),m=!1,Xe(c)}}}function Ga(s,t,e){let{config:i}=t,{className:a=""}=t;const n=new pi(i),r=Jt();let o,l,u,f,b="";Gn(()=>{document.documentElement.hasAttribute("style")&&n.state.board.resizible.enabled&&document.documentElement.removeAttribute("style")});let p=[],A={[ae.WHITE]:"",[ae.BLACK]:""};const O=C=>{n.clearAllSquares(C),C===Z.LEGAL&&n.clearAllSquares(Z.LEGALHOVER),C===Z.PREMOVE&&n.clearAllSquares(Z.PREMOVEHOVER),e(5,n)},I=(C,x)=>{n.highlightSquare(C,x),e(5,n)},P=C=>n.state.highlight.enabled&&(C===void 0||n.state.highlight.settings[C]),m=C=>{if(!n.state.selectable.enabled)return;const x=n.getPieceFromSquare(C);x!==void 0&&(O(Z.SELECT),e(5,n.state.selectable.selectedPiece=x,n),P("select")&&I(C,Z.SELECT))},c=()=>{O(Z.SELECT),O(Z.LEGAL),O(Z.PREMOVE),e(5,n.state.selectable.selectedPiece=void 0,n),e(5,n.state.legal.preMoves.curMove="",n)},d=C=>{O(Z.CHECK),C!==void 0&&P("check")&&I(A[C],Z.CHECK),e(5,n)},E=C=>{n.flipBoard(C),e(5,n)},T=(C,x)=>{C.forEach(he=>n.highlightSquare(he,x)),e(5,n)},y=(C,x=Z.MOVE)=>{C.length<4||T([C.substring(0,2),C.substring(2,4)],x)},K=(C,x=Z.MOVE)=>{const he=[];C.forEach(Ne=>{Ne.length<4||(he.push(Ne.substring(0,2)),he.push(Ne.substring(2,4)))}),T(he,x)},W=C=>{I(C.substring(2,4),Z.LEGAL)},V=(C,x=Z.LEGAL)=>{O(x),C.forEach(he=>{he.length<4||n.highlightSquare(he.substring(2,4),x)}),e(5,n)},G=(C,x=!0)=>{n.makeMove(C),x&&(O(Z.MOVE),P("move")&&y(C)),e(5,n)},j=C=>{n.removePiece(C),e(5,n)},X=C=>C[0]==="w"?ae.WHITE:ae.BLACK,ce=()=>n.state.movable.enabled&&(n.state.movable.color===ae.BOTH||n.state.legal.whiteToMove&&n.state.movable.color===X("w")||!n.state.legal.whiteToMove&&n.state.movable.color===X("b")),B=()=>{!n.state.legal.enabled||(n.state.callbacks.getWhiteToMove&&e(5,n.state.legal.whiteToMove=n.state.callbacks.getWhiteToMove(),n),n.state.callbacks.getPreMoves&&!ce()&&n.state.legal.preMoves.enabled?e(5,n.state.legal.preMoves.moves=n.state.callbacks.getPreMoves(),n):e(5,n.state.legal.preMoves.moves.length=0,n),n.state.callbacks.getLegalMoves&&ce()?e(5,n.state.legal.moves=n.state.callbacks.getLegalMoves(),n):e(5,n.state.legal.moves.length=0,n),ce()&&n.state.selectable.selectedPiece!==void 0&&n.state.legal.preMoves.enabled&&(O(Z.PREMOVE),O(Z.LEGAL),P("legal")&&n.state.legal.moves.forEach(C=>{n.state.selectable.selectedPiece&&C.substring(0,2)===n.state.selectable.selectedPiece.square&&I(C.substring(2,4),Z.LEGAL)})),n.state.callbacks.getKingLocations?A=n.state.callbacks.getKingLocations():A=n.getKingLocations(),n.state.callbacks.getInCheck&&d(n.state.callbacks.getInCheck()))},h=C=>{n.state.sounds.enabled&&u.playMoveSound(C)},w=C=>{n.setGhostPiece(C),e(5,n)},M=()=>{n.removeGhostPiece(),e(5,n)},_=C=>{if(C.substring(0,2)===C.substring(2,4))return;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(C),c();const x=n.getRookMoveIfIsCastling(C),he=n.getCapturedPawnSquareIfIsEnPassant(C);if(x&&n.state.legal.enabled&&n.state.legal.settings.allowCastling?(G(x,!1),h("CASTLE")):he&&n.state.legal.enabled&&n.state.legal.settings.allowEnPassant?(j(he),h("CAPTURE")):n.isCapture(C)?h("CAPTURE"):h("MOVE"),M(),G(C),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(C),B(),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.curMove!==""){if(n.state.legal.moves.includes(n.state.legal.preMoves.curMove)||n.state.legal.moves.includes(`${n.state.legal.preMoves.curMove}q`)){const Ne=n.state.legal.preMoves.curMove;e(5,n.state.legal.preMoves.curMove="",n),Qn().then(()=>{_(Ne)})}O(Z.NEXTMOVE)}},L=C=>{!n.state.legal.enabled||!n.state.legal.preMoves.enabled||!n.state.movable.enabled||(O(Z.PREMOVE),O(Z.NEXTMOVE),n.state.highlight.enabled&&n.state.highlight.settings.nextMove&&y(C,Z.NEXTMOVE),e(5,n.state.legal.preMoves.curMove=C,n),r("nextMove",{move:C}))},q=C=>{f.openPromotionModal(!0),b=C,n.makeMove(C),O(Z.LEGAL),O(Z.SELECT),O(Z.MOVE),y(C)},N=(C,x)=>{n.clearSquare(C,x),e(5,n)},F=()=>{n.clearAllPieces(),e(5,n)},R=(C,x)=>{n.setPiece(C,x),e(5,n)},k=(C,x)=>{var Ne;const he=(Ne=n.getPieceFromSquare(C))==null?void 0:Ne.name;!he||(x!==void 0?n.setPiece(C,`${x===ae.WHITE?"w":"b"}${he[1]}`):n.setPiece(C,`${he[0]==="w"?"b":"w"}${he[1]}`),e(5,n))},J=(C,x)=>{const he=Math.floor(C/n.state.board.size*8),Ne=Math.floor(x/n.state.board.size*8),qe=n.state.board.flipped?Math.abs(he-7):he,Le=n.state.board.flipped?Ne:Math.abs(Ne-7);return Object.keys(n.letters)[qe]+(Le+1).toString()},Q=C=>{if(!n.state.movable.enabled)return!1;if(n.state.legal.enabled){if(n.state.legal.preMoves.enabled&&(n.state.movable.color===X(C)&&n.state.legal.whiteToMove===!0&&X(C)===ae.WHITE||n.state.legal.whiteToMove===!1&&X(C)===ae.BLACK)||!n.state.legal.preMoves.enabled&&(n.state.legal.whiteToMove===!0&&X(C)===ae.WHITE||n.state.legal.whiteToMove===!1&&X(C)===ae.BLACK))return!0}else if(n.state.movable.color===ae.BOTH||n.state.movable.color===X(C))return!0;return!1},oe=C=>{if(C.button===2){c();return}const x=o.getBoundingClientRect(),he=C.clientX-x.left,Ne=C.clientY-x.top,qe=J(he,Ne),Le=n.getPieceFromSquare(qe);if(r("squareClick",{square:qe,piece:Le?Le.name:void 0}),!n.state.selectable.enabled){c();return}if(n.state.selectable.selectedPiece!==void 0&&n.state.selectable.selectedPiece.square!==qe&&!n.state.legal.enabled){_(n.state.selectable.selectedPiece.square+qe),c();return}if(n.state.selectable.selectedPiece!==void 0&&n.state.selectable.selectedPiece.square!==qe&&(Le===void 0||Le.name[0]!==n.state.selectable.selectedPiece.name[0])){n.isPromotion(n.state.selectable.selectedPiece.square+qe)&&n.state.legal.moves.includes(`${n.state.selectable.selectedPiece.square+qe}q`)?q(n.state.selectable.selectedPiece.square+qe):n.state.legal.moves.includes(n.state.selectable.selectedPiece.square+qe)?_(n.state.selectable.selectedPiece.square+qe):n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.includes(n.state.selectable.selectedPiece.square+qe)&&L(n.state.selectable.selectedPiece.square+qe),c();return}n.state.selectable.selectedPiece!==Le&&Le!==void 0&&n.state.movable.enabled&&(n.state.movable.color===ae.BOTH||n.state.movable.color===X(Le.name))&&(P("legal")&&n.state.legal.enabled&&ce()&&(O(Z.LEGAL),n.state.legal.moves.forEach(tt=>{tt.substring(0,2)===qe&&I(tt.substring(2,4),Z.LEGAL)})),P("preMove")&&n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.movable.color!==ae.BOTH&&!ce()&&(O(Z.PREMOVE),n.state.legal.preMoves.moves.forEach(tt=>{tt.substring(0,2)===qe&&I(tt.substring(2,4),Z.PREMOVE)})),(n.state.legal.enabled&&Q(Le.name[0])||!n.state.legal.enabled)&&m(Le.square))},ee=C=>{const x=C.detail;n.state.legal.enabled?n.isPromotion(x)&&n.state.legal.moves.includes(`${x}q`)?q(x):n.state.legal.moves.includes(x)?_(x):n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.includes(x)?L(x):c():_(x),O(Z.LEGAL),O(Z.PREMOVE),e(5,n)},re=(C,x="MOVE")=>{if(n.updatePiecesWithFen(C),O(),M(),B(),n.state.callbacks.getLastMove){const he=n.state.callbacks.getLastMove();e(5,n.state.legal.lastMove=he,n),x!==!1&&(x!=="MOVE"?h(x):n.isCastling(he)?h("CASTLE"):h(x)),y(he)}else x!==!1&&h(x);e(5,n)},fe=()=>n.getShortFEN(),ue=C=>{!C||n.state.board.size===C||(e(5,n.state.board.size=C,n),n.state.board.resizible.enabled&&document.documentElement.style.setProperty("--boardSize",`${n.state.board.size}px`))},Ce=C=>{var x;return(x=n.getPieceFromSquare(C))==null?void 0:x.name},ne=C=>{e(10,p=C)},Te=()=>{e(10,p.length=0,p)},Pe=()=>{B()},Ke=C=>{C===!1?e(5,n.state.movable.enabled=!1,n):(e(5,n.state.movable.enabled=!0,n),e(5,n.state.movable.color=C===!0?ae.BOTH:C,n))},We=C=>{C!==void 0&&(n.setConfigSettings(C),e(5,n))},Re=()=>n.state,Ve=C=>{e(5,n.state=C,n),O(),B(),n.state.legal.enabled&&n.state.legal.lastMove!==""&&P("move")&&y(n.state.legal.lastMove),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.curMove!==""&&P("nextMove")&&y(n.state.legal.preMoves.curMove,Z.NEXTMOVE),n.state.selectable.enabled&&n.state.selectable.selectedPiece!==void 0&&(P("select")&&Q(n.state.selectable.selectedPiece.name)&&I(n.state.selectable.selectedPiece.square,Z.SELECT),n.state.legal.enabled&&n.state.legal.moves.length>0&&P("legal")&&n.state.legal.moves.forEach(x=>{var he;x.substring(0,2)===((he=n.state.selectable.selectedPiece)==null?void 0:he.square)&&I(x.substring(2,4),Z.LEGAL)}),n.state.legal.enabled&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.length>0&&P("preMove")&&n.state.legal.preMoves.moves.forEach(x=>{var he;x.substring(0,2)===((he=n.state.selectable.selectedPiece)==null?void 0:he.square)&&I(x.substring(2,4),Z.PREMOVE)}))},Et=C=>C.getConfig(),ht=C=>{const x=o.getBoundingClientRect();n.state.legal.enabled&&(ce()&&n.legalHover(J(C.detail.x-x.x,C.detail.y-x.y)),!ce()&&n.state.legal.preMoves.enabled&&n.preMoveHover(J(C.detail.x-x.x,C.detail.y-x.y))),e(5,n)},gt=C=>{n.state.draggable.ghostPiece&&w(C),O(Z.SELECT),n.state.selectable.selectedPiece===void 0&&(P("legal")&&n.state.legal.enabled&&n.state.legal.moves.forEach(x=>{x.substring(0,2)===C.square&&I(x.substring(2,4),Z.LEGAL)}),P("preMove")&&n.state.legal.preMoves.enabled&&n.state.legal.preMoves.moves.forEach(x=>{x.substring(0,2)===C.square&&I(x.substring(2,4),Z.PREMOVE)}))},$e=C=>{const x=n.getPieceFromSquare(b.substring(2,4));if(!x)return;const he=x.name[0]+C.detail.toUpperCase(),Ne=b+C.detail;n.state.callbacks.beforeMove&&n.state.callbacks.beforeMove(Ne),n.setPiece(x.square,he),e(5,n),h("MOVE"),n.state.callbacks.afterMove&&n.state.callbacks.afterMove(Ne),B()};xt(()=>{B(),n.state.callbacks.getLastMove&&y(n.state.callbacks.getLastMove()),n.state.board.resizible&&ue(n.state.board.size-n.state.board.size%8)});function wt(C){Je.call(this,s,C)}function kt(C){Je.call(this,s,C)}const Ye=C=>{r("piececlick",{piece:C})},Mt=C=>{r("startDragging",{piece:C}),gt(C)};function bt(C){Je.call(this,s,C)}const St=C=>m(C.square),Ge=()=>c(),At=C=>{I(C.detail.square,Z.LEGALHOVER)};function Qe(C){l=C,e(7,l)}function et(C){le[C?"unshift":"push"](()=>{f=C,e(9,f)})}const yt=C=>r("drawCircle",{square:C.detail.square,color:C.detail.color}),Pt=C=>r("drawArrow",{move:C.detail.move,color:C.detail.color});function qt(C){le[C?"unshift":"push"](()=>{o=C,e(6,o)})}function Bt(){n.state.board.size=this.clientWidth,e(5,n)}function Dt(C){le[C?"unshift":"push"](()=>{u=C,e(8,u)})}return s.$$set=C=>{"config"in C&&e(18,i=C.config),"className"in C&&e(0,a=C.className)},s.$$.update=()=>{s.$$.dirty[0]&32&&ue(n.state.board.size-n.state.board.size%8)},[a,I,m,c,ue,n,o,l,u,f,p,r,P,oe,ee,ht,gt,$e,i,O,E,T,y,K,W,V,G,j,h,_,L,q,N,F,R,k,J,re,fe,Ce,ne,Te,Pe,Ke,We,Re,Ve,Et,wt,kt,Ye,Mt,bt,St,Ge,At,Qe,et,yt,Pt,qt,Bt,Dt]}class Qa extends Ie{constructor(t){super(),Oe(this,t,Ga,ja,Fe,{config:18,className:0,clearAllSquares:19,highlightSquare:1,selectPiece:2,deselect:3,flipBoard:20,highlightManySquares:21,highlightMove:22,highlightMoves:23,highlightLegalMove:24,highlightLegalMoves:25,movePiece:26,removePiece:27,playMoveSound:28,makeMove:29,makeNextMove:30,makeMovePromotion:31,removeSquareHighlight:32,removeAllPiece:33,createPiece:34,changeColorOfPiece:35,getSquareFromCoords:36,setFEN:37,getShortFEN:38,setSize:4,getPieceFromSquare:39,setComputerArrows:40,removeComputerArrows:41,updateLegalState:42,setMovableColor:43,setConfigSettings:44,getState:45,setState:46,getConfigFromState:47},null,[-1,-1,-1])}get clearAllSquares(){return this.$$.ctx[19]}get highlightSquare(){return this.$$.ctx[1]}get selectPiece(){return this.$$.ctx[2]}get deselect(){return this.$$.ctx[3]}get flipBoard(){return this.$$.ctx[20]}get highlightManySquares(){return this.$$.ctx[21]}get highlightMove(){return this.$$.ctx[22]}get highlightMoves(){return this.$$.ctx[23]}get highlightLegalMove(){return this.$$.ctx[24]}get highlightLegalMoves(){return this.$$.ctx[25]}get movePiece(){return this.$$.ctx[26]}get removePiece(){return this.$$.ctx[27]}get playMoveSound(){return this.$$.ctx[28]}get makeMove(){return this.$$.ctx[29]}get makeNextMove(){return this.$$.ctx[30]}get makeMovePromotion(){return this.$$.ctx[31]}get removeSquareHighlight(){return this.$$.ctx[32]}get removeAllPiece(){return this.$$.ctx[33]}get createPiece(){return this.$$.ctx[34]}get changeColorOfPiece(){return this.$$.ctx[35]}get getSquareFromCoords(){return this.$$.ctx[36]}get setFEN(){return this.$$.ctx[37]}get getShortFEN(){return this.$$.ctx[38]}get setSize(){return this.$$.ctx[4]}get getPieceFromSquare(){return this.$$.ctx[39]}get setComputerArrows(){return this.$$.ctx[40]}get removeComputerArrows(){return this.$$.ctx[41]}get updateLegalState(){return this.$$.ctx[42]}get setMovableColor(){return this.$$.ctx[43]}get setConfigSettings(){return this.$$.ctx[44]}get getState(){return this.$$.ctx[45]}get setState(){return this.$$.ctx[46]}get getConfigFromState(){return this.$$.ctx[47]}}const Ks=["standard","darkBlue"],Ws=["backIn","backInOut","backOut","bounceIn","bounceInOut","bounceOut","circIn","circInOut","circOut","cubicIn","cubicInOut","cubicOut","elasticIn","elasticInOut","elasticOut","expoIn","expoInOut","expoOut","linear","quadIn","quadInOut","quadOut","quartIn","quartInOut","quartOut","quintIn","quintInOut","quintOut","sineIn","sineInOut","sineOut"];function Vs(s){let t,e,i;return{c(){t=U("input"),this.h()},l(a){t=H(a,"INPUT",{type:!0,class:!0}),this.h()},h(){g(t,"type","checkbox"),g(t,"class","mr-1")},m(a,n){Y(a,t,n),t.checked=s[0],e||(i=[de(t,"click",un(s[6])),de(t,"change",s[7])],e=!0)},p(a,n){n&1&&(t.checked=a[0])},d(a){a&&v(t),e=!1,Xe(i)}}}function zs(s){let t,e,i;return{c(){t=Ue("svg"),e=Ue("path"),this.h()},l(a){t=He(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var n=z(t);e=He(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),z(e).forEach(v),n.forEach(v),this.h()},h(){g(e,"fill-rule","evenodd"),g(e,"d","M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"),g(e,"clip-rule","evenodd"),g(t,"xmlns","http://www.w3.org/2000/svg"),g(t,"viewBox","0 0 20 20"),g(t,"fill","currentColor"),g(t,"class",i="w-5 h-5 transition "+(s[1]?"rotate-180":"rotate-0"))},m(a,n){Y(a,t,n),S(t,e)},p(a,n){n&2&&i!==(i="w-5 h-5 transition "+(a[1]?"rotate-180":"rotate-0"))&&g(t,"class",i)},d(a){a&&v(t)}}}function js(s){let t,e,i;const a=s[5].default,n=nn(a,s,s[4],null);return{c(){t=U("div"),n&&n.c(),this.h()},l(r){t=H(r,"DIV",{class:!0});var o=z(t);n&&n.l(o),o.forEach(v),this.h()},h(){g(t,"class","py-2 px-4")},m(r,o){Y(r,t,o),n&&n.m(t,null),i=!0},p(r,o){n&&n.p&&(!i||o&16)&&an(n,a,r,r[4],i?ln(a,r[4],o,null):rn(r[4]),null)},i(r){i||($(n,r),r&&xe(()=>{e||(e=ot(t,ut,{},!0)),e.run(1)}),i=!0)},o(r){ie(n,r),r&&(e||(e=ot(t,ut,{},!1)),e.run(0)),i=!1},d(r){r&&v(t),n&&n.d(r),r&&e&&e.end()}}}function Xa(s){let t,e,i,a,n,r,o,l,u,f,b,p,A,O,I=s[0]!==void 0&&Vs(s),P=s[3]&&zs(s),m=s[1]&&js(s);return{c(){t=U("div"),e=U("button"),i=U("div"),I&&I.c(),a=te(),n=U("span"),r=me(s[2]),l=te(),P&&P.c(),b=te(),m&&m.c(),this.h()},l(c){t=H(c,"DIV",{class:!0});var d=z(t);e=H(d,"BUTTON",{class:!0});var E=z(e);i=H(E,"DIV",{class:!0});var T=z(i);I&&I.l(T),a=se(T),n=H(T,"SPAN",{class:!0});var y=z(n);r=_e(y,s[2]),y.forEach(v),T.forEach(v),l=se(E),P&&P.l(E),E.forEach(v),b=se(d),m&&m.l(d),d.forEach(v),this.h()},h(){g(n,"class",o=s[0]===void 0?"ml-[21px]":""),g(i,"class","flex gap-1"),g(e,"class",u="flex justify-between px-4 py-2 "+(s[3]?"transition hover:bg-slate-800/40":"")+" rounded"),e.disabled=f=!s[3],g(t,"class","bg-slate-900/20 rounded shadow-lg flex flex-col")},m(c,d){Y(c,t,d),S(t,e),S(e,i),I&&I.m(i,null),S(i,a),S(i,n),S(n,r),S(e,l),P&&P.m(e,null),S(t,b),m&&m.m(t,null),p=!0,A||(O=de(e,"click",s[8]),A=!0)},p(c,[d]){c[0]!==void 0?I?I.p(c,d):(I=Vs(c),I.c(),I.m(i,a)):I&&(I.d(1),I=null),(!p||d&4)&&Nt(r,c[2]),(!p||d&1&&o!==(o=c[0]===void 0?"ml-[21px]":""))&&g(n,"class",o),c[3]?P?P.p(c,d):(P=zs(c),P.c(),P.m(e,null)):P&&(P.d(1),P=null),(!p||d&8&&u!==(u="flex justify-between px-4 py-2 "+(c[3]?"transition hover:bg-slate-800/40":"")+" rounded"))&&g(e,"class",u),(!p||d&8&&f!==(f=!c[3]))&&(e.disabled=f),c[1]?m?(m.p(c,d),d&2&&$(m,1)):(m=js(c),m.c(),$(m,1),m.m(t,null)):m&&(Be(),ie(m,1,1,()=>{m=null}),De())},i(c){p||($(m),p=!0)},o(c){ie(m),p=!1},d(c){c&&v(t),I&&I.d(),P&&P.d(),m&&m.d(),A=!1,O()}}}function Ya(s,t,e){let{$$slots:i={},$$scope:a}=t,{name:n="board"}=t,{enabled:r=void 0}=t,{showExpand:o=!0}=t,{expanded:l=!1}=t;function u(p){Je.call(this,s,p)}function f(){r=this.checked,e(0,r)}const b=()=>{e(1,l=!l)};return s.$$set=p=>{"name"in p&&e(2,n=p.name),"enabled"in p&&e(0,r=p.enabled),"showExpand"in p&&e(3,o=p.showExpand),"expanded"in p&&e(1,l=p.expanded),"$$scope"in p&&e(4,a=p.$$scope)},[r,l,n,o,a,i,u,f,b]}class ft extends Ie{constructor(t){super(),Oe(this,t,Ya,Xa,Fe,{name:2,enabled:0,showExpand:3,expanded:1})}}function Gs(s,t,e){const i=s.slice();return i[21]=t[e],i}function Qs(s){let t,e=s[21]+"",i;return{c(){t=U("option"),i=me(e),this.h()},l(a){t=H(a,"OPTION",{});var n=z(t);i=_e(n,e),n.forEach(v),this.h()},h(){t.__value=s[21],t.value=t.__value},m(a,n){Y(a,t,n),S(t,i)},p:ye,d(a){a&&v(t)}}}function Xs(s){let t,e,i,a,n,r,o,l,u,f,b,p,A,O,I,P;return{c(){t=U("div"),e=U("div"),i=U("input"),a=te(),n=U("label"),r=me("shadow"),o=te(),l=U("div"),u=U("input"),f=te(),b=U("label"),p=me("border-radius (rem)"),this.h()},l(m){t=H(m,"DIV",{class:!0});var c=z(t);e=H(c,"DIV",{class:!0});var d=z(e);i=H(d,"INPUT",{id:!0,type:!0,class:!0}),a=se(d),n=H(d,"LABEL",{for:!0,class:!0});var E=z(n);r=_e(E,"shadow"),E.forEach(v),d.forEach(v),o=se(c),l=H(c,"DIV",{class:!0});var T=z(l);u=H(T,"INPUT",{id:!0,type:!0,class:!0,min:!0,max:!0}),f=se(T),b=H(T,"LABEL",{for:!0,class:!0});var y=z(b);p=_e(y,"border-radius (rem)"),y.forEach(v),T.forEach(v),c.forEach(v),this.h()},h(){g(i,"id","shadow"),g(i,"type","checkbox"),g(i,"class","svelte-lnr7xr"),g(n,"for","shadow"),g(n,"class","select-none"),g(e,"class","flex gap-2 mb-2"),g(u,"id","borderRadius"),g(u,"type","number"),g(u,"class","w-16 svelte-lnr7xr"),g(u,"min",0),g(u,"max",1),g(b,"for","borderRadius"),g(b,"class","select-none whitespace-nowrap"),g(l,"class","flex gap-2 mb-2"),g(t,"class","pl-2 pr-4 flex-col")},m(m,c){Y(m,t,c),S(t,e),S(e,i),i.checked=s[3],S(e,a),S(e,n),S(n,r),S(t,o),S(t,l),S(l,u),at(u,s[9]),S(l,f),S(l,b),S(b,p),O=!0,I||(P=[de(i,"change",s[16]),de(u,"input",s[17])],I=!0)},p(m,c){c&8&&(i.checked=m[3]),c&512&&rt(u.value)!==m[9]&&at(u,m[9])},i(m){O||(m&&xe(()=>{A||(A=ot(t,ut,{},!0)),A.run(1)}),O=!0)},o(m){m&&(A||(A=ot(t,ut,{},!1)),A.run(0)),O=!1},d(m){m&&v(t),m&&A&&A.end(),I=!1,Xe(P)}}}function Ys(s){let t,e,i,a,n,r,o,l,u,f,b,p,A,O,I,P;return{c(){t=U("div"),e=U("div"),i=U("input"),a=te(),n=U("label"),r=me("min"),o=te(),l=U("div"),u=U("input"),f=te(),b=U("label"),p=me("max"),this.h()},l(m){t=H(m,"DIV",{class:!0});var c=z(t);e=H(c,"DIV",{class:!0});var d=z(e);i=H(d,"INPUT",{id:!0,type:!0,class:!0}),a=se(d),n=H(d,"LABEL",{for:!0,class:!0});var E=z(n);r=_e(E,"min"),E.forEach(v),d.forEach(v),o=se(c),l=H(c,"DIV",{class:!0});var T=z(l);u=H(T,"INPUT",{id:!0,type:!0,class:!0}),f=se(T),b=H(T,"LABEL",{for:!0,class:!0});var y=z(b);p=_e(y,"max"),y.forEach(v),T.forEach(v),c.forEach(v),this.h()},h(){g(i,"id","resizibleMin"),g(i,"type","number"),g(i,"class","w-16 svelte-lnr7xr"),g(n,"for","resizibleMin"),g(n,"class","select-none"),g(e,"class","flex gap-2 mb-2"),g(u,"id","resizibleMax"),g(u,"type","number"),g(u,"class","w-16 svelte-lnr7xr"),g(b,"for","resizibleMax"),g(b,"class","select-none"),g(l,"class","flex gap-2"),g(t,"class","pl-2 pr-4 flex-col")},m(m,c){Y(m,t,c),S(t,e),S(e,i),at(i,s[5]),S(e,a),S(e,n),S(n,r),S(t,o),S(t,l),S(l,u),at(u,s[6]),S(l,f),S(l,b),S(b,p),O=!0,I||(P=[de(i,"input",s[19]),de(u,"input",s[20])],I=!0)},p(m,c){c&32&&rt(i.value)!==m[5]&&at(i,m[5]),c&64&&rt(u.value)!==m[6]&&at(u,m[6])},i(m){O||(m&&xe(()=>{A||(A=ot(t,ut,{},!0)),A.run(1)}),O=!0)},o(m){m&&(A||(A=ot(t,ut,{},!1)),A.run(0)),O=!1},d(m){m&&v(t),m&&A&&A.end(),I=!1,Xe(P)}}}function Za(s){let t,e,i,a,n,r,o,l,u,f,b,p,A,O,I,P,m,c,d,E,T,y,K,W,V,G,j,X,ce,B,h,w,M,_,L=Ks,q=[];for(let R=0;R<L.length;R+=1)q[R]=Qs(Gs(s,L,R));let N=s[10]&&Xs(s),F=s[4]&&Ys(s);return{c(){t=U("div"),e=U("select");for(let R=0;R<q.length;R+=1)q[R].c();i=te(),a=U("label"),n=me("board theme"),r=te(),o=U("div"),l=U("input"),u=te(),f=U("label"),b=me("notation"),p=te(),A=U("div"),O=U("input"),I=te(),P=U("label"),m=me("flipped"),c=te(),d=U("div"),E=U("input"),T=te(),y=U("label"),K=me("style"),W=te(),N&&N.c(),V=te(),G=U("div"),j=U("input"),X=te(),ce=U("label"),B=me("resizible"),h=te(),F&&F.c(),w=Se(),this.h()},l(R){t=H(R,"DIV",{class:!0});var k=z(t);e=H(k,"SELECT",{class:!0});var J=z(e);for(let Pe=0;Pe<q.length;Pe+=1)q[Pe].l(J);J.forEach(v),i=se(k),a=H(k,"LABEL",{for:!0,class:!0});var Q=z(a);n=_e(Q,"board theme"),Q.forEach(v),k.forEach(v),r=se(R),o=H(R,"DIV",{class:!0});var oe=z(o);l=H(oe,"INPUT",{id:!0,type:!0,class:!0}),u=se(oe),f=H(oe,"LABEL",{for:!0,class:!0});var ee=z(f);b=_e(ee,"notation"),ee.forEach(v),oe.forEach(v),p=se(R),A=H(R,"DIV",{class:!0});var re=z(A);O=H(re,"INPUT",{id:!0,type:!0,class:!0}),I=se(re),P=H(re,"LABEL",{for:!0,class:!0});var fe=z(P);m=_e(fe,"flipped"),fe.forEach(v),re.forEach(v),c=se(R),d=H(R,"DIV",{});var ue=z(d);E=H(ue,"INPUT",{id:!0,type:!0,class:!0}),T=se(ue),y=H(ue,"LABEL",{for:!0,class:!0});var Ce=z(y);K=_e(Ce,"style"),Ce.forEach(v),ue.forEach(v),W=se(R),N&&N.l(R),V=se(R),G=H(R,"DIV",{class:!0});var ne=z(G);j=H(ne,"INPUT",{id:!0,type:!0,class:!0}),X=se(ne),ce=H(ne,"LABEL",{for:!0,class:!0});var Te=z(ce);B=_e(Te,"resizible"),Te.forEach(v),ne.forEach(v),h=se(R),F&&F.l(R),w=Se(),this.h()},h(){g(e,"class","svelte-lnr7xr"),s[0]===void 0&&xe(()=>s[12].call(e)),g(a,"for","boardTheme"),g(a,"class","select-none"),g(t,"class","mb-2"),g(l,"id","notation"),g(l,"type","checkbox"),g(l,"class","svelte-lnr7xr"),g(f,"for","notation"),g(f,"class","select-none"),g(o,"class","mb-2"),g(O,"id","flipped"),g(O,"type","checkbox"),g(O,"class","svelte-lnr7xr"),g(P,"for","flipped"),g(P,"class","select-none"),g(A,"class","mb-2"),g(E,"id","styleEnabled"),g(E,"type","checkbox"),g(E,"class","svelte-lnr7xr"),g(y,"for","styleEnabled"),g(y,"class","select-none"),g(j,"id","resizibleEnabled"),g(j,"type","checkbox"),g(j,"class","svelte-lnr7xr"),g(ce,"for","resizibleEnabled"),g(ce,"class","select-none"),g(G,"class","mt-2 mb-1")},m(R,k){Y(R,t,k),S(t,e);for(let J=0;J<q.length;J+=1)q[J].m(e,null);vt(e,s[0]),S(t,i),S(t,a),S(a,n),Y(R,r,k),Y(R,o,k),S(o,l),l.checked=s[1],S(o,u),S(o,f),S(f,b),Y(R,p,k),Y(R,A,k),S(A,O),O.checked=s[2],S(A,I),S(A,P),S(P,m),Y(R,c,k),Y(R,d,k),S(d,E),E.checked=s[10],S(d,T),S(d,y),S(y,K),Y(R,W,k),N&&N.m(R,k),Y(R,V,k),Y(R,G,k),S(G,j),j.checked=s[4],S(G,X),S(G,ce),S(ce,B),Y(R,h,k),F&&F.m(R,k),Y(R,w,k),M||(_=[de(e,"change",s[12]),de(l,"change",s[13]),de(O,"change",s[14]),de(E,"change",s[15]),de(j,"change",s[18])],M=!0)},p(R,k){if(k&0){L=Ks;let J;for(J=0;J<L.length;J+=1){const Q=Gs(R,L,J);q[J]?q[J].p(Q,k):(q[J]=Qs(Q),q[J].c(),q[J].m(e,null))}for(;J<q.length;J+=1)q[J].d(1);q.length=L.length}k&1&&vt(e,R[0]),k&2&&(l.checked=R[1]),k&4&&(O.checked=R[2]),k&1024&&(E.checked=R[10]),R[10]?N?(N.p(R,k),k&1024&&$(N,1)):(N=Xs(R),N.c(),$(N,1),N.m(V.parentNode,V)):N&&(Be(),ie(N,1,1,()=>{N=null}),De()),k&16&&(j.checked=R[4]),R[4]?F?(F.p(R,k),k&16&&$(F,1)):(F=Ys(R),F.c(),$(F,1),F.m(w.parentNode,w)):F&&(Be(),ie(F,1,1,()=>{F=null}),De())},d(R){R&&v(t),lt(q,R),R&&v(r),R&&v(o),R&&v(p),R&&v(A),R&&v(c),R&&v(d),R&&v(W),N&&N.d(R),R&&v(V),R&&v(G),R&&v(h),F&&F.d(R),R&&v(w),M=!1,Xe(_)}}}function Ja(s){let t,e;return t=new ft({props:{name:s[7],expanded:s[8],$$slots:{default:[Za]},$$scope:{ctx:s}}}),{c(){ve(t.$$.fragment)},l(i){Ee(t.$$.fragment,i)},m(i,a){we(t,i,a),e=!0},p(i,[a]){const n={};a&128&&(n.name=i[7]),a&256&&(n.expanded=i[8]),a&16778879&&(n.$$scope={dirty:a,ctx:i}),t.$set(n)},i(i){e||($(t.$$.fragment,i),e=!0)},o(i){ie(t.$$.fragment,i),e=!1},d(i){ke(t,i)}}}function xa(s,t,e){let{name:i="Board"}=t,{boardTheme:a}=t,{notation:n}=t,{flipped:r}=t,{shadow:o}=t,{borderRadius:l="0px"}=t,{resizible:u=!1}=t,{min:f=0}=t,{max:b=0}=t,{expanded:p=!1}=t,A=!0,O=parseFloat(l.endsWith("px")?l.slice(0,-2):l.slice(0,-3));function I(){a=$t(this),e(0,a)}function P(){n=this.checked,e(1,n)}function m(){r=this.checked,e(2,r)}function c(){A=this.checked,e(10,A)}function d(){o=this.checked,e(3,o)}function E(){O=rt(this.value),e(9,O)}function T(){u=this.checked,e(4,u)}function y(){f=rt(this.value),e(5,f)}function K(){b=rt(this.value),e(6,b)}return s.$$set=W=>{"name"in W&&e(7,i=W.name),"boardTheme"in W&&e(0,a=W.boardTheme),"notation"in W&&e(1,n=W.notation),"flipped"in W&&e(2,r=W.flipped),"shadow"in W&&e(3,o=W.shadow),"borderRadius"in W&&e(11,l=W.borderRadius),"resizible"in W&&e(4,u=W.resizible),"min"in W&&e(5,f=W.min),"max"in W&&e(6,b=W.max),"expanded"in W&&e(8,p=W.expanded)},s.$$.update=()=>{s.$$.dirty&512&&e(11,l=`${O!=null?O:0}rem`)},[a,n,r,o,u,f,b,i,p,O,A,l,I,P,m,c,d,E,T,y,K]}class $a extends Ie{constructor(t){super(),Oe(this,t,xa,Ja,Fe,{name:7,boardTheme:0,notation:1,flipped:2,shadow:3,borderRadius:11,resizible:4,min:5,max:6,expanded:8})}}function er(s){let t,e,i,a,n,r,o,l,u,f;return{c(){t=U("div"),e=U("select"),i=U("option"),a=me("Both"),n=U("option"),r=me("White"),o=U("option"),l=me("Black"),this.h()},l(b){t=H(b,"DIV",{});var p=z(t);e=H(p,"SELECT",{class:!0});var A=z(e);i=H(A,"OPTION",{});var O=z(i);a=_e(O,"Both"),O.forEach(v),n=H(A,"OPTION",{});var I=z(n);r=_e(I,"White"),I.forEach(v),o=H(A,"OPTION",{});var P=z(o);l=_e(P,"Black"),P.forEach(v),A.forEach(v),p.forEach(v),this.h()},h(){i.__value=ae.BOTH,i.value=i.__value,n.__value=ae.WHITE,n.value=n.__value,o.__value=ae.BLACK,o.value=o.__value,g(e,"class","svelte-xrxnwg"),s[1]===void 0&&xe(()=>s[4].call(e))},m(b,p){Y(b,t,p),S(t,e),S(e,i),S(i,a),S(e,n),S(n,r),S(e,o),S(o,l),vt(e,s[1]),u||(f=de(e,"change",s[4]),u=!0)},p(b,p){p&2&&vt(e,b[1])},d(b){b&&v(t),u=!1,f()}}}function tr(s){let t,e,i;function a(r){s[5](r)}let n={name:s[2],expanded:s[3],$$slots:{default:[er]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),t=new ft({props:n}),le.push(()=>be(t,"enabled",a)),{c(){ve(t.$$.fragment)},l(r){Ee(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,[o]){const l={};o&4&&(l.name=r[2]),o&8&&(l.expanded=r[3]),o&66&&(l.$$scope={dirty:o,ctx:r}),!e&&o&1&&(e=!0,l.enabled=r[0],pe(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){ke(t,r)}}}function sr(s,t,e){let{name:i="Movable"}=t,{enabled:a=!1}=t,{color:n}=t,{expanded:r=!1}=t;function o(){n=$t(this),e(1,n)}function l(u){a=u,e(0,a)}return s.$$set=u=>{"name"in u&&e(2,i=u.name),"enabled"in u&&e(0,a=u.enabled),"color"in u&&e(1,n=u.color),"expanded"in u&&e(3,r=u.expanded)},[a,n,i,r,o,l]}class nr extends Ie{constructor(t){super(),Oe(this,t,sr,tr,Fe,{name:2,enabled:0,color:1,expanded:3})}}function Zs(s,t,e){const i=s.slice();return i[12]=t[e],i}function Js(s){let t,e,i,a,n,r,o,l,u,f,b,p,A,O,I,P,m=Ws,c=[];for(let d=0;d<m.length;d+=1)c[d]=xs(Zs(s,m,d));return{c(){t=U("div"),e=U("div"),i=U("input"),a=te(),n=U("label"),r=me("duration"),o=te(),l=U("div"),u=U("select");for(let d=0;d<c.length;d+=1)c[d].c();f=te(),b=U("label"),p=me("easing"),this.h()},l(d){t=H(d,"DIV",{class:!0});var E=z(t);e=H(E,"DIV",{class:!0});var T=z(e);i=H(T,"INPUT",{id:!0,type:!0,class:!0}),a=se(T),n=H(T,"LABEL",{for:!0,class:!0});var y=z(n);r=_e(y,"duration"),y.forEach(v),T.forEach(v),o=se(E),l=H(E,"DIV",{class:!0});var K=z(l);u=H(K,"SELECT",{id:!0,class:!0});var W=z(u);for(let G=0;G<c.length;G+=1)c[G].l(W);W.forEach(v),f=se(K),b=H(K,"LABEL",{for:!0,class:!0});var V=z(b);p=_e(V,"easing"),V.forEach(v),K.forEach(v),E.forEach(v),this.h()},h(){g(i,"id","transitionDuration"),g(i,"type","number"),g(i,"class","w-16 svelte-1qpp6cx"),g(n,"for","transitionDuration"),g(n,"class","select-none"),g(e,"class","flex gap-2 mb-2"),g(u,"id","easingFuncs"),g(u,"class","svelte-1qpp6cx"),s[4]===void 0&&xe(()=>s[10].call(u)),g(b,"for","easingFuncs"),g(b,"class","select-none"),g(l,"class","flex gap-2"),g(t,"class","pl-2 pr-4 flex-col")},m(d,E){Y(d,t,E),S(t,e),S(e,i),at(i,s[3]),S(e,a),S(e,n),S(n,r),S(t,o),S(t,l),S(l,u);for(let T=0;T<c.length;T+=1)c[T].m(u,null);vt(u,s[4]),S(l,f),S(l,b),S(b,p),O=!0,I||(P=[de(i,"input",s[9]),de(u,"change",s[10])],I=!0)},p(d,E){if(E&8&&rt(i.value)!==d[3]&&at(i,d[3]),E&0){m=Ws;let T;for(T=0;T<m.length;T+=1){const y=Zs(d,m,T);c[T]?c[T].p(y,E):(c[T]=xs(y),c[T].c(),c[T].m(u,null))}for(;T<c.length;T+=1)c[T].d(1);c.length=m.length}E&16&&vt(u,d[4])},i(d){O||(d&&xe(()=>{A||(A=ot(t,ut,{},!0)),A.run(1)}),O=!0)},o(d){d&&(A||(A=ot(t,ut,{},!1)),A.run(0)),O=!1},d(d){d&&v(t),lt(c,d),d&&A&&A.end(),I=!1,Xe(P)}}}function xs(s){let t,e=s[12]+"",i;return{c(){t=U("option"),i=me(e),this.h()},l(a){t=H(a,"OPTION",{});var n=z(t);i=_e(n,e),n.forEach(v),this.h()},h(){t.__value=s[12],t.value=t.__value},m(a,n){Y(a,t,n),S(t,i)},p:ye,d(a){a&&v(t)}}}function ir(s){let t,e,i,a,n,r,o,l,u,f,b,p,A,O,I,P=s[2]&&Js(s);return{c(){t=U("div"),e=U("input"),i=te(),a=U("label"),n=me("ghost piece"),r=te(),o=U("div"),l=U("input"),u=te(),f=U("label"),b=me("transition"),p=te(),P&&P.c(),A=Se(),this.h()},l(m){t=H(m,"DIV",{class:!0});var c=z(t);e=H(c,"INPUT",{id:!0,type:!0,class:!0}),i=se(c),a=H(c,"LABEL",{for:!0,class:!0});var d=z(a);n=_e(d,"ghost piece"),d.forEach(v),c.forEach(v),r=se(m),o=H(m,"DIV",{class:!0});var E=z(o);l=H(E,"INPUT",{id:!0,type:!0,class:!0}),u=se(E),f=H(E,"LABEL",{for:!0,class:!0});var T=z(f);b=_e(T,"transition"),T.forEach(v),E.forEach(v),p=se(m),P&&P.l(m),A=Se(),this.h()},h(){g(e,"id","ghostPiece"),g(e,"type","checkbox"),g(e,"class","svelte-1qpp6cx"),g(a,"for","ghostPiece"),g(a,"class","select-none"),g(t,"class","mb-2"),g(l,"id","draggableEnabled"),g(l,"type","checkbox"),g(l,"class","svelte-1qpp6cx"),g(f,"for","draggableEnabled"),g(f,"class","select-none"),g(o,"class","mb-2")},m(m,c){Y(m,t,c),S(t,e),e.checked=s[1],S(t,i),S(t,a),S(a,n),Y(m,r,c),Y(m,o,c),S(o,l),l.checked=s[2],S(o,u),S(o,f),S(f,b),Y(m,p,c),P&&P.m(m,c),Y(m,A,c),O||(I=[de(e,"change",s[7]),de(l,"change",s[8])],O=!0)},p(m,c){c&2&&(e.checked=m[1]),c&4&&(l.checked=m[2]),m[2]?P?(P.p(m,c),c&4&&$(P,1)):(P=Js(m),P.c(),$(P,1),P.m(A.parentNode,A)):P&&(Be(),ie(P,1,1,()=>{P=null}),De())},d(m){m&&v(t),m&&v(r),m&&v(o),m&&v(p),P&&P.d(m),m&&v(A),O=!1,Xe(I)}}}function ar(s){let t,e,i;function a(r){s[11](r)}let n={name:s[5],expanded:s[6],$$slots:{default:[ir]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),t=new ft({props:n}),le.push(()=>be(t,"enabled",a)),{c(){ve(t.$$.fragment)},l(r){Ee(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,[o]){const l={};o&32&&(l.name=r[5]),o&64&&(l.expanded=r[6]),o&32798&&(l.$$scope={dirty:o,ctx:r}),!e&&o&1&&(e=!0,l.enabled=r[0],pe(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){ke(t,r)}}}function rr(s,t,e){let{name:i="Draggable"}=t,{enabled:a=!1}=t,{ghostPiece:n=!1}=t,{transition:r=!1}=t,{duration:o=120}=t,{easing:l="easeInOut"}=t,{expanded:u=!1}=t;function f(){n=this.checked,e(1,n)}function b(){r=this.checked,e(2,r)}function p(){o=rt(this.value),e(3,o)}function A(){l=$t(this),e(4,l)}function O(I){a=I,e(0,a)}return s.$$set=I=>{"name"in I&&e(5,i=I.name),"enabled"in I&&e(0,a=I.enabled),"ghostPiece"in I&&e(1,n=I.ghostPiece),"transition"in I&&e(2,r=I.transition),"duration"in I&&e(3,o=I.duration),"easing"in I&&e(4,l=I.easing),"expanded"in I&&e(6,u=I.expanded)},[a,n,r,o,l,i,u,f,b,p,A,O]}class lr extends Ie{constructor(t){super(),Oe(this,t,rr,ar,Fe,{name:5,enabled:0,ghostPiece:1,transition:2,duration:3,easing:4,expanded:6})}}function $s(s,t,e){const i=s.slice();return i[7]=t[e],i[8]=t,i[9]=e,i}function en(s){let t,e,i,a,n=s[7]+"",r,o,l,u;function f(){s[5].call(e,s[7])}return{c(){t=U("div"),e=U("input"),i=te(),a=U("label"),r=me(n),o=te(),this.h()},l(b){t=H(b,"DIV",{class:!0});var p=z(t);e=H(p,"INPUT",{id:!0,type:!0}),i=se(p),a=H(p,"LABEL",{for:!0,class:!0});var A=z(a);r=_e(A,n),A.forEach(v),o=se(p),p.forEach(v),this.h()},h(){g(e,"id",s[7]+"Enabled"),g(e,"type","checkbox"),g(a,"for",s[7]+"Enabled"),g(a,"class","select-none"),g(t,"class","mb-2")},m(b,p){Y(b,t,p),S(t,e),e.checked=s[1][s[7]],S(t,i),S(t,a),S(a,r),S(t,o),l||(u=de(e,"change",f),l=!0)},p(b,p){s=b,p&18&&(e.checked=s[1][s[7]])},d(b){b&&v(t),l=!1,u()}}}function or(s){let t,e=s[4],i=[];for(let a=0;a<e.length;a+=1)i[a]=en($s(s,e,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=Se()},l(a){for(let n=0;n<i.length;n+=1)i[n].l(a);t=Se()},m(a,n){for(let r=0;r<i.length;r+=1)i[r].m(a,n);Y(a,t,n)},p(a,n){if(n&18){e=a[4];let r;for(r=0;r<e.length;r+=1){const o=$s(a,e,r);i[r]?i[r].p(o,n):(i[r]=en(o),i[r].c(),i[r].m(t.parentNode,t))}for(;r<i.length;r+=1)i[r].d(1);i.length=e.length}},d(a){lt(i,a),a&&v(t)}}}function ur(s){let t,e,i;function a(r){s[6](r)}let n={name:s[2],expanded:s[3],$$slots:{default:[or]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),t=new ft({props:n}),le.push(()=>be(t,"enabled",a)),{c(){ve(t.$$.fragment)},l(r){Ee(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,[o]){const l={};o&4&&(l.name=r[2]),o&8&&(l.expanded=r[3]),o&1026&&(l.$$scope={dirty:o,ctx:r}),!e&&o&1&&(e=!0,l.enabled=r[0],pe(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){ke(t,r)}}}function fr(s,t,e){let{name:i="Highlight"}=t,{enabled:a=!1}=t,{settings:n}=t;const r=["select","legal","move","preMove","nextMove","check"];let{expanded:o=!1}=t;function l(f){n[f]=this.checked,e(1,n)}function u(f){a=f,e(0,a)}return s.$$set=f=>{"name"in f&&e(2,i=f.name),"enabled"in f&&e(0,a=f.enabled),"settings"in f&&e(1,n=f.settings),"expanded"in f&&e(3,o=f.expanded)},[a,n,i,o,r,l,u]}class dr extends Ie{constructor(t){super(),Oe(this,t,fr,ur,Fe,{name:2,enabled:0,settings:1,expanded:3})}}function cr(s){let t,e,i,a,n,r,o,l,u,f,b,p,A;return{c(){t=U("div"),e=U("input"),i=te(),a=U("label"),n=me("L shape knight move"),r=te(),o=U("div"),l=U("input"),u=te(),f=U("label"),b=me("only chess move"),this.h()},l(O){t=H(O,"DIV",{class:!0});var I=z(t);e=H(I,"INPUT",{id:!0,type:!0}),i=se(I),a=H(I,"LABEL",{for:!0,class:!0});var P=z(a);n=_e(P,"L shape knight move"),P.forEach(v),I.forEach(v),r=se(O),o=H(O,"DIV",{class:!0});var m=z(o);l=H(m,"INPUT",{id:!0,type:!0}),u=se(m),f=H(m,"LABEL",{for:!0,class:!0});var c=z(f);b=_e(c,"only chess move"),c.forEach(v),m.forEach(v),this.h()},h(){g(e,"id","knightLShapeMoveEnabled"),g(e,"type","checkbox"),g(a,"for","knightLShapeMoveEnabled"),g(a,"class","select-none"),g(t,"class","mb-2"),g(l,"id","onlyChessMoveEnabled"),g(l,"type","checkbox"),g(f,"for","onlyChessMoveEnabled"),g(f,"class","select-none"),g(o,"class","mb-2")},m(O,I){Y(O,t,I),S(t,e),e.checked=s[1],S(t,i),S(t,a),S(a,n),Y(O,r,I),Y(O,o,I),S(o,l),l.checked=s[2],S(o,u),S(o,f),S(f,b),p||(A=[de(e,"change",s[5]),de(l,"change",s[6])],p=!0)},p(O,I){I&2&&(e.checked=O[1]),I&4&&(l.checked=O[2])},d(O){O&&v(t),O&&v(r),O&&v(o),p=!1,Xe(A)}}}function hr(s){let t,e,i;function a(r){s[7](r)}let n={name:s[3],expanded:s[4],$$slots:{default:[cr]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),t=new ft({props:n}),le.push(()=>be(t,"enabled",a)),{c(){ve(t.$$.fragment)},l(r){Ee(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,[o]){const l={};o&8&&(l.name=r[3]),o&16&&(l.expanded=r[4]),o&262&&(l.$$scope={dirty:o,ctx:r}),!e&&o&1&&(e=!0,l.enabled=r[0],pe(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){ke(t,r)}}}function gr(s,t,e){let{name:i="DrawTools"}=t,{enabled:a=!1}=t,{knightLShape:n=!1}=t,{onlyChessMove:r=!1}=t,{expanded:o=!1}=t;function l(){n=this.checked,e(1,n)}function u(){r=this.checked,e(2,r)}function f(b){a=b,e(0,a)}return s.$$set=b=>{"name"in b&&e(3,i=b.name),"enabled"in b&&e(0,a=b.enabled),"knightLShape"in b&&e(1,n=b.knightLShape),"onlyChessMove"in b&&e(2,r=b.onlyChessMove),"expanded"in b&&e(4,o=b.expanded)},[a,n,r,i,o,l,u,f]}class br extends Ie{constructor(t){super(),Oe(this,t,gr,hr,Fe,{name:3,enabled:0,knightLShape:1,onlyChessMove:2,expanded:4})}}function tn(s,t,e){const i=s.slice();return i[7]=t[e],i[8]=t,i[9]=e,i}function sn(s){let t,e,i,a,n=s[7].toLowerCase()+"",r,o,l,u;function f(){s[5].call(e,s[7])}return{c(){t=U("div"),e=U("input"),i=te(),a=U("label"),r=me(n),o=te(),this.h()},l(b){t=H(b,"DIV",{class:!0});var p=z(t);e=H(p,"INPUT",{id:!0,type:!0}),i=se(p),a=H(p,"LABEL",{for:!0,class:!0});var A=z(a);r=_e(A,n),A.forEach(v),o=se(p),p.forEach(v),this.h()},h(){g(e,"id",s[7]+"Enabled"),g(e,"type","checkbox"),g(a,"for",s[7]+"Enabled"),g(a,"class","select-none"),g(t,"class","mb-2")},m(b,p){Y(b,t,p),S(t,e),e.checked=s[1][s[7]],S(t,i),S(t,a),S(a,r),S(t,o),l||(u=de(e,"change",f),l=!0)},p(b,p){s=b,p&18&&(e.checked=s[1][s[7]])},d(b){b&&v(t),l=!1,u()}}}function pr(s){let t,e=s[4],i=[];for(let a=0;a<e.length;a+=1)i[a]=sn(tn(s,e,a));return{c(){for(let a=0;a<i.length;a+=1)i[a].c();t=Se()},l(a){for(let n=0;n<i.length;n+=1)i[n].l(a);t=Se()},m(a,n){for(let r=0;r<i.length;r+=1)i[r].m(a,n);Y(a,t,n)},p(a,n){if(n&18){e=a[4];let r;for(r=0;r<e.length;r+=1){const o=tn(a,e,r);i[r]?i[r].p(o,n):(i[r]=sn(o),i[r].c(),i[r].m(t.parentNode,t))}for(;r<i.length;r+=1)i[r].d(1);i.length=e.length}},d(a){lt(i,a),a&&v(t)}}}function mr(s){let t,e,i;function a(r){s[6](r)}let n={name:s[2],expanded:s[3],$$slots:{default:[pr]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),t=new ft({props:n}),le.push(()=>be(t,"enabled",a)),{c(){ve(t.$$.fragment)},l(r){Ee(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,[o]){const l={};o&4&&(l.name=r[2]),o&8&&(l.expanded=r[3]),o&1026&&(l.$$scope={dirty:o,ctx:r}),!e&&o&1&&(e=!0,l.enabled=r[0],pe(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){ke(t,r)}}}function _r(s,t,e){let{name:i="Sounds"}=t,{enabled:a=!1}=t,{settings:n}=t;const r=["MOVE","CAPTURE","CASTLE","UNDO"];let{expanded:o=!1}=t;function l(f){n[f]=this.checked,e(1,n)}function u(f){a=f,e(0,a)}return s.$$set=f=>{"name"in f&&e(2,i=f.name),"enabled"in f&&e(0,a=f.enabled),"settings"in f&&e(1,n=f.settings),"expanded"in f&&e(3,o=f.expanded)},[a,n,i,o,r,l,u]}class vr extends Ie{constructor(t){super(),Oe(this,t,_r,mr,Fe,{name:2,enabled:0,settings:1,expanded:3})}}function Er(s){let t,e;return{c(){t=Ue("svg"),e=Ue("path"),this.h()},l(i){t=He(i,"svg",{style:!0,xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var a=z(t);e=He(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),z(e).forEach(v),a.forEach(v),this.h()},h(){g(e,"stroke-linecap","round"),g(e,"stroke-linejoin","round"),g(e,"stroke-width","2"),g(e,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),Me(t,"transform","translate(1px, 0px)"),g(t,"xmlns","http://www.w3.org/2000/svg"),g(t,"class","h-5"),g(t,"fill","none"),g(t,"viewBox","0 0 24 24"),g(t,"aria-hidden","true"),g(t,"stroke","currentColor")},m(i,a){Y(i,t,a),S(t,e)},d(i){i&&v(t)}}}function wr(s){let t,e;return{c(){t=Ue("svg"),e=Ue("path"),this.h()},l(i){t=He(i,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var a=z(t);e=He(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),z(e).forEach(v),a.forEach(v),this.h()},h(){g(e,"stroke-linecap","round"),g(e,"stroke-linejoin","round"),g(e,"stroke-width","2"),g(e,"d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"),g(t,"xmlns","http://www.w3.org/2000/svg"),g(t,"class","h-5 text-green-500"),g(t,"fill","none"),g(t,"viewBox","0 0 24 24"),g(t,"aria-hidden","true"),g(t,"stroke","currentColor")},m(i,a){Y(i,t,a),S(t,e)},d(i){i&&v(t)}}}function kr(s){let t,e,i;function a(o,l){return o[1]?wr:Er}let n=a(s),r=n(s);return{c(){t=U("button"),r.c(),this.h()},l(o){t=H(o,"BUTTON",{type:!0,class:!0});var l=z(t);r.l(l),l.forEach(v),this.h()},h(){g(t,"type","button"),g(t,"class","box-border rounded-sm bg-slate-800 bg-opacity-40 text-gray-500 transition hover:text-gray-300 focus:z-10 focus:ring-1 focus:ring-blue-600 p-1")},m(o,l){Y(o,t,l),r.m(t,null),s[4](t),e||(i=de(t,"click",s[2]),e=!0)},p(o,[l]){n!==(n=a(o))&&(r.d(1),r=n(o),r&&(r.c(),r.m(t,null)))},i:ye,o:ye,d(o){o&&v(t),r.d(),s[4](null),e=!1,i()}}}function Mr(s,t,e){let{copyText:i}=t,a,n=!1;function r(){navigator.clipboard.writeText(i),e(1,n=!0),setTimeout(()=>{e(1,n=!1)},2e3),a.setAttribute("data-cooltipz-dir","top"),a.setAttribute("aria-label","Copied!"),setTimeout(()=>{a.removeAttribute("aria-label"),a.removeAttribute("data-cooltipz-dir")},2e3)}function o(l){le[l?"unshift":"push"](()=>{a=l,e(0,a)})}return s.$$set=l=>{"copyText"in l&&e(3,i=l.copyText)},[a,n,r,i,o]}class Sr extends Ie{constructor(t){super(),Oe(this,t,Mr,kr,Fe,{copyText:3})}}function Ar(s){let t,e,i,a,n,r,o;return{c(){t=U("div"),e=U("input"),i=te(),a=U("label"),n=me("preMoves"),this.h()},l(l){t=H(l,"DIV",{});var u=z(t);e=H(u,"INPUT",{id:!0,type:!0}),i=se(u),a=H(u,"LABEL",{for:!0,class:!0});var f=z(a);n=_e(f,"preMoves"),f.forEach(v),u.forEach(v),this.h()},h(){g(e,"id","preMovesEnabled"),g(e,"type","checkbox"),g(a,"for","preMovesEnabled"),g(a,"class","select-none")},m(l,u){Y(l,t,u),S(t,e),e.checked=s[1],S(t,i),S(t,a),S(a,n),r||(o=de(e,"change",s[4]),r=!0)},p(l,u){u&2&&(e.checked=l[1])},d(l){l&&v(t),r=!1,o()}}}function yr(s){let t,e,i;function a(r){s[5](r)}let n={name:s[2],expanded:s[3],$$slots:{default:[Ar]},$$scope:{ctx:s}};return s[0]!==void 0&&(n.enabled=s[0]),t=new ft({props:n}),le.push(()=>be(t,"enabled",a)),{c(){ve(t.$$.fragment)},l(r){Ee(t.$$.fragment,r)},m(r,o){we(t,r,o),i=!0},p(r,[o]){const l={};o&4&&(l.name=r[2]),o&8&&(l.expanded=r[3]),o&66&&(l.$$scope={dirty:o,ctx:r}),!e&&o&1&&(e=!0,l.enabled=r[0],pe(()=>e=!1)),t.$set(l)},i(r){i||($(t.$$.fragment,r),i=!0)},o(r){ie(t.$$.fragment,r),i=!1},d(r){ke(t,r)}}}function Cr(s,t,e){let{name:i="Legal"}=t,{enabled:a=!1}=t,{preMovesEnabled:n=!1}=t,{expanded:r=!1}=t;function o(){n=this.checked,e(1,n)}function l(u){a=u,e(0,a)}return s.$$set=u=>{"name"in u&&e(2,i=u.name),"enabled"in u&&e(0,a=u.enabled),"preMovesEnabled"in u&&e(1,n=u.preMovesEnabled),"expanded"in u&&e(3,r=u.expanded)},[a,n,i,r,o,l]}class Tr extends Ie{constructor(t){super(),Oe(this,t,Cr,yr,Fe,{name:2,enabled:0,preMovesEnabled:1,expanded:3})}}function Pr(s){let t,e,i,a,n,r,o,l,u,f,b,p,A,O,I,P,m,c,d,E,T,y,K,W,V,G,j,X,ce,B,h,w,M,_,L,q,N,F,R,k,J,Q,oe,ee,re,fe,ue,Ce,ne,Te,Pe,Ke,We,Re,Ve,Et,ht,gt,$e,wt,kt,Ye,Mt,bt,St,Ge,At,Qe,et,yt,Pt;function qt(D){s[6](D)}function Bt(D){s[7](D)}function Dt(D){s[8](D)}function C(D){s[9](D)}function x(D){s[10](D)}function he(D){s[11](D)}function Ne(D){s[12](D)}function qe(D){s[13](D)}let Le={expanded:!0};s[1].board.boardTheme!==void 0&&(Le.boardTheme=s[1].board.boardTheme),s[1].board.notation!==void 0&&(Le.notation=s[1].board.notation),s[1].board.flipped!==void 0&&(Le.flipped=s[1].board.flipped),s[1].board.style.shadow!==void 0&&(Le.shadow=s[1].board.style.shadow),s[1].board.style.borderRadius!==void 0&&(Le.borderRadius=s[1].board.style.borderRadius),s[1].board.resizible.enabled!==void 0&&(Le.resizible=s[1].board.resizible.enabled),s[1].board.resizible.min!==void 0&&(Le.min=s[1].board.resizible.min),s[1].board.resizible.max!==void 0&&(Le.max=s[1].board.resizible.max),r=new $a({props:Le}),le.push(()=>be(r,"boardTheme",qt)),le.push(()=>be(r,"notation",Bt)),le.push(()=>be(r,"flipped",Dt)),le.push(()=>be(r,"shadow",C)),le.push(()=>be(r,"borderRadius",x)),le.push(()=>be(r,"resizible",he)),le.push(()=>be(r,"min",Ne)),le.push(()=>be(r,"max",qe));function tt(D){s[14](D)}function wn(D){s[15](D)}let Ut={expanded:!0};s[1].movable.enabled!==void 0&&(Ut.enabled=s[1].movable.enabled),s[1].movable.color!==void 0&&(Ut.color=s[1].movable.color),P=new nr({props:Ut}),le.push(()=>be(P,"enabled",tt)),le.push(()=>be(P,"color",wn));function kn(D){s[16](D)}function Mn(D){s[17](D)}function Sn(D){s[18](D)}function An(D){s[19](D)}function yn(D){s[20](D)}let pt={};s[1].draggable.enabled!==void 0&&(pt.enabled=s[1].draggable.enabled),s[1].draggable.ghostPiece.enabled!==void 0&&(pt.ghostPiece=s[1].draggable.ghostPiece.enabled),s[1].draggable.transition.enabled!==void 0&&(pt.transition=s[1].draggable.transition.enabled),s[1].draggable.transition.settings.duration!==void 0&&(pt.duration=s[1].draggable.transition.settings.duration),s[1].draggable.transition.settings.easing!==void 0&&(pt.easing=s[1].draggable.transition.settings.easing),E=new lr({props:pt}),le.push(()=>be(E,"enabled",kn)),le.push(()=>be(E,"ghostPiece",Mn)),le.push(()=>be(E,"transition",Sn)),le.push(()=>be(E,"duration",An)),le.push(()=>be(E,"easing",yn));function Cn(D){s[21](D)}let ts={name:"Selectable",showExpand:!1};s[1].selectable.enabled!==void 0&&(ts.enabled=s[1].selectable.enabled),j=new ft({props:ts}),le.push(()=>be(j,"enabled",Cn));function Tn(D){s[22](D)}function Pn(D){s[23](D)}let Ht={expanded:!0};s[1].legal.enabled!==void 0&&(Ht.enabled=s[1].legal.enabled),s[1].legal.preMoves.enabled!==void 0&&(Ht.preMovesEnabled=s[1].legal.preMoves.enabled),B=new Tr({props:Ht}),le.push(()=>be(B,"enabled",Tn)),le.push(()=>be(B,"preMovesEnabled",Pn));function Ln(D){s[24](D)}function In(D){s[25](D)}let Kt={};s[1].highlight.enabled!==void 0&&(Kt.enabled=s[1].highlight.enabled),s[1].highlight.settings!==void 0&&(Kt.settings=s[1].highlight.settings),_=new dr({props:Kt}),le.push(()=>be(_,"enabled",Ln)),le.push(()=>be(_,"settings",In));function On(D){s[26](D)}function Fn(D){s[27](D)}function Rn(D){s[28](D)}let Lt={};s[1].drawTools.enabled!==void 0&&(Lt.enabled=s[1].drawTools.enabled),s[1].drawTools.settings.knightLShape!==void 0&&(Lt.knightLShape=s[1].drawTools.settings.knightLShape),s[1].drawTools.settings.onlyChessMove!==void 0&&(Lt.onlyChessMove=s[1].drawTools.settings.onlyChessMove),F=new br({props:Lt}),le.push(()=>be(F,"enabled",On)),le.push(()=>be(F,"knightLShape",Fn)),le.push(()=>be(F,"onlyChessMove",Rn));function Nn(D){s[29](D)}function qn(D){s[30](D)}let Wt={};s[1].sounds.enabled!==void 0&&(Wt.enabled=s[1].sounds.enabled),s[1].sounds.settings!==void 0&&(Wt.settings=s[1].sounds.settings),oe=new vr({props:Wt}),le.push(()=>be(oe,"enabled",Nn)),le.push(()=>be(oe,"settings",qn));let Bn={config:s[4]};return ne=new Qa({props:Bn}),s[31](ne),Ge=new Sr({props:{copyText:s[3]}}),Qe=new ti({props:{source:s[3],language:"svelte"}}),{c(){t=U("link"),e=te(),i=U("div"),a=U("div"),n=U("div"),ve(r.$$.fragment),I=te(),ve(P.$$.fragment),d=te(),ve(E.$$.fragment),G=te(),ve(j.$$.fragment),ce=te(),ve(B.$$.fragment),M=te(),ve(_.$$.fragment),N=te(),ve(F.$$.fragment),Q=te(),ve(oe.$$.fragment),fe=te(),ue=U("div"),Ce=U("div"),ve(ne.$$.fragment),Te=te(),Pe=U("div"),Ke=U("div"),We=U("div"),Re=U("button"),Ve=U("span"),Et=me("ts"),gt=te(),$e=U("span"),wt=me("/"),kt=te(),Ye=U("span"),Mt=me("js"),St=te(),ve(Ge.$$.fragment),At=te(),ve(Qe.$$.fragment),this.h()},l(D){const ge=Xn('[data-svelte="svelte-tebjht"]',document.head);t=H(ge,"LINK",{rel:!0,href:!0}),ge.forEach(v),e=se(D),i=H(D,"DIV",{class:!0});var ze=z(i);a=H(ze,"DIV",{class:!0});var st=z(a);n=H(st,"DIV",{class:!0});var Ae=z(n);Ee(r.$$.fragment,Ae),I=se(Ae),Ee(P.$$.fragment,Ae),d=se(Ae),Ee(E.$$.fragment,Ae),G=se(Ae),Ee(j.$$.fragment,Ae),ce=se(Ae),Ee(B.$$.fragment,Ae),M=se(Ae),Ee(_.$$.fragment,Ae),N=se(Ae),Ee(F.$$.fragment,Ae),Q=se(Ae),Ee(oe.$$.fragment,Ae),Ae.forEach(v),fe=se(st),ue=H(st,"DIV",{class:!0});var dt=z(ue);Ce=H(dt,"DIV",{class:!0});var mt=z(Ce);Ee(ne.$$.fragment,mt),mt.forEach(v),Te=se(dt),Pe=H(dt,"DIV",{class:!0});var _t=z(Pe);Ke=H(_t,"DIV",{class:!0});var Ze=z(Ke);We=H(Ze,"DIV",{class:!0});var nt=z(We);Re=H(nt,"BUTTON",{class:!0});var it=z(Re);Ve=H(it,"SPAN",{class:!0});var Ct=z(Ve);Et=_e(Ct,"ts"),Ct.forEach(v),gt=se(it),$e=H(it,"SPAN",{class:!0});var Tt=z($e);wt=_e(Tt,"/"),Tt.forEach(v),kt=se(it),Ye=H(it,"SPAN",{class:!0});var ss=z(Ye);Mt=_e(ss,"js"),ss.forEach(v),it.forEach(v),St=se(nt),Ee(Ge.$$.fragment,nt),nt.forEach(v),At=se(Ze),Ee(Qe.$$.fragment,Ze),Ze.forEach(v),_t.forEach(v),dt.forEach(v),st.forEach(v),ze.forEach(v),this.h()},h(){document.title="Chessboard \u2022 PowChess.com",g(t,"rel","stylesheet"),g(t,"href","prism-one-dark.css"),g(n,"class","flex flex-col gap-2 mx-auto w-60 text-gray-300 text-sm"),g(Ce,"class","w-full lg:w-[var(--boardSize,50rem)]"),g(Ve,"class",ht=s[2]?"text-yellow-600":""),g($e,"class","text-gray-600"),g(Ye,"class",bt=s[2]?"":"text-yellow-600"),g(Re,"class","text-gray-500 font-mono flex text-[0.8rem] mt-1"),g(We,"class","absolute right-2 top-2 flex gap-4"),g(Ke,"class","shadow-lg rounded "),g(Pe,"class","row-start-2 relative"),g(ue,"class","grid grid-rows-[min-content_auto] gap-10"),g(a,"class","lg:col-start-2 gap-10 grid lg:grid-cols-[auto_auto]"),g(i,"class","my-10 grid grid-cols-center")},m(D,ge){S(document.head,t),Y(D,e,ge),Y(D,i,ge),S(i,a),S(a,n),we(r,n,null),S(n,I),we(P,n,null),S(n,d),we(E,n,null),S(n,G),we(j,n,null),S(n,ce),we(B,n,null),S(n,M),we(_,n,null),S(n,N),we(F,n,null),S(n,Q),we(oe,n,null),S(a,fe),S(a,ue),S(ue,Ce),we(ne,Ce,null),S(ue,Te),S(ue,Pe),S(Pe,Ke),S(Ke,We),S(We,Re),S(Re,Ve),S(Ve,Et),S(Re,gt),S(Re,$e),S($e,wt),S(Re,kt),S(Re,Ye),S(Ye,Mt),S(We,St),we(Ge,We,null),S(Ke,At),we(Qe,Ke,null),et=!0,yt||(Pt=de(Re,"click",s[32]),yt=!0)},p(D,ge){const ze={};!o&&ge[0]&2&&(o=!0,ze.boardTheme=D[1].board.boardTheme,pe(()=>o=!1)),!l&&ge[0]&2&&(l=!0,ze.notation=D[1].board.notation,pe(()=>l=!1)),!u&&ge[0]&2&&(u=!0,ze.flipped=D[1].board.flipped,pe(()=>u=!1)),!f&&ge[0]&2&&(f=!0,ze.shadow=D[1].board.style.shadow,pe(()=>f=!1)),!b&&ge[0]&2&&(b=!0,ze.borderRadius=D[1].board.style.borderRadius,pe(()=>b=!1)),!p&&ge[0]&2&&(p=!0,ze.resizible=D[1].board.resizible.enabled,pe(()=>p=!1)),!A&&ge[0]&2&&(A=!0,ze.min=D[1].board.resizible.min,pe(()=>A=!1)),!O&&ge[0]&2&&(O=!0,ze.max=D[1].board.resizible.max,pe(()=>O=!1)),r.$set(ze);const st={};!m&&ge[0]&2&&(m=!0,st.enabled=D[1].movable.enabled,pe(()=>m=!1)),!c&&ge[0]&2&&(c=!0,st.color=D[1].movable.color,pe(()=>c=!1)),P.$set(st);const Ae={};!T&&ge[0]&2&&(T=!0,Ae.enabled=D[1].draggable.enabled,pe(()=>T=!1)),!y&&ge[0]&2&&(y=!0,Ae.ghostPiece=D[1].draggable.ghostPiece.enabled,pe(()=>y=!1)),!K&&ge[0]&2&&(K=!0,Ae.transition=D[1].draggable.transition.enabled,pe(()=>K=!1)),!W&&ge[0]&2&&(W=!0,Ae.duration=D[1].draggable.transition.settings.duration,pe(()=>W=!1)),!V&&ge[0]&2&&(V=!0,Ae.easing=D[1].draggable.transition.settings.easing,pe(()=>V=!1)),E.$set(Ae);const dt={};!X&&ge[0]&2&&(X=!0,dt.enabled=D[1].selectable.enabled,pe(()=>X=!1)),j.$set(dt);const mt={};!h&&ge[0]&2&&(h=!0,mt.enabled=D[1].legal.enabled,pe(()=>h=!1)),!w&&ge[0]&2&&(w=!0,mt.preMovesEnabled=D[1].legal.preMoves.enabled,pe(()=>w=!1)),B.$set(mt);const _t={};!L&&ge[0]&2&&(L=!0,_t.enabled=D[1].highlight.enabled,pe(()=>L=!1)),!q&&ge[0]&2&&(q=!0,_t.settings=D[1].highlight.settings,pe(()=>q=!1)),_.$set(_t);const Ze={};!R&&ge[0]&2&&(R=!0,Ze.enabled=D[1].drawTools.enabled,pe(()=>R=!1)),!k&&ge[0]&2&&(k=!0,Ze.knightLShape=D[1].drawTools.settings.knightLShape,pe(()=>k=!1)),!J&&ge[0]&2&&(J=!0,Ze.onlyChessMove=D[1].drawTools.settings.onlyChessMove,pe(()=>J=!1)),F.$set(Ze);const nt={};!ee&&ge[0]&2&&(ee=!0,nt.enabled=D[1].sounds.enabled,pe(()=>ee=!1)),!re&&ge[0]&2&&(re=!0,nt.settings=D[1].sounds.settings,pe(()=>re=!1)),oe.$set(nt);const it={};ne.$set(it),(!et||ge[0]&4&&ht!==(ht=D[2]?"text-yellow-600":""))&&g(Ve,"class",ht),(!et||ge[0]&4&&bt!==(bt=D[2]?"":"text-yellow-600"))&&g(Ye,"class",bt);const Ct={};ge[0]&8&&(Ct.copyText=D[3]),Ge.$set(Ct);const Tt={};ge[0]&8&&(Tt.source=D[3]),Qe.$set(Tt)},i(D){et||($(r.$$.fragment,D),$(P.$$.fragment,D),$(E.$$.fragment,D),$(j.$$.fragment,D),$(B.$$.fragment,D),$(_.$$.fragment,D),$(F.$$.fragment,D),$(oe.$$.fragment,D),$(ne.$$.fragment,D),$(Ge.$$.fragment,D),$(Qe.$$.fragment,D),et=!0)},o(D){ie(r.$$.fragment,D),ie(P.$$.fragment,D),ie(E.$$.fragment,D),ie(j.$$.fragment,D),ie(B.$$.fragment,D),ie(_.$$.fragment,D),ie(F.$$.fragment,D),ie(oe.$$.fragment,D),ie(ne.$$.fragment,D),ie(Ge.$$.fragment,D),ie(Qe.$$.fragment,D),et=!1},d(D){v(t),D&&v(e),D&&v(i),ke(r),ke(P),ke(E),ke(j),ke(B),ke(_),ke(F),ke(oe),s[31](null),ke(ne),ke(Ge),ke(Qe),yt=!1,Pt()}}}function Lr(s,t,e){const i=new gn.Chess,a={movable:ae.BOTH,legal:!0,callbacks:{afterMove:k=>i.move({from:k.substring(0,2),to:k.substring(2,4),...k.length>4&&{promotion:k[4]}}),getLegalMoves:()=>i.moves({verbose:!0}).map(k=>{var J;return k.from+k.to+((J=k.promotion)!=null?J:"")}),getWhiteToMove:()=>i.turn()==="w",getInCheck:()=>{if(!!i.inCheck())return i.turn()==="w"?ae.WHITE:ae.BLACK},getLastMove:()=>{var J;const k=i.history({verbose:!0}).pop();return k?k.from+k.to+((J=k.promotion)!=null?J:""):""}},board:{style:{shadow:!0,borderRadius:"0.25rem"},resizible:!0}},n=`{
			afterMove: (move) =>
				chess.move({
					from: move.substring(0, 2),
					to: move.substring(2, 4),
					...(move.length > 4 && { promotion: move[4] })
				}),
			getLegalMoves: () =>
				(<Move[]>chess.moves({ verbose: true })).map((move) => {
					return move.from + move.to + (move.promotion ?? '');
				}),
			getWhiteToMove: () => chess.turn() === 'w',
			getInCheck: () => {
				if (!chess.inCheck()) return undefined;
				return chess.turn() === 'w' ? Color.WHITE : Color.BLACK;
			},
			getLastMove: () => {
				const lastMove = chess.history({ verbose: true }).pop() as Move;
				if (!lastMove) return '';
				return lastMove.from + lastMove.to + (lastMove.promotion ?? '');
			}
		}`,r=`{
			afterMove: (move) =>
				chess.move({
					from: move.substring(0, 2),
					to: move.substring(2, 4),
					...(move.length > 4 && { promotion: move[4] })
				}),
			getLegalMoves: () =>
				chess.moves({ verbose: true }).map((move) => {
					return move.from + move.to + (move.promotion ?? '');
				}),
			getWhiteToMove: () => chess.turn() === 'w',
			getInCheck: () => {
				if (!chess.inCheck()) return undefined;
				return chess.turn() === 'w' ? ${ae.WHITE} : ${ae.BLACK};
			},
			getLastMove: () => {
				const lastMove = chess.history({ verbose: true }).pop();
				if (!lastMove) return '';
				return lastMove.from + lastMove.to + (lastMove.promotion ?? '');
			}
		}`;let o,l=new pn(a),u=!1,f=!0,b="";xt(()=>{e(5,u=!0),e(1,l=o.getState())});const p=(k,J)=>{const Q=k.getConfig(),oe=`
	import type { ChessboardConfig } from '@powchess/chessboard/boardConfig';`;u&&o.setState(k);let ee=JSON.stringify(Q,(Ce,ne)=>Ce==="callbacks"?"{functions}":ne,4);ee=ee.replace(/"([^"]+)":/g,"$1:").replaceAll(`
`,`
	`).replace('"{functions}"',J?n:r);const re=`
	import { Color } from '@powchess/chessboard/enums';`;J&&(ee=ee.replaceAll(`movable: ${ae.WHITE}`,"movable: Color.WHITE").replaceAll(`movable: ${ae.BLACK}`,"movable: Color.BLACK").replaceAll(`movable: ${ae.BOTH}`,"movable: Color.BOTH"));function fe(){return ee.includes("movable: Color.WHITE")||ee.includes("movable: Color.BLACK")||ee.includes("movable: Color.BOTH")}let ue=`<script${J?' lang="ts"':""}>
	import Chessboard from '@powchess/chessboard';${J?oe:""}${fe()&&J?re:""}${l.legal.enabled?J?`
	import { Chess, type Move } from 'chess.js';`:`
	import { Chess } from 'chess.js';`:""}${l.legal.enabled?`

	const chess = new Chess();`:""}

	const config${J?": ChessboardConfig":""} = ${ee};
<\/script>

<Chessboard {config} />`;return J||(ue=ue.replaceAll("Color.WHITE",`${ae.WHITE}`).replaceAll("Color.BLACK",`${ae.BLACK}`).replaceAll("Color.BOTH",`${ae.BOTH}`)),ue};function A(k){s.$$.not_equal(l.board.boardTheme,k)&&(l.board.boardTheme=k,e(1,l),e(5,u),e(0,o))}function O(k){s.$$.not_equal(l.board.notation,k)&&(l.board.notation=k,e(1,l),e(5,u),e(0,o))}function I(k){s.$$.not_equal(l.board.flipped,k)&&(l.board.flipped=k,e(1,l),e(5,u),e(0,o))}function P(k){s.$$.not_equal(l.board.style.shadow,k)&&(l.board.style.shadow=k,e(1,l),e(5,u),e(0,o))}function m(k){s.$$.not_equal(l.board.style.borderRadius,k)&&(l.board.style.borderRadius=k,e(1,l),e(5,u),e(0,o))}function c(k){s.$$.not_equal(l.board.resizible.enabled,k)&&(l.board.resizible.enabled=k,e(1,l),e(5,u),e(0,o))}function d(k){s.$$.not_equal(l.board.resizible.min,k)&&(l.board.resizible.min=k,e(1,l),e(5,u),e(0,o))}function E(k){s.$$.not_equal(l.board.resizible.max,k)&&(l.board.resizible.max=k,e(1,l),e(5,u),e(0,o))}function T(k){s.$$.not_equal(l.movable.enabled,k)&&(l.movable.enabled=k,e(1,l),e(5,u),e(0,o))}function y(k){s.$$.not_equal(l.movable.color,k)&&(l.movable.color=k,e(1,l),e(5,u),e(0,o))}function K(k){s.$$.not_equal(l.draggable.enabled,k)&&(l.draggable.enabled=k,e(1,l),e(5,u),e(0,o))}function W(k){s.$$.not_equal(l.draggable.ghostPiece.enabled,k)&&(l.draggable.ghostPiece.enabled=k,e(1,l),e(5,u),e(0,o))}function V(k){s.$$.not_equal(l.draggable.transition.enabled,k)&&(l.draggable.transition.enabled=k,e(1,l),e(5,u),e(0,o))}function G(k){s.$$.not_equal(l.draggable.transition.settings.duration,k)&&(l.draggable.transition.settings.duration=k,e(1,l),e(5,u),e(0,o))}function j(k){s.$$.not_equal(l.draggable.transition.settings.easing,k)&&(l.draggable.transition.settings.easing=k,e(1,l),e(5,u),e(0,o))}function X(k){s.$$.not_equal(l.selectable.enabled,k)&&(l.selectable.enabled=k,e(1,l),e(5,u),e(0,o))}function ce(k){s.$$.not_equal(l.legal.enabled,k)&&(l.legal.enabled=k,e(1,l),e(5,u),e(0,o))}function B(k){s.$$.not_equal(l.legal.preMoves.enabled,k)&&(l.legal.preMoves.enabled=k,e(1,l),e(5,u),e(0,o))}function h(k){s.$$.not_equal(l.highlight.enabled,k)&&(l.highlight.enabled=k,e(1,l),e(5,u),e(0,o))}function w(k){s.$$.not_equal(l.highlight.settings,k)&&(l.highlight.settings=k,e(1,l),e(5,u),e(0,o))}function M(k){s.$$.not_equal(l.drawTools.enabled,k)&&(l.drawTools.enabled=k,e(1,l),e(5,u),e(0,o))}function _(k){s.$$.not_equal(l.drawTools.settings.knightLShape,k)&&(l.drawTools.settings.knightLShape=k,e(1,l),e(5,u),e(0,o))}function L(k){s.$$.not_equal(l.drawTools.settings.onlyChessMove,k)&&(l.drawTools.settings.onlyChessMove=k,e(1,l),e(5,u),e(0,o))}function q(k){s.$$.not_equal(l.sounds.enabled,k)&&(l.sounds.enabled=k,e(1,l),e(5,u),e(0,o))}function N(k){s.$$.not_equal(l.sounds.settings,k)&&(l.sounds.settings=k,e(1,l),e(5,u),e(0,o))}function F(k){le[k?"unshift":"push"](()=>{o=k,e(0,o)})}const R=()=>{e(2,f=!f)};return s.$$.update=()=>{s.$$.dirty[0]&35&&l.legal.enabled&&(e(1,l.board.startFen=bn,l),i.load(l.board.startFen),u&&o.setFEN(l.board.startFen,!1)),s.$$.dirty[0]&6&&e(3,b=p(l,f))},[o,l,f,b,a,u,A,O,I,P,m,c,d,E,T,y,K,W,V,G,j,X,ce,B,h,w,M,_,L,q,N,F,R]}class Fr extends Ie{constructor(t){super(),Oe(this,t,Lr,Pr,Fe,{},null,[-1,-1])}}export{Fr as default};
