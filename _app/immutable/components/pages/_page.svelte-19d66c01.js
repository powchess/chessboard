import{S as je,i as Ge,s as Xe,B as cn,k as E,a as V,l as w,m as P,h as p,c as N,p as ne,n as c,b as z,F as h,C as dn,D as hn,E as fn,f as K,t as x,H as Ss,I as Ga,J as Le,K as gn,e as oe,L as bn,q as W,r as j,u as ma,A as ce,M as bt,N as Xa,O as Qi,P as pn,Q as vn,R as Ya,T as Ot,U as _a,V as Y,W as Ea,X as It,Y as wa,G as mn,Z as Tt,_ as Oe,$ as Ie,o as ka,g as Ue,d as Be,a0 as Jt,a1 as _n,a2 as En,a3 as ca,v as ze,w as He,x as Ke,a4 as da,y as We,a5 as wn,a6 as kn,a7 as Qa,a8 as Mn,a9 as xi,z as Sn,aa as Zi,ab as yn,ac as zt,ad as xa,ae as Ji,af as ua}from"../../chunks/index-e66a4755.js";import{w as An}from"../../chunks/index-d15955ac.js";typeof window<"u"&&(window.Prism&&console.warn("Prism has already been initiated. Please ensure that svelte-prism is imported first."),window.Prism=window.Prism||{},window.Prism.manual=!0);var Za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$i={exports:{}};(function(a){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var e=function(i){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,o={},l={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function d(g){return g instanceof r?new r(g.type,d(g.content),g.alias):Array.isArray(g)?g.map(d):g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(d){return Object.prototype.toString.call(d).slice(8,-1)},objId:function(d){return d.__id||Object.defineProperty(d,"__id",{value:++n}),d.__id},clone:function d(g,C){C=C||{};var M,A;switch(l.util.type(g)){case"Object":if(A=l.util.objId(g),C[A])return C[A];M={},C[A]=M;for(var I in g)g.hasOwnProperty(I)&&(M[I]=d(g[I],C));return M;case"Array":return A=l.util.objId(g),C[A]?C[A]:(M=[],C[A]=M,g.forEach(function(R,T){M[T]=d(R,C)}),M);default:return g}},getLanguage:function(d){for(;d;){var g=s.exec(d.className);if(g)return g[1].toLowerCase();d=d.parentElement}return"none"},setLanguage:function(d,g){d.className=d.className.replace(RegExp(s,"gi"),""),d.classList.add("language-"+g)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(M){var d=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(M.stack)||[])[1];if(d){var g=document.getElementsByTagName("script");for(var C in g)if(g[C].src==d)return g[C]}return null}},isActive:function(d,g,C){for(var M="no-"+g;d;){var A=d.classList;if(A.contains(g))return!0;if(A.contains(M))return!1;d=d.parentElement}return!!C}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(d,g){var C=l.util.clone(l.languages[d]);for(var M in g)C[M]=g[M];return C},insertBefore:function(d,g,C,M){M=M||l.languages;var A=M[d],I={};for(var R in A)if(A.hasOwnProperty(R)){if(R==g)for(var T in C)C.hasOwnProperty(T)&&(I[T]=C[T]);C.hasOwnProperty(R)||(I[R]=A[R])}var F=M[d];return M[d]=I,l.languages.DFS(l.languages,function(S,G){G===F&&S!=d&&(this[S]=I)}),I},DFS:function d(g,C,M,A){A=A||{};var I=l.util.objId;for(var R in g)if(g.hasOwnProperty(R)){C.call(g,R,g[R],M||R);var T=g[R],F=l.util.type(T);F==="Object"&&!A[I(T)]?(A[I(T)]=!0,d(T,C,null,A)):F==="Array"&&!A[I(T)]&&(A[I(T)]=!0,d(T,C,R,A))}}},plugins:{},highlightAll:function(d,g){l.highlightAllUnder(document,d,g)},highlightAllUnder:function(d,g,C){var M={callback:C,container:d,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",M),M.elements=Array.prototype.slice.apply(M.container.querySelectorAll(M.selector)),l.hooks.run("before-all-elements-highlight",M);for(var A=0,I;I=M.elements[A++];)l.highlightElement(I,g===!0,M.callback)},highlightElement:function(d,g,C){var M=l.util.getLanguage(d),A=l.languages[M];l.util.setLanguage(d,M);var I=d.parentElement;I&&I.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(I,M);var R=d.textContent,T={element:d,language:M,grammar:A,code:R};function F(G){T.highlightedCode=G,l.hooks.run("before-insert",T),T.element.innerHTML=T.highlightedCode,l.hooks.run("after-highlight",T),l.hooks.run("complete",T),C&&C.call(T.element)}if(l.hooks.run("before-sanity-check",T),I=T.element.parentElement,I&&I.nodeName.toLowerCase()==="pre"&&!I.hasAttribute("tabindex")&&I.setAttribute("tabindex","0"),!T.code){l.hooks.run("complete",T),C&&C.call(T.element);return}if(l.hooks.run("before-highlight",T),!T.grammar){F(l.util.encode(T.code));return}if(g&&i.Worker){var S=new Worker(l.filename);S.onmessage=function(G){F(G.data)},S.postMessage(JSON.stringify({language:T.language,code:T.code,immediateClose:!0}))}else F(l.highlight(T.code,T.grammar,T.language))},highlight:function(d,g,C){var M={code:d,grammar:g,language:C};if(l.hooks.run("before-tokenize",M),!M.grammar)throw new Error('The language "'+M.language+'" has no grammar.');return M.tokens=l.tokenize(M.code,M.grammar),l.hooks.run("after-tokenize",M),r.stringify(l.util.encode(M.tokens),M.language)},tokenize:function(d,g){var C=g.rest;if(C){for(var M in C)g[M]=C[M];delete g.rest}var A=new b;return m(A,A.head,d),f(d,A,g,A.head,0),O(A)},hooks:{all:{},add:function(d,g){var C=l.hooks.all;C[d]=C[d]||[],C[d].push(g)},run:function(d,g){var C=l.hooks.all[d];if(!(!C||!C.length))for(var M=0,A;A=C[M++];)A(g)}},Token:r};i.Prism=l;function r(d,g,C,M){this.type=d,this.content=g,this.alias=C,this.length=(M||"").length|0}r.stringify=function d(g,C){if(typeof g=="string")return g;if(Array.isArray(g)){var M="";return g.forEach(function(F){M+=d(F,C)}),M}var A={type:g.type,content:d(g.content,C),tag:"span",classes:["token",g.type],attributes:{},language:C},I=g.alias;I&&(Array.isArray(I)?Array.prototype.push.apply(A.classes,I):A.classes.push(I)),l.hooks.run("wrap",A);var R="";for(var T in A.attributes)R+=" "+T+'="'+(A.attributes[T]||"").replace(/"/g,"&quot;")+'"';return"<"+A.tag+' class="'+A.classes.join(" ")+'"'+R+">"+A.content+"</"+A.tag+">"};function u(d,g,C,M){d.lastIndex=g;var A=d.exec(C);if(A&&M&&A[1]){var I=A[1].length;A.index+=I,A[0]=A[0].slice(I)}return A}function f(d,g,C,M,A,I){for(var R in C)if(!(!C.hasOwnProperty(R)||!C[R])){var T=C[R];T=Array.isArray(T)?T:[T];for(var F=0;F<T.length;++F){if(I&&I.cause==R+","+F)return;var S=T[F],G=S.inside,le=!!S.lookbehind,ae=!!S.greedy,Ae=S.alias;if(ae&&!S.pattern.global){var Fe=S.pattern.toString().match(/[imsuy]*$/)[0];S.pattern=RegExp(S.pattern.source,Fe+"g")}for(var D=S.pattern||S,X=M.next,H=A;X!==g.tail&&!(I&&H>=I.reach);H+=X.value.length,X=X.next){var Q=X.value;if(g.length>d.length)return;if(!(Q instanceof r)){var ie=1,re;if(ae){if(re=u(D,H,d,le),!re||re.index>=d.length)break;var Ce=re.index,fe=re.index+re[0].length,te=H;for(te+=X.value.length;Ce>=te;)X=X.next,te+=X.value.length;if(te-=X.value.length,H=te,X.value instanceof r)continue;for(var he=X;he!==g.tail&&(te<fe||typeof he.value=="string");he=he.next)ie++,te+=he.value.length;ie--,Q=d.slice(H,te),re.index-=H}else if(re=u(D,0,Q,le),!re)continue;var Ce=re.index,ge=re[0],be=Q.slice(0,Ce),pe=Q.slice(Ce+ge.length),Pe=H+Q.length;I&&Pe>I.reach&&(I.reach=Pe);var ve=X.prev;be&&(ve=m(g,ve,be),H+=be.length),_(g,ve,ie);var pt=new r(R,G?l.tokenize(ge,G):ge,Ae,ge);if(X=m(g,ve,pt),pe&&m(g,X,pe),ie>1){var Te={cause:R+","+F,reach:Pe};f(d,g,C,X.prev,H,Te),I&&Te.reach>I.reach&&(I.reach=Te.reach)}}}}}}function b(){var d={value:null,prev:null,next:null},g={value:null,prev:d,next:null};d.next=g,this.head=d,this.tail=g,this.length=0}function m(d,g,C){var M=g.next,A={value:C,prev:g,next:M};return g.next=A,M.prev=A,d.length++,A}function _(d,g,C){for(var M=g.next,A=0;A<C&&M!==d.tail;A++)M=M.next;g.next=M,M.prev=g,d.length-=A}function O(d){for(var g=[],C=d.head.next;C!==d.tail;)g.push(C.value),C=C.next;return g}if(!i.document)return i.addEventListener&&(l.disableWorkerMessageHandler||i.addEventListener("message",function(d){var g=JSON.parse(d.data),C=g.language,M=g.code,A=g.immediateClose;i.postMessage(l.highlight(M,l.languages[C],C)),A&&i.close()},!1)),l;var L=l.util.currentScript();L&&(l.filename=L.src,L.hasAttribute("data-manual")&&(l.manual=!0));function y(){l.manual||l.highlightAll()}if(!l.manual){var k=document.readyState;k==="loading"||k==="interactive"&&L&&L.defer?document.addEventListener("DOMContentLoaded",y):window.requestAnimationFrame?window.requestAnimationFrame(y):window.setTimeout(y,16)}return l}(t);a.exports&&(a.exports=e),typeof Za<"u"&&(Za.Prism=e),e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(s,n){var o={};o["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[n]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};l["language-"+n]={pattern:/[\s\S]+/,inside:e.languages[n]};var r={};r[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:l},e.languages.insertBefore("markup","cdata",r)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(i,s){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:e.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml,function(i){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;i.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},i.languages.css.atrule.inside.rest=i.languages.css;var n=i.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(e),e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript,function(){if(typeof e>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var i="Loading\u2026",s=function(L,y){return"\u2716 Error "+L+" while fetching file: "+y},n="\u2716 Error: File does not exist or is empty",o={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",r="loading",u="loaded",f="failed",b="pre[data-src]:not(["+l+'="'+u+'"]):not(['+l+'="'+r+'"])';function m(L,y,k){var d=new XMLHttpRequest;d.open("GET",L,!0),d.onreadystatechange=function(){d.readyState==4&&(d.status<400&&d.responseText?y(d.responseText):d.status>=400?k(s(d.status,d.statusText)):k(n))},d.send(null)}function _(L){var y=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(L||"");if(y){var k=Number(y[1]),d=y[2],g=y[3];return d?g?[k,Number(g)]:[k,void 0]:[k,k]}}e.hooks.add("before-highlightall",function(L){L.selector+=", "+b}),e.hooks.add("before-sanity-check",function(L){var y=L.element;if(y.matches(b)){L.code="",y.setAttribute(l,r);var k=y.appendChild(document.createElement("CODE"));k.textContent=i;var d=y.getAttribute("data-src"),g=L.language;if(g==="none"){var C=(/\.(\w+)$/.exec(d)||[,"none"])[1];g=o[C]||C}e.util.setLanguage(k,g),e.util.setLanguage(y,g);var M=e.plugins.autoloader;M&&M.loadLanguages(g),m(d,function(A){y.setAttribute(l,u);var I=_(y.getAttribute("data-range"));if(I){var R=A.split(/\r\n?|\n/g),T=I[0],F=I[1]==null?R.length:I[1];T<0&&(T+=R.length),T=Math.max(0,Math.min(T-1,R.length)),F<0&&(F+=R.length),F=Math.max(0,Math.min(F,R.length)),A=R.slice(T,F).join(`
`),y.hasAttribute("data-start")||y.setAttribute("data-start",String(T+1))}k.textContent=A,e.highlightElement(k)},function(A){y.setAttribute(l,f),k.textContent=A})}}),e.plugins.fileHighlight={highlight:function(y){for(var k=(y||document).querySelectorAll(b),d=0,g;g=k[d++];)e.highlightElement(g)}};var O=!1;e.fileHighlight=function(){O||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),O=!0),e.plugins.fileHighlight.highlight.apply(this,arguments)}}()})($i);const en=$i.exports,Ja="(if|else if|await|then|catch|each|html|debug)";Prism.languages.svelte=Prism.languages.extend("markup",{each:{pattern:new RegExp("{[#/]each(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{"language-javascript":[{pattern:/(as[\s\S]*)\([\s\S]*\)(?=\s*\})/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(as[\s]*)[\s\S]*(?=\s*)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(#each[\s]*)[\s\S]*(?=as)/,lookbehind:!0,inside:Prism.languages.javascript}],keyword:/[#/]each|as/,punctuation:/{|}/}},block:{pattern:new RegExp("{[#:/@]/s"+Ja+"(?:(?:\\{(?:(?:\\{(?:[^{}])*\\})|(?:[^{}]))*\\})|(?:[^{}]))*}"),inside:{punctuation:/^{|}$/,keyword:[new RegExp("[#:/@]"+Ja+"( )*"),/as/,/then/],"language-javascript":{pattern:/[\s\S]*/,inside:Prism.languages.javascript}}},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?:"[^"]*"|'[^']*'|{[\s\S]+?}(?=[\s/>])))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,inside:Prism.languages.javascript},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],"language-javascript":{pattern:/{[\s\S]+}/,inside:Prism.languages.javascript}}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},"language-javascript":{pattern:/\{(?:(?:\{(?:(?:\{(?:[^{}])*\})|(?:[^{}]))*\})|(?:[^{}]))*\}/,lookbehind:!0,inside:Prism.languages.javascript}});Prism.languages.svelte.tag.inside["attr-value"].inside.entity=Prism.languages.svelte.entity;Prism.hooks.add("wrap",a=>{a.type==="entity"&&(a.attributes.title=a.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.svelte.tag,"addInlined",{value:function(t,e){const i={};i["language-"+e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[e]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;const s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};s["language-"+e]={pattern:/[\s\S]+/,inside:Prism.languages[e]};const n={};n[t]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:s},Prism.languages.insertBefore("svelte","cdata",n)}});Prism.languages.svelte.tag.addInlined("style","css");Prism.languages.svelte.tag.addInlined("script","javascript");function Cn(a){let t,e;return{c(){t=new gn(!1),e=oe(),this.h()},l(i){t=bn(i,!1),e=oe(),this.h()},h(){t.a=e},m(i,s){t.m(a[2],i,s),z(i,e,s)},p(i,s){s&4&&t.p(i[2])},d(i){i&&p(e),i&&t.d()}}}function Pn(a){let t;return{c(){t=W(a[2])},l(e){t=j(e,a[2])},m(e,i){z(e,t,i)},p(e,i){i&4&&ma(t,e[2])},d(e){e&&p(t)}}}function Ln(a){let t,e,i,s,n,o,l;const r=a[6].default,u=cn(r,a,a[5],null);function f(_,O){return _[0]==="none"?Pn:Cn}let b=f(a),m=b(a);return{c(){t=E("code"),u&&u.c(),e=V(),i=E("pre"),s=E("code"),m.c(),this.h()},l(_){t=w(_,"CODE",{style:!0});var O=P(t);u&&u.l(O),O.forEach(p),e=N(_),i=w(_,"PRE",{class:!0,"command-line":!0,"data-output":!0});var L=P(i);s=w(L,"CODE",{class:!0});var y=P(s);m.l(y),y.forEach(p),L.forEach(p),this.h()},h(){ne(t,"display","none"),c(s,"class",n="language-"+a[0]),c(i,"class",o="language-"+a[0]),c(i,"command-line",""),c(i,"data-output","2-17")},m(_,O){z(_,t,O),u&&u.m(t,null),a[7](t),z(_,e,O),z(_,i,O),h(i,s),m.m(s,null),l=!0},p(_,[O]){u&&u.p&&(!l||O&32)&&dn(u,r,_,_[5],l?fn(r,_[5],O,null):hn(_[5]),null),b===(b=f(_))&&m?m.p(_,O):(m.d(1),m=b(_),m&&(m.c(),m.m(s,null))),(!l||O&1&&n!==(n="language-"+_[0]))&&c(s,"class",n),(!l||O&1&&o!==(o="language-"+_[0]))&&c(i,"class",o)},i(_){l||(K(u,_),l=!0)},o(_){x(u,_),l=!1},d(_){_&&p(t),u&&u.d(_),a[7](null),_&&p(e),_&&p(i),m.d()}}}const $a=en;en.highlightElement;const Tn={transform:a=>a};function On(a,t,e){let{$$slots:i={},$$scope:s}=t,{language:n="javascript"}=t,{source:o=""}=t,{transform:l=m=>m}=t,r,u;function f(){const m=$a.languages[n];let _=o||r.textContent;_=Tn.transform(_),_=l(_),e(2,u=n==="none"?_:$a.highlight(_,m,n))}function b(m){Le[m?"unshift":"push"](()=>{r=m,e(1,r)})}return a.$$set=m=>{e(9,t=Ss(Ss({},t),Ga(m))),"language"in m&&e(0,n=m.language),"source"in m&&e(3,o=m.source),"transform"in m&&e(4,l=m.transform),"$$scope"in m&&e(5,s=m.$$scope)},a.$$.update=()=>{t&&(o||r)&&f()},t=Ga(t),[n,r,u,o,l,s,i,b]}class In extends je{constructor(t){super(),Ge(this,t,On,Ln,Xe,{language:0,source:3,transform:4})}}var $=(a=>(a[a.WHITE=0]="WHITE",a[a.BLACK=1]="BLACK",a[a.BOTH=2]="BOTH",a[a.SPECTATOR=3]="SPECTATOR",a[a.SERVER=4]="SERVER",a))($||{}),q=(a=>(a[a.LEGAL=0]="LEGAL",a[a.LEGALHOVER=1]="LEGALHOVER",a[a.CHECK=2]="CHECK",a[a.MOVE=3]="MOVE",a[a.NEXTMOVE=4]="NEXTMOVE",a[a.PREMOVE=5]="PREMOVE",a[a.PREMOVEHOVER=6]="PREMOVEHOVER",a[a.SELECT=7]="SELECT",a))(q||{});class Fn{constructor(t){this.defaultState={boardTheme:"standard",piecesTheme:"standard",flipped:!1,notation:!0,shadow:!1,startFen:zn,size:0},this.setConfigSettings=e=>{e!==void 0&&(e.boardTheme!==void 0&&(this.boardTheme=e.boardTheme),e.piecesTheme!==void 0&&(this.piecesTheme=e.piecesTheme),e.flipped!==void 0&&(this.flipped=e.flipped),e.notation!==void 0&&(this.notation=e.notation),e.shadow!==void 0&&(this.shadow=e.shadow),e.startFen!==void 0&&(this.startFen=e.startFen))},this.getConfig=()=>{const e={...this.boardTheme!==this.defaultState.boardTheme&&{boardTheme:this.boardTheme},...this.piecesTheme!==this.defaultState.piecesTheme&&{piecesTheme:this.piecesTheme},...this.flipped!==this.defaultState.flipped&&{flipped:this.flipped},...this.notation!==this.defaultState.notation&&{notation:this.notation},...this.shadow!==this.defaultState.shadow&&{shadow:this.shadow},...this.startFen!==this.defaultState.startFen&&{startFen:this.startFen}};if(Object.keys(e).length!==0)return e},this.boardTheme=this.defaultState.boardTheme,this.piecesTheme=this.defaultState.piecesTheme,this.flipped=this.defaultState.flipped,this.notation=this.defaultState.notation,this.shadow=this.defaultState.shadow,this.startFen=this.defaultState.startFen,this.size=this.defaultState.size,this.setConfigSettings(t)}}class tn{constructor(t){this.defaultState={enabled:!0,color:$.BOTH},this.setConfigSettings=e=>{switch(e){case!0:this.enabled=!0,this.color=$.BOTH;break;case!1:this.enabled=!1;break;case $.WHITE:this.enabled=!0,this.color=$.WHITE;break;case $.BLACK:this.enabled=!0,this.color=$.BLACK;break}},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.color!==this.defaultState.color)return this.color;if(this.enabled&&!this.defaultState.enabled)return this.color;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.color=this.defaultState.color,this.setConfigSettings(t)}}class qn{constructor(t){this.defaultState={enabled:!0,ghostPiece:{enabled:!0,piece:void 0},transition:{enabled:!0,settings:{duration:120,easing:"cubicInOut"}}},this.setConfigSettings=e=>{var i,s,n,o;e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,(e==null?void 0:e.ghostPiece)!==void 0&&(this.ghostPiece.enabled=e.ghostPiece),e.transition!==void 0&&((e==null?void 0:e.transition)===!0?this.transition.enabled=!0:(e==null?void 0:e.transition)===!1?this.transition.enabled=!1:(this.transition.enabled=!0,(i=e==null?void 0:e.transition)!=null&&i.duration&&(this.transition.settings.duration=(s=e==null?void 0:e.transition)==null?void 0:s.duration),(n=e==null?void 0:e.transition)!=null&&n.easing&&(this.transition.settings.easing=(o=e==null?void 0:e.transition)==null?void 0:o.easing)))))},this.getConfig=()=>{const e={},i={};if(this.enabled&&this.defaultState.enabled&&(this.ghostPiece.enabled!==this.defaultState.ghostPiece.enabled&&(e.ghostPiece=this.ghostPiece.enabled),this.transition.enabled&&this.defaultState.transition.enabled&&(this.transition.settings.duration!==this.defaultState.transition.settings.duration&&(i.duration=this.transition.settings.duration),this.transition.settings.easing!==this.defaultState.transition.settings.easing&&(i.easing=this.transition.settings.easing),Object.keys(i).length!==0&&(e.transition=i)),!this.transition.enabled&&this.defaultState.transition.enabled&&(e.transition=!1),Object.keys(e).length!==0))return e;if(!this.enabled&&this.defaultState.enabled)return!1},this.enabled=this.defaultState.enabled,this.ghostPiece={...this.defaultState.ghostPiece},this.transition={enabled:this.defaultState.transition.enabled,settings:{...this.defaultState.transition.settings}},this.setConfigSettings(t)}}class Rn{constructor(t){this.defaultState={enabled:!0,selectedPiece:void 0},this.setConfigSettings=e=>{e!==void 0&&(this.enabled=e)},this.getConfig=()=>{if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.selectedPiece=this.defaultState.selectedPiece,this.setConfigSettings(t)}}class Dn{constructor(t){this.defaultState={enabled:!1,whiteToMove:!0,moves:[],settings:{allowPromotion:!0,allowEnPassant:!0,allowCastling:!0},preMoves:{enabled:!1,moves:[],curMove:""},lastMove:""},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.settings&&(e.settings.allowCastling!==void 0&&(this.settings.allowCastling=e.settings.allowCastling),e.settings.allowEnPassant!==void 0&&(this.settings.allowEnPassant=e.settings.allowEnPassant),e.settings.allowPromotion!==void 0&&(this.settings.allowPromotion=e.settings.allowPromotion)),e.preMoves!==void 0&&(this.preMoves.enabled=e.preMoves)))},this.getConfig=()=>{if(this.enabled&&this.defaultState.enabled&&this.preMoves.enabled!==this.defaultState.preMoves.enabled)return{preMoves:this.preMoves.enabled};if(this.enabled!==this.defaultState.enabled)return this.preMoves.enabled!==this.defaultState.preMoves.enabled?{preMoves:this.preMoves.enabled}:this.enabled},this.enabled=this.defaultState.enabled,this.whiteToMove=this.defaultState.whiteToMove,this.moves=JSON.parse(JSON.stringify(this.defaultState.moves)),this.settings={...this.defaultState.settings},this.preMoves={enabled:this.defaultState.preMoves.enabled,moves:[...this.defaultState.preMoves.moves],curMove:this.defaultState.preMoves.curMove},this.lastMove=this.defaultState.lastMove,this.setConfigSettings(t)}}class Vn{constructor(t){this.defaultState={enabled:!0,settings:{select:!0,legal:!0,move:!0,preMove:!1,nextMove:!1,check:!0}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.check!==void 0&&(this.settings.check=e.check),e.legal!==void 0&&(this.settings.legal=e.legal),e.move!==void 0&&(this.settings.move=e.move),e.nextMove!==void 0&&(this.settings.nextMove=e.nextMove),e.preMove!==void 0&&(this.settings.preMove=e.preMove),e.select!==void 0&&(this.settings.select=e.select)))},this.getConfig=()=>{const e={},i=["select","legal","move","preMove","nextMove","check"];if(this.enabled&&this.defaultState.enabled&&(i.forEach(s=>{this.settings[s]!==this.defaultState.settings[s]&&(e[s]=this.settings[s])}),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},this.setConfigSettings(t)}}class Nn{constructor(t){this.defaultState={enabled:!0,engineArrows:[],settings:{LshapeKnightMove:!0,onlyChessMove:!1}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.LshapeKnightMove!==void 0&&(this.settings.LshapeKnightMove=e.LshapeKnightMove),e.onlyChessMove!==void 0&&(this.settings.onlyChessMove=e.onlyChessMove)))},this.getConfig=()=>{const e={};if(this.enabled&&this.defaultState.enabled&&(this.settings.LshapeKnightMove!==this.defaultState.settings.LshapeKnightMove&&(e.LshapeKnightMove=this.settings.LshapeKnightMove),this.settings.onlyChessMove!==this.defaultState.settings.onlyChessMove&&(e.onlyChessMove=this.settings.onlyChessMove),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.engineArrows=JSON.parse(JSON.stringify(this.defaultState.engineArrows)),this.settings={LshapeKnightMove:this.defaultState.settings.LshapeKnightMove,onlyChessMove:this.defaultState.settings.onlyChessMove},this.setConfigSettings(t)}}class Un{constructor(t){this.defaultState={enabled:!0,settings:{MOVE:!0,CAPTURE:!0,CASTLE:!0,UNDO:!0}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.CAPTURE!==void 0&&(this.settings.CAPTURE=e.CAPTURE),e.CASTLE!==void 0&&(this.settings.CASTLE=e.CASTLE),e.MOVE!==void 0&&(this.settings.MOVE=e.MOVE),e.UNDO!==void 0&&(this.settings.UNDO=e.UNDO)))},this.getConfig=()=>{const e={};if(this.enabled&&this.defaultState.enabled&&(this.settings.MOVE!==this.defaultState.settings.MOVE&&(e.MOVE=this.settings.MOVE),this.settings.CAPTURE!==this.defaultState.settings.CAPTURE&&(e.CAPTURE=this.settings.CAPTURE),this.settings.CASTLE!==this.defaultState.settings.CASTLE&&(e.CASTLE=this.settings.CASTLE),this.settings.UNDO!==this.defaultState.settings.UNDO&&(e.UNDO=this.settings.UNDO),Object.keys(e).length!==0))return e;if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},t!==void 0&&(t===!0?this.enabled=!0:t===!1?this.enabled=!1:(this.enabled=!0,t.CAPTURE!==void 0&&(this.settings.CAPTURE=t.CAPTURE),t.CASTLE!==void 0&&(this.settings.CASTLE=t.CASTLE),t.MOVE!==void 0&&(this.settings.MOVE=t.MOVE),t.UNDO!==void 0&&(this.settings.UNDO=t.UNDO)))}}class Bn{constructor(t){this.defaultState={enabled:!1,settings:{min:100,max:1e3}},this.setConfigSettings=e=>{e!==void 0&&(e===!0?this.enabled=!0:e===!1?this.enabled=!1:(this.enabled=!0,e.min!==void 0&&(this.settings.min=e.min),e.max!==void 0&&(this.settings.max=e.max)))},this.getConfig=()=>{if(this.enabled!==this.defaultState.enabled)return this.enabled},this.enabled=this.defaultState.enabled,this.settings={...this.defaultState.settings},this.setConfigSettings(t)}}const zn="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class sn{constructor(t){this.getConfig=()=>({board:this.board.getConfig(),movable:this.movable.getConfig(),draggable:this.draggable.getConfig(),selectable:this.selectable.getConfig(),legal:this.legal.getConfig(),highlight:this.highlight.getConfig(),drawTools:this.drawTools.getConfig(),sounds:this.sounds.getConfig(),resizible:this.resizible.getConfig()}),this.pieces=[],this.markedSquares=new Set,this.board=new Fn(t==null?void 0:t.board),this.movable=new tn(t==null?void 0:t.movable),this.draggable=new qn(t==null?void 0:t.draggable),this.selectable=new Rn(t==null?void 0:t.selectable),this.legal=new Dn(t==null?void 0:t.legal),this.callbacks={},this.highlight=new Vn(t==null?void 0:t.highlight),this.drawTools=new Nn(t==null?void 0:t.drawTools),this.sounds=new Un(t==null?void 0:t.sounds),this.resizible=new Bn(t==null?void 0:t.resizible)}setConfigSettings(t){this.board.setConfigSettings(t.board),this.movable.setConfigSettings(t.movable),this.draggable.setConfigSettings(t.draggable),this.selectable.setConfigSettings(t.selectable),this.legal.setConfigSettings(t.legal),t.callbacks!==void 0&&(t.callbacks.getLegalMoves&&(this.callbacks.getLegalMoves=t.callbacks.getLegalMoves),t.callbacks.getPreMoves&&(this.callbacks.getPreMoves=t.callbacks.getPreMoves),t.callbacks.beforeMove&&(this.callbacks.beforeMove=t.callbacks.beforeMove),t.callbacks.afterMove&&(this.callbacks.afterMove=t.callbacks.afterMove),t.callbacks.getLastMove&&(this.callbacks.getLastMove=t.callbacks.getLastMove),t.callbacks.getLastMoveSAN&&(this.callbacks.getLastMoveSAN=t.callbacks.getLastMoveSAN),t.callbacks.getKingLocations&&(this.callbacks.getKingLocations=t.callbacks.getKingLocations),t.callbacks.getInCheck&&(this.callbacks.getInCheck=t.callbacks.getInCheck),t.callbacks.getWhiteToMove&&(this.callbacks.getWhiteToMove=t.callbacks.getWhiteToMove)),this.highlight.setConfigSettings(t.highlight),this.drawTools.setConfigSettings(t.drawTools),this.sounds.setConfigSettings(t.sounds),this.resizible.setConfigSettings(t.resizible)}}const Hn=["a","b","c","d","e","f","g","h"],Kn=["8","7","6","5","4","3","2","1"];function ha(a){return{x:Hn.indexOf(a[0]),y:Kn.indexOf(a[1])}}function fa(a){return a.charCodeAt(0)-97}function Wn(a){return 8-parseInt(a,10)}const jn=a=>{let t="",e=0;for(let i=0;i<a.length;i++){i!==0&&(t+="/");for(let s=0;s<a[i].length;s++){const n=a[i][s];n!=null&&e===0?n[0]==="w"?t+=n[1]:t+=n[1].toLowerCase():n!=null&&e!==0?(t+=e.toString(),e=0,n[0]==="w"?t+=n[1]:t+=n[1].toLowerCase()):e++}e!==0&&(t+=e.toString(),e=0)}return t},Gn="8/8/8/8/8/8/8/8 w - - 0 1";class Xn{constructor(t){this.letters={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},this.changeLegalHoverIfNeeded=e=>{e.color!==q.LEGAL&&e.color!==q.PREMOVE||this.state.pieces.forEach(i=>{i.square===e.square&&(e.color=e.color===q.LEGAL?q.LEGALHOVER:q.PREMOVEHOVER)})},this.highlightSquare=(e,i)=>{const s={square:e,color:i};this.state.markedSquares.forEach(n=>{n.square===e&&n.color!==q.MOVE&&n.color!==q.CHECK&&this.state.markedSquares.delete(n)}),this.changeLegalHoverIfNeeded(s),this.state.markedSquares.add(s)},this.legalHover=e=>{this.state.markedSquares.forEach(i=>{if(i.square===e&&i.color===q.LEGAL)i.color=q.LEGALHOVER;else if(i.square!==e&&i.color===q.LEGALHOVER){let s=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(s=!0)}),s||(i.color=q.LEGAL)}})},this.preMoveHover=e=>{this.state.markedSquares.forEach(i=>{if(i.square===e&&i.color===q.PREMOVE)i.color=q.PREMOVEHOVER;else if(i.square!==e&&i.color===q.PREMOVEHOVER){let s=!1;this.state.pieces.forEach(n=>{n.square===i.square&&(s=!0)}),s||(i.color=q.PREMOVE)}})},this.toggleSquareHighlight=(e,i)=>{const s={square:e,color:i};let n=!1;return this.state.markedSquares.forEach(o=>{o.square===e&&(this.state.markedSquares.delete(o),o.color===i&&(n=!0))}),this.changeLegalHoverIfNeeded(s),n?!0:(this.state.markedSquares.add(s),!1)},this.getSelectedSquare=()=>{let e="";return this.state.markedSquares.forEach(i=>{i.color===q.SELECT&&(e=i.square)}),e},this.clearSquare=(e,i)=>{e.length===2&&this.state.markedSquares.forEach(s=>{s.square===e&&(s.color===i||i===void 0)&&this.state.markedSquares.delete(s)})},this.clearAllSquares=e=>{e===void 0?this.state.markedSquares.clear():this.state.markedSquares.forEach(i=>{i.color===e&&this.state.markedSquares.delete(i)})},this.setPiece=(e,i)=>{if(this.notValidThing({square:e,piece:i}))return;const s=this.state.pieces.find(n=>n.square===e);s?s.name=i:this.state.pieces.push({square:e,name:i})},this.removePiece=e=>{this.notValidThing({square:e})||this.state.pieces.forEach((i,s)=>{i.square===e&&this.state.pieces.splice(s,1)})},this.clearAllPieces=()=>{this.state.pieces.length=0},this.getGridCoordsFromSquare=e=>{if(this.notValidThing({square:e}))return{x:0,y:0};const i=e[0],s=e[1],n=this.state.board.flipped?Math.abs(this.letters[i]-7):this.letters[i],o=this.state.board.flipped?Math.abs(parseInt(s,10)-8):parseInt(s,10)-1;return typeof n!="number"||o<0||o>7?{x:0,y:0}:{x:n,y:o}},this.makeMove=e=>{if(this.notValidThing({move:e}))return;let i=!1,s;const n=e.substring(0,2),o=e.substring(2,4),l=e.substring(4);this.state.pieces.forEach(r=>{r.square===o&&(s=r,this.removePiece(r.square))}),this.state.pieces.forEach(r=>{r.square===n&&(r.square=o,i=!0,l&&(r.name=r.name[0]+l.toUpperCase()))}),i?this.state.legal.lastMove=e:s&&this.state.pieces.push(s)},this.getSquareFromIndices=(e,i)=>Object.keys(this.letters)[e]+(i+1).toString(),this.updatePiecesWithFen=e=>{const i=[...Array(8)].map(()=>Array(8).fill(null)),s=["1","2","3","4","5","6","7","8"];let n=0,o=0;for(let u=0;u<(e.includes(" ")?e.indexOf(" "):e.length);u++)if(e[u]==="/")n++,o=0;else if(!s.includes(e[u]))e[u]===e[u].toUpperCase()?i[n][o]=`w${e[u]}`:i[n][o]=`b${e[u].toUpperCase()}`,o++;else for(let f=0;f<parseInt(e[u],10);f++)i[n][o]=null,o++;const l=[],r=[];for(let u=0;u<i.length;++u)for(let f=0;f<i.length;++f){const b=i[u][f],m=this.getPieceFromSquare(this.getSquareFromIndices(f,Math.abs(u-7)));b&&!m&&l.push({square:this.getSquareFromIndices(f,Math.abs(u-7)),name:b}),!b&&m&&r.push(m),b&&m&&b!==m.name&&(l.push({square:this.getSquareFromIndices(f,Math.abs(u-7)),name:b}),r.push(m))}for(let u=0;u<r.length;u++)for(let f=0;f<l.length;f++)!l[f]||!r[u]||l[f].name===r[u].name&&(r[u].square=l[f].square,r.splice(u,1),u--,l.splice(f,1),f--);l.forEach(u=>{this.state.pieces.push(u)}),r.forEach(u=>{this.state.pieces.splice(this.state.pieces.indexOf(u),1)})},this.notValidThing=e=>{const{square:i,piece:s,move:n}=e;return!!(i&&i.length!==2||s&&s.length!==2||n&&n.length!==4&&n.length!==5)},this.setGhostPiece=e=>{this.state.draggable.ghostPiece.piece=e},this.removeGhostPiece=()=>{this.state.draggable.ghostPiece.piece=void 0},this.isCastling=e=>{switch(e){case"e1g1":case"e1c1":case"e8g8":case"e8c8":return!0;default:return!1}},this.getRookMoveIfIsCastling=e=>{switch(e){case"e1g1":return"h1f1";case"e1c1":return"a1d1";case"e8g8":return"h8f8";case"e8c8":return"a8d8";default:return}},this.isEnPassant=e=>{if(e[0]===e[2]||this.getPieceFromSquare(e.substring(2,4)))return!1;const i=this.getPieceFromSquare(e.substring(0,2));return!(i===void 0||i.name!=="wP"&&i.name!=="bP")},this.getCapturedPawnSquareIfIsEnPassant=e=>{if(e[0]===e[2]||this.getPieceFromSquare(e.substring(2,4)))return;const i=this.getPieceFromSquare(e.substring(0,2));if(i===void 0||i.name!=="wP"&&i.name!=="bP")return;const s=this.getPieceFromSquare(`${e[2]}${parseInt(e[3],10)+(i.name==="wP"?-1:1)}`);return s==null?void 0:s.square},this.isCapture=e=>!!this.getPieceFromSquare(e.substring(2,4)),this.isPromotion=e=>{if((e[1]!=="7"||e[3]!=="8")&&(e[1]!=="2"||e[3]!=="1"))return!1;const i=this.getPieceFromSquare(e.substring(0,2));return!(i&&(i.name[1]!=="P"||i.name[0]==="w"&&e[3]==="1"||i.name[0]==="b"&&e[3]==="8"))},this.callbackExists=e=>this.state.callbacks[e]!==void 0,this.flipBoard=e=>{e!==void 0?this.state.board.flipped=e:this.state.board.flipped=!this.state.board.flipped},this.setConfigSettings=e=>{this.state.setConfigSettings(e)},this.state=new sn(t),this.state.board.startFen&&this.updatePiecesWithFen(this.state.board.startFen)}getShortFEN(){if(this.state.pieces.length===0)return Gn;const t=[...Array(8)].map(()=>Array(8).fill(null));return this.state.pieces.forEach(e=>{t[Wn(e.square[1])][fa(e.square[0])]=e.name}),jn(t)}getPieceFromSquare(t){let e;return this.state.pieces.forEach(i=>{i.square===t&&(e=i)}),e}}const Yn={[q.LEGAL]:"legalSQ cursor-pointer",[q.LEGALHOVER]:"legalSQ_hover cursor-pointer",[q.SELECT]:"selectedSQ",[q.MOVE]:"highlightMove",[q.NEXTMOVE]:"nextMoveSQ",[q.PREMOVE]:"preMoveSQ cursor-pointer",[q.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[q.CHECK]:"checkSQ"},Qn={white:"#f0d9b5",black:"#b58863"},xn="standard.svg",Zn={[q.LEGAL]:"legalSQ cursor-pointer",[q.LEGALHOVER]:"legalSQ_hover cursor-pointer",[q.SELECT]:"selectedSQ-darkBlue",[q.MOVE]:"highlightMove-darkBlue",[q.NEXTMOVE]:"nextMoveSQ",[q.PREMOVE]:"preMoveSQ cursor-pointer",[q.PREMOVEHOVER]:"preMoveSQ_hover cursor-pointer",[q.CHECK]:"checkSQ"},Jn={white:"#94A3B8",black:"#475569"},$n="darkBlue.svg",qe={squareStyles:{standard:Yn,darkBlue:Zn},colors:{standard:Qn,darkBlue:Jn},imageName:{standard:xn,darkBlue:$n}};function ei(a,t,e){const i=a.slice();return i[3]=t[e],i[5]=e,i}function ti(a,t,e){const i=a.slice();return i[3]=t[e],i[5]=e,i}function si(a){let t,e=a[2][a[1]?Math.abs(a[5]-7):a[5]]+"",i,s;return{c(){t=E("span"),i=W(e),s=V(),this.h()},l(n){t=w(n,"SPAN",{"data-file":!0,style:!0,class:!0});var o=P(t);i=j(o,e),s=N(o),o.forEach(p),this.h()},h(){c(t,"data-file",a[3]),ne(t,"color",a[5]%2===0?qe.colors[a[0]].white:qe.colors[a[0]].black),c(t,"class","svelte-t3eav4")},m(n,o){z(n,t,o),h(t,i),h(t,s)},p(n,o){o&2&&e!==(e=n[2][n[1]?Math.abs(n[5]-7):n[5]]+"")&&ma(i,e),o&1&&ne(t,"color",n[5]%2===0?qe.colors[n[0]].white:qe.colors[n[0]].black)},d(n){n&&p(t)}}}function ai(a){let t,e=(a[1]?a[5]+1:Math.abs(a[5]-8))+"",i,s,n;return{c(){t=E("span"),i=W(e),s=V(),this.h()},l(o){t=w(o,"SPAN",{"data-file":!0,style:!0,class:!0});var l=P(t);i=j(l,e),s=N(l),l.forEach(p),this.h()},h(){c(t,"data-file",a[3]),ne(t,"color",a[5]%2===0?qe.colors[a[0]].white:qe.colors[a[0]].black),c(t,"class",n=Xa(a[1]?"":"text-right")+" svelte-t3eav4")},m(o,l){z(o,t,l),h(t,i),h(t,s)},p(o,l){l&2&&e!==(e=(o[1]?o[5]+1:Math.abs(o[5]-8))+"")&&ma(i,e),l&1&&ne(t,"color",o[5]%2===0?qe.colors[o[0]].white:qe.colors[o[0]].black),l&2&&n!==(n=Xa(o[1]?"":"text-right")+" svelte-t3eav4")&&c(t,"class",n)},d(o){o&&p(t)}}}function el(a){let t,e,i,s=a[2],n=[];for(let r=0;r<s.length;r+=1)n[r]=si(ti(a,s,r));let o=a[2],l=[];for(let r=0;r<o.length;r+=1)l[r]=ai(ei(a,o,r));return{c(){t=E("div");for(let r=0;r<n.length;r+=1)n[r].c();e=V(),i=E("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){t=w(r,"DIV",{class:!0});var u=P(t);for(let b=0;b<n.length;b+=1)n[b].l(u);u.forEach(p),e=N(r),i=w(r,"DIV",{class:!0});var f=P(i);for(let b=0;b<l.length;b+=1)l[b].l(f);f.forEach(p),this.h()},h(){c(t,"class","files noselect svelte-t3eav4"),c(i,"class","ranks noselect svelte-t3eav4")},m(r,u){z(r,t,u);for(let f=0;f<n.length;f+=1)n[f].m(t,null);z(r,e,u),z(r,i,u);for(let f=0;f<l.length;f+=1)l[f].m(i,null)},p(r,[u]){if(u&7){s=r[2];let f;for(f=0;f<s.length;f+=1){const b=ti(r,s,f);n[f]?n[f].p(b,u):(n[f]=si(b),n[f].c(),n[f].m(t,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=s.length}if(u&7){o=r[2];let f;for(f=0;f<o.length;f+=1){const b=ei(r,o,f);l[f]?l[f].p(b,u):(l[f]=ai(b),l[f].c(),l[f].m(i,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},i:ce,o:ce,d(r){r&&p(t),bt(n,r),r&&p(e),r&&p(i),bt(l,r)}}}function tl(a,t,e){let{theme:i}=t,{flipped:s}=t;const n=["a","b","c","d","e","f","g","h"];return a.$$set=o=>{"theme"in o&&e(0,i=o.theme),"flipped"in o&&e(1,s=o.flipped)},[i,s,n]}class sl extends je{constructor(t){super(),Ge(this,t,tl,el,Xe,{theme:0,flipped:1})}}function al(a){const t=2.5949095;return(a*=2)<1?.5*(a*a*((t+1)*a-t)):.5*((a-=2)*a*((t+1)*a+t)+2)}function il(a){return a*a*((1.70158+1)*a-1.70158)}function nl(a){return--a*a*((1.70158+1)*a+1.70158)+1}function ys(a){const t=.36363636363636365,e=8/11,i=9/10,s=4356/361,n=35442/1805,o=16061/1805,l=a*a;return a<t?7.5625*l:a<e?9.075*l-9.9*a+3.4:a<i?s*l-n*a+o:10.8*a*a-20.52*a+10.72}function ll(a){return a<.5?.5*(1-ys(1-a*2)):.5*ys(a*2-1)+.5}function rl(a){return 1-ys(1-a)}function ol(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}function ul(a){return 1-Math.sqrt(1-a*a)}function cl(a){return Math.sqrt(1- --a*a)}function dl(a){return a<.5?4*a*a*a:.5*Math.pow(2*a-2,3)+1}function hl(a){return a*a*a}function an(a){const t=a-1;return t*t*t+1}function fl(a){return a<.5?.5*Math.sin(13*Math.PI/2*2*a)*Math.pow(2,10*(2*a-1)):.5*Math.sin(-13*Math.PI/2*(2*a-1+1))*Math.pow(2,-10*(2*a-1))+1}function gl(a){return Math.sin(13*a*Math.PI/2)*Math.pow(2,10*(a-1))}function bl(a){return Math.sin(-13*(a+1)*Math.PI/2)*Math.pow(2,-10*a)+1}function pl(a){return a===0||a===1?a:a<.5?.5*Math.pow(2,20*a-10):-.5*Math.pow(2,10-a*20)+1}function vl(a){return a===0?a:Math.pow(2,10*(a-1))}function ml(a){return a===1?a:1-Math.pow(2,-10*a)}function _l(a){return a/=.5,a<1?.5*a*a:(a--,-.5*(a*(a-2)-1))}function El(a){return a*a}function wl(a){return-a*(a-2)}function kl(a){return a<.5?8*Math.pow(a,4):-8*Math.pow(a-1,4)+1}function Ml(a){return Math.pow(a,4)}function Sl(a){return Math.pow(a-1,3)*(1-a)+1}function yl(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}function Al(a){return a*a*a*a*a}function Cl(a){return--a*a*a*a*a+1}function Pl(a){return-.5*(Math.cos(Math.PI*a)-1)}function Ll(a){const t=Math.cos(a*Math.PI*.5);return Math.abs(t)<1e-14?1:1-t}function Tl(a){return Math.sin(a*Math.PI/2)}const As=Object.freeze(Object.defineProperty({__proto__:null,backIn:il,backInOut:al,backOut:nl,bounceIn:rl,bounceInOut:ll,bounceOut:ys,circIn:ul,circInOut:ol,circOut:cl,cubicIn:hl,cubicInOut:dl,cubicOut:an,elasticIn:gl,elasticInOut:fl,elasticOut:bl,expoIn:vl,expoInOut:pl,expoOut:ml,quadIn:El,quadInOut:_l,quadOut:wl,quartIn:Ml,quartInOut:kl,quartOut:Sl,quintIn:Al,quintInOut:yl,quintOut:Cl,sineIn:Ll,sineInOut:Pl,sineOut:Tl,linear:Qi},Symbol.toStringTag,{value:"Module"}));function ii(a){return Object.prototype.toString.call(a)==="[object Date]"}function ga(a,t){if(a===t||a!==a)return()=>a;const e=typeof a;if(e!==typeof t||Array.isArray(a)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(a)){const i=t.map((s,n)=>ga(a[n],s));return s=>i.map(n=>n(s))}if(e==="object"){if(!a||!t)throw new Error("Object cannot be null");if(ii(a)&&ii(t)){a=a.getTime(),t=t.getTime();const n=t-a;return o=>new Date(a+o*n)}const i=Object.keys(t),s={};return i.forEach(n=>{s[n]=ga(a[n],t[n])}),n=>{const o={};return i.forEach(l=>{o[l]=s[l](n)}),o}}if(e==="number"){const i=t-a;return s=>a+s*i}throw new Error(`Cannot interpolate ${e} values`)}function Ol(a,t={}){const e=An(a);let i,s=a;function n(o,l){if(a==null)return e.set(a=o),Promise.resolve();s=o;let r=i,u=!1,{delay:f=0,duration:b=400,easing:m=Qi,interpolate:_=ga}=Ss(Ss({},t),l);if(b===0)return r&&(r.abort(),r=null),e.set(a=s),Promise.resolve();const O=pn()+f;let L;return i=vn(y=>{if(y<O)return!0;u||(L=_(a,o),typeof b=="function"&&(b=b(a,o)),u=!0),r&&(r.abort(),r=null);const k=y-O;return k>b?(e.set(a=o),!1):(e.set(a=L(m(k/b))),!0)}),i.promise}return{set:n,update:(o,l)=>n(o(s,a),l),subscribe:e.subscribe}}function ni(a,t,e,i){if(t===0&&e===0)return a;const s=i?["a","b","c","d","e","f","g","h"].reverse():["a","b","c","d","e","f","g","h"],n=i?["8","7","6","5","4","3","2","1"].reverse():["8","7","6","5","4","3","2","1"],o=s[s.indexOf(a[0])+t],l=n[n.indexOf(a[1])+e];if(!(!o||!l))return o+l}function li(a,t,e){const i=t*1.15,s=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","circle");return s.setAttribute("width",(a.offsetWidth*i).toString()),s.setAttribute("height",(a.offsetHeight*i).toString()),s.style.position="absolute",s.style.zIndex="100",s.style.transform=`translate(${e?"":"-"}${25*i/2}%, -${25*i/2}%)`,s.style.opacity="0.2",n.setAttribute("r",(a.offsetWidth*i/2).toString()),n.setAttribute("cx",(a.offsetWidth*i/2).toString()),n.setAttribute("cy",(a.offsetHeight*i/2).toString()),n.setAttribute("fill","black"),s.appendChild(n),s}function Il(a,t){let e;function i(D,X=1e3){let H=!1;const Q=()=>{e==null?H=!1:(D(...e),e=null,setTimeout(Q,X))};return(...ie)=>{if(H){e=ie;return}D(...ie),H=!0,setTimeout(Q,X)}}let s,n,o,l,r,u,f,b,m=!1,_;const O=a.parentNode;let L,{startSquare:y,boardFlipped:k,onlyShow:d,duration:g,easingFunc:C}=t;const{coords:M}=t;let A=Ya(M).x,I=Ya(M).y;const R=1.6;let T=li(a,R,k);a.draggable=!1;function F(D){let X,H;if(D instanceof MouseEvent?(X=D.clientX-s,H=D.clientY-n,s=D.clientX,n=D.clientY):(X=D.touches[0].clientX-s,H=D.touches[0].clientY-n,s=D.touches[0].clientX,n=D.touches[0].clientY),r+=X,u+=H,m||(Math.abs(r)>1||Math.abs(u)>1)&&(M.update(Q=>({x:Q.x+(s-a.offsetWidth/2-a.getBoundingClientRect().x)/a.clientWidth,y:D instanceof MouseEvent?Q.y-(n-a.offsetHeight/2-a.getBoundingClientRect().y)/a.clientWidth:Q.y-(n-a.offsetHeight*1.5-a.getBoundingClientRect().y)/a.clientWidth,scale:D instanceof MouseEvent?1:R}),{duration:g,easing:C}),m=!0,a.style.zIndex="30",a.style.cursor="grabbing",a.dispatchEvent(new CustomEvent("startMoving"))),!!m){if(!(D instanceof MouseEvent)){const Q=Math.floor((r+o)/a.offsetWidth),ie=Math.floor((u+l)/a.offsetHeight),re=ni(y,Q,ie,k);if(re){if(re!==L&&!(D instanceof MouseEvent)){const fe=ha(re);T.style.left=`${fe.x*12.5}%`,T.style.top=`${fe.y*12.5}%`,O.appendChild(T)}}else L&&(L="")}M.update(Q=>({x:Q.x+X/a.clientWidth,y:Q.y-H/a.clientWidth,scale:D instanceof MouseEvent?1:R}),{duration:0}),a.dispatchEvent(new CustomEvent("moving",{detail:{x:s,y:n}}))}}const S=i(F,10);function G(){const D=window.scrollX-f,X=window.scrollY-b;f=window.scrollX,b=window.scrollY,M.update(H=>({x:H.x+D,y:H.y+X,scale:1}),{duration:0})}function le(){window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",le),document.body.removeEventListener("mouseleave",le),window.removeEventListener("scroll",G),window.removeEventListener("touchmove",S),window.removeEventListener("touchend",le),window.removeEventListener("touchcancel",le),e=null;const D=Math.floor((r+o)/a.offsetWidth),X=Math.floor((u+l)/a.offsetHeight),H=ni(y,D,X,k);H&&H!==y&&a.dispatchEvent(new CustomEvent("dropped",{detail:H})),M.update(()=>({x:A,y:I,scale:1}),{duration:g,easing:C}).then(()=>{a.dispatchEvent(new CustomEvent("animationEnded"))}),s=0,n=0,r=0,u=0,m=!1,a.style.removeProperty("cursor"),setTimeout(()=>{a.style.zIndex="10"},g),T.remove()}function ae(D){var H;if(D.preventDefault(),D instanceof MouseEvent&&D.button!==0||!(D instanceof MouseEvent)&&((H=D.touches)==null?void 0:H.length)>1)return;A=k?7-fa(y[0]):fa(y[0]),I=k?8-parseInt(y[1],10):parseInt(y[1],10)-1,L=y;const X=D.target.getBoundingClientRect();!(D instanceof MouseEvent)&&D.touches[0]&&D.targetTouches[0]?(s=D.touches[0].clientX,n=D.touches[0].clientY,o=D.targetTouches[0].clientX-X.x,l=D.targetTouches[0].clientY-X.y):D instanceof MouseEvent&&(s=D.clientX,n=D.clientY,o=D.offsetX,l=D.offsetY),r=0,u=0,f=window.scrollX,b=window.scrollY,a.dispatchEvent(new CustomEvent("clicked")),window.addEventListener("mousemove",S),window.addEventListener("mouseup",le),document.body.addEventListener("mouseleave",le),window.addEventListener("scroll",G),window.addEventListener("touchmove",S),window.addEventListener("touchend",le)}function Ae(D){D.preventDefault()}function Fe(D){D.preventDefault()}return a.addEventListener("contextmenu",Ae),a.addEventListener("dragstart",Fe),d||(a.addEventListener("mousedown",ae),a.addEventListener("touchstart",ae)),{destroy(){a.removeEventListener("mousedown",ae),a.removeEventListener("touchstart",ae),a.removeEventListener("contextmenu",Ae),a.removeEventListener("dragstart",Fe),window.clearTimeout(_)},update(D){y=D.startSquare,g=D.duration,C=D.easingFunc,D.onlyShow!==d&&(d=D.onlyShow,d?(a.removeEventListener("mousedown",ae),a.removeEventListener("touchstart",ae)):(a.addEventListener("mousedown",ae),a.addEventListener("touchstart",ae))),k!==D.boardFlipped&&(T=li(a,R,D.boardFlipped)),k=D.boardFlipped}}}const ri=""+new URL("../../assets/wP-f78bae6c.svg",import.meta.url).href,Fl=""+new URL("../../assets/wR-5eb92d73.svg",import.meta.url).href,ql=""+new URL("../../assets/wN-a4c975a2.svg",import.meta.url).href,Rl=""+new URL("../../assets/wB-1ff2f149.svg",import.meta.url).href,Dl=""+new URL("../../assets/wQ-8568b485.svg",import.meta.url).href,Vl=""+new URL("../../assets/wK-4cdf6dc9.svg",import.meta.url).href,Nl=""+new URL("../../assets/bP-84e521e8.svg",import.meta.url).href,Ul=""+new URL("../../assets/bR-e39efb08.svg",import.meta.url).href,Bl=""+new URL("../../assets/bN-d3912d91.svg",import.meta.url).href,zl=""+new URL("../../assets/bB-c430b746.svg",import.meta.url).href,Hl=""+new URL("../../assets/bQ-c7b9a43e.svg",import.meta.url).href,Kl=""+new URL("../../assets/bK-3500a2e6.svg",import.meta.url).href;function ba(a){switch(a){case"wP":return ri;case"wR":return Fl;case"wN":return ql;case"wB":return Rl;case"wQ":return Dl;case"wK":return Vl;case"bP":return Nl;case"bR":return Ul;case"bN":return Bl;case"bB":return zl;case"bQ":return Hl;case"bK":return Kl;default:return ri}}function Wl(a){let t,e,i,s,n,o;return{c(){t=E("img"),this.h()},l(l){t=w(l,"IMG",{style:!0,class:!0,src:!0,alt:!0}),this.h()},h(){ne(t,"left",a[8].x*12.5+"%"),ne(t,"bottom",a[8].y*12.5+"%"),ne(t,"z-Index",a[7]),ne(t,"opacity",a[4]?.3:1),c(t,"class",e="noselect "+(a[12](a[3])?"cursor-pointer":"")+" svelte-1g241z"),Ot(t.src,i=ba(a[1]))||c(t,"src",i),c(t,"alt",a[1])},m(l,r){z(l,t,r),n||(o=[_a(s=Il.call(null,t,{startSquare:a[0],onlyShow:!a[12](a[3]),boardFlipped:a[2],duration:a[6],easingFunc:As[a[5]],coords:a[10]})),Y(t,"dropped",a[11]),Y(t,"clicked",a[16]),Y(t,"startMoving",a[17]),Y(t,"animationEnded",a[18]),Y(t,"moving",a[19])],n=!0)},p(l,[r]){r&256&&ne(t,"left",l[8].x*12.5+"%"),r&256&&ne(t,"bottom",l[8].y*12.5+"%"),r&128&&ne(t,"z-Index",l[7]),r&16&&ne(t,"opacity",l[4]?.3:1),r&8&&e!==(e="noselect "+(l[12](l[3])?"cursor-pointer":"")+" svelte-1g241z")&&c(t,"class",e),r&2&&!Ot(t.src,i=ba(l[1]))&&c(t,"src",i),r&2&&c(t,"alt",l[1]),s&&Ea(s.update)&&r&109&&s.update.call(null,{startSquare:l[0],onlyShow:!l[12](l[3]),boardFlipped:l[2],duration:l[6],easingFunc:As[l[5]],coords:l[10]})},i:ce,o:ce,d(l){l&&p(t),n=!1,It(o)}}}function jl(a,t,e){let i,s,{square:n}=t,{name:o}=t,{getGridCoordsFromSquare:l}=t,{flipped:r}=t,{legal:u}=t,{whiteToMove:f=!1}=t,{movable:b}=t,{ghostPiece:m=!1}=t,{easing:_="cubicInOut"}=t,{duration:O=120}=t;const L=wa();let y=O;const k=Ol({x:0,y:0,scale:1},{duration:y,easing:As[_]});mn(a,k,S=>e(8,s=S));let d=!1;const g=S=>S[0]==="w"?$.WHITE:$.BLACK,C=S=>{const G=l(S);k.update(()=>({x:G.x,y:G.y,scale:1}),{duration:d?y:0,easing:As[_]}),d||(d=!0),y=O},M=S=>{y=0,L("endDragging",S.detail),L("move",n+S.detail)},A=S=>S.enabled?u?!!(S.color===$.WHITE&&f&&g(o)===$.WHITE||S.color===$.BLACK&&!f&&g(o)===$.BLACK||S.color===$.BOTH&&(g(o)===$.WHITE&&f||g(o)===$.BLACK&&!f)):S.color===g(o)||S.color===$.BOTH:!1;function I(S){Tt.call(this,a,S)}function R(S){Tt.call(this,a,S)}function T(S){Tt.call(this,a,S)}const F=S=>L("moving",S.detail);return a.$$set=S=>{"square"in S&&e(0,n=S.square),"name"in S&&e(1,o=S.name),"getGridCoordsFromSquare"in S&&e(13,l=S.getGridCoordsFromSquare),"flipped"in S&&e(2,r=S.flipped),"legal"in S&&e(14,u=S.legal),"whiteToMove"in S&&e(15,f=S.whiteToMove),"movable"in S&&e(3,b=S.movable),"ghostPiece"in S&&e(4,m=S.ghostPiece),"easing"in S&&e(5,_=S.easing),"duration"in S&&e(6,O=S.duration)},a.$$.update=()=>{a.$$.dirty&5&&C(n),a.$$.dirty&8&&e(7,i=typeof b=="boolean"?b?1:0:b.enabled?1:0)},[n,o,r,b,m,_,O,i,s,L,k,M,A,l,u,f,I,R,T,F]}class nn extends je{constructor(t){super(),Ge(this,t,jl,Wl,Xe,{square:0,name:1,getGridCoordsFromSquare:13,flipped:2,legal:14,whiteToMove:15,movable:3,ghostPiece:4,easing:5,duration:6})}}function Gl(a){let t,e;return{c(){t=E("div"),this.h()},l(i){t=w(i,"DIV",{style:!0,class:!0}),P(t).forEach(p),this.h()},h(){ne(t,"left",a[2]*12.5+"%"),ne(t,"bottom",a[3]*12.5+"%"),c(t,"class",e="noselect "+qe.squareStyles[a[1]][a[0]]+" svelte-10vytug")},m(i,s){z(i,t,s)},p(i,[s]){s&4&&ne(t,"left",i[2]*12.5+"%"),s&8&&ne(t,"bottom",i[3]*12.5+"%"),s&3&&e!==(e="noselect "+qe.squareStyles[i[1]][i[0]]+" svelte-10vytug")&&c(t,"class",e)},i:ce,o:ce,d(i){i&&p(t)}}}function Xl(a,t,e){let{square:i}=t,{color:s}=t,{getGridCoordsFromSquare:n}=t,{flipped:o}=t,{theme:l}=t,r,u;const f=()=>{const b=n(i);e(2,r=b.x),e(3,u=b.y)};return a.$$set=b=>{"square"in b&&e(4,i=b.square),"color"in b&&e(0,s=b.color),"getGridCoordsFromSquare"in b&&e(5,n=b.getGridCoordsFromSquare),"flipped"in b&&e(6,o=b.flipped),"theme"in b&&e(1,l=b.theme)},a.$$.update=()=>{a.$$.dirty&64&&f()},[s,l,r,u,i,n,o]}class Yl extends je{constructor(t){super(),Ge(this,t,Xl,Gl,Xe,{square:4,color:0,getGridCoordsFromSquare:5,flipped:6,theme:1})}}const Ql=["a","b","c","d","e","f","g","h"],xl=["8","7","6","5","4","3","2","1"];function Zl(a){a.querySelectorAll("[sf]").forEach(t=>t.remove())}function pa(a){return`${Ql[a.x]}${xl[a.y]}`}function ln(a,t){return Math.abs((a.x-t.x)*(a.y-t.y))===2}function va(a,t){return`${pa(a)}${pa(t)}`}function Jl(a,t){return!!(ln(a,t)||Math.abs(a.x-t.x)===Math.abs(a.y-t.y)||a.x===t.x!=(a.y===t.y))}function rn(a,t,e,i,s,n){let o={x:-1,y:-1},l,r;ln(t,e)&&i?(Math.abs(e.x-t.x)===2?o={x:e.x,y:t.y}:o={x:t.x,y:e.y},o.y-t.y<0?r=Math.PI+Math.atan((o.x-t.x)/(o.y-t.y)):r=Math.atan((o.x-t.x)/Math.abs(o.y-t.y)),l={x:e.x-Math.sign(e.x-o.x)*(o.x!==e.x?.4:0),y:e.y-Math.sign(e.y-o.y)*(o.y!==e.y?.4:0)}):(e.y-t.y<0?r=Math.PI+Math.atan((e.x-t.x)/(e.y-t.y)):r=Math.atan((e.x-t.x)/Math.abs(e.y-t.y)),l={x:e.x-Math.sin(r)*.4,y:e.y-Math.cos(r)*.4});const u={x:t.x+Math.sin(r)*.4,y:t.y+Math.cos(r)*.4};a.setAttribute("points",`${u.x+.5},${u.y+.5} ${o.x!==-1&&o.y!==-1&&i?`${o.x+.5},${o.y+.5} `:""}${l.x+.5},${l.y+.5}`),a.setAttribute("data-sqID",`${va(t,e)}`),n!==void 0&&a.setAttribute("opacity",`${n}`),s!==void 0&&(a.setAttribute("marker-start",`url(#start-${s[0]})`),a.setAttribute("marker-end",`url(#end-${s[0]})`),a.setAttribute("stroke",s))}function Ms(a,t,e,i,s,n){if(!(t===void 0||e.x===-1&&e.y===-1)){if(t.tagName==="circle")t.setAttribute("fill","transparent"),i?t.setAttribute("stroke","red"):s?t.setAttribute("stroke","orange"):n?t.setAttribute("stroke","blue"):t.setAttribute("stroke","green"),a.querySelectorAll(`\u0441ircle[cx="${e.x+.5}"][cy="${e.y+.5}"]`).forEach(o=>{t!==void 0&&o!==t&&(o.getAttribute("stroke")===t.getAttribute("stroke")?t.setAttribute("remove",""):t.hasAttribute("remove")&&t.removeAttribute("remove"))});else if(t.tagName==="polyline"){const o=i?"red":s?"orange":n?"blue":"green";t.setAttribute("stroke",`${o}`),t.setAttribute("marker-start",`url(#start-${o[0]})`),t.setAttribute("marker-end",`url(#end-${o[0]})`),a.querySelectorAll(`polyline[data-sqID="${t.getAttribute("data-sqID")}"]`).forEach(l=>{t instanceof SVGPolylineElement&&l!==t&&(l.getAttribute("stroke")===t.getAttribute("stroke")?t.setAttribute("remove",""):t.hasAttribute("remove")&&t.removeAttribute("remove"))})}}}function on(a,t,e,i,s){const n=document.createElementNS("http://www.w3.org/2000/svg","polyline");return rn(n,a,t,e,i,s),n.setAttribute("fill","none"),n.setAttribute("stroke-width","0.25"),n.setAttribute("stroke-linejoin","round"),n.setAttribute("opacity",s!==void 0?`${s}`:"0.4"),n.setAttribute("marker-start",i?`url(#start-${i[0]})`:"url(#start-g)"),n.setAttribute("marker-end",i?`url(#end-${i[0]})`:"url(#end-g)"),n.setAttribute("stroke",i||"green"),n}function $l(a,t,e){t.forEach(i=>{const s=on(ha(i.move.substring(0,2)),ha(i.move.substring(2,4)),e,i.color,i.opacity);s.setAttribute("sf",""),a.appendChild(s)})}function oi(a){a.querySelectorAll("circle,polyline").forEach(t=>{t.hasAttribute("sf")||t.remove()})}function er(a,t){let{svg:e,flipped:i,enabled:s,settings:n}=t,o=!1,l={x:-1,y:-1},r,u;function f(k,d){const g=a.getBoundingClientRect(),C=i?g.width-(k-g.left):k-g.left,M=i?g.height-(d-g.top):d-g.top;return{x:Math.max(0,Math.min(7,Math.floor(C/(a.clientWidth/8)))),y:Math.max(0,Math.min(7,Math.floor(M/(a.clientHeight/8))))}}function b(k){u=document.createElementNS("http://www.w3.org/2000/svg","circle"),u.setAttribute("cx",`${k.x+.5}`),u.setAttribute("cy",`${k.y+.5}`),u.setAttribute("r","0.465"),u.setAttribute("opacity","0.4"),u.setAttribute("fill","none"),u.setAttribute("stroke-width","0.07"),u.setAttribute("stroke","green")}function m(k){if(u===void 0||l.x===-1&&l.y===-1)return;const d=f(k.clientX,k.clientY);n.onlyChessMove&&!Jl(l,d)||(r=void 0,u.hasAttribute("remove")&&u.removeAttribute("remove"),l.x===d.x&&l.y===d.y?(va(l,d),u instanceof SVGPolylineElement&&(u.remove(),b(d)),Ms(e,u,l,k.shiftKey,k.ctrlKey,k.altKey),e.appendChild(u),e.querySelectorAll(`circle[cx="${l.x+.5}"][cy="${l.y+.5}"]`).forEach(g=>{g!==u&&(r=g,u!==void 0&&g.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))})):(u instanceof SVGCircleElement&&u.remove(),r=void 0,e.querySelectorAll(`polyline[data-sqID="${va(l,d)}"]`).forEach(g=>{u===void 0||l.x===-1&&l.y===-1||g===u||(r=g,g.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove",""))}),u instanceof SVGCircleElement?(u=on(l,d,n.LshapeKnightMove),Ms(e,u,l,k.shiftKey,k.ctrlKey,k.altKey),e.appendChild(u)):u instanceof SVGPolylineElement&&rn(u,l,d,n.LshapeKnightMove)))}function _(k){k.preventDefault()}function O(k){k.preventDefault(),Ms(e,u,l,k.shiftKey,k.ctrlKey,k.altKey)}function L(k){if(k.button===0)o=!1;else if(k.button===2){if(l.x===-1&&l.y===-1)return;e.querySelectorAll("[remove]").forEach(d=>{d.remove()}),r&&r.remove(),r=void 0,(u==null?void 0:u.tagName)==="circle"&&!u.hasAttribute("remove")&&a.dispatchEvent(new CustomEvent("drawCircle",{detail:{square:pa(l),color:u.getAttribute("stroke")}})),(u==null?void 0:u.tagName)==="polyline"&&!u.hasAttribute("remove")&&a.dispatchEvent(new CustomEvent("drawArrow",{detail:{move:u.getAttribute("data-sqID"),color:u.getAttribute("stroke")}})),u=void 0,l={x:-1,y:-1},o=!1,window.removeEventListener("mousemove",m),window.removeEventListener("keydown",O),window.removeEventListener("keyup",O),window.removeEventListener("contextmenu",_)}window.removeEventListener("mouseup",L)}function y(k){if(k.button===0)o=!0,oi(e),window.addEventListener("mouseup",L);else if(k.button===2&&!o){const d=f(k.clientX,k.clientY);l=d,b(d),Ms(e,u,l,k.shiftKey,k.ctrlKey,k.altKey),r=void 0,e.querySelectorAll(`circle[cx="${d.x+.5}"][cy="${d.y+.5}"]`).forEach(g=>{r=g,u!==void 0&&g.getAttribute("stroke")===u.getAttribute("stroke")&&u.setAttribute("remove","")}),u&&e.appendChild(u),window.addEventListener("mousemove",m),window.addEventListener("mouseup",L),window.addEventListener("keydown",O),window.addEventListener("keyup",O),window.addEventListener("contextmenu",_)}}return s&&a.addEventListener("mousedown",y),{update(k){k.svg!==e&&(e=k.svg),k.enabled!==s&&(s=k.enabled,s?a.addEventListener("mousedown",y):(oi(e),a.removeEventListener("mousedown",y))),n=k.settings,i=k.flipped}}}function ui(a,t,e){const i=a.slice();return i[8]=t[e],i}function ci(a){let t,e,i,s;return{c(){t=Oe("marker"),e=Oe("path"),i=Oe("marker"),s=Oe("path"),this.h()},l(n){t=Ie(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,markerWidth:!0,markerHeight:!0,orient:!0});var o=P(t);e=Ie(o,"path",{fill:!0,d:!0}),P(e).forEach(p),o.forEach(p),i=Ie(n,"marker",{id:!0,viewBox:!0,refX:!0,refY:!0,markerUnits:!0,orient:!0,fill:!0});var l=P(i);s=Ie(l,"path",{fill:!0,d:!0}),P(s).forEach(p),l.forEach(p),this.h()},h(){c(e,"fill",a[8]),c(e,"d","M 5 0 Q 0 0 0 5 L 0 15 Q 0 20 5 20 Z"),c(t,"id","start-"+a[8][0]),c(t,"viewBox","0 0 5 20"),c(t,"refX","4"),c(t,"refY","10"),c(t,"markerUnits","strokeWidth"),c(t,"markerWidth","0.5"),c(t,"markerHeight","1"),c(t,"orient","auto"),c(s,"fill",a[8]),c(s,"d","M 0 4 L 10 10 L 0 16 Z"),c(i,"id","end-"+a[8][0]),c(i,"viewBox","0 0 10 20"),c(i,"refX","0.2"),c(i,"refY","10"),c(i,"markerUnits","strokeWidth"),c(i,"orient","auto"),c(i,"fill","currentColor")},m(n,o){z(n,t,o),h(t,e),z(n,i,o),h(i,s)},p:ce,d(n){n&&p(t),n&&p(i)}}}function tr(a){let t,e,i,s=a[2],n=[];for(let o=0;o<s.length;o+=1)n[o]=ci(ui(a,s,o));return{c(){t=Oe("svg"),e=Oe("defs");for(let o=0;o<n.length;o+=1)n[o].c();i=Oe("g"),this.h()},l(o){t=Ie(o,"svg",{xmlns:!0,style:!0,class:!0,viewBox:!0});var l=P(t);e=Ie(l,"defs",{});var r=P(e);for(let u=0;u<n.length;u+=1)n[u].l(r);r.forEach(p),i=Ie(l,"g",{}),P(i).forEach(p),l.forEach(p),this.h()},h(){c(t,"xmlns","http://www.w3.org/2000/svg"),ne(t,"transform","rotate("+(a[1]?"180deg":"0deg")+")"),c(t,"class","rounded svelte-1ez37sv"),c(t,"viewBox","0 0 8 8")},m(o,l){z(o,t,l),h(t,e);for(let r=0;r<n.length;r+=1)n[r].m(e,null);h(t,i),a[5](i)},p(o,[l]){if(l&4){s=o[2];let r;for(r=0;r<s.length;r+=1){const u=ui(o,s,r);n[r]?n[r].p(u,l):(n[r]=ci(u),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}l&2&&ne(t,"transform","rotate("+(o[1]?"180deg":"0deg")+")")},i:ce,o:ce,d(o){o&&p(t),bt(n,o),a[5](null)}}}function sr(a,t,e){let{flipped:i=!1}=t,{svg:s}=t,{LshapeKnightMove:n=!1}=t,{computerArrows:o=[]}=t,l=!1;function r(b){!l||(Zl(s),$l(s,b,n))}ka(()=>{l=!0,r(o)});const u=["green","red","blue","orange"];function f(b){Le[b?"unshift":"push"](()=>{s=b,e(0,s)})}return a.$$set=b=>{"flipped"in b&&e(1,i=b.flipped),"svg"in b&&e(0,s=b.svg),"LshapeKnightMove"in b&&e(3,n=b.LshapeKnightMove),"computerArrows"in b&&e(4,o=b.computerArrows)},a.$$.update=()=>{a.$$.dirty&16&&r(o)},[s,i,u,n,o,f]}class ar extends je{constructor(t){super(),Ge(this,t,sr,tr,Xe,{flipped:1,svg:0,LshapeKnightMove:3,computerArrows:4})}}function di(a,{delay:t=0,duration:e=400,easing:i=an,x:s=0,y:n=0,opacity:o=0}={}){const l=getComputedStyle(a),r=+l.opacity,u=l.transform==="none"?"":l.transform,f=r*(1-o);return{delay:t,duration:e,easing:i,css:(b,m)=>`
			transform: ${u} translate(${(1-b)*s}px, ${(1-b)*n}px);
			opacity: ${r-f*m}`}}function ir(a){let t,e,i,s,n,o;return{c(){t=E("button"),e=E("img"),this.h()},l(l){t=w(l,"BUTTON",{});var r=P(t);e=w(r,"IMG",{src:!0,alt:!0,class:!0}),r.forEach(p),this.h()},h(){Ot(e.src,i=a[1])||c(e,"src",i),c(e,"alt",s="Promotion to "+a[0].toUpperCase()),c(e,"class","rounded-md border border-gray-300 hover:border-sky-600 hover:bg-gray-600")},m(l,r){z(l,t,r),h(t,e),n||(o=Y(t,"click",a[2]),n=!0)},p(l,[r]){r&1&&s!==(s="Promotion to "+l[0].toUpperCase())&&c(e,"alt",s)},i:ce,o:ce,d(l){l&&p(t),n=!1,o()}}}function nr(a,t,e){let{piece:i}=t,{isWhite:s}=t,{showModal:n}=t;const o=wa(),l=(s?"w":"b")+i.toUpperCase(),r=ba(l),u=()=>{o("newPromotion",i),e(3,n=!1)};return a.$$set=f=>{"piece"in f&&e(0,i=f.piece),"isWhite"in f&&e(4,s=f.isWhite),"showModal"in f&&e(3,n=f.showModal)},[i,r,u,n,s]}class lr extends je{constructor(t){super(),Ge(this,t,nr,ir,Xe,{piece:0,isWhite:4,showModal:3})}}function hi(a,t,e){const i=a.slice();return i[6]=t[e],i}function fi(a){let t,e,i,s,n,o=["q","r","b","n"],l=[];for(let u=0;u<4;u+=1)l[u]=gi(hi(a,o,u));const r=u=>x(l[u],1,1,()=>{l[u]=null});return{c(){t=E("div"),e=E("div");for(let u=0;u<4;u+=1)l[u].c();this.h()},l(u){t=w(u,"DIV",{class:!0});var f=P(t);e=w(f,"DIV",{class:!0});var b=P(e);for(let m=0;m<4;m+=1)l[m].l(b);b.forEach(p),f.forEach(p),this.h()},h(){c(e,"class","modal-content p-3 gap-3 svelte-tvjsje"),c(t,"class","modal svelte-tvjsje")},m(u,f){z(u,t,f),h(t,e);for(let b=0;b<4;b+=1)l[b].m(e,null);n=!0},p(u,f){if(f&3){o=["q","r","b","n"];let b;for(b=0;b<4;b+=1){const m=hi(u,o,b);l[b]?(l[b].p(m,f),K(l[b],1)):(l[b]=gi(m),l[b].c(),K(l[b],1),l[b].m(e,null))}for(Ue(),b=4;b<4;b+=1)r(b);Be()}},i(u){if(!n){for(let f=0;f<4;f+=1)K(l[f]);Jt(()=>{s&&s.end(1),i=_n(e,di,{x:100,duration:300}),i.start()}),n=!0}},o(u){l=l.filter(Boolean);for(let f=0;f<4;f+=1)x(l[f]);i&&i.invalidate(),s=En(e,di,{x:-200,duration:100}),n=!1},d(u){u&&p(t),bt(l,u),u&&s&&s.end()}}}function gi(a){let t,e,i,s;function n(r){a[3](r)}function o(r){a[4](r)}let l={piece:a[6]};return a[1]!==void 0&&(l.isWhite=a[1]),a[0]!==void 0&&(l.showModal=a[0]),t=new lr({props:l}),Le.push(()=>ca(t,"isWhite",n)),Le.push(()=>ca(t,"showModal",o)),t.$on("newPromotion",a[5]),{c(){ze(t.$$.fragment)},l(r){He(t.$$.fragment,r)},m(r,u){Ke(t,r,u),s=!0},p(r,u){const f={};!e&&u&2&&(e=!0,f.isWhite=r[1],da(()=>e=!1)),!i&&u&1&&(i=!0,f.showModal=r[0],da(()=>i=!1)),t.$set(f)},i(r){s||(K(t.$$.fragment,r),s=!0)},o(r){x(t.$$.fragment,r),s=!1},d(r){We(t,r)}}}function rr(a){let t,e,i=a[0]&&fi(a);return{c(){i&&i.c(),t=oe()},l(s){i&&i.l(s),t=oe()},m(s,n){i&&i.m(s,n),z(s,t,n),e=!0},p(s,[n]){s[0]?i?(i.p(s,n),n&1&&K(i,1)):(i=fi(s),i.c(),K(i,1),i.m(t.parentNode,t)):i&&(Ue(),x(i,1,1,()=>{i=null}),Be())},i(s){e||(K(i),e=!0)},o(s){x(i),e=!1},d(s){i&&i.d(s),s&&p(t)}}}function or(a,t,e){let i=!1,s;function n(u){e(0,i=!0),u?e(1,s=!0):e(1,s=!1)}function o(u){s=u,e(1,s)}function l(u){i=u,e(0,i)}function r(u){Tt.call(this,a,u)}return[i,s,n,o,l,r]}class ur extends je{constructor(t){super(),Ge(this,t,or,rr,Xe,{openPromotionModal:2})}get openPromotionModal(){return this.$$.ctx[2]}}const cr=""+new URL("../../assets/move-e4d827fe.wav",import.meta.url).href,dr=""+new URL("../../assets/capture-3dff493a.wav",import.meta.url).href,hr=""+new URL("../../assets/castle-dcf4b2c5.wav",import.meta.url).href,fr=""+new URL("../../assets/undo-b4184324.mp3",import.meta.url).href;function bi(a){let t,e,i,s;return{c(){t=E("audio"),e=E("track"),i=E("source"),this.h()},l(n){t=w(n,"AUDIO",{preload:!0});var o=P(t);e=w(o,"TRACK",{kind:!0}),i=w(o,"SOURCE",{src:!0}),o.forEach(p),this.h()},h(){c(e,"kind","captions"),Ot(i.src,s=cr)||c(i,"src",s),c(t,"preload","auto")},m(n,o){z(n,t,o),h(t,e),h(t,i),a[3](t)},p:ce,d(n){n&&p(t),a[3](null)}}}function pi(a){let t,e,i,s;return{c(){t=E("audio"),e=E("track"),i=E("source"),this.h()},l(n){t=w(n,"AUDIO",{preload:!0});var o=P(t);e=w(o,"TRACK",{kind:!0}),i=w(o,"SOURCE",{src:!0}),o.forEach(p),this.h()},h(){c(e,"kind","captions"),Ot(i.src,s=dr)||c(i,"src",s),c(t,"preload","auto")},m(n,o){z(n,t,o),h(t,e),h(t,i),a[4](t)},p:ce,d(n){n&&p(t),a[4](null)}}}function vi(a){let t,e,i,s;return{c(){t=E("audio"),e=E("track"),i=E("source"),this.h()},l(n){t=w(n,"AUDIO",{preload:!0});var o=P(t);e=w(o,"TRACK",{kind:!0}),i=w(o,"SOURCE",{src:!0}),o.forEach(p),this.h()},h(){c(e,"kind","captions"),Ot(i.src,s=hr)||c(i,"src",s),c(t,"preload","auto")},m(n,o){z(n,t,o),h(t,e),h(t,i),a[5](t)},p:ce,d(n){n&&p(t),a[5](null)}}}function mi(a){let t,e,i,s;return{c(){t=E("audio"),e=E("track"),i=E("source"),this.h()},l(n){t=w(n,"AUDIO",{preload:!0});var o=P(t);e=w(o,"TRACK",{kind:!0}),i=w(o,"SOURCE",{src:!0}),o.forEach(p),this.h()},h(){c(e,"kind","captions"),Ot(i.src,s=fr)||c(i,"src",s),c(t,"preload","auto")},m(n,o){z(n,t,o),h(t,e),h(t,i),a[6](t)},p:ce,d(n){n&&p(t),a[6](null)}}}function gr(a){let t,e,i,s,n=a[0].MOVE&&bi(a),o=a[0].CAPTURE&&pi(a),l=a[0].CASTLE&&vi(a),r=a[0].UNDO&&mi(a);return{c(){n&&n.c(),t=V(),o&&o.c(),e=V(),l&&l.c(),i=V(),r&&r.c(),s=oe()},l(u){n&&n.l(u),t=N(u),o&&o.l(u),e=N(u),l&&l.l(u),i=N(u),r&&r.l(u),s=oe()},m(u,f){n&&n.m(u,f),z(u,t,f),o&&o.m(u,f),z(u,e,f),l&&l.m(u,f),z(u,i,f),r&&r.m(u,f),z(u,s,f)},p(u,[f]){u[0].MOVE?n?n.p(u,f):(n=bi(u),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),u[0].CAPTURE?o?o.p(u,f):(o=pi(u),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),u[0].CASTLE?l?l.p(u,f):(l=vi(u),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null),u[0].UNDO?r?r.p(u,f):(r=mi(u),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},i:ce,o:ce,d(u){n&&n.d(u),u&&p(t),o&&o.d(u),u&&p(e),l&&l.d(u),u&&p(i),r&&r.d(u),u&&p(s)}}}function br(a,t,e){let{settings:i}=t;const s={MOVE:void 0,CAPTURE:void 0,CASTLE:void 0,UNDO:void 0},n=()=>{s.CASTLE&&(s.CASTLE.pause(),e(1,s.CASTLE.currentTime=0,s)),s.MOVE&&(s.MOVE.pause(),e(1,s.MOVE.currentTime=0,s)),s.CAPTURE&&(s.CAPTURE.pause(),e(1,s.CAPTURE.currentTime=0,s)),s.UNDO&&(s.UNDO.pause(),e(1,s.UNDO.currentTime=0,s))},o=m=>m===void 0||i[m];function l(m){switch(n(),m){case"MOVE":s.MOVE&&o("MOVE")&&s.MOVE.play();break;case"CAPTURE":s.CAPTURE&&o("CAPTURE")?s.CAPTURE.play():s.MOVE&&o("MOVE")&&s.MOVE.play();break;case"CASTLE":s.CASTLE&&o("CASTLE")?s.CASTLE.play():s.MOVE&&o("MOVE")&&s.MOVE.play();break;case"UNDO":s.UNDO&&o("UNDO")?(e(1,s.UNDO.volume=.3,s),s.UNDO.play()):s.MOVE&&o("MOVE")&&s.MOVE.play();break}}function r(m){Le[m?"unshift":"push"](()=>{s.MOVE=m,e(1,s)})}function u(m){Le[m?"unshift":"push"](()=>{s.CAPTURE=m,e(1,s)})}function f(m){Le[m?"unshift":"push"](()=>{s.CASTLE=m,e(1,s)})}function b(m){Le[m?"unshift":"push"](()=>{s.UNDO=m,e(1,s)})}return a.$$set=m=>{"settings"in m&&e(0,i=m.settings)},[i,s,l,r,u,f,b]}class pr extends je{constructor(t){super(),Ge(this,t,br,gr,Xe,{settings:0,playMoveSound:2})}get playMoveSound(){return this.$$.ctx[2]}}const _i=""+new URL("../../assets/standard-97995bf9.svg",import.meta.url).href,Ei=""+new URL("../../assets/darkBlue-02863507.svg",import.meta.url).href;function vr(a,t){const{minWidth:e,maxWidth:i,curWidth:s}=t;let n=s,o,l,r,u;function f(_){_.stopPropagation(),a.dispatchEvent(new CustomEvent("resizing",{detail:{size:Math.max(Math.max(e,Math.min(i,r+(_.pageX-o))),Math.max(e,Math.min(i,u+(_.pageY-l))))}}))}function b(_){_.stopPropagation(),a.dispatchEvent(new CustomEvent("endResizing",{detail:{size:Math.max(Math.max(e,Math.min(i,r+Math.floor((_.pageX-o)/8)*8)),Math.max(e,Math.min(i,u+Math.floor((_.pageY-l)/8)*8)))}})),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",b)}function m(_){_.stopPropagation(),_.button===0&&(o=_.pageX,r=n,l=_.pageY,u=n,window.addEventListener("mousemove",f),window.addEventListener("mouseup",b))}return a.addEventListener("mousedown",m),{update(_){n=_.curWidth},destroy(){a.removeEventListener("mousedown",m)}}}function mr(a){let t,e,i,s,n,o;return{c(){t=E("div"),e=Oe("svg"),i=Oe("path"),this.h()},l(l){t=w(l,"DIV",{style:!0,class:!0});var r=P(t);e=Ie(r,"svg",{xmlns:!0,viewBox:!0,fill:!0});var u=P(e);i=Ie(u,"path",{d:!0}),P(i).forEach(p),u.forEach(p),r.forEach(p),this.h()},h(){c(i,"d","M 5 1 Q 6 0 6 2 L 6 4 Q 6 6 4 6 L 2 6 Q 0 6 1 5 Z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 0 16 16"),c(e,"fill","currentColor"),ne(t,"color",qe.colors[a[0].state.board.boardTheme].black),c(t,"class","hidden lg:inline z-50 svelte-bwuzxv")},m(l,r){z(l,t,r),h(t,e),h(e,i),n||(o=[Y(t,"pointerdown",wn(a[2])),_a(s=vr.call(null,t,{minWidth:a[0].state.resizible.settings.min,maxWidth:a[0].state.resizible.settings.max,curWidth:a[0].state.board.size})),Y(t,"resizing",a[3]),Y(t,"endResizing",a[4])],n=!0)},p(l,[r]){r&1&&ne(t,"color",qe.colors[l[0].state.board.boardTheme].black),s&&Ea(s.update)&&r&1&&s.update.call(null,{minWidth:l[0].state.resizible.settings.min,maxWidth:l[0].state.resizible.settings.max,curWidth:l[0].state.board.size})},i:ce,o:ce,d(l){l&&p(t),n=!1,It(o)}}}function _r(a,t,e){let{chessboard:i}=t,{setSize:s}=t;function n(r){Tt.call(this,a,r)}const o=r=>s(r.detail.size),l=r=>s(r.detail.size);return a.$$set=r=>{"chessboard"in r&&e(0,i=r.chessboard),"setSize"in r&&e(1,s=r.setSize)},[i,s,n,o,l]}class Er extends je{constructor(t){super(),Ge(this,t,_r,mr,Xe,{chessboard:0,setSize:1})}}function wi(a,t,e){const i=a.slice();return i[67]=t[e],i}function ki(a,t,e){const i=a.slice();return i[70]=t[e],i}function Mi(a){let t=[],e=new Map,i,s,n=a[2].state.pieces;const o=l=>l[70];for(let l=0;l<n.length;l+=1){let r=ki(a,n,l),u=o(r);e.set(u,t[l]=Si(u,r))}return{c(){for(let l=0;l<t.length;l+=1)t[l].c();i=oe()},l(l){for(let r=0;r<t.length;r+=1)t[r].l(l);i=oe()},m(l,r){for(let u=0;u<t.length;u+=1)t[u].m(l,r);z(l,i,r),s=!0},p(l,r){r[0]&30980&&(n=l[2].state.pieces,Ue(),t=xi(t,r,o,1,l,n,e,i.parentNode,Zi,Si,i,ki),Be())},i(l){if(!s){for(let r=0;r<n.length;r+=1)K(t[r]);s=!0}},o(l){for(let r=0;r<t.length;r+=1)x(t[r]);s=!1},d(l){for(let r=0;r<t.length;r+=1)t[r].d(l);l&&p(i)}}}function Si(a,t){let e,i,s;function n(){return t[48](t[70])}function o(){return t[49](t[70])}return i=new nn({props:{square:t[70].square,name:t[70].name,duration:t[2].state.draggable.transition.settings.duration,easing:t[2].state.draggable.transition.settings.easing,legal:t[2].state.legal.enabled,whiteToMove:t[2].state.legal.whiteToMove,movable:t[2].state.movable,getGridCoordsFromSquare:t[2].getGridCoordsFromSquare,flipped:t[2].state.board.flipped}}),i.$on("move",t[11]),i.$on("clicked",n),i.$on("startMoving",o),i.$on("moving",t[12]),i.$on("endDragging",t[50]),i.$on("animationEnded",t[13]),{key:a,first:null,c(){e=oe(),ze(i.$$.fragment),this.h()},l(l){e=oe(),He(i.$$.fragment,l),this.h()},h(){this.first=e},m(l,r){z(l,e,r),Ke(i,l,r),s=!0},p(l,r){t=l;const u={};r[0]&4&&(u.square=t[70].square),r[0]&4&&(u.name=t[70].name),r[0]&4&&(u.duration=t[2].state.draggable.transition.settings.duration),r[0]&4&&(u.easing=t[2].state.draggable.transition.settings.easing),r[0]&4&&(u.legal=t[2].state.legal.enabled),r[0]&4&&(u.whiteToMove=t[2].state.legal.whiteToMove),r[0]&4&&(u.movable=t[2].state.movable),r[0]&4&&(u.getGridCoordsFromSquare=t[2].getGridCoordsFromSquare),r[0]&4&&(u.flipped=t[2].state.board.flipped),i.$set(u)},i(l){s||(K(i.$$.fragment,l),s=!0)},o(l){x(i.$$.fragment,l),s=!1},d(l){l&&p(e),We(i,l)}}}function yi(a){let t,e;return t=new nn({props:{ghostPiece:!0,duration:0,legal:a[2].state.legal.enabled,square:a[2].state.draggable.ghostPiece.piece.square,name:a[2].state.draggable.ghostPiece.piece.name,movable:new tn(!1),getGridCoordsFromSquare:a[2].getGridCoordsFromSquare,flipped:a[2].state.board.flipped}}),{c(){ze(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,s){Ke(t,i,s),e=!0},p(i,s){const n={};s[0]&4&&(n.legal=i[2].state.legal.enabled),s[0]&4&&(n.square=i[2].state.draggable.ghostPiece.piece.square),s[0]&4&&(n.name=i[2].state.draggable.ghostPiece.piece.name),s[0]&4&&(n.getGridCoordsFromSquare=i[2].getGridCoordsFromSquare),s[0]&4&&(n.flipped=i[2].state.board.flipped),t.$set(n)},i(i){e||(K(t.$$.fragment,i),e=!0)},o(i){x(t.$$.fragment,i),e=!1},d(i){We(t,i)}}}function wr(a){let t=[],e=new Map,i,s,n=[...a[2].state.markedSquares];const o=l=>l[67];for(let l=0;l<n.length;l+=1){let r=wi(a,n,l),u=o(r);e.set(u,t[l]=Ai(u,r))}return{c(){for(let l=0;l<t.length;l+=1)t[l].c();i=oe()},l(l){for(let r=0;r<t.length;r+=1)t[r].l(l);i=oe()},m(l,r){for(let u=0;u<t.length;u+=1)t[u].m(l,r);z(l,i,r),s=!0},p(l,r){r[0]&5&&(n=[...l[2].state.markedSquares],Ue(),t=xi(t,r,o,1,l,n,e,i.parentNode,Zi,Ai,i,wi),Be())},i(l){if(!s){for(let r=0;r<n.length;r+=1)K(t[r]);s=!0}},o(l){for(let r=0;r<t.length;r+=1)x(t[r]);s=!1},d(l){for(let r=0;r<t.length;r+=1)t[r].d(l);l&&p(i)}}}function Ai(a,t){let e,i,s;return i=new Yl({props:{theme:t[2].state.board.boardTheme,square:t[67].square,color:t[67].color,getGridCoordsFromSquare:t[2].getGridCoordsFromSquare,flipped:t[2].state.board.flipped}}),i.$on("dragenter",t[51]),{key:a,first:null,c(){e=oe(),ze(i.$$.fragment),this.h()},l(n){e=oe(),He(i.$$.fragment,n),this.h()},h(){this.first=e},m(n,o){z(n,e,o),Ke(i,n,o),s=!0},p(n,o){t=n;const l={};o[0]&4&&(l.theme=t[2].state.board.boardTheme),o[0]&4&&(l.square=t[67].square),o[0]&4&&(l.color=t[67].color),o[0]&4&&(l.getGridCoordsFromSquare=t[2].getGridCoordsFromSquare),o[0]&4&&(l.flipped=t[2].state.board.flipped),i.$set(l)},i(n){s||(K(i.$$.fragment,n),s=!0)},o(n){x(i.$$.fragment,n),s=!1},d(n){n&&p(e),We(i,n)}}}function Ci(a){let t,e;return t=new sl({props:{theme:a[2].state.board.boardTheme,flipped:a[2].state.board.flipped}}),{c(){ze(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,s){Ke(t,i,s),e=!0},p(i,s){const n={};s[0]&4&&(n.theme=i[2].state.board.boardTheme),s[0]&4&&(n.flipped=i[2].state.board.flipped),t.$set(n)},i(i){e||(K(t.$$.fragment,i),e=!0)},o(i){x(t.$$.fragment,i),e=!1},d(i){We(t,i)}}}function Pi(a){let t,e;return t=new Er({props:{chessboard:a[2],setSize:a[1]}}),{c(){ze(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,s){Ke(t,i,s),e=!0},p(i,s){const n={};s[0]&4&&(n.chessboard=i[2]),t.$set(n)},i(i){e||(K(t.$$.fragment,i),e=!0)},o(i){x(t.$$.fragment,i),e=!1},d(i){We(t,i)}}}function Li(a){let t,e,i;function s(o){a[52](o)}let n={flipped:a[2].state.board.flipped,computerArrows:a[7],LshapeKnightMove:a[2].state.drawTools.settings.LshapeKnightMove};return a[4]!==void 0&&(n.svg=a[4]),t=new ar({props:n}),Le.push(()=>ca(t,"svg",s)),{c(){ze(t.$$.fragment)},l(o){He(t.$$.fragment,o)},m(o,l){Ke(t,o,l),i=!0},p(o,l){const r={};l[0]&4&&(r.flipped=o[2].state.board.flipped),l[0]&128&&(r.computerArrows=o[7]),l[0]&4&&(r.LshapeKnightMove=o[2].state.drawTools.settings.LshapeKnightMove),!e&&l[0]&16&&(e=!0,r.svg=o[4],da(()=>e=!1)),t.$set(r)},i(o){i||(K(t.$$.fragment,o),i=!0)},o(o){x(t.$$.fragment,o),i=!1},d(o){We(t,o)}}}function Ti(a){let t,e,i={};return t=new ur({props:i}),a[53](t),t.$on("newPromotion",a[15]),{c(){ze(t.$$.fragment)},l(s){He(t.$$.fragment,s)},m(s,n){Ke(t,s,n),e=!0},p(s,n){const o={};t.$set(o)},i(s){e||(K(t.$$.fragment,s),e=!0)},o(s){x(t.$$.fragment,s),e=!1},d(s){a[53](null),We(t,s)}}}function Oi(a){let t,e,i={settings:a[2].state.sounds.settings};return t=new pr({props:i}),a[58](t),{c(){ze(t.$$.fragment)},l(s){He(t.$$.fragment,s)},m(s,n){Ke(t,s,n),e=!0},p(s,n){const o={};n[0]&4&&(o.settings=s[2].state.sounds.settings),t.$set(o)},i(s){e||(K(t.$$.fragment,s),e=!0)},o(s){x(t.$$.fragment,s),e=!1},d(s){a[58](null),We(t,s)}}}function kr(a){let t,e,i,s,n=a[9](),o,l,r,u,f,b,m,_,O,L,y,k,d=a[2].state.board.startFen&&Mi(a),g=a[2].state.draggable.ghostPiece.enabled&&a[2].state.draggable.ghostPiece.piece!==void 0&&yi(a),C=n&&wr(a),M=a[2].state.board.notation&&Ci(a),A=a[2].state.resizible.enabled&&Pi(a),I=a[2].state.drawTools.enabled&&Li(a),R=a[2].state.legal.enabled&&Ti(a),T=a[2].state.sounds.enabled&&Oi(a);return{c(){t=E("div"),e=E("div"),d&&d.c(),i=V(),g&&g.c(),s=V(),C&&C.c(),o=V(),M&&M.c(),l=V(),A&&A.c(),r=V(),I&&I.c(),u=V(),R&&R.c(),_=V(),T&&T.c(),O=oe(),this.h()},l(F){t=w(F,"DIV",{class:!0,style:!0});var S=P(t);e=w(S,"DIV",{class:!0});var G=P(e);d&&d.l(G),G.forEach(p),i=N(S),g&&g.l(S),s=N(S),C&&C.l(S),o=N(S),M&&M.l(S),l=N(S),A&&A.l(S),r=N(S),I&&I.l(S),u=N(S),R&&R.l(S),S.forEach(p),_=N(F),T&&T.l(F),O=oe(),this.h()},h(){c(e,"class","noselect h-full w-full"),c(t,"class",f="noselect lg:rounded board text-xs"+(a[2].state.board.shadow?" shadow-lg":"")+" sm:text-sm svelte-wzcws1"),ne(t,"--boardTheme","url("+(a[2].state.board.boardTheme==="standard"?_i:Ei)+")"),Jt(()=>a[57].call(t))},m(F,S){z(F,t,S),h(t,e),d&&d.m(e,null),h(t,i),g&&g.m(t,null),h(t,s),C&&C.m(t,null),h(t,o),M&&M.m(t,null),h(t,l),A&&A.m(t,null),h(t,r),I&&I.m(t,null),h(t,u),R&&R.m(t,null),a[56](t),m=kn(t,a[57].bind(t)),z(F,_,S),T&&T.m(F,S),z(F,O,S),L=!0,y||(k=[Y(t,"pointerdown",a[10]),Y(t,"contextmenu",Qa(a[46])),Y(t,"drag",Qa(a[47])),_a(b=er.call(null,t,{svg:a[4],flipped:a[2].state.board.flipped,enabled:a[2].state.drawTools.enabled,settings:a[2].state.drawTools.settings})),Y(t,"drawCircle",a[54]),Y(t,"drawArrow",a[55])],y=!0)},p(F,S){F[2].state.board.startFen?d?(d.p(F,S),S[0]&4&&K(d,1)):(d=Mi(F),d.c(),K(d,1),d.m(e,null)):d&&(Ue(),x(d,1,1,()=>{d=null}),Be()),F[2].state.draggable.ghostPiece.enabled&&F[2].state.draggable.ghostPiece.piece!==void 0?g?(g.p(F,S),S[0]&4&&K(g,1)):(g=yi(F),g.c(),K(g,1),g.m(t,s)):g&&(Ue(),x(g,1,1,()=>{g=null}),Be()),n&&C.p(F,S),F[2].state.board.notation?M?(M.p(F,S),S[0]&4&&K(M,1)):(M=Ci(F),M.c(),K(M,1),M.m(t,l)):M&&(Ue(),x(M,1,1,()=>{M=null}),Be()),F[2].state.resizible.enabled?A?(A.p(F,S),S[0]&4&&K(A,1)):(A=Pi(F),A.c(),K(A,1),A.m(t,r)):A&&(Ue(),x(A,1,1,()=>{A=null}),Be()),F[2].state.drawTools.enabled?I?(I.p(F,S),S[0]&4&&K(I,1)):(I=Li(F),I.c(),K(I,1),I.m(t,u)):I&&(Ue(),x(I,1,1,()=>{I=null}),Be()),F[2].state.legal.enabled?R?(R.p(F,S),S[0]&4&&K(R,1)):(R=Ti(F),R.c(),K(R,1),R.m(t,null)):R&&(Ue(),x(R,1,1,()=>{R=null}),Be()),(!L||S[0]&4&&f!==(f="noselect lg:rounded board text-xs"+(F[2].state.board.shadow?" shadow-lg":"")+" sm:text-sm svelte-wzcws1"))&&c(t,"class",f),(!L||S[0]&4)&&ne(t,"--boardTheme","url("+(F[2].state.board.boardTheme==="standard"?_i:Ei)+")"),b&&Ea(b.update)&&S[0]&20&&b.update.call(null,{svg:F[4],flipped:F[2].state.board.flipped,enabled:F[2].state.drawTools.enabled,settings:F[2].state.drawTools.settings}),F[2].state.sounds.enabled?T?(T.p(F,S),S[0]&4&&K(T,1)):(T=Oi(F),T.c(),K(T,1),T.m(O.parentNode,O)):T&&(Ue(),x(T,1,1,()=>{T=null}),Be())},i(F){L||(K(d),K(g),K(C),K(M),K(A),K(I),K(R),K(T),L=!0)},o(F){x(d),x(g),x(C),x(M),x(A),x(I),x(R),x(T),L=!1},d(F){F&&p(t),d&&d.d(),g&&g.d(),C&&C.d(),M&&M.d(),A&&A.d(),I&&I.d(),R&&R.d(),a[56](null),m(),F&&p(_),T&&T.d(F),F&&p(O),y=!1,It(k)}}}function Mr(a,t,e){let{config:i}=t;const s=new Xn(i),n=wa();let o,l,r,u,f="";Mn(()=>{document.documentElement.hasAttribute("style")&&s.state.resizible.enabled&&document.documentElement.removeAttribute("style")});let b=[],m={[$.WHITE]:"",[$.BLACK]:""};const _=v=>{s.clearAllSquares(v),v===q.LEGAL&&s.clearAllSquares(q.LEGALHOVER),v===q.PREMOVE&&s.clearAllSquares(q.PREMOVEHOVER),e(2,s)},O=(v,B)=>{s.highlightSquare(v,B),e(2,s)},L=v=>s.state.highlight.enabled&&(v===void 0||s.state.highlight.settings[v]),y=v=>{_(q.CHECK),v!==void 0&&L("check")&&O(m[v],q.CHECK),e(2,s)},k=v=>{s.flipBoard(v),e(2,s)},d=(v,B)=>{v.forEach(Z=>s.highlightSquare(Z,B)),e(2,s)},g=(v,B=q.MOVE)=>{v.length<4||d([v.substring(0,2),v.substring(2,4)],B)},C=(v,B=q.MOVE)=>{const Z=[];v.forEach(de=>{de.length<4||(Z.push(de.substring(0,2)),Z.push(de.substring(2,4)))}),d(Z,B)},M=v=>{O(v.substring(2,4),q.LEGAL)},A=v=>{_(q.LEGAL),C(v,q.LEGAL)},I=(v,B=!0)=>{s.makeMove(v),B&&(_(q.MOVE),L("move")&&g(v)),e(2,s)},R=v=>{s.removePiece(v),e(2,s)},T=v=>v[0]==="w"?$.WHITE:$.BLACK,F=()=>s.state.movable.enabled&&(s.state.movable.color===$.BOTH||s.state.legal.whiteToMove&&s.state.movable.color===T("w")||!s.state.legal.whiteToMove&&s.state.movable.color===T("b")),S=()=>{!s.state.legal.enabled||(s.state.callbacks.getWhiteToMove&&e(2,s.state.legal.whiteToMove=s.state.callbacks.getWhiteToMove(),s),s.state.callbacks.getPreMoves&&!F()&&s.state.legal.preMoves.enabled?e(2,s.state.legal.preMoves.moves=s.state.callbacks.getPreMoves(),s):e(2,s.state.legal.preMoves.moves.length=0,s),s.state.callbacks.getLegalMoves&&F()?e(2,s.state.legal.moves=s.state.callbacks.getLegalMoves(),s):e(2,s.state.legal.moves.length=0,s),F()&&s.state.selectable.selectedPiece!==void 0&&s.state.legal.preMoves.enabled&&(_(q.PREMOVE),_(q.LEGAL),L("legal")&&s.state.legal.moves.forEach(v=>{s.state.selectable.selectedPiece&&v.substring(0,2)===s.state.selectable.selectedPiece.square&&O(v.substring(2,4),q.LEGAL)})),s.state.callbacks.getKingLocations&&(m=s.state.callbacks.getKingLocations()),s.state.callbacks.getInCheck&&y(s.state.callbacks.getInCheck()))},G=v=>{s.state.sounds.enabled&&r.playMoveSound(v)},le=v=>{if(v.substring(0,2)===v.substring(2,4))return;s.state.callbacks.beforeMove&&s.state.callbacks.beforeMove(v),_(q.LEGAL),_(q.SELECT);const B=s.getRookMoveIfIsCastling(v),Z=s.getCapturedPawnSquareIfIsEnPassant(v);if(B&&s.state.legal.enabled&&s.state.legal.settings.allowCastling?(I(B,!1),G("CASTLE")):Z&&s.state.legal.enabled&&s.state.legal.settings.allowEnPassant?(R(Z),G("CAPTURE")):s.isCapture(v)?G("CAPTURE"):G("MOVE"),s.removeGhostPiece(),e(2,s),I(v),s.state.callbacks.afterMove&&s.state.callbacks.afterMove(v),S(),s.state.legal.enabled&&s.state.legal.preMoves.enabled&&s.state.legal.preMoves.curMove!==""){if(s.state.legal.moves.includes(s.state.legal.preMoves.curMove)||s.state.legal.moves.includes(`${s.state.legal.preMoves.curMove}q`)){const de=s.state.legal.preMoves.curMove;e(2,s.state.legal.preMoves.curMove="",s),Sn().then(()=>{le(de)})}_(q.NEXTMOVE)}},ae=v=>{!s.state.legal.enabled||!s.state.legal.preMoves.enabled||!s.state.movable.enabled||(_(q.PREMOVE),_(q.NEXTMOVE),s.state.highlight.enabled&&s.state.highlight.settings.nextMove&&g(v,q.NEXTMOVE),e(2,s.state.legal.preMoves.curMove=v,s),n("nextMove",{move:v}))},Ae=v=>{u.openPromotionModal(!0),f=v,s.makeMove(v),_(q.LEGAL),_(q.SELECT),_(q.MOVE),g(v)},Fe=(v,B)=>{s.clearSquare(v,B),e(2,s)},D=()=>{s.clearAllPieces(),e(2,s)},X=(v,B)=>{s.setPiece(v,B),e(2,s)},H=(v,B)=>{var de;const Z=(de=s.getPieceFromSquare(v))==null?void 0:de.name;!Z||(B!==void 0?s.setPiece(v,`${B===$.WHITE?"w":"b"}${Z[1]}`):s.setPiece(v,`${Z[0]==="w"?"b":"w"}${Z[1]}`),e(2,s))},Q=(v,B)=>{const Z=Math.floor(v/s.state.board.size*8),de=Math.floor(B/s.state.board.size*8),se=s.state.board.flipped?Math.abs(Z-7):Z,ue=s.state.board.flipped?de:Math.abs(de-7);return Object.keys(s.letters)[se]+(ue+1).toString()},ie=v=>s.state.movable.enabled?!!(s.state.legal.enabled&&s.state.legal.preMoves.enabled&&(s.state.movable.color===$.BOTH||s.state.movable.color===T(v))||s.state.movable.color===$.BOTH||s.state.movable.color===T(v)):!1,re=v=>{if(v.button===2){_(),e(2,s.state.selectable.selectedPiece=void 0,s);return}const B=o.getBoundingClientRect(),Z=v.clientX-B.left,de=v.clientY-B.top,se=Q(Z,de),ue=s.getPieceFromSquare(se);if(n("squareClick",{square:se,piece:ue?ue.name:void 0}),!s.state.selectable.enabled){e(2,s.state.selectable.selectedPiece=void 0,s);return}if(s.state.selectable.selectedPiece!==void 0&&s.state.selectable.selectedPiece.square!==se&&!s.state.legal.enabled){le(s.state.selectable.selectedPiece.square+se),e(2,s.state.selectable.selectedPiece=void 0,s);return}if(s.state.selectable.selectedPiece!==void 0&&s.state.selectable.selectedPiece.square!==se&&(ue===void 0||ue.name[0]!==s.state.selectable.selectedPiece.name[0])){s.isPromotion(s.state.selectable.selectedPiece.square+se)&&s.state.legal.moves.includes(`${s.state.selectable.selectedPiece.square+se}q`)?Ae(s.state.selectable.selectedPiece.square+se):s.state.legal.moves.includes(s.state.selectable.selectedPiece.square+se)?le(s.state.selectable.selectedPiece.square+se):s.state.legal.preMoves.enabled&&s.state.legal.preMoves.moves.includes(s.state.selectable.selectedPiece.square+se)?ae(s.state.selectable.selectedPiece.square+se):(_(q.LEGAL),_(q.PREMOVE),_(q.SELECT)),e(2,s.state.selectable.selectedPiece=void 0,s);return}if(s.state.selectable.selectedPiece!==ue&&ue!==void 0&&s.state.movable.enabled&&(s.state.movable.color===$.BOTH||s.state.movable.color===T(ue.name))){L("legal")&&s.state.legal&&F()&&(_(q.LEGAL),s.state.legal.moves.forEach(me=>{me.substring(0,2)===se&&O(me.substring(2,4),q.LEGAL)})),L("preMove")&&s.state.legal.enabled&&s.state.legal.preMoves.enabled&&s.state.movable.color!==$.BOTH&&!F()&&(_(q.PREMOVE),s.state.highlight.enabled&&s.state.highlight.settings.preMove&&s.state.legal.preMoves.moves.forEach(me=>{me.substring(0,2)===se&&O(me.substring(2,4),q.PREMOVE)})),L("select")&&(s.state.legal.enabled&&ie(ue.name[0])||!s.state.legal.enabled)&&(_(q.SELECT),O(se,q.SELECT)),(s.state.legal.enabled&&ie(ue.name[0])||!s.state.legal.enabled)&&e(2,s.state.selectable.selectedPiece=ue,s);return}s.state.selectable.selectedPiece!==void 0&&s.state.selectable.selectedPiece===ue&&(_(q.LEGAL),_(q.PREMOVE),_(q.SELECT),e(2,s.state.selectable.selectedPiece=void 0,s))},fe=v=>{const B=v.detail;if(B.substring(0,2)===B.substring(2,4)){O(B.substring(0,2),q.SELECT),e(2,s);return}s.state.legal.enabled?s.isPromotion(B)&&s.state.legal.moves.includes(`${B}q`)?Ae(B):s.state.legal.moves.includes(B)?le(B):s.state.legal.preMoves.enabled&&s.state.legal.preMoves.moves.includes(B)&&ae(B):le(B),_(q.LEGAL),_(q.PREMOVE),e(2,s)},te=(v,B="MOVE")=>{if(s.updatePiecesWithFen(v),_(),s.removeGhostPiece(),S(),s.state.callbacks.getLastMove){const Z=s.state.callbacks.getLastMove();B!=="MOVE"?G(B):s.isCastling(Z)?G("CASTLE"):G(B),g(Z)}else G(B);e(2,s),e(2,s)},he=()=>s.getShortFEN(),Ce=v=>{!v||s.state.board.size===v||(e(2,s.state.board.size=v,s),s.state.resizible.enabled&&document.documentElement.style.setProperty("--boardSize",`${s.state.board.size}px`))},ge=v=>{var B;return(B=s.getPieceFromSquare(v))==null?void 0:B.name},be=v=>{e(7,b=v)},pe=()=>{e(7,b.length=0,b)},Pe=()=>{S()},ve=v=>{v===!1?e(2,s.state.movable.enabled=!1,s):(e(2,s.state.movable.enabled=!0,s),e(2,s.state.movable.color=v===!0?$.BOTH:v,s))},pt=v=>{v!==void 0&&(s.setConfigSettings(v),e(2,s))},Te=()=>s.state,Ht=v=>{e(2,s.state=v,s)},Kt=v=>v.getConfig(),Wt=v=>{const B=o.getBoundingClientRect();s.state.legal.enabled&&(F()&&s.legalHover(Q(v.detail.x-B.x,v.detail.y-B.y)),!F()&&s.state.legal.preMoves.enabled&&s.preMoveHover(Q(v.detail.x-B.x,v.detail.y-B.y))),e(2,s)},Qe=v=>{s.setGhostPiece(v),e(2,s)},jt=()=>{s.removeGhostPiece(),e(2,s)},xe=v=>{s.state.draggable.ghostPiece&&Qe(v),_(q.SELECT),s.state.selectable.selectedPiece===void 0&&L("legal")&&s.state.legal.moves.forEach(B=>{B.substring(0,2)===v.square&&O(B.substring(2,4),q.LEGAL)})},Ze=v=>{const B=s.getPieceFromSquare(f.substring(2,4));if(!B)return;const Z=B.name[0]+v.detail.toUpperCase(),de=f+v.detail;s.state.callbacks.beforeMove&&s.state.callbacks.beforeMove(de),s.setPiece(B.square,Z),e(2,s),G("MOVE"),s.state.callbacks.afterMove&&s.state.callbacks.afterMove(de),S()};ka(()=>{S(),s.state.callbacks.getLastMove&&g(s.state.callbacks.getLastMove()),s.state.resizible&&Ce(s.state.board.size-s.state.board.size%8)});function Re(v){Tt.call(this,a,v)}function Gt(v){Tt.call(this,a,v)}const Je=v=>{n("piececlick",{piece:v})},Xt=v=>{n("startDragging",{piece:v}),xe(v)},Yt=()=>{n("endDragging"),e(2,s.state.selectable.selectedPiece=void 0,s)},$e=v=>{O(v.detail.square,q.LEGALHOVER)};function Qt(v){l=v,e(4,l)}function De(v){Le[v?"unshift":"push"](()=>{u=v,e(6,u)})}const et=v=>n("drawCircle",{square:v.detail.square,color:v.detail.color}),Ve=v=>n("drawArrow",{move:v.detail.move,color:v.detail.color});function xt(v){Le[v?"unshift":"push"](()=>{o=v,e(3,o)})}function tt(){s.state.board.size=this.clientWidth,e(2,s)}function Zt(v){Le[v?"unshift":"push"](()=>{r=v,e(5,r)})}return a.$$set=v=>{"config"in v&&e(16,i=v.config)},a.$$.update=()=>{a.$$.dirty[0]&4&&Ce(s.state.board.size-s.state.board.size%8)},[O,Ce,s,o,l,r,u,b,n,L,re,fe,Wt,jt,xe,Ze,i,_,k,d,g,C,M,A,I,R,G,le,ae,Ae,Fe,D,X,H,Q,te,he,ge,be,pe,Pe,ve,pt,Te,Ht,Kt,Re,Gt,Je,Xt,Yt,$e,Qt,De,et,Ve,xt,tt,Zt]}class Sr extends je{constructor(t){super(),Ge(this,t,Mr,kr,Xe,{config:16,clearAllSquares:17,highlightSquare:0,flipBoard:18,highlightManySquares:19,highlightMove:20,highlightManyMoves:21,highlightLegalMove:22,highlightLegalMoves:23,movePiece:24,removePiece:25,playMoveSound:26,makeMove:27,makeNextMove:28,makeMovePromotion:29,removeSquareHighlight:30,removeAllPiece:31,createPiece:32,changeColorOfPiece:33,getSquareFromCoords:34,setFEN:35,getShortFEN:36,setSize:1,getPieceFromSquare:37,setComputerArrows:38,removeComputerArrows:39,updateLegalState:40,setMovableColor:41,setConfigSettings:42,getState:43,setState:44,getConfigFromState:45},null,[-1,-1,-1])}get clearAllSquares(){return this.$$.ctx[17]}get highlightSquare(){return this.$$.ctx[0]}get flipBoard(){return this.$$.ctx[18]}get highlightManySquares(){return this.$$.ctx[19]}get highlightMove(){return this.$$.ctx[20]}get highlightManyMoves(){return this.$$.ctx[21]}get highlightLegalMove(){return this.$$.ctx[22]}get highlightLegalMoves(){return this.$$.ctx[23]}get movePiece(){return this.$$.ctx[24]}get removePiece(){return this.$$.ctx[25]}get playMoveSound(){return this.$$.ctx[26]}get makeMove(){return this.$$.ctx[27]}get makeNextMove(){return this.$$.ctx[28]}get makeMovePromotion(){return this.$$.ctx[29]}get removeSquareHighlight(){return this.$$.ctx[30]}get removeAllPiece(){return this.$$.ctx[31]}get createPiece(){return this.$$.ctx[32]}get changeColorOfPiece(){return this.$$.ctx[33]}get getSquareFromCoords(){return this.$$.ctx[34]}get setFEN(){return this.$$.ctx[35]}get getShortFEN(){return this.$$.ctx[36]}get setSize(){return this.$$.ctx[1]}get getPieceFromSquare(){return this.$$.ctx[37]}get setComputerArrows(){return this.$$.ctx[38]}get removeComputerArrows(){return this.$$.ctx[39]}get updateLegalState(){return this.$$.ctx[40]}get setMovableColor(){return this.$$.ctx[41]}get setConfigSettings(){return this.$$.ctx[42]}get getState(){return this.$$.ctx[43]}get setState(){return this.$$.ctx[44]}get getConfigFromState(){return this.$$.ctx[45]}}const Ii=["standard","darkBlue"],Fi=["backIn","backInOut","backOut","bounceIn","bounceInOut","bounceOut","circIn","circInOut","circOut","cubicIn","cubicInOut","cubicOut","elasticIn","elasticInOut","elasticOut","expoIn","expoInOut","expoOut","linear","quadIn","quadInOut","quadOut","quartIn","quartInOut","quartOut","quintIn","quintInOut","quintOut","sineIn","sineInOut","sineOut"];function qi(a,t,e){const i=a.slice();return i[37]=t[e],i[38]=t,i[39]=e,i}function Ri(a,t,e){const i=a.slice();return i[40]=t[e],i[41]=t,i[42]=e,i}function Di(a,t,e){const i=a.slice();return i[43]=t[e],i}function Vi(a,t,e){const i=a.slice();return i[46]=t[e],i}function Ni(a){let t,e=a[46]+"",i;return{c(){t=E("option"),i=W(e),this.h()},l(s){t=w(s,"OPTION",{});var n=P(t);i=j(n,e),n.forEach(p),this.h()},h(){t.__value=a[46],t.value=t.__value},m(s,n){z(s,t,n),h(t,i)},p:ce,d(s){s&&p(t)}}}function Ui(a){let t,e,i,s,n,o,l,r,u,f;return{c(){t=E("div"),e=E("select"),i=E("option"),s=W("Both"),n=E("option"),o=W("White"),l=E("option"),r=W("Black"),this.h()},l(b){t=w(b,"DIV",{});var m=P(t);e=w(m,"SELECT",{class:!0});var _=P(e);i=w(_,"OPTION",{});var O=P(i);s=j(O,"Both"),O.forEach(p),n=w(_,"OPTION",{});var L=P(n);o=j(L,"White"),L.forEach(p),l=w(_,"OPTION",{});var y=P(l);r=j(y,"Black"),y.forEach(p),_.forEach(p),m.forEach(p),this.h()},h(){i.__value=$.BOTH,i.value=i.__value,n.__value=$.WHITE,n.value=n.__value,l.__value=$.BLACK,l.value=l.__value,c(e,"class","svelte-1q80l21"),a[0].movable.color===void 0&&Jt(()=>a[15].call(e))},m(b,m){z(b,t,m),h(t,e),h(e,i),h(i,s),h(e,n),h(n,o),h(e,l),h(l,r),zt(e,a[0].movable.color),u||(f=Y(e,"change",a[15]),u=!0)},p(b,m){m[0]&1&&zt(e,b[0].movable.color)},d(b){b&&p(t),u=!1,f()}}}function Bi(a){let t,e,i,s,n,o,l,r,u,f,b,m,_,O,L,y=a[0].draggable.transition.enabled&&zi(a);return{c(){t=E("div"),e=E("input"),i=V(),s=E("label"),n=W("ghost piece"),o=V(),l=E("div"),r=E("input"),u=V(),f=E("label"),b=W("transition enabled"),m=V(),y&&y.c(),_=oe(),this.h()},l(k){t=w(k,"DIV",{});var d=P(t);e=w(d,"INPUT",{id:!0,type:!0,class:!0}),i=N(d),s=w(d,"LABEL",{for:!0,class:!0});var g=P(s);n=j(g,"ghost piece"),g.forEach(p),d.forEach(p),o=N(k),l=w(k,"DIV",{});var C=P(l);r=w(C,"INPUT",{id:!0,type:!0,class:!0}),u=N(C),f=w(C,"LABEL",{for:!0,class:!0});var M=P(f);b=j(M,"transition enabled"),M.forEach(p),C.forEach(p),m=N(k),y&&y.l(k),_=oe(),this.h()},h(){c(e,"id","ghostPiece"),c(e,"type","checkbox"),c(e,"class","svelte-1q80l21"),c(s,"for","ghostPiece"),c(s,"class","select-none"),c(r,"id","draggableEnabled"),c(r,"type","checkbox"),c(r,"class","svelte-1q80l21"),c(f,"for","draggableEnabled"),c(f,"class","select-none")},m(k,d){z(k,t,d),h(t,e),e.checked=a[0].draggable.ghostPiece.enabled,h(t,i),h(t,s),h(s,n),z(k,o,d),z(k,l,d),h(l,r),r.checked=a[0].draggable.transition.enabled,h(l,u),h(l,f),h(f,b),z(k,m,d),y&&y.m(k,d),z(k,_,d),O||(L=[Y(e,"change",a[17]),Y(r,"change",a[18])],O=!0)},p(k,d){d[0]&1&&(e.checked=k[0].draggable.ghostPiece.enabled),d[0]&1&&(r.checked=k[0].draggable.transition.enabled),k[0].draggable.transition.enabled?y?y.p(k,d):(y=zi(k),y.c(),y.m(_.parentNode,_)):y&&(y.d(1),y=null)},d(k){k&&p(t),k&&p(o),k&&p(l),k&&p(m),y&&y.d(k),k&&p(_),O=!1,It(L)}}}function zi(a){let t,e,i,s,n,o,l,r,u,f,b,m,_,O=Fi,L=[];for(let y=0;y<O.length;y+=1)L[y]=Hi(Di(a,O,y));return{c(){t=E("div"),e=E("input"),i=V(),s=E("label"),n=W("duration"),o=V(),l=E("div"),r=E("label"),u=W("easing func"),f=V(),b=E("select");for(let y=0;y<L.length;y+=1)L[y].c();this.h()},l(y){t=w(y,"DIV",{});var k=P(t);e=w(k,"INPUT",{id:!0,type:!0,class:!0}),i=N(k),s=w(k,"LABEL",{for:!0,class:!0});var d=P(s);n=j(d,"duration"),d.forEach(p),k.forEach(p),o=N(y),l=w(y,"DIV",{});var g=P(l);r=w(g,"LABEL",{for:!0,class:!0});var C=P(r);u=j(C,"easing func"),C.forEach(p),f=N(g),b=w(g,"SELECT",{id:!0,class:!0});var M=P(b);for(let A=0;A<L.length;A+=1)L[A].l(M);M.forEach(p),g.forEach(p),this.h()},h(){c(e,"id","transitionDuration"),c(e,"type","number"),c(e,"class","svelte-1q80l21"),c(s,"for","transitionDuration"),c(s,"class","select-none"),c(r,"for","easingFuncs"),c(r,"class","select-none"),c(b,"id","easingFuncs"),c(b,"class","svelte-1q80l21"),a[0].draggable.transition.settings.easing===void 0&&Jt(()=>a[20].call(b))},m(y,k){z(y,t,k),h(t,e),xa(e,a[0].draggable.transition.settings.duration),h(t,i),h(t,s),h(s,n),z(y,o,k),z(y,l,k),h(l,r),h(r,u),h(l,f),h(l,b);for(let d=0;d<L.length;d+=1)L[d].m(b,null);zt(b,a[0].draggable.transition.settings.easing),m||(_=[Y(e,"input",a[19]),Y(b,"change",a[20])],m=!0)},p(y,k){if(k[0]&1&&Ji(e.value)!==y[0].draggable.transition.settings.duration&&xa(e,y[0].draggable.transition.settings.duration),k&0){O=Fi;let d;for(d=0;d<O.length;d+=1){const g=Di(y,O,d);L[d]?L[d].p(g,k):(L[d]=Hi(g),L[d].c(),L[d].m(b,null))}for(;d<L.length;d+=1)L[d].d(1);L.length=O.length}k[0]&1&&zt(b,y[0].draggable.transition.settings.easing)},d(y){y&&p(t),y&&p(o),y&&p(l),bt(L,y),m=!1,It(_)}}}function Hi(a){let t,e=a[43]+"",i;return{c(){t=E("option"),i=W(e),this.h()},l(s){t=w(s,"OPTION",{});var n=P(t);i=j(n,e),n.forEach(p),this.h()},h(){t.__value=a[43],t.value=t.__value},m(s,n){z(s,t,n),h(t,i)},p:ce,d(s){s&&p(t)}}}function Ki(a){let t,e,i,s,n,o,l;return{c(){t=E("div"),e=E("input"),i=V(),s=E("label"),n=W("preMoves enabled"),this.h()},l(r){t=w(r,"DIV",{});var u=P(t);e=w(u,"INPUT",{id:!0,type:!0,class:!0}),i=N(u),s=w(u,"LABEL",{for:!0,class:!0});var f=P(s);n=j(f,"preMoves enabled"),f.forEach(p),u.forEach(p),this.h()},h(){c(e,"id","preMovesEnabled"),c(e,"type","checkbox"),c(e,"class","svelte-1q80l21"),c(s,"for","preMovesEnabled"),c(s,"class","select-none")},m(r,u){z(r,t,u),h(t,e),e.checked=a[0].legal.preMoves.enabled,h(t,i),h(t,s),h(s,n),o||(l=Y(e,"change",a[23]),o=!0)},p(r,u){u[0]&1&&(e.checked=r[0].legal.preMoves.enabled)},d(r){r&&p(t),o=!1,l()}}}function Wi(a){let t,e=a[8],i=[];for(let s=0;s<e.length;s+=1)i[s]=ji(Ri(a,e,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=oe()},l(s){for(let n=0;n<i.length;n+=1)i[n].l(s);t=oe()},m(s,n){for(let o=0;o<i.length;o+=1)i[o].m(s,n);z(s,t,n)},p(s,n){if(n[0]&257){e=s[8];let o;for(o=0;o<e.length;o+=1){const l=Ri(s,e,o);i[o]?i[o].p(l,n):(i[o]=ji(l),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(s){bt(i,s),s&&p(t)}}}function ji(a){let t,e,i,s,n=a[40]+"",o,l,r,u;function f(){a[25].call(e,a[40])}return{c(){t=E("div"),e=E("input"),i=V(),s=E("label"),o=W(n),l=V(),this.h()},l(b){t=w(b,"DIV",{});var m=P(t);e=w(m,"INPUT",{id:!0,type:!0,class:!0}),i=N(m),s=w(m,"LABEL",{for:!0,class:!0});var _=P(s);o=j(_,n),_.forEach(p),l=N(m),m.forEach(p),this.h()},h(){c(e,"id",a[40]+"Enabled"),c(e,"type","checkbox"),c(e,"class","svelte-1q80l21"),c(s,"for",a[40]+"Enabled"),c(s,"class","select-none")},m(b,m){z(b,t,m),h(t,e),e.checked=a[0].highlight.settings[a[40]],h(t,i),h(t,s),h(s,o),h(t,l),r||(u=Y(e,"change",f),r=!0)},p(b,m){a=b,m[0]&257&&(e.checked=a[0].highlight.settings[a[40]])},d(b){b&&p(t),r=!1,u()}}}function Gi(a){let t,e,i,s,n,o,l,r,u,f,b,m,_;return{c(){t=E("div"),e=E("input"),i=V(),s=E("label"),n=W("L shape knight move"),o=V(),l=E("div"),r=E("input"),u=V(),f=E("label"),b=W("only chess move"),this.h()},l(O){t=w(O,"DIV",{});var L=P(t);e=w(L,"INPUT",{id:!0,type:!0,class:!0}),i=N(L),s=w(L,"LABEL",{for:!0,class:!0});var y=P(s);n=j(y,"L shape knight move"),y.forEach(p),L.forEach(p),o=N(O),l=w(O,"DIV",{});var k=P(l);r=w(k,"INPUT",{id:!0,type:!0,class:!0}),u=N(k),f=w(k,"LABEL",{for:!0,class:!0});var d=P(f);b=j(d,"only chess move"),d.forEach(p),k.forEach(p),this.h()},h(){c(e,"id","LshapeKnightMoveEnabled"),c(e,"type","checkbox"),c(e,"class","svelte-1q80l21"),c(s,"for","LshapeKnightMoveEnabled"),c(s,"class","select-none"),c(r,"id","onlyChessMoveEnabled"),c(r,"type","checkbox"),c(r,"class","svelte-1q80l21"),c(f,"for","onlyChessMoveEnabled"),c(f,"class","select-none")},m(O,L){z(O,t,L),h(t,e),e.checked=a[0].drawTools.settings.LshapeKnightMove,h(t,i),h(t,s),h(s,n),z(O,o,L),z(O,l,L),h(l,r),r.checked=a[0].drawTools.settings.onlyChessMove,h(l,u),h(l,f),h(f,b),m||(_=[Y(e,"change",a[27]),Y(r,"change",a[28])],m=!0)},p(O,L){L[0]&1&&(e.checked=O[0].drawTools.settings.LshapeKnightMove),L[0]&1&&(r.checked=O[0].drawTools.settings.onlyChessMove)},d(O){O&&p(t),O&&p(o),O&&p(l),m=!1,It(_)}}}function Xi(a){let t,e=a[9],i=[];for(let s=0;s<e.length;s+=1)i[s]=Yi(qi(a,e,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=oe()},l(s){for(let n=0;n<i.length;n+=1)i[n].l(s);t=oe()},m(s,n){for(let o=0;o<i.length;o+=1)i[o].m(s,n);z(s,t,n)},p(s,n){if(n[0]&513){e=s[9];let o;for(o=0;o<e.length;o+=1){const l=qi(s,e,o);i[o]?i[o].p(l,n):(i[o]=Yi(l),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(s){bt(i,s),s&&p(t)}}}function Yi(a){let t,e,i,s,n=a[37]+"",o,l,r,u;function f(){a[30].call(e,a[37])}return{c(){t=E("div"),e=E("input"),i=V(),s=E("label"),o=W(n),l=V(),this.h()},l(b){t=w(b,"DIV",{});var m=P(t);e=w(m,"INPUT",{id:!0,type:!0,class:!0}),i=N(m),s=w(m,"LABEL",{for:!0,class:!0});var _=P(s);o=j(_,n),_.forEach(p),l=N(m),m.forEach(p),this.h()},h(){c(e,"id",a[37]+"Enabled"),c(e,"type","checkbox"),c(e,"class","svelte-1q80l21"),c(s,"for",a[37]+"Enabled"),c(s,"class","select-none")},m(b,m){z(b,t,m),h(t,e),e.checked=a[0].sounds.settings[a[37]],h(t,i),h(t,s),h(s,o),h(t,l),r||(u=Y(e,"change",f),r=!0)},p(b,m){a=b,m[0]&513&&(e.checked=a[0].sounds.settings[a[37]])},d(b){b&&p(t),r=!1,u()}}}function yr(a){let t,e;return{c(){t=Oe("svg"),e=Oe("path"),this.h()},l(i){t=Ie(i,"svg",{style:!0,xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var s=P(t);e=Ie(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),P(e).forEach(p),s.forEach(p),this.h()},h(){c(e,"stroke-linecap","round"),c(e,"stroke-linejoin","round"),c(e,"stroke-width","2"),c(e,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),ne(t,"transform","translate(1px, 0px)"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","h-5"),c(t,"fill","none"),c(t,"viewBox","0 0 24 24"),c(t,"aria-hidden","true"),c(t,"stroke","currentColor")},m(i,s){z(i,t,s),h(t,e)},d(i){i&&p(t)}}}function Ar(a){let t,e;return{c(){t=Oe("svg"),e=Oe("path"),this.h()},l(i){t=Ie(i,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,"aria-hidden":!0,stroke:!0});var s=P(t);e=Ie(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),P(e).forEach(p),s.forEach(p),this.h()},h(){c(e,"stroke-linecap","round"),c(e,"stroke-linejoin","round"),c(e,"stroke-width","2"),c(e,"d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","h-5 text-green-500"),c(t,"fill","none"),c(t,"viewBox","0 0 24 24"),c(t,"aria-hidden","true"),c(t,"stroke","currentColor")},m(i,s){z(i,t,s),h(t,e)},d(i){i&&p(t)}}}function Cr(a){let t,e,i,s,n,o,l,r,u,f,b,m,_,O,L,y,k,d,g,C,M,A,I,R,T,F,S,G,le,ae,Ae,Fe,D,X,H,Q,ie,re,fe,te,he,Ce,ge,be,pe,Pe,ve,pt,Te,Ht,Kt,Wt,Qe,jt,xe,Ze,Re,Gt,Je,Xt,Yt,$e,Qt,De,et,Ve,xt,tt,Zt,v,B,Z,de,se,ue,me,Cs,vt,Ps,Ls,Ts,mt,Os,st,_t,at,Is,Et,Fs,qs,Rs,wt,Ds,it,kt,nt,Vs,Mt,Ns,Us,Bs,St,zs,Ft,yt,lt,Hs,At,Ks,Ws,ut,qt,rt,js,Rt,ct,dt,Ne,Ct,Gs,$t,Xs,Dt,Ys,Qs,Pt,xs,es,Zs,Ye,Js,ht,Vt,$s,Ma,Nt=Ii,_e=[];for(let U=0;U<Nt.length;U+=1)_e[U]=Ni(Vi(a,Nt,U));let Ee=a[0].movable.enabled&&Ui(a),we=a[0].draggable.enabled&&Bi(a),ke=a[0].legal.enabled&&Ki(a),Me=a[0].highlight.enabled&&Wi(a),Se=a[0].drawTools.enabled&&Gi(a),ye=a[0].sounds.enabled&&Xi(a),un={config:a[6]};rt=new Sr({props:un}),a[32](rt);function Sa(U,ee){return U[3]?Ar:yr}let ts=Sa(a),ot=ts(a);return ht=new In({props:{source:a[5],language:"svelte"}}),{c(){t=E("link"),e=V(),i=E("div"),s=E("div"),n=E("div"),o=E("div"),l=W(`board
				`),r=E("div"),u=E("div"),f=E("label"),b=W("board theme"),m=V(),_=E("select");for(let U=0;U<_e.length;U+=1)_e[U].c();O=V(),L=E("div"),y=E("input"),k=V(),d=E("label"),g=W("notation"),C=V(),M=E("div"),A=E("input"),I=V(),R=E("label"),T=W("flipped"),F=V(),S=E("div"),G=E("input"),le=V(),ae=E("label"),Ae=W("shadow"),Fe=V(),D=E("div"),X=W(`movable
				`),H=E("div"),Q=E("div"),ie=E("input"),re=V(),fe=E("label"),te=W("enabled"),he=V(),Ee&&Ee.c(),Ce=V(),ge=E("div"),be=W(`draggable
				`),pe=E("div"),Pe=E("div"),ve=E("input"),pt=V(),Te=E("label"),Ht=W("enabled"),Kt=V(),we&&we.c(),Wt=V(),Qe=E("div"),jt=W(`selectable
				`),xe=E("div"),Ze=E("div"),Re=E("input"),Gt=V(),Je=E("label"),Xt=W("enabled"),Yt=V(),$e=E("div"),Qt=W(`legal
				`),De=E("div"),et=E("div"),Ve=E("input"),xt=V(),tt=E("label"),Zt=W("enabled"),v=V(),ke&&ke.c(),B=V(),Z=E("div"),de=W(`highlight
				`),se=E("div"),ue=E("div"),me=E("input"),Cs=V(),vt=E("label"),Ps=W("enabled"),Ls=V(),Me&&Me.c(),Ts=V(),mt=E("div"),Os=W(`drawTools
				`),st=E("div"),_t=E("div"),at=E("input"),Is=V(),Et=E("label"),Fs=W("enabled"),qs=V(),Se&&Se.c(),Rs=V(),wt=E("div"),Ds=W(`sounds
				`),it=E("div"),kt=E("div"),nt=E("input"),Vs=V(),Mt=E("label"),Ns=W("enabled"),Us=V(),ye&&ye.c(),Bs=V(),St=E("div"),zs=W(`resizible
				`),Ft=E("div"),yt=E("div"),lt=E("input"),Hs=V(),At=E("label"),Ks=W("enabled"),Ws=V(),ut=E("div"),qt=E("div"),ze(rt.$$.fragment),js=V(),Rt=E("div"),ct=E("div"),dt=E("div"),Ne=E("button"),Ct=E("span"),Gs=W("ts"),Xs=V(),Dt=E("span"),Ys=W("/"),Qs=V(),Pt=E("span"),xs=W("js"),Zs=V(),Ye=E("button"),ot.c(),Js=V(),ze(ht.$$.fragment),this.h()},l(U){const ee=yn('[data-svelte="svelte-tebjht"]',document.head);t=w(ee,"LINK",{rel:!0,href:!0}),ee.forEach(p),e=N(U),i=w(U,"DIV",{class:!0});var ft=P(i);s=w(ft,"DIV",{class:!0});var Lt=P(s);n=w(Lt,"DIV",{class:!0});var J=P(n);o=w(J,"DIV",{class:!0});var Ut=P(o);l=j(Ut,`board
				`),r=w(Ut,"DIV",{class:!0});var gt=P(r);u=w(gt,"DIV",{});var ss=P(u);f=w(ss,"LABEL",{for:!0,class:!0});var ya=P(f);b=j(ya,"board theme"),ya.forEach(p),m=N(ss),_=w(ss,"SELECT",{class:!0});var Aa=P(_);for(let oa=0;oa<_e.length;oa+=1)_e[oa].l(Aa);Aa.forEach(p),ss.forEach(p),O=N(gt),L=w(gt,"DIV",{});var as=P(L);y=w(as,"INPUT",{id:!0,type:!0,class:!0}),k=N(as),d=w(as,"LABEL",{for:!0,class:!0});var Ca=P(d);g=j(Ca,"notation"),Ca.forEach(p),as.forEach(p),C=N(gt),M=w(gt,"DIV",{});var is=P(M);A=w(is,"INPUT",{id:!0,type:!0,class:!0}),I=N(is),R=w(is,"LABEL",{for:!0,class:!0});var Pa=P(R);T=j(Pa,"flipped"),Pa.forEach(p),is.forEach(p),F=N(gt),S=w(gt,"DIV",{});var ns=P(S);G=w(ns,"INPUT",{id:!0,type:!0,class:!0}),le=N(ns),ae=w(ns,"LABEL",{for:!0,class:!0});var La=P(ae);Ae=j(La,"shadow"),La.forEach(p),ns.forEach(p),gt.forEach(p),Ut.forEach(p),Fe=N(J),D=w(J,"DIV",{class:!0});var ea=P(D);X=j(ea,`movable
				`),H=w(ea,"DIV",{class:!0});var ls=P(H);Q=w(ls,"DIV",{});var rs=P(Q);ie=w(rs,"INPUT",{id:!0,type:!0,class:!0}),re=N(rs),fe=w(rs,"LABEL",{for:!0,class:!0});var Ta=P(fe);te=j(Ta,"enabled"),Ta.forEach(p),rs.forEach(p),he=N(ls),Ee&&Ee.l(ls),ls.forEach(p),ea.forEach(p),Ce=N(J),ge=w(J,"DIV",{class:!0});var ta=P(ge);be=j(ta,`draggable
				`),pe=w(ta,"DIV",{class:!0});var os=P(pe);Pe=w(os,"DIV",{});var us=P(Pe);ve=w(us,"INPUT",{id:!0,type:!0,class:!0}),pt=N(us),Te=w(us,"LABEL",{for:!0,class:!0});var Oa=P(Te);Ht=j(Oa,"enabled"),Oa.forEach(p),us.forEach(p),Kt=N(os),we&&we.l(os),os.forEach(p),ta.forEach(p),Wt=N(J),Qe=w(J,"DIV",{class:!0});var sa=P(Qe);jt=j(sa,`selectable
				`),xe=w(sa,"DIV",{class:!0});var Ia=P(xe);Ze=w(Ia,"DIV",{});var cs=P(Ze);Re=w(cs,"INPUT",{id:!0,type:!0,class:!0}),Gt=N(cs),Je=w(cs,"LABEL",{for:!0,class:!0});var Fa=P(Je);Xt=j(Fa,"enabled"),Fa.forEach(p),cs.forEach(p),Ia.forEach(p),sa.forEach(p),Yt=N(J),$e=w(J,"DIV",{class:!0});var aa=P($e);Qt=j(aa,`legal
				`),De=w(aa,"DIV",{class:!0});var ds=P(De);et=w(ds,"DIV",{});var hs=P(et);Ve=w(hs,"INPUT",{id:!0,type:!0,class:!0}),xt=N(hs),tt=w(hs,"LABEL",{for:!0,class:!0});var qa=P(tt);Zt=j(qa,"enabled"),qa.forEach(p),hs.forEach(p),v=N(ds),ke&&ke.l(ds),ds.forEach(p),aa.forEach(p),B=N(J),Z=w(J,"DIV",{class:!0});var ia=P(Z);de=j(ia,`highlight
				`),se=w(ia,"DIV",{class:!0});var fs=P(se);ue=w(fs,"DIV",{});var gs=P(ue);me=w(gs,"INPUT",{id:!0,type:!0,class:!0}),Cs=N(gs),vt=w(gs,"LABEL",{for:!0,class:!0});var Ra=P(vt);Ps=j(Ra,"enabled"),Ra.forEach(p),gs.forEach(p),Ls=N(fs),Me&&Me.l(fs),fs.forEach(p),ia.forEach(p),Ts=N(J),mt=w(J,"DIV",{class:!0});var na=P(mt);Os=j(na,`drawTools
				`),st=w(na,"DIV",{class:!0});var bs=P(st);_t=w(bs,"DIV",{});var ps=P(_t);at=w(ps,"INPUT",{id:!0,type:!0,class:!0}),Is=N(ps),Et=w(ps,"LABEL",{for:!0,class:!0});var Da=P(Et);Fs=j(Da,"enabled"),Da.forEach(p),ps.forEach(p),qs=N(bs),Se&&Se.l(bs),bs.forEach(p),na.forEach(p),Rs=N(J),wt=w(J,"DIV",{class:!0});var la=P(wt);Ds=j(la,`sounds
				`),it=w(la,"DIV",{class:!0});var vs=P(it);kt=w(vs,"DIV",{});var ms=P(kt);nt=w(ms,"INPUT",{id:!0,type:!0,class:!0}),Vs=N(ms),Mt=w(ms,"LABEL",{for:!0,class:!0});var Va=P(Mt);Ns=j(Va,"enabled"),Va.forEach(p),ms.forEach(p),Us=N(vs),ye&&ye.l(vs),vs.forEach(p),la.forEach(p),Bs=N(J),St=w(J,"DIV",{class:!0});var ra=P(St);zs=j(ra,`resizible
				`),Ft=w(ra,"DIV",{class:!0});var Na=P(Ft);yt=w(Na,"DIV",{});var _s=P(yt);lt=w(_s,"INPUT",{id:!0,type:!0,class:!0}),Hs=N(_s),At=w(_s,"LABEL",{for:!0,class:!0});var Ua=P(At);Ks=j(Ua,"enabled"),Ua.forEach(p),_s.forEach(p),Na.forEach(p),ra.forEach(p),J.forEach(p),Ws=N(Lt),ut=w(Lt,"DIV",{class:!0});var Es=P(ut);qt=w(Es,"DIV",{class:!0});var Ba=P(qt);He(rt.$$.fragment,Ba),Ba.forEach(p),js=N(Es),Rt=w(Es,"DIV",{class:!0});var za=P(Rt);ct=w(za,"DIV",{class:!0});var ws=P(ct);dt=w(ws,"DIV",{class:!0});var ks=P(dt);Ne=w(ks,"BUTTON",{class:!0});var Bt=P(Ne);Ct=w(Bt,"SPAN",{class:!0});var Ha=P(Ct);Gs=j(Ha,"ts"),Ha.forEach(p),Xs=N(Bt),Dt=w(Bt,"SPAN",{class:!0});var Ka=P(Dt);Ys=j(Ka,"/"),Ka.forEach(p),Qs=N(Bt),Pt=w(Bt,"SPAN",{class:!0});var Wa=P(Pt);xs=j(Wa,"js"),Wa.forEach(p),Bt.forEach(p),Zs=N(ks),Ye=w(ks,"BUTTON",{type:!0,class:!0});var ja=P(Ye);ot.l(ja),ja.forEach(p),ks.forEach(p),Js=N(ws),He(ht.$$.fragment,ws),ws.forEach(p),za.forEach(p),Es.forEach(p),Lt.forEach(p),ft.forEach(p),this.h()},h(){document.title="Chessboard \u2022 PowChess.com",c(t,"rel","stylesheet"),c(t,"href","prism-one-dark.css"),c(f,"for","boardTheme"),c(f,"class","select-none"),c(_,"class","svelte-1q80l21"),a[0].board.boardTheme===void 0&&Jt(()=>a[10].call(_)),c(y,"id","notation"),c(y,"type","checkbox"),c(y,"class","svelte-1q80l21"),c(d,"for","notation"),c(d,"class","select-none"),c(A,"id","flipped"),c(A,"type","checkbox"),c(A,"class","svelte-1q80l21"),c(R,"for","flipped"),c(R,"class","select-none"),c(G,"id","shadow"),c(G,"type","checkbox"),c(G,"class","svelte-1q80l21"),c(ae,"for","shadow"),c(ae,"class","select-none"),c(r,"class","p-2 pl-4"),c(o,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),c(ie,"id","movableEnabled"),c(ie,"type","checkbox"),c(ie,"class","svelte-1q80l21"),c(fe,"for","movableEnabled"),c(fe,"class","select-none"),c(H,"class","p-2 pl-4"),c(D,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),c(ve,"id","draggableEnabled"),c(ve,"type","checkbox"),c(ve,"class","svelte-1q80l21"),c(Te,"for","draggableEnabled"),c(Te,"class","select-none"),c(pe,"class","p-2 pl-4"),c(ge,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),c(Re,"id","selectableEnabled"),c(Re,"type","checkbox"),c(Re,"class","svelte-1q80l21"),c(Je,"for","selectableEnabled"),c(Je,"class","select-none"),c(xe,"class","p-2 pl-4"),c(Qe,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),c(Ve,"id","legalEnabled"),c(Ve,"type","checkbox"),c(Ve,"class","svelte-1q80l21"),c(tt,"for","legalEnabled"),c(tt,"class","select-none"),c(De,"class","p-2 pl-4"),c($e,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),c(me,"id","highlightEnabled"),c(me,"type","checkbox"),c(me,"class","svelte-1q80l21"),c(vt,"for","highlightEnabled"),c(vt,"class","select-none"),c(se,"class","p-2 pl-4"),c(Z,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),c(at,"id","drawToolsEnabled"),c(at,"type","checkbox"),c(at,"class","svelte-1q80l21"),c(Et,"for","drawToolsEnabled"),c(Et,"class","select-none"),c(st,"class","p-2 pl-4"),c(mt,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),c(nt,"id","soundsEnabled"),c(nt,"type","checkbox"),c(nt,"class","svelte-1q80l21"),c(Mt,"for","soundsEnabled"),c(Mt,"class","select-none"),c(it,"class","p-2 pl-4"),c(wt,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),c(lt,"id","resizibleEnabled"),c(lt,"type","checkbox"),c(lt,"class","svelte-1q80l21"),c(At,"for","resizibleEnabled"),c(At,"class","select-none"),c(Ft,"class","p-2 pl-4"),c(St,"class","bg-slate-900/20 rounded shadow-lg p-2 pl-4 flex flex-col"),c(n,"class","col-start-1 flex flex-col gap-2 w-60 text-gray-300 text-sm"),c(qt,"class","w-[var(--boardSize,40rem)]"),c(Ct,"class",$t=a[1]?"text-yellow-600":""),c(Dt,"class","text-gray-600"),c(Pt,"class",es=a[1]?"":"text-yellow-600"),c(Ne,"class","text-gray-500 font-mono flex text-[0.8rem] mt-1"),c(Ye,"type","button"),c(Ye,"class","box-border rounded-sm bg-slate-800 bg-opacity-40 text-gray-500 transition hover:text-gray-300 focus:z-10 focus:ring-1 focus:ring-blue-600 p-1"),c(dt,"class","absolute right-2 top-2 flex gap-4"),c(ct,"class","shadow-lg rounded "),c(Rt,"class","row-start-2 relative"),c(ut,"class","grid grid-rows-[min-content_auto] gap-10"),c(s,"class","col-start-2 gap-10 grid grid-cols-[auto_auto]"),c(i,"class","mt-10 grid grid-cols-center")},m(U,ee){h(document.head,t),z(U,e,ee),z(U,i,ee),h(i,s),h(s,n),h(n,o),h(o,l),h(o,r),h(r,u),h(u,f),h(f,b),h(u,m),h(u,_);for(let ft=0;ft<_e.length;ft+=1)_e[ft].m(_,null);zt(_,a[0].board.boardTheme),h(r,O),h(r,L),h(L,y),y.checked=a[0].board.notation,h(L,k),h(L,d),h(d,g),h(r,C),h(r,M),h(M,A),A.checked=a[0].board.flipped,h(M,I),h(M,R),h(R,T),h(r,F),h(r,S),h(S,G),G.checked=a[0].board.shadow,h(S,le),h(S,ae),h(ae,Ae),h(n,Fe),h(n,D),h(D,X),h(D,H),h(H,Q),h(Q,ie),ie.checked=a[0].movable.enabled,h(Q,re),h(Q,fe),h(fe,te),h(H,he),Ee&&Ee.m(H,null),h(n,Ce),h(n,ge),h(ge,be),h(ge,pe),h(pe,Pe),h(Pe,ve),ve.checked=a[0].draggable.enabled,h(Pe,pt),h(Pe,Te),h(Te,Ht),h(pe,Kt),we&&we.m(pe,null),h(n,Wt),h(n,Qe),h(Qe,jt),h(Qe,xe),h(xe,Ze),h(Ze,Re),Re.checked=a[0].selectable.enabled,h(Ze,Gt),h(Ze,Je),h(Je,Xt),h(n,Yt),h(n,$e),h($e,Qt),h($e,De),h(De,et),h(et,Ve),Ve.checked=a[0].legal.enabled,h(et,xt),h(et,tt),h(tt,Zt),h(De,v),ke&&ke.m(De,null),h(n,B),h(n,Z),h(Z,de),h(Z,se),h(se,ue),h(ue,me),me.checked=a[0].highlight.enabled,h(ue,Cs),h(ue,vt),h(vt,Ps),h(se,Ls),Me&&Me.m(se,null),h(n,Ts),h(n,mt),h(mt,Os),h(mt,st),h(st,_t),h(_t,at),at.checked=a[0].drawTools.enabled,h(_t,Is),h(_t,Et),h(Et,Fs),h(st,qs),Se&&Se.m(st,null),h(n,Rs),h(n,wt),h(wt,Ds),h(wt,it),h(it,kt),h(kt,nt),nt.checked=a[0].sounds.enabled,h(kt,Vs),h(kt,Mt),h(Mt,Ns),h(it,Us),ye&&ye.m(it,null),h(n,Bs),h(n,St),h(St,zs),h(St,Ft),h(Ft,yt),h(yt,lt),lt.checked=a[0].resizible.enabled,h(yt,Hs),h(yt,At),h(At,Ks),h(s,Ws),h(s,ut),h(ut,qt),Ke(rt,qt,null),h(ut,js),h(ut,Rt),h(Rt,ct),h(ct,dt),h(dt,Ne),h(Ne,Ct),h(Ct,Gs),h(Ne,Xs),h(Ne,Dt),h(Dt,Ys),h(Ne,Qs),h(Ne,Pt),h(Pt,xs),h(dt,Zs),h(dt,Ye),ot.m(Ye,null),a[34](Ye),h(ct,Js),Ke(ht,ct,null),Vt=!0,$s||(Ma=[Y(_,"change",a[10]),Y(y,"change",a[11]),Y(A,"change",a[12]),Y(G,"change",a[13]),Y(ie,"change",a[14]),Y(ve,"change",a[16]),Y(Re,"change",a[21]),Y(Ve,"change",a[22]),Y(me,"change",a[24]),Y(at,"change",a[26]),Y(nt,"change",a[29]),Y(lt,"change",a[31]),Y(Ne,"click",a[33]),Y(Ye,"click",a[7])],$s=!0)},p(U,ee){if(ee&0){Nt=Ii;let J;for(J=0;J<Nt.length;J+=1){const Ut=Vi(U,Nt,J);_e[J]?_e[J].p(Ut,ee):(_e[J]=Ni(Ut),_e[J].c(),_e[J].m(_,null))}for(;J<_e.length;J+=1)_e[J].d(1);_e.length=Nt.length}ee[0]&1&&zt(_,U[0].board.boardTheme),ee[0]&1&&(y.checked=U[0].board.notation),ee[0]&1&&(A.checked=U[0].board.flipped),ee[0]&1&&(G.checked=U[0].board.shadow),ee[0]&1&&(ie.checked=U[0].movable.enabled),U[0].movable.enabled?Ee?Ee.p(U,ee):(Ee=Ui(U),Ee.c(),Ee.m(H,null)):Ee&&(Ee.d(1),Ee=null),ee[0]&1&&(ve.checked=U[0].draggable.enabled),U[0].draggable.enabled?we?we.p(U,ee):(we=Bi(U),we.c(),we.m(pe,null)):we&&(we.d(1),we=null),ee[0]&1&&(Re.checked=U[0].selectable.enabled),ee[0]&1&&(Ve.checked=U[0].legal.enabled),U[0].legal.enabled?ke?ke.p(U,ee):(ke=Ki(U),ke.c(),ke.m(De,null)):ke&&(ke.d(1),ke=null),ee[0]&1&&(me.checked=U[0].highlight.enabled),U[0].highlight.enabled?Me?Me.p(U,ee):(Me=Wi(U),Me.c(),Me.m(se,null)):Me&&(Me.d(1),Me=null),ee[0]&1&&(at.checked=U[0].drawTools.enabled),U[0].drawTools.enabled?Se?Se.p(U,ee):(Se=Gi(U),Se.c(),Se.m(st,null)):Se&&(Se.d(1),Se=null),ee[0]&1&&(nt.checked=U[0].sounds.enabled),U[0].sounds.enabled?ye?ye.p(U,ee):(ye=Xi(U),ye.c(),ye.m(it,null)):ye&&(ye.d(1),ye=null),ee[0]&1&&(lt.checked=U[0].resizible.enabled);const ft={};rt.$set(ft),(!Vt||ee[0]&2&&$t!==($t=U[1]?"text-yellow-600":""))&&c(Ct,"class",$t),(!Vt||ee[0]&2&&es!==(es=U[1]?"":"text-yellow-600"))&&c(Pt,"class",es),ts!==(ts=Sa(U))&&(ot.d(1),ot=ts(U),ot&&(ot.c(),ot.m(Ye,null)));const Lt={};ee[0]&32&&(Lt.source=U[5]),ht.$set(Lt)},i(U){Vt||(K(rt.$$.fragment,U),K(ht.$$.fragment,U),Vt=!0)},o(U){x(rt.$$.fragment,U),x(ht.$$.fragment,U),Vt=!1},d(U){p(t),U&&p(e),U&&p(i),bt(_e,U),Ee&&Ee.d(),we&&we.d(),ke&&ke.d(),Me&&Me.d(),Se&&Se.d(),ye&&ye.d(),a[32](null),We(rt),ot.d(),a[34](null),We(ht),$s=!1,It(Ma)}}}function Pr(a,t,e){const i={resizible:!0};let s,n=new sn(i),o=!1,l=!0,r=!1,u,f="";ka(()=>{o=!0,e(0,n=s.getState())});const b=(te,he)=>{const Ce=te.getConfig(),ge=`
	import type { ChessboardConfig } from '@powchess/chessboard/boardConfig';`;o&&s.setState(te);let be=JSON.stringify(Ce,null,4).replace(/"([^"]+)":/g,"$1:").replaceAll(`
`,`
	`);const pe=`
	import { Color } from '@powchess/chessboard/enums';`;return he&&(be=be.replaceAll("movable: 0","movable: Color.WHITE").replaceAll("movable: 1","movable: Color.BLACK").replaceAll("movable: 2","movable: Color.BOTH")),`<script${he?' lang="ts"':""}>
	import Chessboard from '@powchess/chessboard';`+(he?ge:"")+((be.includes("movable: Color.WHITE")||be.includes("movable: Color.BLACK")||be.includes("movable: Color.BOTH"))&&he?pe:"")+`

	const config${he?": ChessboardConfig":""} = ${be};
<\/script>

<Chessboard {config} />`};function m(){navigator.clipboard.writeText(f),e(3,r=!0),setTimeout(()=>{e(3,r=!1)},2e3),u.setAttribute("data-cooltipz-dir","top"),u.setAttribute("aria-label","Copied!"),setTimeout(()=>{u.removeAttribute("aria-label"),u.removeAttribute("data-cooltipz-dir")},2e3)}const _=["select","legal","move","preMove","nextMove","check"],O=["MOVE","CAPTURE","CASTLE","UNDO"];function L(){n.board.boardTheme=ua(this),e(0,n)}function y(){n.board.notation=this.checked,e(0,n)}function k(){n.board.flipped=this.checked,e(0,n)}function d(){n.board.shadow=this.checked,e(0,n)}function g(){n.movable.enabled=this.checked,e(0,n)}function C(){n.movable.color=ua(this),e(0,n)}function M(){n.draggable.enabled=this.checked,e(0,n)}function A(){n.draggable.ghostPiece.enabled=this.checked,e(0,n)}function I(){n.draggable.transition.enabled=this.checked,e(0,n)}function R(){n.draggable.transition.settings.duration=Ji(this.value),e(0,n)}function T(){n.draggable.transition.settings.easing=ua(this),e(0,n)}function F(){n.selectable.enabled=this.checked,e(0,n)}function S(){n.legal.enabled=this.checked,e(0,n)}function G(){n.legal.preMoves.enabled=this.checked,e(0,n)}function le(){n.highlight.enabled=this.checked,e(0,n)}function ae(te){n.highlight.settings[te]=this.checked,e(0,n)}function Ae(){n.drawTools.enabled=this.checked,e(0,n)}function Fe(){n.drawTools.settings.LshapeKnightMove=this.checked,e(0,n)}function D(){n.drawTools.settings.onlyChessMove=this.checked,e(0,n)}function X(){n.sounds.enabled=this.checked,e(0,n)}function H(te){n.sounds.settings[te]=this.checked,e(0,n)}function Q(){n.resizible.enabled=this.checked,e(0,n)}function ie(te){Le[te?"unshift":"push"](()=>{s=te,e(2,s)})}const re=()=>{e(1,l=!l)};function fe(te){Le[te?"unshift":"push"](()=>{u=te,e(4,u)})}return a.$$.update=()=>{a.$$.dirty[0]&3&&e(5,f=b(n,l))},[n,l,s,r,u,f,i,m,_,O,L,y,k,d,g,C,M,A,I,R,T,F,S,G,le,ae,Ae,Fe,D,X,H,Q,ie,re,fe]}class Or extends je{constructor(t){super(),Ge(this,t,Pr,Cr,Xe,{},null,[-1,-1])}}export{Or as default};
